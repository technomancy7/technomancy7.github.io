
<html lang="en">
  <head>
    <meta charset="utf-8">

    <title>Deus Ex</title>
    <meta name="description" content="UC Class API documentation..">
    <meta name="author" content="Kaiser">
    <link rel="stylesheet" href="../styles.css">
    <script src="../kaiser.js"></script>
  </head>
  <body>
    <header><h2>Deus Ex Documentation::PartyStuff</h2></header>
    <section>
	<nav>
	  <ul>
	    <li><a href="../index.html">Home</a></li>
	    <li><a href="../about.html">About</a></li>
	    <li><a href="https://twitter.com/_technomancer">Twitter</a></li>
	    <li><a href="https://gitlab.com/technomancer7/">Gitlab</a></li>
        <li><a href="https://discord.gg/jCFJ3A6">Discord</a></li>
        -
        <li><a href="RCON.html">RCON</a></li>
<li><a href="Core.html">Core</a></li>
<li><a href="OpenDX.html">OpenDX</a></li>
<li><a href="Extension.html">Extension</a></li>
<li><a href="PartyStuff.html">PartyStuff</a></li>
<li><a href="Engine.html">Engine</a></li>
<li><a href="DeusEx.html">DeusEx</a></li>
        -
        <li><a href="#ACShard.uc">ACShard.uc</a></li>
<li><a href="#AdminArmour.uc">AdminArmour.uc</a></li>
<li><a href="#AdminCard.uc">AdminCard.uc</a></li>
<li><a href="#AlarmLight2.uc">AlarmLight2.uc</a></li>
<li><a href="#AlarmUnit2.uc">AlarmUnit2.uc</a></li>
<li><a href="#AllySpawnPoint.uc">AllySpawnPoint.uc</a></li>
<li><a href="#AmmoClaymore.uc">AmmoClaymore.uc</a></li>
<li><a href="#AmmoCredits.uc">AmmoCredits.uc</a></li>
<li><a href="#AmmoDG.uc">AmmoDG.uc</a></li>
<li><a href="#AmmoDrone.uc">AmmoDrone.uc</a></li>
<li><a href="#AmmoFlashBang.uc">AmmoFlashBang.uc</a></li>
<li><a href="#AmmoFreezeGrenade.uc">AmmoFreezeGrenade.uc</a></li>
<li><a href="#AmmoKB.uc">AmmoKB.uc</a></li>
<li><a href="#AmmoLS.uc">AmmoLS.uc</a></li>
<li><a href="#AmmoNails.uc">AmmoNails.uc</a></li>
<li><a href="#AmmoNuclearBattery.uc">AmmoNuclearBattery.uc</a></li>
<li><a href="#AmmoPoisonKnife.uc">AmmoPoisonKnife.uc</a></li>
<li><a href="#AmmoSkull.uc">AmmoSkull.uc</a></li>
<li><a href="#AmmoSlow.uc">AmmoSlow.uc</a></li>
<li><a href="#AmmoSmokeGrenade.uc">AmmoSmokeGrenade.uc</a></li>
<li><a href="#AmmoSpazmGas.uc">AmmoSpazmGas.uc</a></li>
<li><a href="#AmmoSpeed.uc">AmmoSpeed.uc</a></li>
<li><a href="#AmmoTelefrag.uc">AmmoTelefrag.uc</a></li>
<li><a href="#AmmoTripB.uc">AmmoTripB.uc</a></li>
<li><a href="#AmmoTripBEMP.uc">AmmoTripBEMP.uc</a></li>
<li><a href="#AmmoTripBFire.uc">AmmoTripBFire.uc</a></li>
<li><a href="#AmmoWPGrenade.uc">AmmoWPGrenade.uc</a></li>
<li><a href="#ArmourShard.uc">ArmourShard.uc</a></li>
<li><a href="#Augrist.uc">Augrist.uc</a></li>
<li><a href="#Automed.uc">Automed.uc</a></li>
<li><a href="#AveDecal.uc">AveDecal.uc</a></li>
<li><a href="#BB.uc">BB.uc</a></li>
<li><a href="#BFG.uc">BFG.uc</a></li>
<li><a href="#BLTsandwich.uc">BLTsandwich.uc</a></li>
<li><a href="#BasketballMP.uc">BasketballMP.uc</a></li>
<li><a href="#BasketballMP4Player.uc">BasketballMP4Player.uc</a></li>
<li><a href="#BeamActor.uc">BeamActor.uc</a></li>
<li><a href="#BeamActorPink.uc">BeamActorPink.uc</a></li>
<li><a href="#BinocularsMP.uc">BinocularsMP.uc</a></li>
<li><a href="#BioArmour.uc">BioArmour.uc</a></li>
<li><a href="#Boner.uc">Boner.uc</a></li>
<li><a href="#BonerPayload.uc">BonerPayload.uc</a></li>
<li><a href="#BotADS.uc">BotADS.uc</a></li>
<li><a href="#BowenViewportWindow.uc">BowenViewportWindow.uc</a></li>
<li><a href="#BoxKiller.uc">BoxKiller.uc</a></li>
<li><a href="#BoxSizeWindow.uc">BoxSizeWindow.uc</a></li>
<li><a href="#CActor.uc">CActor.uc</a></li>
<li><a href="#CaptureFlag.uc">CaptureFlag.uc</a></li>
<li><a href="#CaptureFlagSpawner.uc">CaptureFlagSpawner.uc</a></li>
<li><a href="#CapturePoint.uc">CapturePoint.uc</a></li>
<li><a href="#CapturePoint1.uc">CapturePoint1.uc</a></li>
<li><a href="#CapturePoint2.uc">CapturePoint2.uc</a></li>
<li><a href="#ChainTeleporter.uc">ChainTeleporter.uc</a></li>
<li><a href="#Chainer.uc">Chainer.uc</a></li>
<li><a href="#ClassCheckButton.uc">ClassCheckButton.uc</a></li>
<li><a href="#ClassCheckScanner.uc">ClassCheckScanner.uc</a></li>
<li><a href="#ClaymoreProj.uc">ClaymoreProj.uc</a></li>
<li><a href="#ClickerDeco.uc">ClickerDeco.uc</a></li>
<li><a href="#CoffeeCup2.uc">CoffeeCup2.uc</a></li>
<li><a href="#CoffeeMachine2.uc">CoffeeMachine2.uc</a></li>
<li><a href="#CopSpawnPoint.uc">CopSpawnPoint.uc</a></li>
<li><a href="#CraftingMaterial.uc">CraftingMaterial.uc</a></li>
<li><a href="#Cred10.uc">Cred10.uc</a></li>
<li><a href="#Cred100.uc">Cred100.uc</a></li>
<li><a href="#Cred500.uc">Cred500.uc</a></li>
<li><a href="#CreditDeco.uc">CreditDeco.uc</a></li>
<li><a href="#Cube.uc">Cube.uc</a></li>
<li><a href="#CubeHealer.uc">CubeHealer.uc</a></li>
<li><a href="#DXEnemy.uc">DXEnemy.uc</a></li>
<li><a href="#DXHumanMilitary.uc">DXHumanMilitary.uc</a></li>
<li><a href="#DXRobot.uc">DXRobot.uc</a></li>
<li><a href="#DXScriptedPawn.uc">DXScriptedPawn.uc</a></li>
<li><a href="#DartFixture.uc">DartFixture.uc</a></li>
<li><a href="#DartJumpPad.uc">DartJumpPad.uc</a></li>
<li><a href="#DartLight.uc">DartLight.uc</a></li>
<li><a href="#DartUtil.uc">DartUtil.uc</a></li>
<li><a href="#DontMove.uc">DontMove.uc</a></li>
<li><a href="#DoorCrate.uc">DoorCrate.uc</a></li>
<li><a href="#DoorLocker.uc">DoorLocker.uc</a></li>
<li><a href="#Doritos.uc">Doritos.uc</a></li>
<li><a href="#DroneBox.uc">DroneBox.uc</a></li>
<li><a href="#DroneBoxRespawner.uc">DroneBoxRespawner.uc</a></li>
<li><a href="#DroneGrenade.uc">DroneGrenade.uc</a></li>
<li><a href="#DynMusicActor.uc">DynMusicActor.uc</a></li>
<li><a href="#DynMusicMutator.uc">DynMusicMutator.uc</a></li>
<li><a href="#ElecArmour.uc">ElecArmour.uc</a></li>
<li><a href="#Estus.uc">Estus.uc</a></li>
<li><a href="#EstusCatalyst.uc">EstusCatalyst.uc</a></li>
<li><a href="#EstusCloud.uc">EstusCloud.uc</a></li>
<li><a href="#FLBasketball.uc">FLBasketball.uc</a></li>
<li><a href="#FLBasketball4Player.uc">FLBasketball4Player.uc</a></li>
<li><a href="#FadeLamp.uc">FadeLamp.uc</a></li>
<li><a href="#FakeSecurityConsole.uc">FakeSecurityConsole.uc</a></li>
<li><a href="#FiberArmour.uc">FiberArmour.uc</a></li>
<li><a href="#FireBolt.uc">FireBolt.uc</a></li>
<li><a href="#FireHydrant.uc">FireHydrant.uc</a></li>
<li><a href="#FishingBait.uc">FishingBait.uc</a></li>
<li><a href="#FishingBait2.uc">FishingBait2.uc</a></li>
<li><a href="#FishingDevice.uc">FishingDevice.uc</a></li>
<li><a href="#FlameArmour.uc">FlameArmour.uc</a></li>
<li><a href="#FlashBang.uc">FlashBang.uc</a></li>
<li><a href="#FlashLamp.uc">FlashLamp.uc</a></li>
<li><a href="#FlyingCarpet.uc">FlyingCarpet.uc</a></li>
<li><a href="#FoodMMRPG.uc">FoodMMRPG.uc</a></li>
<li><a href="#FreezeBolt.uc">FreezeBolt.uc</a></li>
<li><a href="#FreezeGrenade.uc">FreezeGrenade.uc</a></li>
<li><a href="#FreezeGun.uc">FreezeGun.uc</a></li>
<li><a href="#FrozenPerson.uc">FrozenPerson.uc</a></li>
<li><a href="#GalaxyChoc.uc">GalaxyChoc.uc</a></li>
<li><a href="#GalaxyChoc2.uc">GalaxyChoc2.uc</a></li>
<li><a href="#GalaxyChoc3.uc">GalaxyChoc3.uc</a></li>
<li><a href="#GlassShard.uc">GlassShard.uc</a></li>
<li><a href="#GraffitiGun.uc">GraffitiGun.uc</a></li>
<li><a href="#GraffitiGunBlue.uc">GraffitiGunBlue.uc</a></li>
<li><a href="#GraffitiGunHyper.uc">GraffitiGunHyper.uc</a></li>
<li><a href="#GraffitiGunHyperBlue.uc">GraffitiGunHyperBlue.uc</a></li>
<li><a href="#GraffitiGunHyperPink.uc">GraffitiGunHyperPink.uc</a></li>
<li><a href="#GraffitiGunHyperRed.uc">GraffitiGunHyperRed.uc</a></li>
<li><a href="#GraffitiGunHyperYellow.uc">GraffitiGunHyperYellow.uc</a></li>
<li><a href="#GraffitiGunRed.uc">GraffitiGunRed.uc</a></li>
<li><a href="#GraffitiGunYellow.uc">GraffitiGunYellow.uc</a></li>
<li><a href="#GraffitiGunpink.uc">GraffitiGunpink.uc</a></li>
<li><a href="#GraffitiMark.uc">GraffitiMark.uc</a></li>
<li><a href="#GraffitiMarkBlue.uc">GraffitiMarkBlue.uc</a></li>
<li><a href="#GraffitiMarkPink.uc">GraffitiMarkPink.uc</a></li>
<li><a href="#GraffitiMarkRed.uc">GraffitiMarkRed.uc</a></li>
<li><a href="#GraffitiMarkYellow.uc">GraffitiMarkYellow.uc</a></li>
<li><a href="#GraffitiSpray.uc">GraffitiSpray.uc</a></li>
<li><a href="#GraffitiSprayBlue.uc">GraffitiSprayBlue.uc</a></li>
<li><a href="#GraffitiSprayPink.uc">GraffitiSprayPink.uc</a></li>
<li><a href="#GraffitiSprayRed.uc">GraffitiSprayRed.uc</a></li>
<li><a href="#GraffitiSprayYellow.uc">GraffitiSprayYellow.uc</a></li>
<li><a href="#GrayShoot.uc">GrayShoot.uc</a></li>
<li><a href="#GreaselShoot.uc">GreaselShoot.uc</a></li>
<li><a href="#HiddenFrob.uc">HiddenFrob.uc</a></li>
<li><a href="#HideFailActor.uc">HideFailActor.uc</a></li>
<li><a href="#HideyBoxItem.uc">HideyBoxItem.uc</a></li>
<li><a href="#Hideybox.uc">Hideybox.uc</a></li>
<li><a href="#Hostager.uc">Hostager.uc</a></li>
<li><a href="#HotBomb.uc">HotBomb.uc</a></li>
<li><a href="#Insult.uc">Insult.uc</a></li>
<li><a href="#JPNWeaponBastardSword.uc">JPNWeaponBastardSword.uc</a></li>
<li><a href="#JPNWeaponBeamRifle.uc">JPNWeaponBeamRifle.uc</a></li>
<li><a href="#JailPoint.uc">JailPoint.uc</a></li>
<li><a href="#JobScanner.uc">JobScanner.uc</a></li>
<li><a href="#KnifeBomb.uc">KnifeBomb.uc</a></li>
<li><a href="#LB.uc">LB.uc</a></li>
<li><a href="#LB2.uc">LB2.uc</a></li>
<li><a href="#LB3.uc">LB3.uc</a></li>
<li><a href="#LaserController.uc">LaserController.uc</a></li>
<li><a href="#LaserProj.uc">LaserProj.uc</a></li>
<li><a href="#LightBall.uc">LightBall.uc</a></li>
<li><a href="#Lightshow.uc">Lightshow.uc</a></li>
<li><a href="#Lumination.uc">Lumination.uc</a></li>
<li><a href="#Luminous.uc">Luminous.uc</a></li>
<li><a href="#MM.uc">MM.uc</a></li>
<li><a href="#MPCarcass.uc">MPCarcass.uc</a></li>
<li><a href="#MPLaserEmitter.uc">MPLaserEmitter.uc</a></li>
<li><a href="#MPLaserIterator.uc">MPLaserIterator.uc</a></li>
<li><a href="#MPLaserTrigger.uc">MPLaserTrigger.uc</a></li>
<li><a href="#MPParticleProxy.uc">MPParticleProxy.uc</a></li>
<li><a href="#MSGR.uc">MSGR.uc</a></li>
<li><a href="#MagicRing.uc">MagicRing.uc</a></li>
<li><a href="#MenuAlert.uc">MenuAlert.uc</a></li>
<li><a href="#Mercury.uc">Mercury.uc</a></li>
<li><a href="#MomsKnife.uc">MomsKnife.uc</a></li>
<li><a href="#MomsKnifeRespawner.uc">MomsKnifeRespawner.uc</a></li>
<li><a href="#MusicBotWindow.uc">MusicBotWindow.uc</a></li>
<li><a href="#MusicMemory.uc">MusicMemory.uc</a></li>
<li><a href="#MusicPoint.uc">MusicPoint.uc</a></li>
<li><a href="#Nail.uc">Nail.uc</a></li>
<li><a href="#Nail2.uc">Nail2.uc</a></li>
<li><a href="#Nail3.uc">Nail3.uc</a></li>
<li><a href="#NanoArmour.uc">NanoArmour.uc</a></li>
<li><a href="#NanoCompactor.uc">NanoCompactor.uc</a></li>
<li><a href="#NanoFlowers.uc">NanoFlowers.uc</a></li>
<li><a href="#OwnedScanner.uc">OwnedScanner.uc</a></li>
<li><a href="#OwnedScanner2.uc">OwnedScanner2.uc</a></li>
<li><a href="#OwningController.uc">OwningController.uc</a></li>
<li><a href="#PBeam.uc">PBeam.uc</a></li>
<li><a href="#PGArmour.uc">PGArmour.uc</a></li>
<li><a href="#PGGames.uc">PGGames.uc</a></li>
<li><a href="#PGHiderActors.uc">PGHiderActors.uc</a></li>
<li><a href="#PGMutator.uc">PGMutator.uc</a></li>
<li><a href="#PGSItem.uc">PGSItem.uc</a></li>
<li><a href="#PGSeeker.uc">PGSeeker.uc</a></li>
<li><a href="#PRING.uc">PRING.uc</a></li>
<li><a href="#PSAfterEffect.uc">PSAfterEffect.uc</a></li>
<li><a href="#PSArenaEntrySwitch.uc">PSArenaEntrySwitch.uc</a></li>
<li><a href="#PSArenaExit.uc">PSArenaExit.uc</a></li>
<li><a href="#PSArenaExitSwitch.uc">PSArenaExitSwitch.uc</a></li>
<li><a href="#PSArenaSpawner.uc">PSArenaSpawner.uc</a></li>
<li><a href="#PSArenaStartSwitch.uc">PSArenaStartSwitch.uc</a></li>
<li><a href="#PSArenaTimer.uc">PSArenaTimer.uc</a></li>
<li><a href="#PSArenaZone.uc">PSArenaZone.uc</a></li>
<li><a href="#PSComputer.uc">PSComputer.uc</a></li>
<li><a href="#PSComputerHandheld.uc">PSComputerHandheld.uc</a></li>
<li><a href="#PSComputerMenu.uc">PSComputerMenu.uc</a></li>
<li><a href="#PSComputerMenuHack.uc">PSComputerMenuHack.uc</a></li>
<li><a href="#PSComputerReplicationActor.uc">PSComputerReplicationActor.uc</a></li>
<li><a href="#PSCreditCard.uc">PSCreditCard.uc</a></li>
<li><a href="#PSFattener.uc">PSFattener.uc</a></li>
<li><a href="#PSFireworkRocket.uc">PSFireworkRocket.uc</a></li>
<li><a href="#PSFireworkRocket2.uc">PSFireworkRocket2.uc</a></li>
<li><a href="#PSFireworkfx.uc">PSFireworkfx.uc</a></li>
<li><a href="#PSFireworkfx2.uc">PSFireworkfx2.uc</a></li>
<li><a href="#PSFlagCA.uc">PSFlagCA.uc</a></li>
<li><a href="#PSFlagPole.uc">PSFlagPole.uc</a></li>
<li><a href="#PSFlagUK.uc">PSFlagUK.uc</a></li>
<li><a href="#PSKM.uc">PSKM.uc</a></li>
<li><a href="#PSKR.uc">PSKR.uc</a></li>
<li><a href="#PSKeypad.uc">PSKeypad.uc</a></li>
<li><a href="#PSRespawner.uc">PSRespawner.uc</a></li>
<li><a href="#PSRespawner2.uc">PSRespawner2.uc</a></li>
<li><a href="#PSSing.uc">PSSing.uc</a></li>
<li><a href="#PSTeleSwitch.uc">PSTeleSwitch.uc</a></li>
<li><a href="#PSTrashbag.uc">PSTrashbag.uc</a></li>
<li><a href="#PSTurret.uc">PSTurret.uc</a></li>
<li><a href="#PSTurretController.uc">PSTurretController.uc</a></li>
<li><a href="#PSVoteZone.uc">PSVoteZone.uc</a></li>
<li><a href="#PSZoneInfo.uc">PSZoneInfo.uc</a></li>
<li><a href="#PartyBox.uc">PartyBox.uc</a></li>
<li><a href="#Persist.uc">Persist.uc</a></li>
<li><a href="#PlasmaSword.uc">PlasmaSword.uc</a></li>
<li><a href="#PlaySoundSwitch.uc">PlaySoundSwitch.uc</a></li>
<li><a href="#PlayerResetter.uc">PlayerResetter.uc</a></li>
<li><a href="#PlaygroundContainers.uc">PlaygroundContainers.uc</a></li>
<li><a href="#PoisonEstus.uc">PoisonEstus.uc</a></li>
<li><a href="#PoisonKnife.uc">PoisonKnife.uc</a></li>
<li><a href="#PortableCarpet.uc">PortableCarpet.uc</a></li>
<li><a href="#PowerArmour.uc">PowerArmour.uc</a></li>
<li><a href="#PropGun.uc">PropGun.uc</a></li>
<li><a href="#ProxLamp.uc">ProxLamp.uc</a></li>
<li><a href="#RaceMarker.uc">RaceMarker.uc</a></li>
<li><a href="#RadarDrone.uc">RadarDrone.uc</a></li>
<li><a href="#RaidActor.uc">RaidActor.uc</a></li>
<li><a href="#Replicator.uc">Replicator.uc</a></li>
<li><a href="#RestPoint.uc">RestPoint.uc</a></li>
<li><a href="#ReturnArmour.uc">ReturnArmour.uc</a></li>
<li><a href="#RocketDrone.uc">RocketDrone.uc</a></li>
<li><a href="#RocketHostage.uc">RocketHostage.uc</a></li>
<li><a href="#SSRING.uc">SSRING.uc</a></li>
<li><a href="#Salad.uc">Salad.uc</a></li>
<li><a href="#ScoundrelManager.uc">ScoundrelManager.uc</a></li>
<li><a href="#ScoundrelMarker.uc">ScoundrelMarker.uc</a></li>
<li><a href="#SecDrone.uc">SecDrone.uc</a></li>
<li><a href="#SequenceLock.uc">SequenceLock.uc</a></li>
<li><a href="#SequenceLockHandler.uc">SequenceLockHandler.uc</a></li>
<li><a href="#ShopButton.uc">ShopButton.uc</a></li>
<li><a href="#ShopButton2.uc">ShopButton2.uc</a></li>
<li><a href="#ShopConstructor.uc">ShopConstructor.uc</a></li>
<li><a href="#ShopPoint.uc">ShopPoint.uc</a></li>
<li><a href="#SizableEffectSpawner.uc">SizableEffectSpawner.uc</a></li>
<li><a href="#SizableEffects.uc">SizableEffects.uc</a></li>
<li><a href="#SkullBolt.uc">SkullBolt.uc</a></li>
<li><a href="#SkullballMP.uc">SkullballMP.uc</a></li>
<li><a href="#SkullballMP2.uc">SkullballMP2.uc</a></li>
<li><a href="#SkullballMP4Player.uc">SkullballMP4Player.uc</a></li>
<li><a href="#SkullballMP4Player2.uc">SkullballMP4Player2.uc</a></li>
<li><a href="#SmokeCloud.uc">SmokeCloud.uc</a></li>
<li><a href="#SmokeGrenade.uc">SmokeGrenade.uc</a></li>
<li><a href="#SpazmGas.uc">SpazmGas.uc</a></li>
<li><a href="#SphereEffectXL.uc">SphereEffectXL.uc</a></li>
<li><a href="#SprayPaint.uc">SprayPaint.uc</a></li>
<li><a href="#SprayPaintBlue.uc">SprayPaintBlue.uc</a></li>
<li><a href="#SprayPaintPink.uc">SprayPaintPink.uc</a></li>
<li><a href="#SprayPaintRed.uc">SprayPaintRed.uc</a></li>
<li><a href="#SprayPaintYellow.uc">SprayPaintYellow.uc</a></li>
<li><a href="#StaffCard.uc">StaffCard.uc</a></li>
<li><a href="#StatueBird.uc">StatueBird.uc</a></li>
<li><a href="#StatueCat.uc">StatueCat.uc</a></li>
<li><a href="#StatueGreasel.uc">StatueGreasel.uc</a></li>
<li><a href="#StatueKarkian.uc">StatueKarkian.uc</a></li>
<li><a href="#StatueMutt.uc">StatueMutt.uc</a></li>
<li><a href="#StrobeLamp.uc">StrobeLamp.uc</a></li>
<li><a href="#SuperCleanerBot.uc">SuperCleanerBot.uc</a></li>
<li><a href="#SuperCleanerBotItem.uc">SuperCleanerBotItem.uc</a></li>
<li><a href="#SurfKnives.uc">SurfKnives.uc</a></li>
<li><a href="#SurfRocket.uc">SurfRocket.uc</a></li>
<li><a href="#TCAutoTimeTrigger.uc">TCAutoTimeTrigger.uc</a></li>
<li><a href="#TCBarkActor.uc">TCBarkActor.uc</a></li>
<li><a href="#TCRadio.uc">TCRadio.uc</a></li>
<li><a href="#TCT.uc">TCT.uc</a></li>
<li><a href="#TLItem.uc">TLItem.uc</a></li>
<li><a href="#TLauncher.uc">TLauncher.uc</a></li>
<li><a href="#TRocket.uc">TRocket.uc</a></li>
<li><a href="#TempTurret.uc">TempTurret.uc</a></li>
<li><a href="#ThrownBaton.uc">ThrownBaton.uc</a></li>
<li><a href="#ThrownCombatKnife.uc">ThrownCombatKnife.uc</a></li>
<li><a href="#ThrownCrowbar.uc">ThrownCrowbar.uc</a></li>
<li><a href="#ThrownNanosword.uc">ThrownNanosword.uc</a></li>
<li><a href="#ThrownSword.uc">ThrownSword.uc</a></li>
<li><a href="#ToolRadar.uc">ToolRadar.uc</a></li>
<li><a href="#ToolRadarD.uc">ToolRadarD.uc</a></li>
<li><a href="#Torch.uc">Torch.uc</a></li>
<li><a href="#TrainingLam.uc">TrainingLam.uc</a></li>
<li><a href="#TravelSwitch.uc">TravelSwitch.uc</a></li>
<li><a href="#TripProj.uc">TripProj.uc</a></li>
<li><a href="#TripProjEMP.uc">TripProjEMP.uc</a></li>
<li><a href="#TripProjFire.uc">TripProjFire.uc</a></li>
<li><a href="#TurretItem.uc">TurretItem.uc</a></li>
<li><a href="#TzBallSpawnPoint.uc">TzBallSpawnPoint.uc</a></li>
<li><a href="#TzBallSwitch.uc">TzBallSwitch.uc</a></li>
<li><a href="#TzBasketExitTrigger.uc">TzBasketExitTrigger.uc</a></li>
<li><a href="#TzBasketTrigger.uc">TzBasketTrigger.uc</a></li>
<li><a href="#TzBasketZone.uc">TzBasketZone.uc</a></li>
<li><a href="#TzBasketballZone.uc">TzBasketballZone.uc</a></li>
<li><a href="#TzBlockPlayers.uc">TzBlockPlayers.uc</a></li>
<li><a href="#Ultima.uc">Ultima.uc</a></li>
<li><a href="#Ultima2.uc">Ultima2.uc</a></li>
<li><a href="#VIPCard.uc">VIPCard.uc</a></li>
<li><a href="#VialBlood.uc">VialBlood.uc</a></li>
<li><a href="#VialGrow.uc">VialGrow.uc</a></li>
<li><a href="#VialNanites.uc">VialNanites.uc</a></li>
<li><a href="#Vortex.uc">Vortex.uc</a></li>
<li><a href="#VortexGen.uc">VortexGen.uc</a></li>
<li><a href="#WPGrenade.uc">WPGrenade.uc</a></li>
<li><a href="#WallHealer.uc">WallHealer.uc</a></li>
<li><a href="#WaterCooler2.uc">WaterCooler2.uc</a></li>
<li><a href="#WaterFountain2.uc">WaterFountain2.uc</a></li>
<li><a href="#WeaponAirget.uc">WeaponAirget.uc</a></li>
<li><a href="#WeaponAugrist.uc">WeaponAugrist.uc</a></li>
<li><a href="#WeaponAugristReplica.uc">WeaponAugristReplica.uc</a></li>
<li><a href="#WeaponBFG.uc">WeaponBFG.uc</a></li>
<li><a href="#WeaponBantorain.uc">WeaponBantorain.uc</a></li>
<li><a href="#WeaponBaton2.uc">WeaponBaton2.uc</a></li>
<li><a href="#WeaponBeamRifle.uc">WeaponBeamRifle.uc</a></li>
<li><a href="#WeaponBeamRifleHeavy.uc">WeaponBeamRifleHeavy.uc</a></li>
<li><a href="#WeaponBioRifle.uc">WeaponBioRifle.uc</a></li>
<li><a href="#WeaponBioRifleX.uc">WeaponBioRifleX.uc</a></li>
<li><a href="#WeaponBloodSword.uc">WeaponBloodSword.uc</a></li>
<li><a href="#WeaponBoner.uc">WeaponBoner.uc</a></li>
<li><a href="#WeaponBoxGun.uc">WeaponBoxGun.uc</a></li>
<li><a href="#WeaponBurnRifle.uc">WeaponBurnRifle.uc</a></li>
<li><a href="#WeaponClaymore.uc">WeaponClaymore.uc</a></li>
<li><a href="#WeaponCombatKnife2.uc">WeaponCombatKnife2.uc</a></li>
<li><a href="#WeaponCoyote.uc">WeaponCoyote.uc</a></li>
<li><a href="#WeaponCrowbar2.uc">WeaponCrowbar2.uc</a></li>
<li><a href="#WeaponDRR.uc">WeaponDRR.uc</a></li>
<li><a href="#WeaponDePressurizer.uc">WeaponDePressurizer.uc</a></li>
<li><a href="#WeaponDildo.uc">WeaponDildo.uc</a></li>
<li><a href="#WeaponDisarmer.uc">WeaponDisarmer.uc</a></li>
<li><a href="#WeaponDragonsClaw.uc">WeaponDragonsClaw.uc</a></li>
<li><a href="#WeaponDroneGrenade.uc">WeaponDroneGrenade.uc</a></li>
<li><a href="#WeaponEnergyAssault.uc">WeaponEnergyAssault.uc</a></li>
<li><a href="#WeaponFRK1.uc">WeaponFRK1.uc</a></li>
<li><a href="#WeaponFRK2.uc">WeaponFRK2.uc</a></li>
<li><a href="#WeaponFatten.uc">WeaponFatten.uc</a></li>
<li><a href="#WeaponFlashBang.uc">WeaponFlashBang.uc</a></li>
<li><a href="#WeaponFreezeGrenade.uc">WeaponFreezeGrenade.uc</a></li>
<li><a href="#WeaponFrostRifle.uc">WeaponFrostRifle.uc</a></li>
<li><a href="#WeaponGPF.uc">WeaponGPF.uc</a></li>
<li><a href="#WeaponGunganir.uc">WeaponGunganir.uc</a></li>
<li><a href="#WeaponHeavyBeamSword.uc">WeaponHeavyBeamSword.uc</a></li>
<li><a href="#WeaponHellBite.uc">WeaponHellBite.uc</a></li>
<li><a href="#WeaponHostageDevice.uc">WeaponHostageDevice.uc</a></li>
<li><a href="#WeaponHostageGun.uc">WeaponHostageGun.uc</a></li>
<li><a href="#WeaponHoverBotSuicide.uc">WeaponHoverBotSuicide.uc</a></li>
<li><a href="#WeaponInflatableSword.uc">WeaponInflatableSword.uc</a></li>
<li><a href="#WeaponJTazer.uc">WeaponJTazer.uc</a></li>
<li><a href="#WeaponKarkianOldBiteL.uc">WeaponKarkianOldBiteL.uc</a></li>
<li><a href="#WeaponKarkianOldBumpL.uc">WeaponKarkianOldBumpL.uc</a></li>
<li><a href="#WeaponKnifeBomb.uc">WeaponKnifeBomb.uc</a></li>
<li><a href="#WeaponLaserAssault.uc">WeaponLaserAssault.uc</a></li>
<li><a href="#WeaponLightdartGun.uc">WeaponLightdartGun.uc</a></li>
<li><a href="#WeaponLightshow.uc">WeaponLightshow.uc</a></li>
<li><a href="#WeaponMagnum.uc">WeaponMagnum.uc</a></li>
<li><a href="#WeaponMomsKnife.uc">WeaponMomsKnife.uc</a></li>
<li><a href="#WeaponMomsKnives.uc">WeaponMomsKnives.uc</a></li>
<li><a href="#WeaponNailGun.uc">WeaponNailGun.uc</a></li>
<li><a href="#WeaponNailGunWeaker.uc">WeaponNailGunWeaker.uc</a></li>
<li><a href="#WeaponNanoSword2.uc">WeaponNanoSword2.uc</a></li>
<li><a href="#WeaponNeedler.uc">WeaponNeedler.uc</a></li>
<li><a href="#WeaponNeedler2.uc">WeaponNeedler2.uc</a></li>
<li><a href="#WeaponPhatRifle.uc">WeaponPhatRifle.uc</a></li>
<li><a href="#WeaponPlasmaAssault.uc">WeaponPlasmaAssault.uc</a></li>
<li><a href="#WeaponPlasmaSword.uc">WeaponPlasmaSword.uc</a></li>
<li><a href="#WeaponPoisonKnives.uc">WeaponPoisonKnives.uc</a></li>
<li><a href="#WeaponPoisonSword.uc">WeaponPoisonSword.uc</a></li>
<li><a href="#WeaponRailgun.uc">WeaponRailgun.uc</a></li>
<li><a href="#WeaponSingularity.uc">WeaponSingularity.uc</a></li>
<li><a href="#WeaponSkullGun.uc">WeaponSkullGun.uc</a></li>
<li><a href="#WeaponSmokeGrenade.uc">WeaponSmokeGrenade.uc</a></li>
<li><a href="#WeaponSpazmSpray.uc">WeaponSpazmSpray.uc</a></li>
<li><a href="#WeaponSpitRifle.uc">WeaponSpitRifle.uc</a></li>
<li><a href="#WeaponStealthShotgun.uc">WeaponStealthShotgun.uc</a></li>
<li><a href="#WeaponSurf.uc">WeaponSurf.uc</a></li>
<li><a href="#WeaponSurfKnife.uc">WeaponSurfKnife.uc</a></li>
<li><a href="#WeaponSword2.uc">WeaponSword2.uc</a></li>
<li><a href="#WeaponTazer.uc">WeaponTazer.uc</a></li>
<li><a href="#WeaponThinSword.uc">WeaponThinSword.uc</a></li>
<li><a href="#WeaponToyAssault.uc">WeaponToyAssault.uc</a></li>
<li><a href="#WeaponTrainingLam.uc">WeaponTrainingLam.uc</a></li>
<li><a href="#WeaponTrainingPistol.uc">WeaponTrainingPistol.uc</a></li>
<li><a href="#WeaponTrainingRifle.uc">WeaponTrainingRifle.uc</a></li>
<li><a href="#WeaponTravelGun.uc">WeaponTravelGun.uc</a></li>
<li><a href="#WeaponTripBomb.uc">WeaponTripBomb.uc</a></li>
<li><a href="#WeaponTripBombEMP.uc">WeaponTripBombEMP.uc</a></li>
<li><a href="#WeaponTripBombFire.uc">WeaponTripBombFire.uc</a></li>
<li><a href="#WeaponUtilBow.uc">WeaponUtilBow.uc</a></li>
<li><a href="#WeaponWPGrenade.uc">WeaponWPGrenade.uc</a></li>
<li><a href="#WeaponZoomSniper.uc">WeaponZoomSniper.uc</a></li>
<li><a href="#WoodenBird.uc">WoodenBird.uc</a></li>
<li><a href="#WoodenBuddha.uc">WoodenBuddha.uc</a></li>
<li><a href="#WoodenCat.uc">WoodenCat.uc</a></li>
<li><a href="#WoodenGreasel.uc">WoodenGreasel.uc</a></li>
<li><a href="#WoodenKarkian.uc">WoodenKarkian.uc</a></li>
<li><a href="#WoodenMutt.uc">WoodenMutt.uc</a></li>
<li><a href="#acrate.uc">acrate.uc</a></li>
<li><a href="#bed2.uc">bed2.uc</a></li>
<li><a href="#cheesesandwich.uc">cheesesandwich.uc</a></li>
<li><a href="#coopMode.uc">coopMode.uc</a></li>
<li><a href="#coopWeaponCombatKnife.uc">coopWeaponCombatKnife.uc</a></li>
<li><a href="#coopWeaponMiniCrossbow.uc">coopWeaponMiniCrossbow.uc</a></li>
<li><a href="#coopWeaponPistol.uc">coopWeaponPistol.uc</a></li>
<li><a href="#coopWeaponPistolLight.uc">coopWeaponPistolLight.uc</a></li>
<li><a href="#coopWeaponRifle.uc">coopWeaponRifle.uc</a></li>
<li><a href="#coopWeaponShotgun.uc">coopWeaponShotgun.uc</a></li>
<li><a href="#kebab.uc">kebab.uc</a></li>
<li><a href="#mpCigaretteMachine.uc">mpCigaretteMachine.uc</a></li>
<li><a href="#mpVendingMachine.uc">mpVendingMachine.uc</a></li>
<li><a href="#psRepeater.uc">psRepeater.uc</a></li>
<li><a href="#psTeleRing1.uc">psTeleRing1.uc</a></li>
<li><a href="#redbull.uc">redbull.uc</a></li>
<li><a href="#sandwich.uc">sandwich.uc</a></li>
	  </ul>
	</nav>
	<article>  
    <button onclick="topFunction()" id="btt" title="Go to top">Top</button>
    <a class="headerlink" href="#ACShard.uc" title="Permanent link"><h2 id="ACShard.uc">ACShard.uc (extends CraftingMaterial)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">DecoResult=Class'PartyStuff.acrate'<br>NumNeeded=5<br>DispStr="Requires 5x to make Ammo Crate"<br>ItemName="Ammo Crate shard"<br>beltDescription="AC"</div>
<br><br><hr>
<a class="headerlink" href="#AdminArmour.uc" title="Permanent link"><h2 id="AdminArmour.uc">AdminArmour.uc (extends DeusExPickup)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var() bool bAAOn;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bAAOn=True<br>ItemName="Admin Armour"<br>ItemArticle="some"<br>PlayerViewOffset=(X=30.000000,Z=-12.000000)<br>PlayerViewMesh=LodMesh'DeusExItems.AdaptiveArmor'<br>PickupViewMesh=LodMesh'DeusExItems.AdaptiveArmor'<br>ThirdPersonMesh=LodMesh'DeusExItems.AdaptiveArmor'<br>Charge=500<br>LandSound=Sound'DeusExSounds.Generic.PaperHit2'<br>Icon=Texture'DeusExUI.Icons.BeltIconArmorAdaptive'<br>largeIcon=Texture'DeusExUI.Icons.LargeIconArmorAdaptive'<br>largeIconWidth=35<br>largeIconHeight=49<br>Description="Integrating woven fiber-optics and an advanced computing system, thermoptic camo can render an agent invisible to both humans and bots by dynamically refracting light and radar waves; however, the high power drain makes it impractial for more than short-term use, after which the circuitry is fused and it becomes useless."<br>beltDescription="ADMIN"<br>Mesh=LodMesh'DeusExItems.AdaptiveArmor'<br>MultiSkins(1)=Texture'Extras.Eggs.Matrix_A00'<br>CollisionRadius=11.500000<br>CollisionHeight=13.810000<br>Mass=30.000000<br>Buoyancy=20.000000</div>
<h3 id="AdminArmour.TestMPBeltSpot"><a class="headerlink" href="#AdminArmour.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<br><br><hr>
<a class="headerlink" href="#AdminCard.uc" title="Permanent link"><h2 id="AdminCard.uc">AdminCard.uc (extends DeusExPickup)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bCanHaveMultipleCopies=True<br>ItemName="Admin Pass"<br>PlayerViewOffset=(X=30.000000,Z=-12.000000)<br>PlayerViewMesh=LodMesh'DeusExItems.Credits'<br>PickupViewMesh=LodMesh'DeusExItems.Credits'<br>ThirdPersonMesh=LodMesh'DeusExItems.Credits'<br>LandSound=Sound'DeusExSounds.Generic.PlasticHit1'<br>Icon=Texture'DeusExUI.Icons.BeltIconCredits'<br>beltDescription="Admin Pass"<br>Mesh=LodMesh'DeusExItems.Credits'<br>MultiSkins(0)=Texture'DeusExUI.UserInterface.ComputerLogonLogoIlluminati'<br>CollisionRadius=7.000000<br>CollisionHeight=0.550000<br>Mass=2.000000<br>Buoyancy=3.000000</div>
<h3 id="AdminCard.TestMPBeltSpot"><a class="headerlink" href="#AdminCard.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<br><br><hr>
<a class="headerlink" href="#AlarmLight2.uc" title="Permanent link"><h2 id="AlarmLight2.uc">AlarmLight2.uc (extends AlarmLight)</h2></a>

<h3 id="AlarmLight2.Trigger"><a class="headerlink" href="#AlarmLight2.Trigger" title="Permanent link">Trigger</a> (Actor Other, Pawn Instigator)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if (!bIsOn)<br>&#9;{<br>&#9;&#9;bIsOn = True;<br>&#9;&#9;SetLightColor(SkinColor);<br>&#9;&#9;LightType = LT_Steady;<br>&#9;&#9;bFixedRotationDir = True;<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;bIsOn = False;<br>&#9;&#9;MultiSkins[1] = Texture'BlackMaskTex';<br>&#9;&#9;LightType = LT_None;<br>&#9;&#9;bFixedRotationDir = False;<br>&#9;}<br>&#9;Super.Trigger(Other, Instigator);<br><br></div>
<h3 id="AlarmLight2.UnTrigger"><a class="headerlink" href="#AlarmLight2.UnTrigger" title="Permanent link">UnTrigger</a> (Actor Other, Pawn Instigator)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if (bIsOn)<br>&#9;{<br>&#9;&#9;bIsOn = False;<br>&#9;&#9;MultiSkins[1] = Texture'BlackMaskTex';<br>&#9;&#9;LightType = LT_None;<br>&#9;&#9;bFixedRotationDir = False;<br>&#9;}<br><br>&#9;Super.UnTrigger(Other, Instigator);<br><br></div>
<br><br><hr>
<a class="headerlink" href="#AlarmUnit2.uc" title="Permanent link"><h2 id="AlarmUnit2.uc">AlarmUnit2.uc (extends DeusExDecoration)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var bool bActive;<br>var float alarmTimeout;<br>var DeusExplayer myIns;<br>var() name AUGroup;<br>var() string AlarmPanelIdent;<br>var bool bTimedOut;<br>var() bool bUseMannequinSecurity;<br>var() name MannequinTag;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">alarmTimeout=60.000000<br>AUGroup=Default<br>bInvincible=True<br>ItemName="Alarm Network Panel [X]"<br>bPushable=False<br>Mesh=LodMesh'DeusExDeco.AlarmUnit'<br>MultiSkins(1)=Texture'DeusExItems.Skins.PinkMaskTex'<br>SoundRadius=56<br>SoundVolume=192<br>AmbientSound=Sound'DeusExSounds.Generic.AlarmUnitHum'<br>CollisionRadius=9.720000<br>CollisionHeight=9.720000<br>LightBrightness=255<br>LightRadius=1<br>Mass=10.000000<br>Buoyancy=5.000000</div>
<h3 id="AlarmUnit2.DoTriggers"><a class="headerlink" href="#AlarmUnit2.DoTriggers" title="Permanent link">DoTriggers</a> (playerpawn triginst, bool bOn)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Actor A;<br><br>&#9;//local Mannequin Man;<br>&#9;//local LivingMannequin LivMan;<br>&#9;if(Event != '' && Event != 'None')<br>&#9;&#9;foreach AllActors(class'Actor', a)<br>&#9;&#9;&#9;if(A.Tag == Event)<br>&#9;&#9;&#9;&#9;A.Trigger(Self, triginst);<br>&#9;&#9;&#9;<br>&#9;/*if(bOn && bUseMannequinSecurity)<br>&#9;{<br>&#9;&#9;foreach Allactors(class'Mannequin', Man)<br>&#9;&#9;&#9;if(Man.Tag == MannequinTag)<br>&#9;&#9;&#9;&#9;Man.GiveLife();<br>&#9;}<br>&#9;<br>&#9;if(!bOn && bUseMannequinSecurity)<br>&#9;{<br>&#9;&#9;foreach AllActors(class'LivingMannequin', LivMan)<br>&#9;&#9;&#9;if(LivMan.Tag == MannequinTag)<br>&#9;&#9;&#9;&#9;LivMan.goToState('Dying');<br>&#9;}*/<br><br></div>
<h3 id="AlarmUnit2.Frob"><a class="headerlink" href="#AlarmUnit2.Frob" title="Permanent link">Frob</a> (Actor Frobber, Inventory frobWith)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local AlarmUnit2 AU;<br><br><br>&#9;if(!bTimedOut)<br>&#9;{<br>&#9;&#9;PGTrigger(DeusExPlayer(Frobber));<br>&#9;&#9;if(bActive)<br>&#9;&#9;{<br>&#9;&#9;&#9;BroadcastMessage("|P2"$DeusExPlayer(Frobber).PlayerReplicationinfo.PlayerName$" triggered alarm! ("$AUGroup$")");<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;{<br>&#9;&#9;&#9;BroadcastMessage("|P2"$DeusExPlayer(Frobber).PlayerReplicationinfo.PlayerName$" deactivated alarm! ("$AUGroup$")");<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;foreach AllActors(class'AlarmUnit2',AU)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(AU.Tag == Tag && AU != Self)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;AU.PGTrigger(DeusExPlayer(Frobber));<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="AlarmUnit2.PGTrigger"><a class="headerlink" href="#AlarmUnit2.PGTrigger" title="Permanent link">PGTrigger</a> (deusexplayer Inst)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if (!bActive)<br>&#9;{<br>&#9;&#9;DoTriggers(inst,True);<br>&#9;&#9;bActive = True;<br>&#9;&#9;AmbientSound = Sound'Klaxon4';<br>&#9;&#9;SoundRadius = 64;<br>&#9;&#9;SoundVolume = 128;<br>&#9;&#9;LightType = LT_Steady;<br>&#9;&#9;MultiSkins[1] = Texture'AlarmUnitTex2';<br>&#9;&#9;SetTimer(AlarmTimeout,False);<br>&#9;&#9;myIns = Inst;<br>&#9;&#9;return;<br>&#9;}<br>&#9;<br>&#9;if (bActive)<br>&#9;{<br>&#9;&#9;DoTriggers(inst,False);<br>&#9;&#9;bActive = False;<br>&#9;&#9;AmbientSound = Default.AmbientSound;<br>&#9;&#9;SoundRadius = 16;<br>&#9;&#9;SoundVolume = 192;<br>&#9;&#9;LightType = LT_None;<br>&#9;&#9;MultiSkins[1] = Texture'PinkMaskTex';<br>&#9;&#9;&#9;bTimedOut=True;<br>&#9;&#9;&#9;SetTimer(10,False);<br>&#9;&#9;return;<br>&#9;}<br><br></div>
<h3 id="AlarmUnit2.Tick"><a class="headerlink" href="#AlarmUnit2.Tick" title="Permanent link">Tick</a> (float deltaTime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.Tick(deltaTime);<br><br>&#9;Tag = AUGroup;<br>&#9;<br>&#9;if (!bActive)<br>&#9;&#9;return;<br><br>&#9;&#9;// flash the light and texture<br>&#9;&#9;if ((Level.TimeSeconds % 0.5) > 0.25)<br>&#9;&#9;{<br>&#9;&#9;&#9;LightType = LT_Steady;<br>&#9;&#9;&#9;MultiSkins[1] = Texture'AlarmUnitTex2';<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;{<br>&#9;&#9;&#9;LightType = LT_None;<br>&#9;&#9;&#9;MultiSkins[1] = Texture'PinkMaskTex';<br>&#9;&#9;}<br><br></div>
<h3 id="AlarmUnit2.Timer"><a class="headerlink" href="#AlarmUnit2.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(bTimedOut)<br>&#9;{<br>&#9;&#9;bTimedOut=False;<br>&#9;}<br>&#9;<br>&#9;if (bActive)<br>&#9;{<br>&#9;&#9;bActive = False;<br>&#9;&#9;DoTriggers(None, False);<br>&#9;&#9;AmbientSound = Default.AmbientSound;<br>&#9;&#9;SoundRadius = 16;<br>&#9;&#9;SoundVolume = 192;<br>&#9;&#9;LightType = LT_None;<br>&#9;&#9;MultiSkins[1] = Texture'PinkMaskTex';<br>&#9;&#9;BroadcastMessage("Alarm"@AUGroup@"timed out.");<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#AllySpawnPoint.uc" title="Permanent link"><h2 id="AllySpawnPoint.uc">AllySpawnPoint.uc (extends Actor)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var() string AllyGroup;<br>var DXScriptedPawn SpawnedAlly;<br>var() int Cooldown;<br>var bool bCooling;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">Cooldown=255<br>bHidden=True</div>
<h3 id="AllySpawnPoint.Timer"><a class="headerlink" href="#AllySpawnPoint.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;bCooling=False;<br><br></div>
<br><br><hr>
<a class="headerlink" href="#AmmoClaymore.uc" title="Permanent link"><h2 id="AmmoClaymore.uc">AmmoClaymore.uc (extends DeusExAmmo)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">AmmoAmount=6<br>MaxAmmo=6<br>PickupViewMesh=LodMesh'DeusExItems.TestBox'<br>Icon=Texture'DeusExUI.Icons.BeltIconLAM'<br>beltDescription="CLAY"<br>Mesh=LodMesh'DeusExItems.TestBox'<br>CollisionRadius=22.500000<br>CollisionHeight=16.000000<br>bCollideActors=True</div>
<br><br><hr>
<a class="headerlink" href="#AmmoCredits.uc" title="Permanent link"><h2 id="AmmoCredits.uc">AmmoCredits.uc (extends AmmoNapalm)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">AmmoAmount=100000<br>MaxAmmo=1000000<br>ItemName="Credits"<br>ItemArticle="some"<br>PickupViewMesh=LodMesh'DeusExItems.Credits'<br>Icon=Texture'DeusExUI.Icons.BeltIconCredits'<br>largeIcon=Texture'DeusExUI.Icons.BeltIconCredits'<br>beltDescription="Credits"<br>Mesh=LodMesh'DeusExItems.Credits'<br>CollisionHeight=4.480000</div>
<br><br><hr>
<a class="headerlink" href="#AmmoDG.uc" title="Permanent link"><h2 id="AmmoDG.uc">AmmoDG.uc (extends DeusExAmmo)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">AmmoAmount=2<br>MaxAmmo=5<br>ItemName="DG"<br>Description="It'll lite"<br>beltDescription="DG"</div>
<br><br><hr>
<a class="headerlink" href="#AmmoDrone.uc" title="Permanent link"><h2 id="AmmoDrone.uc">AmmoDrone.uc (extends AmmoNapalm)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">AmmoAmount=100000<br>MaxAmmo=1000000<br>ItemName="Drone Rockets"<br>ItemArticle="some"<br>PickupViewMesh=LodMesh'DeusExItems.Credits'<br>Icon=Texture'DeusExUI.Icons.BeltIconCredits'<br>largeIcon=Texture'DeusExUI.Icons.BeltIconCredits'<br>beltDescription="Rockets"<br>Mesh=LodMesh'DeusExItems.Credits'<br>CollisionHeight=4.480000</div>
<br><br><hr>
<a class="headerlink" href="#AmmoFlashBang.uc" title="Permanent link"><h2 id="AmmoFlashBang.uc">AmmoFlashBang.uc (extends DeusExAmmo)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">AmmoAmount=2<br>MaxAmmo=10<br>ItemName="Flash Bangs"<br>beltDescription="F-Bangs"</div>
<br><br><hr>
<a class="headerlink" href="#AmmoFreezeGrenade.uc" title="Permanent link"><h2 id="AmmoFreezeGrenade.uc">AmmoFreezeGrenade.uc (extends DeusExAmmo)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">AmmoAmount=2<br>MaxAmmo=10<br>ItemName="FreezeGrenade"<br>beltDescription="ICER"</div>
<br><br><hr>
<a class="headerlink" href="#AmmoKB.uc" title="Permanent link"><h2 id="AmmoKB.uc">AmmoKB.uc (extends DeusExAmmo)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">AmmoAmount=2<br>MaxAmmo=5<br>ItemName="Knife Grenades"<br>Description="It'll shred"<br>beltDescription="KB"</div>
<br><br><hr>
<a class="headerlink" href="#AmmoLS.uc" title="Permanent link"><h2 id="AmmoLS.uc">AmmoLS.uc (extends DeusExAmmo)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">AmmoAmount=2<br>MaxAmmo=5<br>ItemName="Lightshows"<br>Description="It'll lite"<br>beltDescription="LS"</div>
<br><br><hr>
<a class="headerlink" href="#AmmoNails.uc" title="Permanent link"><h2 id="AmmoNails.uc">AmmoNails.uc (extends DeusExAmmo)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bShowInfo=True<br>AmmoAmount=15<br>MaxAmmo=50<br>ItemName="Nails"<br>ItemArticle="some"<br>PickupViewMesh=LodMesh'DeusExItems.AmmoDart'<br>LandSound=Sound'DeusExSounds.Generic.PaperHit2'<br>Icon=Texture'DeusExUI.Icons.BeltIconAmmoDartsNormal'<br>largeIcon=Texture'DeusExUI.Icons.LargeIconAmmoDartsNormal'<br>largeIconWidth=20<br>largeIconHeight=47<br>Description="Specialy designed nails.Designed to pierce flesh more than wood!"<br>beltDescription="NAILS"<br>Mesh=LodMesh'DeusExItems.AmmoDart'<br>CollisionRadius=8.500000<br>CollisionHeight=2.000000<br>bCollideActors=True</div>
<h3 id="AmmoNails.PreBeginPlay"><a class="headerlink" href="#AmmoNails.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;// If this is a netgame, then override defaults<br>&#9;if ( Level.NetMode != NM_StandAlone )<br>      AmmoAmount = 6;<br><br></div>
<br><br><hr>
<a class="headerlink" href="#AmmoNuclearBattery.uc" title="Permanent link"><h2 id="AmmoNuclearBattery.uc">AmmoNuclearBattery.uc (extends DeusExAmmo)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bShowInfo=True<br>AmmoAmount=25<br>MaxAmmo=50<br>ItemName="Nuclear Battery"<br>ItemArticle="a"<br>PickupViewMesh=LodMesh'DeusExItems.AmmoPlasma'<br>LandSound=Sound'DeusExSounds.Generic.PlasticHit2'<br>Icon=Texture'DeusExUI.Icons.BeltIconAmmoPlasma'<br>largeIconWidth=22<br>largeIconHeight=46<br>Description="A battery straight from 101 labs.It contains enough energy to keep the city of chicago running for 2 hours!"<br>beltDescription="|p5NBATT"<br>Mesh=LodMesh'DeusExItems.AmmoPlasma'<br>CollisionRadius=4.300000<br>CollisionHeight=8.440000<br>bCollideActors=True</div>
<br><br><hr>
<a class="headerlink" href="#AmmoPoisonKnife.uc" title="Permanent link"><h2 id="AmmoPoisonKnife.uc">AmmoPoisonKnife.uc (extends AmmoShuriken)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">ItemName="Poisoned Throwing Knives"</div>
<br><br><hr>
<a class="headerlink" href="#AmmoSkull.uc" title="Permanent link"><h2 id="AmmoSkull.uc">AmmoSkull.uc (extends DeusExAmmo)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bShowInfo=True<br>AmmoAmount=17<br>MaxAmmo=100<br>ItemName="Skull Clip"<br>ItemArticle="a"<br>PickupViewMesh=LodMesh'DeusExDeco.BoneSkull'<br>LandSound=Sound'DeusExSounds.Generic.PlasticHit2'<br>Icon=Texture'DeusExUI.Icons.BeltIconAmmoPlasma'<br>largeIconWidth=22<br>largeIconHeight=46<br>Description="A clip of Human Skulls, average sized Human Skulls that can be heated and delivered with a redundant devastating effect using the Skull Gun. My gun of choice -- Gunther Hermann"<br>beltDescription="BONE"<br>Mesh=LodMesh'DeusExDeco.BoneSkull'<br>CollisionRadius=4.300000<br>CollisionHeight=8.440000<br>bCollideActors=True</div>
<br><br><hr>
<a class="headerlink" href="#AmmoSlow.uc" title="Permanent link"><h2 id="AmmoSlow.uc">AmmoSlow.uc (extends DeusExAmmo)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">AmmoAmount=2<br>MaxAmmo=10<br>ItemName="Slow"<br>beltDescription="Slow"</div>
<br><br><hr>
<a class="headerlink" href="#AmmoSmokeGrenade.uc" title="Permanent link"><h2 id="AmmoSmokeGrenade.uc">AmmoSmokeGrenade.uc (extends DeusExAmmo)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">AmmoAmount=1<br>MaxAmmo=10<br>PickupViewMesh=LodMesh'DeusExItems.TestBox'<br>Icon=Texture'DeusExUI.Icons.BeltIconGasGrenade'<br>beltDescription="SMOKE GREN"<br>Mesh=LodMesh'DeusExItems.TestBox'<br>CollisionRadius=22.500000<br>CollisionHeight=16.000000<br>bCollideActors=True</div>
<br><br><hr>
<a class="headerlink" href="#AmmoSpazmGas.uc" title="Permanent link"><h2 id="AmmoSpazmGas.uc">AmmoSpazmGas.uc (extends DeusExAmmo)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">AmmoAmount=100<br>MaxAmmo=500<br>ItemName="Spazm Gas Ammo"<br>ItemArticle="some"<br>PickupViewMesh=LodMesh'DeusExItems.AmmoPepper'<br>Description="These cartriges contain gas that disturbs he natural brain's electric impulses, effectivly giving the target a seizure."<br>Mesh=LodMesh'DeusExItems.AmmoPepper'<br>CollisionRadius=3.000000<br>CollisionHeight=4.000000</div>
<br><br><hr>
<a class="headerlink" href="#AmmoSpeed.uc" title="Permanent link"><h2 id="AmmoSpeed.uc">AmmoSpeed.uc (extends DeusExAmmo)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">AmmoAmount=2<br>MaxAmmo=10<br>ItemName="Speed"<br>beltDescription="Speed"</div>
<br><br><hr>
<a class="headerlink" href="#AmmoTelefrag.uc" title="Permanent link"><h2 id="AmmoTelefrag.uc">AmmoTelefrag.uc (extends DeusExAmmo)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">AmmoAmount=2<br>MaxAmmo=5<br>ItemName="Telefrag Grenades"<br>Description="It'll telefrag"<br>beltDescription="T-FRAG"</div>
<br><br><hr>
<a class="headerlink" href="#AmmoTripB.uc" title="Permanent link"><h2 id="AmmoTripB.uc">AmmoTripB.uc (extends DeusExAmmo)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">AmmoAmount=6<br>MaxAmmo=6<br>PickupViewMesh=LodMesh'DeusExItems.TestBox'<br>beltDescription="TripBomb"<br>Mesh=LodMesh'DeusExItems.TestBox'<br>CollisionRadius=22.500000<br>CollisionHeight=16.000000<br>bCollideActors=True</div>
<br><br><hr>
<a class="headerlink" href="#AmmoTripBEMP.uc" title="Permanent link"><h2 id="AmmoTripBEMP.uc">AmmoTripBEMP.uc (extends DeusExAmmo)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">AmmoAmount=6<br>MaxAmmo=6<br>PickupViewMesh=LodMesh'DeusExItems.TestBox'<br>beltDescription="TripBombEMP"<br>Mesh=LodMesh'DeusExItems.TestBox'<br>CollisionRadius=22.500000<br>CollisionHeight=16.000000<br>bCollideActors=True</div>
<br><br><hr>
<a class="headerlink" href="#AmmoTripBFire.uc" title="Permanent link"><h2 id="AmmoTripBFire.uc">AmmoTripBFire.uc (extends DeusExAmmo)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">AmmoAmount=6<br>MaxAmmo=6<br>PickupViewMesh=LodMesh'DeusExItems.TestBox'<br>beltDescription="TripBombFire"<br>Mesh=LodMesh'DeusExItems.TestBox'<br>CollisionRadius=22.500000<br>CollisionHeight=16.000000<br>bCollideActors=True</div>
<br><br><hr>
<a class="headerlink" href="#AmmoWPGrenade.uc" title="Permanent link"><h2 id="AmmoWPGrenade.uc">AmmoWPGrenade.uc (extends AmmoGasGrenade)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">beltDescription="WP GREN"</div>
<br><br><hr>
<a class="headerlink" href="#ArmourShard.uc" title="Permanent link"><h2 id="ArmourShard.uc">ArmourShard.uc (extends CraftingMaterial)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">InvResult=Class'PartyStuff.PowerArmour'<br>NumNeeded=5<br>DispStr="Requires 5x to make Power Armour"<br>ItemName="Armour shard"<br>beltDescription="ARM"</div>
<br><br><hr>
<a class="headerlink" href="#Augrist.uc" title="Permanent link"><h2 id="Augrist.uc">Augrist.uc (extends Animal)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var() int spell, lve, lvl;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">WalkingSpeed=1.000000<br>bInvincible=True<br>bHasShadow=False<br>bHighlight=False<br>bSpawnBubbles=False<br>bCanFly=True<br>GroundSpeed=100.000000<br>WaterSpeed=100.000000<br>AirSpeed=100.000000<br>AccelRate=500.000000<br>JumpZ=0.000000<br>MaxStepHeight=1.000000<br>MinHitWall=0.000000<br>BaseEyeHeight=1.000000<br>Health=1<br>UnderWaterTime=20.000000<br>bTransient=True<br>Mesh=LodMesh'DeusExItems.NanoSwordPickup'<br>MultiSkins(1)=Texture'DeusExItems.Skins.PinkMaskTex'<br>MultiSkins(2)=Texture'DeusExItems.Skins.PinkMaskTex'<br>MultiSkins(6)=Texture'DeusExItems.Skins.PinkMaskTex'<br>MultiSkins(7)=Texture'DeusExItems.Skins.PinkMaskTex'<br>CollisionRadius=32.000000<br>CollisionHeight=2.400000<br>bBlockActors=False<br>bBlockPlayers=False<br>bBounce=True<br>Mass=0.100000<br>Buoyancy=0.100000<br>RotationRate=(Pitch=16384,Yaw=100000)<br>BindName="Augrist"<br>FamiliarName="Augrist"<br>UnfamiliarName="Augrist"</div>
<h3 id="Augrist.BeginState"><a class="headerlink" href="#Augrist.BeginState" title="Permanent link">BeginState</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;Super.BeginState();<br>&#9;&#9;BlockReactions();<br>&#9;&#9;Acceleration = vector(Rotation)*AccelRate;<br>&#9;<br></div>
<h3 id="Augrist.Frob"><a class="headerlink" href="#Augrist.Frob" title="Permanent link">Frob</a> (Actor Frobber, Inventory frobWith)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer SP;<br>&#9;local weaponaugrist ga;<br><br>&#9;SP = DeusExPlayer(Frobber);<br><br>&#9;if(SP != None)<br>&#9;{<br>&#9;&#9;GA=Spawn(class'WeaponAugrist', Self,, Location, Rotation);<br>&#9;&#9;GA.spell = spell;<br>&#9;&#9;GA.lve = lve;<br>&#9;&#9;GA.lvl = lvl;<br>&#9;&#9;GA.SpawnCopy(DeusExPlayer(Frobber));<br>&#9;&#9;GA.Destroy();<br>&#9;&#9;Destroy();<br>&#9;}<br><br></div>
<h3 id="Augrist.HitWall"><a class="headerlink" href="#Augrist.HitWall" title="Permanent link">HitWall</a> (vector HitNormal, actor HitWall)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local rotator dir;<br>&#9;local float   elasticity;<br>&#9;local float   minVel, maxHVel;<br>&#9;local vector  tempVect;<br><br><br>&#9;&#9;elasticity = 0.3;<br>&#9;&#9;Velocity = elasticity*((Velocity dot HitNormal) * HitNormal * (-2.0) + Velocity);<br>&#9;&#9;DesiredRotation = Rotation;<br>&#9;<br></div>
<h3 id="Augrist.IsNearHome"><a class="headerlink" href="#Augrist.IsNearHome" title="Permanent link">IsNearHome</a> (vector position) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local bool bNear;<br><br><br>&#9;bNear = true;<br>&#9;if (bUseHome)<br>&#9;&#9;if (VSize(HomeLoc-position) > HomeExtent)<br>&#9;&#9;&#9;bNear = false;<br><br>&#9;return bNear;<br><br></div>
<h3 id="Augrist.PickDirection"><a class="headerlink" href="#Augrist.PickDirection" title="Permanent link">PickDirection</a> -> vector</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local vector  dirVector;<br>&#9;local rotator rot;<br><br><br>&#9;&#9;if (!IsNearHome(Location))<br>&#9;&#9;&#9;dirVector = Normal(homeLoc - Location)*AirSpeed*4;<br>&#9;&#9;else<br>&#9;&#9;&#9;dirVector = Velocity;<br>&#9;&#9;dirVector += VRand()*AirSpeed*2;<br>&#9;&#9;dirVector = Normal(dirVector);<br>&#9;&#9;rot = Rotator(dirVector);<br>&#9;&#9;if (VSize(Velocity) < AirSpeed*0.5)<br>&#9;&#9;{<br>&#9;&#9;&#9;Acceleration = dirVector*AirSpeed;<br>&#9;&#9;&#9;SetRotation(rot);<br>&#9;&#9;}<br>&#9;&#9;return vector(rot)*200+Location;<br>&#9;<br></div>
<h3 id="Augrist.PlayWalking"><a class="headerlink" href="#Augrist.PlayWalking" title="Permanent link">PlayWalking</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;LoopAnimPivot('Still');<br><br></div>
<h3 id="Augrist.Tick"><a class="headerlink" href="#Augrist.Tick" title="Permanent link">Tick</a> (float deltaTime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;Super.Tick(deltatime);<br>&#9;<br></div>
<h3 id="Augrist.TweenToWalking"><a class="headerlink" href="#Augrist.TweenToWalking" title="Permanent link">TweenToWalking</a> (float tweentime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;TweenAnimPivot('Still', tweentime);<br><br></div>
<br><br><hr>
<a class="headerlink" href="#Automed.uc" title="Permanent link"><h2 id="Automed.uc">Automed.uc (extends DeusExPickup)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var() bool bGlowHP, bButCharging;<br>var int TickDelay;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">maxCopies=1<br>bCanHaveMultipleCopies=True<br>bActivatable=True<br>ItemName="Automed"<br>PlayerViewOffset=(X=30.000000,Z=-12.000000)<br>PlayerViewMesh=LodMesh'DeusExItems.Credits'<br>PickupViewMesh=LodMesh'DeusExItems.Credits'<br>ThirdPersonMesh=LodMesh'DeusExItems.Credits'<br>LandSound=Sound'DeusExSounds.Generic.PlasticHit1'<br>Icon=Texture'DeusExUI.UserInterface.AugIconHealing'<br>M_Activated=""<br>largeIconWidth=35<br>largeIconHeight=49<br>Description="s"<br>beltDescription="AUTOMED"<br>Mesh=LodMesh'DeusExItems.Credits'<br>MultiSkins(0)=Texture'DeusExUI.UserInterface.AugIconHealing_Small'<br>CollisionRadius=7.000000<br>CollisionHeight=0.550000<br>Mass=10.000000<br>Buoyancy=100.000000</div>
<h3 id="Automed.Activate"><a class="headerlink" href="#Automed.Activate" title="Permanent link">Activate</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;// can't turn it off<br>&#9;<br></div>
<h3 id="Automed.BeginState"><a class="headerlink" href="#Automed.BeginState" title="Permanent link">BeginState</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer player, hitplayer;<br>&#9;local scriptedpawn hitpawn;<br>&#9;local dxScriptedPawn hitpawn2;<br>&#9;local Actor       hitActor;<br>&#9;local Vector      hitLocation, hitNormal;<br>&#9;local Vector      position, line;<br><br>&#9;&#9;Super.BeginState();<br>&#9;&#9;player = DeusExPlayer(Owner);<br>&#9;&#9;if(bButCharging)<br>&#9;&#9;&#9;player.ClientMessage("|P2Charging...");<br>&#9;&#9;else<br>&#9;&#9;&#9;player.ClientMessage("|P3Ready!");<br>&#9;&#9;foreach AllActors(class'Inventory', Inv)<br>&#9;&#9;{<br>&#9;&#9;&#9;if (Inv.Owner == player)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if (Inv.IsA('Medkit')) <br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;player.ClientMessage("Automed will use Medkits. "$Medkit(inv).NumCopies$" remaining.");<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;if (Inv.IsA('Estus')) <br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;player.ClientMessage("Automed will use Estus. "$Estus(inv).eUses$" remaining.");<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;GotoState('DeActivated');<br>&#9;<br></div>
<h3 id="Automed.GiveTo"><a class="headerlink" href="#Automed.GiveTo" title="Permanent link">GiveTo</a> (pawn Other)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>    super.Giveto(Other);<br>&#9;Other.PlaySound(sound'automedic_on');<br>&#9;Other.ClientMessage("Automed activated. Medkits will be used when needed.");<br><br></div>
<h3 id="Automed.InjectMedkit"><a class="headerlink" href="#Automed.InjectMedkit" title="Permanent link">InjectMedkit</a> (string Purpose)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Inventory Inv;<br>&#9;local bool bDoneIt;<br><br>&#9;  <br>&#9;&#9;bButCharging=True;<br>&#9;&#9;TickDelay=0;<br>&#9;&#9;SetTimer(20,False);<br>&#9;if(Purpose != "bio")&#9;<br>&#9;{<br>&#9;&#9;if(Purpose == "critical")<br>&#9;&#9;{<br>&#9;&#9;&#9;DeusExPlayer(Owner).PlaySound(sound'near_death', SLOT_Talk,2,,1024,);<br>&#9;&#9;}<br>&#9;&#9;if(Purpose == "legless")<br>&#9;&#9;{<br>&#9;&#9;DeusExPlayer(Owner).PlaySound(sound'major_fracture', SLOT_Talk,2,,1024,);<br>&#9;&#9;}&#9;<br>&#9;&#9;if(Purpose == "drug")<br>&#9;&#9;{<br>&#9;&#9;DeusExPlayer(Owner).PlaySound(sound'blood_toxins', SLOT_Talk,2,,1024,);<br>&#9;&#9;}&#9;&#9;<br>&#9;&#9;if(Purpose == "fire")<br>&#9;&#9;{<br>&#9;&#9;DeusExPlayer(Owner).PlaySound(sound'heat_damage', SLOT_Talk,2,,1024,);<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;foreach AllActors(class'Inventory', Inv)<br>&#9;&#9;{<br>&#9;&#9;&#9;if (Inv.Owner == DeusExPlayer(Owner))<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if (Inv.IsA('Medkit')) <br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;bDoneIt=True;<br>&#9;&#9;&#9;&#9;&#9;Inv.GotoState('Activated');<br>&#9;&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;if (Inv.IsA('Estus')) <br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(Estus(inv).eUses > 0)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;bDoneIt=True;<br>&#9;&#9;&#9;&#9;&#9;&#9;Inv.GotoState('Activated');<br>&#9;&#9;&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br>&#9;else if(Purpose == "bio")<br>&#9;{<br>&#9;&#9;foreach AllActors(class'Inventory', Inv)<br>&#9;&#9;{<br>&#9;&#9;&#9;if (Inv.Owner == DeusExPlayer(Owner))<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if (Inv.IsA('Biocell')) <br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;bDoneIt=True;<br>&#9;&#9;&#9;&#9;&#9;Inv.GotoState('Activated');<br>&#9;&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;if (Inv.IsA('Estus')) <br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(Estus(inv).eUses > 0)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;bDoneIt=True;<br>&#9;&#9;&#9;&#9;&#9;&#9;Inv.GotoState('Activated');<br>&#9;&#9;&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br>&#9;&#9;if(!bDoneIt)<br>&#9;&#9;{<br>&#9;&#9;&#9;DeusExPlayer(Owner).ClientMessage("No healing available....");<br>&#9;&#9;}<br><br><br></div>
<h3 id="Automed.PreBeginPlay"><a class="headerlink" href="#Automed.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;// If this is a netgame, then override defaults<br>&#9;if ( Level.NetMode != NM_StandAlone )<br>&#9;&#9;MaxCopies = 1;<br><br></div>
<h3 id="Automed.TestMPBeltSpot"><a class="headerlink" href="#Automed.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) || (BeltSpot == 0) );<br><br></div>
<h3 id="Automed.Tick"><a class="headerlink" href="#Automed.Tick" title="Permanent link">Tick</a> (float deltatime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;TickDelay++;<br>&#9;if(Owner != None && Owner.IsA('Human'))<br>&#9;{<br>&#9;&#9;if(DeusExPlayer(Owner).HealthHead <= 15 || DeusExPlayer(Owner).HealthTorso <= 15 || DeusExPlayer(Owner).HealthLegLeft <= 0)<br>&#9;&#9;{<br>&#9;&#9;&#9;Owner.LightType=LT_Steady;<br>&#9;&#9;&#9;Owner.LightEffect=LE_NonIncidence;<br>&#9;&#9;&#9;Owner.LightSaturation=0;<br>&#9;&#9;&#9;Owner.LightRadius=8;<br>&#9;&#9;&#9;Owner.LightBrightness=64;<br>&#9;&#9;&#9;Owner.LightHue = DeusExPlayer(Owner).Health;<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;{<br>&#9;&#9;&#9;Owner.LightType = LT_None;<br>&#9;&#9;}<br>&#9;//Hack to prevent flamethrower bypassing the automed completely if hit repeatedly<br>&#9;&#9;if(TickDelay <= 15)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(DeusExPlayer(Owner).DrugEffectTimer > 0 || DeusExPlayer(Owner).bOnFire)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;DeusExPlayer(Owner).StopPoison();<br>&#9;&#9;&#9;DeusExPlayer(Owner).ExtinguishFire();<br>&#9;&#9;&#9;DeusExPlayer(Owner).drugEffectTimer = 0;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;if(!bButCharging)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(DeusExPlayer(Owner).HealthHead < 25 || DeusExPlayer(Owner).HealthTorso < 25)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;InjectMedkit("critical");<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;if(DeusExPlayer(Owner).HealthLegLeft == 0)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;InjectMedkit("legless");<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;if(DeusExPlayer(Owner).DrugEffectTimer > 0)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;InjectMedkit("drug");<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;if(DeusExPlayer(Owner).bOnFire)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;InjectMedkit("fire");<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;if(DeusExPlayer(Owner).Energy < 10)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;InjectMedkit("bio");<br>&#9;&#9;&#9;}<br>&#9;&#9;}&#9;<br>&#9;}<br><br></div>
<h3 id="Automed.Timer"><a class="headerlink" href="#Automed.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;bButCharging=False;<br>&#9;if(DeusExPlayer(Owner) != None)<br>&#9;{<br>&#9;DeusExPlayer(Owner).PlaySound(sound'automedic_on');<br>&#9;DeusExPlayer(Owner).ClientMessage("Automed has recharged and can be used again.");<br>&#9;}<br><br></div>
<h3 id="Automed.UpdateInfo"><a class="headerlink" href="#Automed.UpdateInfo" title="Permanent link">UpdateInfo</a> (Object winObject) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local PersonaInfoWindow winInfo;<br>&#9;local string str;<br><br><br>&#9;winInfo = PersonaInfoWindow(winObject);<br>&#9;if (winInfo == None)<br>&#9;&#9;return False;<br><br>&#9;winInfo.SetTitle(itemName);<br>&#9;winInfo.SetText(Description $ winInfo.CR() $ winInfo.CR());<br>//&#9;winInfo.AppendText(Sprintf(RechargesLabel, RechargeAmount));<br><br>&#9;// Print the number of copies<br>&#9;str = CountLabel @ String(NumCopies);<br>&#9;winInfo.AppendText(winInfo.CR() $ winInfo.CR() $ str);<br><br>&#9;return True;<br><br></div>
<br><br><hr>
<a class="headerlink" href="#AveDecal.uc" title="Permanent link"><h2 id="AveDecal.uc">AveDecal.uc (extends Decal)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var bool bAttached, bStartedLife, bImportant;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bAttached=True<br>bImportant=True</div>
<h3 id="AveDecal.PostBeginPlay"><a class="headerlink" href="#AveDecal.PostBeginPlay" title="Permanent link">PostBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PostBeginPlay();<br>&#9;SetTimer(1.0, false);<br><br></div>
<h3 id="AveDecal.ReattachDecal"><a class="headerlink" href="#AveDecal.ReattachDecal" title="Permanent link">ReattachDecal</a> (optional vector newrot)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;DetachDecal();<br>&#9;if (newrot != vect(0,0,0))<br>&#9;&#9;AttachDecal(32, newrot);<br>&#9;else<br>&#9;&#9;AttachDecal(32);<br><br></div>
<br><br><hr>
<a class="headerlink" href="#BB.uc" title="Permanent link"><h2 id="BB.uc">BB.uc (extends DeusExProjectile)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var ParticleGenerator pGen1;<br>var ParticleGenerator pGen2;<br>var float mpDamage;<br>var float mpBlastRadius;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">mpDamage=5.000000<br>mpBlastRadius=100.000000<br>bExplodes=True<br>blastRadius=128.000000<br>DamageType=Sabot<br>AccurateRange=14400<br>maxRange=24000<br>bIgnoresNanoDefense=True<br>ItemName="Energy Bolt"<br>ItemArticle="an"<br>speed=1500.000000<br>MaxSpeed=1500.000000<br>Damage=5.000000<br>MomentumTransfer=5000<br>ImpactSound=Sound'DeusExSounds.Weapons.PlasmaRifleHit'<br>ExplosionDecal=Class'DeusEx.ScorchMark'<br>Texture=FireTexture'Effects.Laser.LaserBeam2'<br>Mesh=LodMesh'DeusExItems.Tracer'<br>DrawScale=3.000000<br>bUnlit=True<br>LightBrightness=200<br>LightHue=80<br>LightSaturation=128<br>LightRadius=3<br>bFixedRotationDir=True</div>
<h3 id="BB.Destroyed"><a class="headerlink" href="#BB.Destroyed" title="Permanent link">Destroyed</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if (pGen1 != None)<br>&#9;&#9;pGen1.DelayedDestroy();<br>&#9;if (pGen2 != None)<br>&#9;&#9;pGen2.DelayedDestroy();<br><br>&#9;Super.Destroyed();<br><br></div>
<h3 id="BB.DrawExplosionEffects"><a class="headerlink" href="#BB.DrawExplosionEffects" title="Permanent link">DrawExplosionEffects</a> (vector HitLocation, vector HitNormal)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local ParticleGenerator gen;<br><br><br>&#9;// create a particle generator shooting out plasma spheres<br>&#9;gen = Spawn(class'ParticleGenerator',,, HitLocation, Rotator(HitNormal));<br>&#9;if (gen != None)<br>&#9;{<br>      gen.RemoteRole = ROLE_None;<br>&#9;&#9;gen.particleDrawScale = 2.0;<br>&#9;&#9;gen.checkTime = 0.10;<br>&#9;&#9;gen.frequency = 2.0;<br>&#9;&#9;gen.ejectSpeed = 100.0;<br>&#9;&#9;gen.bGravity = True;<br>&#9;&#9;gen.bRandomEject = True;<br>&#9;&#9;gen.particleLifeSpan = 14.00;<br>&#9;&#9;gen.particleTexture = FireTexture'Effects.Laser.LaserSpot2';<br>&#9;&#9;gen.LifeSpan = 18.5;<br>&#9;}<br><br></div>
<h3 id="BB.PostBeginPlay"><a class="headerlink" href="#BB.PostBeginPlay" title="Permanent link">PostBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PostBeginPlay();<br><br>   if ((Level.NetMode == NM_Standalone) || (Level.NetMode == NM_ListenServer))<br>      SpawnPlasmaEffects();<br><br></div>
<h3 id="BB.PostNetBeginPlay"><a class="headerlink" href="#BB.PostNetBeginPlay" title="Permanent link">PostNetBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>      SpawnPlasmaEffects();<br><br></div>
<h3 id="BB.PreBeginPlay"><a class="headerlink" href="#BB.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;Damage = mpDamage;<br>&#9;blastRadius = mpBlastRadius;<br><br></div>
<h3 id="BB.SpawnPlasmaEffects"><a class="headerlink" href="#BB.SpawnPlasmaEffects" title="Permanent link">SpawnPlasmaEffects</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Rotator rot;<br><br>   rot = Rotation;<br>&#9;rot.Yaw -= 32768;<br><br>   pGen2 = Spawn(class'ParticleGenerator', Self,, Location, rot);<br>&#9;if (pGen2 != None)<br>&#9;{<br>      pGen2.RemoteRole = ROLE_None;<br>&#9;&#9;pGen2.particleTexture = FireTexture'Effects.Laser.LaserSpot2';<br>&#9;&#9;pGen2.particleDrawScale = 2.0;<br>&#9;&#9;pGen2.checkTime = 0.04;<br>&#9;&#9;pGen2.riseRate = 0.0;<br>&#9;&#9;pGen2.ejectSpeed = 100.0;<br>&#9;&#9;pGen2.particleLifeSpan = 4.0;<br>&#9;&#9;pGen2.bRandomEject = True;<br>&#9;&#9;pGen2.SetBase(Self);<br>&#9;}<br>   <br><br></div>
<br><br><hr>
<a class="headerlink" href="#BFG.uc" title="Permanent link"><h2 id="BFG.uc">BFG.uc (extends Rocket)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var() float shakeTime;<br>var() float shakeRollMagnitude;<br>var() float shakeVertMagnitude;<br>var SizableEffectSpawner efs;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">shaketime=3.000000<br>shakeRollMagnitude=512.000000<br>shakeVertMagnitude=48.000000<br>blastRadius=1024.000000<br>bTracking=False<br>ItemName="Big Fucking Blast"<br>speed=500.000000<br>MaxSpeed=1000.000000<br>SpawnSound=None<br>ImpactSound=None<br>DrawType=DT_Sprite<br>Style=STY_Modulated<br>Texture=Texture'PGAssets.Skins.SkyBlueRay'<br>Mesh=None<br>DrawScale=5.000000<br>SoundRadius=0<br>SoundVolume=0<br>AmbientSound=None</div>
<h3 id="BFG.DrawExplosionEffects"><a class="headerlink" href="#BFG.DrawExplosionEffects" title="Permanent link">DrawExplosionEffects</a> (vector HitLocation, vector HitNormal)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local ExplosionLarge expeffect;<br>&#9;local DeusExPlayer player, pls;<br>&#9;local pring sphere;<br><br>&#9;//stop the other effect<br>&#9;efs.Destroy();<br><br>&#9;player = DeusExPlayer(Owner);<br>&#9;<br>&#9;foreach AllActors(class'DeusExPlayer', pls)<br>&#9;{<br>&#9;&#9;if (pls != None)<br>&#9;&#9;{<br>&#9;&#9;&#9;pls.ShakeView(shakeTime, shakeRollMagnitude, shakeVertMagnitude);<br>&#9;&#9;}<br>&#9;}<br><br>&#9;// draw a pretty explosion<br>&#9;efs = Spawn(class'SizableEffectSpawner',,, HitLocation);<br>&#9;if (efs != None)<br>&#9;{<br>&#9;&#9;efs.RemoteRole = ROLE_None;<br>&#9;&#9;efs.EffectClass=class'MagicRing';      &#9;&#9;<br>&#9;&#9;efs.EffectSkin = Texture'SkyBlueRay';<br>&#9;&#9;efs.SizeofEffect = 10;<br>&#9;&#9;efs.Interval = 0.1;<br>&#9;&#9;efs.TimeLimit=12;<br>&#9;&#9;efs.EffectLSpan = 3.0;<br>   &#9;}<br>&#9;sphere = Spawn(class'pring',,, HitLocation);<br>&#9;if (sphere != None)<br>&#9;{<br>&#9;sphere.RemoteRole = ROLE_None;<br>&#9;sphere.size = blastradius;<br>&#9;Sphere.MultiSkins[0]=Texture'DeusExDeco.Skins.AlarmLightTex7';<br>&#9;}<br>   &#9;expeffect = Spawn(class'ExplosionLarge',,, HitLocation);<br>   &#9;if (expeffect != None)<br>   &#9;   expeffect.RemoteRole = ROLE_None;&#9;<br><br></div>
<h3 id="BFG.SpawnRocketEffects"><a class="headerlink" href="#BFG.SpawnRocketEffects" title="Permanent link">SpawnRocketEffects</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;efs = Spawn(class'SizableEffectSpawner',,,Location);<br>&#9;if (efs != None)<br>&#9;{<br>&#9;&#9;efs.RemoteRole = ROLE_None;<br>&#9;&#9;efs.SetBase(Self);<br>&#9;&#9;efs.EffectClass=class'MagicRing';<br>&#9;&#9;efs.EffectSkin = Texture'SkyBlueRay';<br>&#9;&#9;efs.SizeofEffect = 3;<br>&#9;&#9;efs.Interval = 0.01;<br>&#9;&#9;efs.EffectLSpan = 1.0;<br>   &#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#BLTsandwich.uc" title="Permanent link"><h2 id="BLTsandwich.uc">BLTsandwich.uc (extends sandwich)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">ItemName="Bacon Lettuce And Tomato Sandwich"<br>beltDescription="BLT.SDWCH"<br>MultiSkins(1)=Texture'PGAssets.Skins.BLTTex1'</div>
<br><br><hr>
<a class="headerlink" href="#BasketballMP.uc" title="Permanent link"><h2 id="BasketballMP.uc">BasketballMP.uc (extends ThrownProjectile)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var bool bDoomedToDestroy;<br>var bool bAlreadyScored;<br>var bool bAllowBumping;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bDisabled=True<br>bExplodes=False<br>bBlood=False<br>bEmitDanger=False<br>bIgnoresNanoDefense=True<br>ItemName="Basketball"<br>LifeSpan=0.000000<br>bDirectional=False<br>Mesh=LodMesh'PGAssets.FLBasketball'<br>DrawScale=0.710000<br>CollisionRadius=10.000000<br>CollisionHeight=10.000000<br>bBlockActors=True<br>bBlockPlayers=True<br>Mass=8.000000<br>Buoyancy=10.000000</div>
<h3 id="BasketballMP.BeginPlay"><a class="headerlink" href="#BasketballMP.BeginPlay" title="Permanent link">BeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.BeginPlay();<br><br></div>
<h3 id="BasketballMP.Explode"><a class="headerlink" href="#BasketballMP.Explode" title="Permanent link">Explode</a> (vector HitLocation, vector HitNormal)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;return;<br><br></div>
<h3 id="BasketballMP.Frob"><a class="headerlink" href="#BasketballMP.Frob" title="Permanent link">Frob</a> (Actor Frobber, Inventory frobWith)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local BasketballMP4Player FLB4P;<br><br>&#9;if (!bDoomedToDestroy)<br>&#9;{<br>&#9;&#9;FLB4P = Spawn(Class'BasketballMP4Player',Frobber,,Location,Rotation);<br>&#9;&#9;DeusExPlayer(Frobber).FrobTarget = FLB4P;<br>&#9;&#9;DeusExPlayer(Frobber).GrabDecoration();<br>&#9;&#9;Super.Frob(Frobber, frobWith);<br>&#9;&#9;Destroy();<br>&#9;}<br>&#9;else <br>&#9;{<br>&#9;&#9;return;<br>&#9;}<br><br></div>
<h3 id="BasketballMP.HitWall"><a class="headerlink" href="#BasketballMP.HitWall" title="Permanent link">HitWall</a> (vector HitNormal, actor HitWall)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local float speed;<br><br>&#9;&#9;<br>&#9;&#9;Velocity = 0.8*((Velocity dot HitNormal) * HitNormal * (-2.0) + Velocity);<br>&#9;&#9;speed = VSize(Velocity);<br>&#9;&#9;bFixedRotationDir = True;<br>&#9;&#9;RotationRate = RotRand(False);<br>&#9;&#9;if ((speed > 0) && (speed < 30) && (HitNormal.Z > 0.7))<br>&#9;&#9;{<br>&#9;&#9;&#9;SetPhysics(PHYS_None, HitWall);<br>&#9;&#9;&#9;if (Physics == PHYS_None)<br>&#9;&#9;&#9;&#9;bFixedRotationDir = False;<br>&#9;&#9;}<br>&#9;<br>&#9;&#9;if (HitWall.IsA('Mover'))<br>&#9;&#9;{<br>&#9;&#9;&#9;HitWall.TakeDamage(speed/58, Pawn(Owner), HitWall.Location, MomentumTransfer*Normal(Velocity), 'Shot');<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;else if (speed > 30)<br>&#9;&#9;{&#9;<br>&#9;&#9;&#9;if ((FRand() >= 0.75) && (FRand() < 1.0))<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;PlaySound(sound'Bounce1', SLOT_None, 3);<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else if ((FRand() >= 0.5) && (FRand() < 0.75))<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;PlaySound(sound'Bounce2', SLOT_None, 3);&#9;<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;PlaySound(sound'Bounce3', SLOT_None, 3);&#9;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;<br></div>
<h3 id="BasketballMP.TakeDamage"><a class="headerlink" href="#BasketballMP.TakeDamage" title="Permanent link">TakeDamage</a> (int Damage, Pawn instigatedBy, Vector HitLocation, Vector Momentum, name damageType)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;return;<br><br></div>
<h3 id="BasketballMP.Tick"><a class="headerlink" href="#BasketballMP.Tick" title="Permanent link">Tick</a> (float deltaTime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;return;<br><br></div>
<h3 id="BasketballMP.Timer"><a class="headerlink" href="#BasketballMP.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(!bAllowBumping)<br>&#9;{<br>&#9;&#9;bAllowBumping=True;<br>&#9;}<br>&#9;if (bDoomedToDestroy)<br>&#9;{<br>&#9;&#9;Destroy();<br>&#9;}<br>&#9;return;<br><br></div>
<h3 id="BasketballMP.bump"><a class="headerlink" href="#BasketballMP.bump" title="Permanent link">bump</a> (actor other)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer Player;<br><br>Player = DeusExPlayer(other);<br><br>&#9;if((other.IsA('DeusExPlayer')))<br>&#9;{<br>&#9;&#9;if(bAllowBumping && Player.Inhand == None)<br>&#9;&#9;{<br>&#9;&#9;&#9;frob(Other,None);<br>&#9;&#9;}<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#BasketballMP4Player.uc" title="Permanent link"><h2 id="BasketballMP4Player.uc">BasketballMP4Player.uc (extends DeusExDecoration)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bInvincible=True<br>ItemName="Basketball"<br>Mesh=LodMesh'PGAssets.FLBasketball'<br>DrawScale=0.710000<br>CollisionRadius=10.000000<br>CollisionHeight=10.000000<br>bBounce=True<br>Mass=8.000000<br>Buoyancy=10.000000</div>
<h3 id="BasketballMP4Player.BaseChange"><a class="headerlink" href="#BasketballMP4Player.BaseChange" title="Permanent link">BaseChange</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local BasketballMP AdvB;<br><br>&#9;if (bWasCarried)<br>&#9;{<br>&#9;&#9;AdvB = Spawn(Class'BasketballMP',Owner,,Location,Rotation);<br>&#9;&#9;AdvB.Velocity = Velocity + 0.7 * Owner.Velocity;<br>&#9;&#9;AdvB.SetTimer(0.5,False);<br>&#9;&#9;Destroy();<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#BeamActor.uc" title="Permanent link"><h2 id="BeamActor.uc">BeamActor.uc (extends Effects)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">Var DeusExPlayer POwner,Other;<br>var vector MoveAmount;<br>var int NumPuffs;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">LifeSpan=1.300000<br>DrawType=DT_Sprite<br>Style=STY_Translucent<br>Sprite=Texture'DeusExDeco.Skins.AlarmLightTex6'<br>Texture=Texture'DeusExDeco.Skins.AlarmLightTex6'<br>Skin=Texture'DeusExDeco.Skins.AlarmLightTex6'<br>bUnlit=True<br>LightBrightness=255<br>LightHue=128<br>LightRadius=2</div>
<h3 id="BeamActor.PostBeginPlay"><a class="headerlink" href="#BeamActor.PostBeginPlay" title="Permanent link">PostBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;SetTimer(0.001, false);<br><br></div>
<h3 id="BeamActor.Tick"><a class="headerlink" href="#BeamActor.Tick" title="Permanent link">Tick</a> (float DeltaTime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if ( Level.NetMode  != NM_DedicatedServer )<br>&#9;{<br>&#9;&#9;ScaleGlow = (Lifespan/Default.Lifespan) * 1.0;<br>&#9;&#9;AmbientGlow = ScaleGlow * 210;<br>&#9;}<br><br></div>
<h3 id="BeamActor.Timer"><a class="headerlink" href="#BeamActor.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local BeamActor r;<br>&#9;local DeusExPlayer P;<br><br>&#9;<br>&#9;P=DeusExPlayer(Owner);<br>&#9;<br>&#9;if (NumPuffs>0)<br>&#9;{<br>&#9;&#9;r = Spawn(class'BeamActor',P,,Location+MoveAmount);<br>&#9;&#9;r.RemoteRole = ROLE_None;<br>&#9;&#9;r.NumPuffs = NumPuffs -1;<br>&#9;&#9;r.MoveAmount = MoveAmount;<br>&#9;&#9;r.SetOwner(P);<br>&#9;&#9;r.Texture = self.Texture;<br>&#9;&#9;r.Skin = self.Skin;<br>&#9;&#9;r.Sprite = self.Sprite;<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#BeamActorPink.uc" title="Permanent link"><h2 id="BeamActorPink.uc">BeamActorPink.uc (extends Effects)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">Var DeusExPlayer POwner,Other;<br>var vector MoveAmount;<br>var int NumPuffs;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">LifeSpan=1.300000<br>DrawType=DT_Sprite<br>Style=STY_Translucent<br>Sprite=Texture'PGAssets.Skins.federalpink'<br>Texture=Texture'PGAssets.Skins.federalpink'<br>Skin=Texture'PGAssets.Skins.federalpink'<br>bUnlit=True<br>LightBrightness=255<br>LightHue=128<br>LightRadius=2</div>
<h3 id="BeamActorPink.PostBeginPlay"><a class="headerlink" href="#BeamActorPink.PostBeginPlay" title="Permanent link">PostBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;SetTimer(0.001, false);<br><br></div>
<h3 id="BeamActorPink.Tick"><a class="headerlink" href="#BeamActorPink.Tick" title="Permanent link">Tick</a> (float DeltaTime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if ( Level.NetMode  != NM_DedicatedServer )<br>&#9;{<br>&#9;&#9;ScaleGlow = (Lifespan/Default.Lifespan) * 1.0;<br>&#9;&#9;AmbientGlow = ScaleGlow * 210;<br>&#9;}<br><br></div>
<h3 id="BeamActorPink.Timer"><a class="headerlink" href="#BeamActorPink.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local BeamActorPink r;<br>&#9;local DeusExPlayer P;<br><br>&#9;<br>&#9;P=DeusExPlayer(Owner);<br>&#9;<br>&#9;if (NumPuffs>0)<br>&#9;{<br>&#9;&#9;r = Spawn(class'BeamActorPink',P,,Location+MoveAmount);<br>&#9;&#9;r.RemoteRole = ROLE_None;<br>&#9;&#9;r.NumPuffs = NumPuffs -1;<br>&#9;&#9;r.MoveAmount = MoveAmount;<br>&#9;&#9;r.SetOwner(P);<br>&#9;&#9;r.Texture = self.Texture;<br>&#9;&#9;r.Skin = self.Skin;<br>&#9;&#9;r.Sprite = self.Sprite;<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#BinocularsMP.uc" title="Permanent link"><h2 id="BinocularsMP.uc">BinocularsMP.uc (extends DeusExPickup)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var bool bZoomed;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bActivatable=True<br>ItemName="Binoculars"<br>ItemArticle="some"<br>PlayerViewOffset=(X=18.000000,Z=-6.000000)<br>PlayerViewMesh=LodMesh'DeusExItems.Binoculars'<br>PickupViewMesh=LodMesh'DeusExItems.Binoculars'<br>ThirdPersonMesh=LodMesh'DeusExItems.Binoculars'<br>LandSound=Sound'DeusExSounds.Generic.PaperHit2'<br>Icon=Texture'DeusExUI.Icons.BeltIconBinoculars'<br>largeIcon=Texture'DeusExUI.Icons.LargeIconBinoculars'<br>largeIconWidth=49<br>largeIconHeight=34<br>Description="A pair of military binoculars."<br>beltDescription="BINOCS"<br>Mesh=LodMesh'DeusExItems.Binoculars'<br>CollisionRadius=7.000000<br>CollisionHeight=2.060000<br>Mass=5.000000<br>Buoyancy=6.000000</div>
<h3 id="BinocularsMP.Activate"><a class="headerlink" href="#BinocularsMP.Activate" title="Permanent link">Activate</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;Super.Activate();<br><br>&#9;&#9;if (DeusExPlayer(Owner) != None)<br>&#9;&#9;&#9;DeusExPlayer(Owner).DesiredFOV = DeusExPlayer(Owner).Default.DesiredFOV;<br>&#9;<br></div>
<h3 id="BinocularsMP.BeginState"><a class="headerlink" href="#BinocularsMP.BeginState" title="Permanent link">BeginState</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;<br>&#9;&#9;Super.BeginState();<br>&#9;&#9;if (bZoomed && (Owner != None) && Owner.IsA('DeusExPlayer'))<br>&#9;&#9;{<br>&#9;&#9;&#9;// Hide the Binoculars View<br>&#9;&#9;&#9;bZoomed = False;<br>      &#9;&#9;&#9;RefreshScopeDisplay(DeusExPlayer(Owner), False, bZoomed);<br>&#9;&#9;}<br>&#9;<br></div>
<h3 id="BinocularsMP.RefreshScopeDisplay"><a class="headerlink" href="#BinocularsMP.RefreshScopeDisplay" title="Permanent link">RefreshScopeDisplay</a> (DeusExPlayer Player, bool bInstant, bool bBinocularOn)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if (bBinocularOn && (Player != None))<br>&#9;{<br>&#9;&#9;DeusExRootWindow(Player.rootWindow).scopeView.ActivateView(20, True, bInstant);<br>&#9;}<br>   &#9;else if (!bBinocularOn)<br>&#9;{<br>&#9;&#9;DeusExrootWindow(Player.rootWindow).scopeView.DeactivateView();<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#BioArmour.uc" title="Permanent link"><h2 id="BioArmour.uc">BioArmour.uc (extends PGArmour)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">Dur=100<br>Def=10<br>bResistPoison=True<br>ItemName="Bio Armour"<br>beltDescription="BIO"</div>
<h3 id="BioArmour.TestMPBeltSpot"><a class="headerlink" href="#BioArmour.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<br><br><hr>
<a class="headerlink" href="#Boner.uc" title="Permanent link"><h2 id="Boner.uc">Boner.uc (extends DeusExProjectile)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var float	mpDamage;<br>var int		mpAccurateRange;<br>var int		mpMaxRange;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">mpDamage=65.000000<br>mpAccurateRange=640<br>mpMaxRange=640<br>bExplodes=True<br>bBlood=True<br>blastRadius=64.000000<br>DamageType=shot<br>AccurateRange=640<br>maxRange=1280<br>bIgnoresNanoDefense=True<br>ItemName="Boner"<br>ItemArticle="the"<br>speed=1000.000000<br>MaxSpeed=1000.000000<br>Damage=100.000000<br>MomentumTransfer=128<br>ImpactSound=Sound'DeusExSounds.Generic.BulletHitFlesh'<br>Mesh=LodMesh'DeusExDeco.BoneFemur'<br>CollisionRadius=12.650000<br>CollisionHeight=0.800000</div>
<h3 id="Boner.AttachPayload"><a class="headerlink" href="#Boner.AttachPayload" title="Permanent link">AttachPayload</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local BonerPayload BP;<br>&#9;local int Payloads;<br><br><br>&#9;foreach AllActors(class'BonerPayload', BP)<br>&#9;{<br>&#9;&#9;if(BP.Payloader == DeusExPlayer(Owner))<br>&#9;&#9;{<br>&#9;&#9;&#9;Payloads++;<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;if(Payloads > 10)<br>&#9;{<br>&#9;&#9;return;<br>&#9;}<br>&#9;<br>BP = Spawn(class'BonerPayload',,,Location);<br>BP.Payloader = DeusExPlayer(Owner);<br><br></div>
<h3 id="Boner.BeginState"><a class="headerlink" href="#Boner.BeginState" title="Permanent link">BeginState</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExWeapon W;<br><br><br>&#9;&#9;initLoc = Location;<br>&#9;&#9;initDir = vector(Rotation);&#9;<br>&#9;&#9;Velocity = speed*initDir;<br>&#9;&#9;PlaySound(SpawnSound, SLOT_None);<br>&#9;<br></div>
<h3 id="Boner.Explode"><a class="headerlink" href="#Boner.Explode" title="Permanent link">Explode</a> (vector HitLocation, vector HitNormal)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local bool bDestroy;<br>&#9;local float rad;<br><br><br>      // Reduce damage on nano exploded projectiles<br>      if ((bAggressiveExploded) && (Level.NetMode != NM_Standalone))<br>         Damage = Damage/6;<br><br>&#9;&#9;bDestroy = false;<br><br>&#9;&#9;if (bExplodes)<br>&#9;&#9;{<br>         //DEUS_EX AMSD Don't draw effects on dedicated server<br>         if ((Level.NetMode != NM_DedicatedServer) || (Role < ROLE_Authority))&#9;&#9;&#9;<br>            DrawExplosionEffects(HitLocation, HitNormal);<br><br>&#9;&#9;&#9;GotoState('Exploding');<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;{<br>&#9;&#9;&#9;// Server side only<br>&#9;&#9;&#9;if ( Role == ROLE_Authority )<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if ((damagee != None)) // Don't even attempt damage with a tracer<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if ( Level.NetMode != NM_Standalone )<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;if ( damagee.IsA('DeusExPlayer') )<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;DeusExPlayer(damagee).myProjKiller = Self;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;damagee.TakeDamage(Damage, Pawn(Owner), HitLocation, MomentumTransfer*Normal(Velocity), damageType);<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;if (!bStuck)<br>&#9;&#9;&#9;&#9;bDestroy = true;<br>&#9;&#9;}<br><br>&#9;&#9;rad = Max(blastRadius*24, 1024);<br><br>&#9;&#9;// This needs to be outside the simulated call chain<br>&#9;&#9;PlayImpactSound();<br><br>      //DEUS_EX AMSD Only do these server side<br>      if (Role == ROLE_Authority)<br>      {<br>         if (ImpactSound != None)<br>         {<br>            AISendEvent('LoudNoise', EAITYPE_Audio, 2.0, blastRadius*24);<br>            if (bExplodes)<br>               AISendEvent('WeaponFire', EAITYPE_Audio, 2.0, blastRadius*5);<br>         }<br>      }<br>&#9;&#9;if (bDestroy)<br>&#9;&#9;&#9;Destroy();<br>&#9;<br></div>
<h3 id="Boner.HitWall"><a class="headerlink" href="#Boner.HitWall" title="Permanent link">HitWall</a> (vector HitNormal, actor Wall)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;if (bStickToWall)<br>&#9;&#9;{<br>&#9;&#9;&#9;Velocity = vect(0,0,0);<br>&#9;&#9;&#9;Acceleration = vect(0,0,0);<br>&#9;&#9;&#9;SetPhysics(PHYS_None);<br>&#9;&#9;&#9;bStuck = True;<br><br>&#9;&#9;&#9;// MBCODE: Do this only on server side<br>&#9;&#9;&#9;if ( Role == ROLE_Authority )<br>&#9;&#9;&#9;{<br>            if (Level.NetMode != NM_Standalone)<br>               SetTimer(5.0,False);<br><br>&#9;&#9;&#9;&#9;if (Wall.IsA('Mover'))<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;SetBase(Wall);<br>&#9;&#9;&#9;&#9;&#9;Wall.TakeDamage(Damage, Pawn(Owner), Wall.Location, MomentumTransfer*Normal(Velocity), damageType);<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br><br>&#9;&#9;if (Wall.IsA('BreakableGlass'))<br>&#9;&#9;&#9;bDebris = False;<br><br>&#9;&#9;SpawnEffects(Location, HitNormal, Wall);<br>&#9;&#9;if(StickyPayload())<br>&#9;&#9;{<br>&#9;&#9;&#9;AttachPayload();<br>&#9;&#9;}<br>&#9;&#9;Super.HitWall(HitNormal, Wall);<br>&#9;<br></div>
<h3 id="Boner.PreBeginPlay"><a class="headerlink" href="#Boner.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;// If this is a netgame, then override defaults<br>&#9;if ( Level.NetMode != NM_StandAlone )<br>&#9;{<br>&#9;&#9;Damage = mpDamage;<br>&#9;&#9;AccurateRange = mpAccurateRange;<br>&#9;&#9;MaxRange = mpMaxRange;<br>&#9;}<br><br></div>
<h3 id="Boner.ProcessTouch"><a class="headerlink" href="#Boner.ProcessTouch" title="Permanent link">ProcessTouch</a> (Actor Other, Vector HitLocation)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;if (bStuck)<br>&#9;&#9;&#9;return;<br><br>&#9;&#9;if ((Other != instigator) && (DeusExProjectile(Other) == None) &&<br>&#9;&#9;&#9;(Other != Owner))<br>&#9;&#9;{<br>&#9;&#9;&#9;damagee = Other;<br>&#9;&#9;&#9;Explode(HitLocation, Normal(HitLocation-damagee.Location));<br><br>         // DEUS_EX AMSD Spawn blood server side only<br>         if (Role == ROLE_Authority)<br>&#9;&#9;&#9;{<br>            if (damagee.IsA('Pawn') && !damagee.IsA('Robot') && bBlood)<br>               SpawnBlood(HitLocation, Normal(HitLocation-damagee.Location));<br>&#9;&#9;&#9;   &#9;&#9;if(StickyPayload())<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;AttachPayload();<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;<br></div>
<h3 id="Boner.StickyPayload"><a class="headerlink" href="#Boner.StickyPayload" title="Permanent link">StickyPayload</a> -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local WeaponBoner WBoner;<br><br>&#9;foreach AllActors(class'WeaponBoner',WBoner)<br>&#9;{<br>&#9;&#9;if(WBoner.Owner == Owner)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(WBoner.bStickyPayload)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;return True;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="Boner.Tick"><a class="headerlink" href="#Boner.Tick" title="Permanent link">Tick</a> (float deltaTime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Rotator rot;<br><br><br>&#9;if (bStuck)<br>&#9;&#9;return;<br><br>&#9;Super.Tick(deltaTime);<br><br>&#9;if (Level.Netmode != NM_DedicatedServer)<br>&#9;{<br>&#9;&#9;rot = Rotation;<br>&#9;&#9;rot.Roll += 16384;<br>&#9;&#9;rot.Pitch -= 13384;<br>&#9;&#9;SetRotation(rot);<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#BonerPayload.uc" title="Permanent link"><h2 id="BonerPayload.uc">BonerPayload.uc (extends DeusExDecoration)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var DeusExPlayer Payloader;<br>var bool bReturning;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bInvincible=True<br>bHighlight=False<br>bCanBeBase=True<br>Physics=PHYS_None<br>DrawType=DT_Sprite<br>Style=STY_Translucent<br>Sprite=FireTexture'Effects.Laser.LaserSpot1'<br>Texture=FireTexture'Effects.Laser.LaserSpot1'<br>Skin=FireTexture'Effects.Laser.LaserSpot1'<br>CollisionRadius=5.200001<br>CollisionHeight=5.000000</div>
<h3 id="BonerPayload.BlowLoad"><a class="headerlink" href="#BonerPayload.BlowLoad" title="Permanent link">BlowLoad</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local SphereEffect sphere;<br>&#9;local ScorchMark s;<br>&#9;local ExplosionLight light;<br>&#9;local int i;<br>&#9;local float explosionDamage;<br>&#9;local float explosionRadius;<br><br><br>&#9;explosionDamage = 100;<br>&#9;explosionRadius = 400;<br><br>&#9;// alert NPCs that I'm exploding<br>&#9;AISendEvent('LoudNoise', EAITYPE_Audio, , explosionRadius*16);<br>&#9;PlaySound(Sound'LargeExplosion1', SLOT_None,,, explosionRadius*16);<br><br>&#9;// draw a pretty explosion<br>&#9;light = Spawn(class'ExplosionLight',,, Location);<br>&#9;if (light != None)<br>&#9;&#9;light.size = 4;<br><br>&#9;Spawn(class'ExplosionSmall',,, Location + 2*VRand()*CollisionRadius);<br>&#9;Spawn(class'ExplosionMedium',,, Location + 2*VRand()*CollisionRadius);<br>&#9;Spawn(class'ExplosionMedium',,, Location + 2*VRand()*CollisionRadius);<br>&#9;Spawn(class'ExplosionLarge',,, Location + 2*VRand()*CollisionRadius);<br><br>&#9;sphere = Spawn(class'SphereEffect',,, Location);<br>&#9;if (sphere != None)<br>&#9;&#9;sphere.size = explosionRadius / 32.0;<br><br>&#9;// spawn a mark<br>&#9;s = spawn(class'ScorchMark', Base,, Location-vect(0,0,1)*CollisionHeight, Rotation+rot(16384,0,0));<br>&#9;if (s != None)<br>&#9;{<br>&#9;&#9;s.DrawScale = FClamp(explosionDamage/30, 0.1, 3.0);<br>&#9;&#9;s.ReattachDecal();<br>&#9;}<br><br>&#9;HurtRadius(explosionDamage, explosionRadius, 'Exploded', explosionDamage*100, Location);<br>&#9;Destroy();<br><br></div>
<h3 id="BonerPayload.PostBeginPlay"><a class="headerlink" href="#BonerPayload.PostBeginPlay" title="Permanent link">PostBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int Payloads;<br>&#9;local BonerPayload BP;<br><br>&#9;foreach AllActors(class'BonerPayload', BP)<br>&#9;{<br>&#9;&#9;if(BP.Payloader == Payloader)<br>&#9;&#9;{<br>&#9;&#9;&#9;Payloads++;<br>&#9;&#9;}<br>&#9;}<br>&#9;if(Payloads > 10)<br>&#9;{<br>&#9;&#9;Destroy();<br>&#9;}<br><br></div>
<h3 id="BonerPayload.Tick"><a class="headerlink" href="#BonerPayload.Tick" title="Permanent link">Tick</a> (float v)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre">&#9;&#9;<br>&#9;if(!bReturning)<br>&#9;{<br>&#9;&#9;Drawscale+=0.02;<br>&#9;&#9;if(Drawscale >= 1.5)<br>&#9;&#9;{<br>&#9;&#9;&#9;bReturning=True;<br>&#9;&#9;}<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;Drawscale-=0.02;<br>&#9;&#9;if(Drawscale <= 1.0)<br>&#9;&#9;{<br>&#9;&#9;&#9;bReturning=False;<br>&#9;&#9;}<br>&#9;}<br><br><br></div>
<br><br><hr>
<a class="headerlink" href="#BotADS.uc" title="Permanent link"><h2 id="BotADS.uc">BotADS.uc (extends Actor)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var Pawn P;<br>var int AdsEnergy;<br>var bool AdsUnlimited;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bHidden=True</div>
<h3 id="BotADS.Timer"><a class="headerlink" href="#BotADS.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExProjectile minproj;<br>&#9;local float mindist;<br><br><br>&#9;if(!AdsUnlimited && AdsEnergy <= 0)<br>&#9;&#9;return;<br>&#9;<br>&#9;foreach P.VisibleActors(class'DeusExProjectile', minproj, 1028)<br>&#9;{<br>&#9;&#9;if (minproj != None && ValidProjectile(minProj))<br>&#9;&#9;{<br>&#9;&#9;&#9;mindist = VSize(P.Location - minproj.Location);<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(!AdsUnlimited && AdsEnergy > 0)<br>&#9;&#9;&#9;&#9;AdsEnergy--;<br><br>&#9;&#9;&#9;if (mindist > 480 && mindist < 1028)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;P.PlaySound(sound'GEPGunLock', SLOT_None,,,, 2.0);<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if (mindist < 480)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;minproj.bAggressiveExploded=True;<br>&#9;&#9;&#9;&#9;minproj.Explode(minproj.Location, vect(0,0,1));<br>&#9;&#9;&#9;&#9;P.PlaySound(sound'ProdFire', SLOT_None,,,, 2.0);<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br><br>&#9;if(P == None || P.Health <= 0)<br>&#9;&#9;Destroy();<br><br></div>
<h3 id="BotADS.ValidProjectile"><a class="headerlink" href="#BotADS.ValidProjectile" title="Permanent link">ValidProjectile</a> (DeusExProjectile proj) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local bool bValidProj;<br><br><br>      if (Level.NetMode != NM_Standalone)<br>         bValidProj = !proj.bIgnoresNanoDefense;<br>      else<br>         bValidProj = (!proj.IsA('Cloud') && !proj.IsA('Tracer') && !proj.IsA('GreaselSpit') && !proj.IsA('GraySpit'));<br><br>      if (bValidProj)<br>      {<br>         // make sure we don't own it<br>         if (proj.Owner != P)<br>         {<br>&#9;&#9;&#9; // NEW: Ignore other "Enemy" class bots and our custom robots.<br>&#9;&#9;&#9;if (DXEnemy(Proj.Owner) == None && DXRobot(Proj.Owner) == None)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;// make sure it's moving fast enough<br>&#9;&#9;&#9;&#9;if (VSize(proj.Velocity) > 100)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;   return true;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>         }<br>      }<br><br></div>
<br><br><hr>
<a class="headerlink" href="#BowenViewportWindow.uc" title="Permanent link"><h2 id="BowenViewportWindow.uc">BowenViewportWindow.uc (extends ViewportWindow)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var trocket projowner;<br>var float TestTime;<br>var(Bowen) Color colBackground;<br>var(Bowen) Color colBorder;<br>var(Bowen) Color colHeaderText;<br>var(Bowen) Color colText;<br>var bool bVisionActive;<br>var(Bowen) int visionLevel;<br>var(Bowen) float visionLevelValue;<br>var int activeCount;<br>var(Bowen) float margin;<br>var(Bowen) float corner;<br>var Actor VisionBlinder; //So the same thing doesn't blind me twice.<br>var int VisionTargetStatus; //For picking see through wall texture<br>var (Bowen) String msgLightAmpActive;<br>var (Bowen) String msgIRAmpActive;<br>var DeusExPlayer Player;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">colBackground=(R=128,G=128,B=128)<br>colBorder=(R=128,G=128,B=128)<br>colHeaderText=(R=255,G=255,B=255)<br>colText=(R=255,G=255,B=255)<br>visionLevel=1<br>visionLevelValue=1000000.000000<br>margin=4.000000<br>corner=9.000000<br>msgLightAmpActive="LightAmp Active"<br>msgIRAmpActive="IRAmp Active"</div>
<h3 id="BowenViewportWindow.InitWindow"><a class="headerlink" href="#BowenViewportWindow.InitWindow" title="Permanent link">InitWindow</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.InitWindow();<br>&#9;bTickEnabled = True;<br><br></div>
<h3 id="BowenViewportWindow.tick"><a class="headerlink" href="#BowenViewportWindow.tick" title="Permanent link">tick</a> (float deltatime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Player = DeusExPlayer(ProjOwner.Owner);<br>&#9;&#9;<br>&#9;if(ProjOwner.bExploded)<br>&#9;&#9;Destroy();<br><br></div>
<br><br><hr>
<a class="headerlink" href="#BoxKiller.uc" title="Permanent link"><h2 id="BoxKiller.uc">BoxKiller.uc (extends Rocket)</h2></a>

<h3 id="BoxKiller.DamageRing"><a class="headerlink" href="#BoxKiller.DamageRing" title="Permanent link">DamageRing</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Pawn apawn;<br>&#9;local float damageRadius;<br>&#9;local Vector dist;<br>&#9;local ProjectileGenerator Projy;<br>&#9;local box bawks;<br>&#9;local ScriptedPawn pwn;<br><br>&#9;<br><br>&#9;foreach VisibleActors(class'Box',bawks,blastRadius)<br>&#9;{<br>&#9;&#9;bawks.lifespan = 0.1;<br>&#9;}<br>&#9;&#9;if ( Level.NetMode != NM_Standalone )<br>&#9;&#9;{<br>&#9;&#9;&#9;damageRadius = (blastRadius / gradualHurtSteps) * gradualHurtCounter;<br><br>&#9;&#9;&#9;for ( apawn = Level.PawnList; apawn != None; apawn = apawn.nextPawn )<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if ( apawn.IsA('DeusExPlayer') )<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;dist = apawn.Location - Location;<br>&#9;&#9;&#9;&#9;&#9;if ( VSize(dist) < damageRadius )<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;if ( gradualHurtCounter <= 2 )<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if ( apawn.FastTrace( apawn.Location, Location ))<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;DeusExPlayer(apawn).myProjKiller = Self;<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;DeusExPlayer(apawn).myProjKiller = Self;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>      //DEUS_EX AMSD Ignore Line of Sight on the lowest radius check, only in multiplayer<br>&#9;&#9;HurtRadius<br>&#9;&#9;(<br>&#9;&#9;&#9;(2 * Damage) / gradualHurtSteps,<br>&#9;&#9;&#9;(blastRadius / gradualHurtSteps) * gradualHurtCounter,<br>&#9;&#9;&#9;damageType,<br>&#9;&#9;&#9;MomentumTransfer / gradualHurtSteps,<br>&#9;&#9;&#9;Location,<br>         ((gradualHurtCounter <= 2) && (Level.NetMode != NM_Standalone))<br>&#9;&#9;);<br>   <br></div>
<h3 id="BoxKiller.DrawExplosionEffects"><a class="headerlink" href="#BoxKiller.DrawExplosionEffects" title="Permanent link">DrawExplosionEffects</a> (vector HitLocation, vector HitNormal)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local box player;<br>&#9;local ScriptedPawn pwn;<br><br><br>&#9;foreach VisibleActors(class'Box',player,100)<br>&#9;{<br>&#9;&#9;player.Destroy();<br>&#9;}<br><br></div>
<h3 id="BoxKiller.Timer"><a class="headerlink" href="#BoxKiller.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;gradualHurtCounter++;<br>      DamageRing();<br>&#9;&#9;if (gradualHurtCounter >= gradualHurtSteps)<br>&#9;&#9;&#9;Destroy();<br>&#9;<br></div>
<br><br><hr>
<a class="headerlink" href="#BoxSizeWindow.uc" title="Permanent link"><h2 id="BoxSizeWindow.uc">BoxSizeWindow.uc (extends MenuUIWindow)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var MenuUIActionButtonWindow okButton;<br>var MenuUIActionButtonWindow defaultButton;<br>var MenuUIActionButtonWindow exitButton;<br>var MenuUIEditWindow sizeWindow;<br>var MenuUIHeaderWindow winText;<br>var localized string okButtonText;<br>var localized string defaultButtonText;<br>var localized string exitButtonText;<br>var WeaponBoxGun _windowOwner;<br>var float _boxSize;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">okButtonText="Ok"<br>defaultButtonText="Set as Default"<br>exitbuttontext="Done"<br>ClientWidth=350<br>ClientHeight=85<br>clientTextures(0)=Texture'DeusExUI.UserInterface.MenuMessageBoxBackground_1'<br>clientTextures(1)=Texture'DeusExUI.UserInterface.MenuMessageBoxBackground_2'<br>textureRows=1<br>textureCols=2<br>bActionButtonBarActive=True<br>bUsesHelpWindow=False<br>winShadowClass=Class'DeusEx.MenuUIMessageBoxShadowWindow'</div>
<h3 id="BoxSizeWindow.ButtonActivated"><a class="headerlink" href="#BoxSizeWindow.ButtonActivated" title="Permanent link">ButtonActivated</a> (Window buttonPressed) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local bool bHandled;<br><br><br>&#9;bHandled = True;<br><br>&#9;Super.ButtonActivated(buttonPressed);<br><br>&#9;switch( buttonPressed )<br>&#9;{<br>&#9;&#9;case okButton:<br>&#9;&#9;&#9;// Do stuff<br>&#9;&#9;&#9;if(float(sizeWindow.GetText()) > 5)<br>&#9;&#9;&#9;&#9;sizeWindow.setText("5.00000");<br><br>&#9;&#9;&#9;_windowOwner.setSize(float(sizeWindow.GetText()), 1);<br>&#9;&#9;&#9;//root.PopWindow();<br>&#9;&#9;&#9;bHandled = True;<br>&#9;&#9;&#9;break;<br><br>&#9;&#9;case defaultButton:<br>&#9;&#9;&#9;// Do stuff<br>&#9;&#9;&#9;if(float(sizeWindow.GetText()) > 5)<br>&#9;&#9;&#9;&#9;sizeWindow.setText("5.00000");<br><br>&#9;&#9;&#9;_windowOwner.setSize(float(sizeWindow.GetText()), 2);<br>&#9;&#9;&#9;//root.PopWindow();<br>&#9;&#9;&#9;bHandled = True;<br>&#9;&#9;&#9;break;<br><br>&#9;&#9;case exitButton:<br>&#9;&#9;&#9;// Do stuff<br>&#9;&#9;&#9;root.PopWindow();<br>&#9;&#9;&#9;bHandled = True;<br>&#9;&#9;&#9;break;<br><br>&#9;&#9;default:<br>&#9;&#9;&#9;bHandled = False;<br>&#9;&#9;&#9;break;<br>&#9;}<br><br>&#9;return bHandled;<br><br></div>
<h3 id="BoxSizeWindow.InitWindow"><a class="headerlink" href="#BoxSizeWindow.InitWindow" title="Permanent link">InitWindow</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Window W;<br><br><br>   Super.InitWindow();<br><br>   winClient.SetBackground(Texture'DeusExUI.MaskTexture');<br>   winClient.SetBackgroundStyle(DSTY_Modulated);<br><br>   W = winClient.NewChild(Class'Window');<br>   W.SetSize(ClientWidth, ClientHeight);<br>   W.SetBackground(Texture'DeusExUI.MaskTexture');<br>   W.SetBackgroundStyle(DSTY_Modulated);<br>   W.Lower();<br><br>   sizeWindow = CreateMenuEditWindow(60, 45, 70, 30, winClient);<br><br>   okButton = winButtonBar.AddButton(okButtonText, HALIGN_Right);<br>   exitButton = winButtonBar.AddButton(exitButtonText, HALIGN_Left);<br>   defaultButton = winButtonBar.AddButton(defaultButtonText, HALIGN_Center);<br><br>   sizeWindow.setText("1.00000");<br>   SetTitle("Box Size");<br><br></div>
<br><br><hr>
<a class="headerlink" href="#CActor.uc" title="Permanent link"><h2 id="CActor.uc">CActor.uc (extends PGActors)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var DeusExPlayer Crim;<br>var int CC, CL, CLim;<br>var string cn;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">CLim=5</div>
<h3 id="CActor.Timer"><a class="headerlink" href="#CActor.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(Crim == None)<br>&#9;{<br>&#9;&#9;BroadcastMessage(cn$" has fled and is no longer wanted.");<br>&#9;&#9;Destroy();<br>&#9;}<br>&#9;<br>&#9;if(Crim.Health < 0)<br>&#9;{<br>&#9;&#9;BroadcastMessage(cn$" was terminated, security has been recalled.");<br>&#9;&#9;Destroy();<br>&#9;}<br><br><br></div>
<br><br><hr>
<a class="headerlink" href="#CaptureFlag.uc" title="Permanent link"><h2 id="CaptureFlag.uc">CaptureFlag.uc (extends DeusExDecoration)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var bool bDontRespawn;<br>var() int CP;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bInvincible=True<br>FragType=Class'DeusEx.WoodFragment'<br>ItemName="Capture Flag"<br>Mesh=LodMesh'DeusExDeco.FlagPole'<br>CollisionRadius=17.000000<br>CollisionHeight=56.389999<br>Mass=40.000000<br>Buoyancy=30.000000</div>
<h3 id="CaptureFlag.Boom"><a class="headerlink" href="#CaptureFlag.Boom" title="Permanent link">Boom</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local SphereEffect sphere;<br>&#9;local ScorchMark s;<br>&#9;local ExplosionLight light;<br>&#9;local int i;<br>&#9;local float explosionRadius;<br>&#9;local captureflagspawner cf;<br><br>&#9;explosionRadius = 150;<br><br>&#9;// alert NPCs that I'm exploding<br>&#9;AISendEvent('LoudNoise', EAITYPE_Audio, , explosionRadius*16);<br>&#9;PlaySound(Sound'LargeExplosion1', SLOT_None,,, explosionRadius*16);<br><br>&#9;// draw a pretty explosion<br>&#9;light = Spawn(class'ExplosionLight',,, Location);<br>&#9;if (light != None)<br>&#9;&#9;light.size = 4;<br><br>&#9;sphere = Spawn(class'SphereEffect',,, Location);<br>&#9;if (sphere != None)<br>&#9;&#9;sphere.size = explosionRadius / 32.0;<br>&#9;<br>&#9;Destroy();<br>&#9;&#9;<br>&#9;if(bdontrespawn)<br>&#9;&#9;return;<br>&#9;foreach AllActors(class'CaptureFlagSpawner',CF)<br>&#9;&#9;if(CF.CP == CP)<br>&#9;&#9;&#9;CF.SetTimer(10,False);<br><br></div>
<h3 id="CaptureFlag.Bump"><a class="headerlink" href="#CaptureFlag.Bump" title="Permanent link">Bump</a> (actor Other)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local PGGames PGG;<br>&#9;local CapturePoint cpo;<br><br><br>&#9;cpo = CapturePoint(Other);<br>&#9;if(cpo != None && cpo.CP == CP)<br>&#9;{<br>&#9;cpo.CPoints++;<br>BroadcastMessage("Score on CapturePoint "$cpo.CP$"! Now "$cpo.CPoints$"!");<br><br><br>&#9;if(cpo.CPoints == cpo.CWin)<br>&#9;{<br>&#9;BroadcastMessage("CapturePoint "$cpo.CP$" has won!");<br>&#9;&#9;foreach AllActors(class'capturepoint',CPO)<br>&#9;&#9;&#9;cpo.cpoints = 0;<br>&#9;Destroy();<br>&#9;bDontRespawn=True;<br>&#9;&#9;foreach AllActors(class'PGGames',PGG)<br>&#9;&#9;&#9;PGG.bCOn=False;<br>&#9;}<br>&#9;Boom();&#9;<br>&#9;}<br><br><br></div>
<br><br><hr>
<a class="headerlink" href="#CaptureFlagSpawner.uc" title="Permanent link"><h2 id="CaptureFlagSpawner.uc">CaptureFlagSpawner.uc (extends PGSpawnPoints)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var() int CP;</div>
<h3 id="CaptureFlagSpawner.Timer"><a class="headerlink" href="#CaptureFlagSpawner.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local CaptureFlag CF;<br><br>&#9;<br>&#9;CF = spawn(class'CaptureFlag',,,location);<br>&#9;CF.CP = CP;<br>&#9;BroadcastMessage("Capture Flag has spawned.");<br><br></div>
<br><br><hr>
<a class="headerlink" href="#CapturePoint.uc" title="Permanent link"><h2 id="CapturePoint.uc">CapturePoint.uc (extends DeusExDecoration)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var int CP;<br>var int CPoints;<br>var int CWin;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">CWin=3</div>
<br><br><hr>
<a class="headerlink" href="#CapturePoint1.uc" title="Permanent link"><h2 id="CapturePoint1.uc">CapturePoint1.uc (extends CapturePoint)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">CP=1<br>bInvincible=True<br>ItemName="Capture Point (One)"<br>bPushable=False<br>Physics=PHYS_None<br>DrawType=DT_Sprite<br>Style=STY_Translucent<br>Texture=Texture'DeusExDeco.Skins.AlarmLightTex6'<br>Skin=Texture'DeusExDeco.Skins.AlarmLightTex6'<br>DrawScale=1.500000<br>CollisionRadius=45.200001<br>CollisionHeight=32.000000</div>
<br><br><hr>
<a class="headerlink" href="#CapturePoint2.uc" title="Permanent link"><h2 id="CapturePoint2.uc">CapturePoint2.uc (extends CapturePoint)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">CP=2<br>bInvincible=True<br>ItemName="Capture Point (Two)"<br>bPushable=False<br>Physics=PHYS_None<br>DrawType=DT_Sprite<br>Style=STY_Translucent<br>Texture=Texture'DeusExDeco.Skins.AlarmLightTex4'<br>Skin=Texture'DeusExDeco.Skins.AlarmLightTex4'<br>DrawScale=1.500000<br>CollisionRadius=45.200001<br>CollisionHeight=32.000000</div>
<br><br><hr>
<a class="headerlink" href="#ChainTeleporter.uc" title="Permanent link"><h2 id="ChainTeleporter.uc">ChainTeleporter.uc (extends DeusExDecoration)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var bool bCooldown;<br>var() float Cooldown;<br>var float LastLaunchTime;<br>var int ChainNum;<br>var deusexplayer returntoplayer;<br>var int baseNum;<br>var bool bDoneSetup;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">Cooldown=5.000000<br>baseNum=1<br>bInvincible=True<br>ItemName="Chain Teleporter"<br>bPushable=False<br>Physics=PHYS_None<br>DrawType=DT_Sprite<br>Style=STY_Translucent<br>Texture=Texture'DeusExDeco.Skins.AlarmLightTex4'<br>Skin=Texture'DeusExDeco.Skins.AlarmLightTex6'<br>DrawScale=1.500000<br>CollisionRadius=45.200001<br>CollisionHeight=32.000000<br>bBlockPlayers=False<br>LightType=LT_Steady<br>LightBrightness=120<br>LightHue=70<br>LightSaturation=100<br>LightRadius=10</div>
<h3 id="ChainTeleporter.Cooled"><a class="headerlink" href="#ChainTeleporter.Cooled" title="Permanent link">Cooled</a> -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre">&#9;<br>&#9;return (Level.TimeSeconds - lastLaunchTime > Cooldown);<br><br></div>
<h3 id="ChainTeleporter.Frob"><a class="headerlink" href="#ChainTeleporter.Frob" title="Permanent link">Frob</a> (Actor Frobber, Inventory frobWith)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer P;<br>&#9;local ChainTeleporter CT;<br>&#9;local bool bFound;<br><br>&#9;P=DeusExPlayer(Frobber);<br>&#9;<br>&#9;&#9;&#9;if(Cooled())<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'ChainTeleporter',CT)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(CT.ChainNum == ChainNum+1)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;P.SetLocation(CT.Location);<br>&#9;&#9;&#9;&#9;&#9;&#9;bFound=True;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;if(!bFound)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'ChainTeleporter',CT)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;if(CT.ChainNum == baseNum)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;P.SetLocation(CT.Location);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;bFound=True;<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;if(bFound)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;LastLaunchTime = Level.TimeSeconds;<br>&#9;&#9;&#9;&#9;bCooldown=True;<br>&#9;&#9;&#9;&#9;Texture=Texture'DeusExDeco.Skins.AlarmLightTex2';<br>&#9;&#9;&#9;&#9;LightHue=0;<br>&#9;&#9;&#9;&#9;SetTimer(Cooldown,false);<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;P.ClientMessage("Teleporter is cooling down, please wait "$int(Cooldown - (Level.TimeSeconds - lastLaunchTime))$" seconds.");<br>&#9;&#9;&#9;}<br><br></div>
<h3 id="ChainTeleporter.PostBeginPlay"><a class="headerlink" href="#ChainTeleporter.PostBeginPlay" title="Permanent link">PostBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;//Moved the setup from here to a randomized timer, since DX triggers them all at once at map start....<br>&#9;SetTimer(Rand(15),False);<br><br></div>
<h3 id="ChainTeleporter.Timer"><a class="headerlink" href="#ChainTeleporter.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local TCT h;<br>&#9;local ChainTeleporter CT;<br>&#9;local int T;<br><br>&#9;<br>&#9;if(!bDoneSetup)<br>&#9;{<br>&#9;&#9;bDoneSetup=True;<br>&#9;&#9;if(ChainNum == 0)<br>&#9;&#9;{<br>&#9;&#9;&#9;foreach AllActors(class'ChainTeleporter',CT)<br>&#9;&#9;&#9;&#9;if(CT != Self && CT.bDoneSetup)<br>&#9;&#9;&#9;&#9;&#9;T++;<br><br>&#9;&#9;&#9;log(T$" chains. Chain ident is"@T+1, 'ChainTeleporter');<br>&#9;&#9;&#9;ChainNum = T+1;<br>&#9;&#9;}<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;if(ReturntoPlayer != None)<br>&#9;&#9;{<br>&#9;&#9;&#9;Destroy();<br>&#9;&#9;&#9;h=Spawn(class'tct', Self,, Location, Rotation);<br>&#9;&#9;&#9;h.Frob(returntoplayer,None);<br>&#9;&#9;&#9;//h.bInObjectBelt = True;<br>&#9;&#9;&#9;h.Destroy();<br>&#9;&#9;&#9;<br>&#9;&#9;}<br>&#9;&#9;bCooldown=False;<br>&#9;&#9;Texture=Texture'DeusExDeco.Skins.AlarmLightTex4';<br>&#9;&#9;LightHue=70;<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#Chainer.uc" title="Permanent link"><h2 id="Chainer.uc">Chainer.uc (extends DeusExWeapon)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var() class<Actor> StoredActor;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">GoverningSkill=Class'DeusEx.SkillWeaponPistol'<br>NoiseLevel=0.010000<br>ShotTime=0.150000<br>reloadTime=1.500000<br>HitDamage=0<br>maxRange=4800<br>AccurateRange=2400<br>BaseAccuracy=0.800000<br>bCanHaveScope=True<br>ScopeFOV=25<br>bCanHaveLaser=True<br>recoilStrength=0.100000<br>mpBaseAccuracy=0.200000<br>mpAccurateRange=1200<br>mpMaxRange=1200<br>bCanHaveModBaseAccuracy=True<br>bCanHaveModReloadCount=True<br>bCanHaveModAccurateRange=True<br>bCanHaveModReloadTime=True<br>bInstantHit=True<br>FireOffset=(X=-24.000000,Y=10.000000,Z=14.000000)<br>shakemag=50.000000<br>FireSound=Sound'DeusExSounds.Weapons.StealthPistolFire'<br>AltFireSound=Sound'DeusExSounds.Weapons.StealthPistolReloadEnd'<br>CockingSound=Sound'DeusExSounds.Weapons.StealthPistolReload'<br>SelectSound=Sound'DeusExSounds.Weapons.StealthPistolSelect'<br>InventoryGroup=68<br>ItemName="Chainlink Gun"<br>PlayerViewOffset=(X=24.000000,Y=-10.000000,Z=-14.000000)<br>PlayerViewMesh=LodMesh'DeusExItems.StealthPistol'<br>PickupViewMesh=LodMesh'DeusExItems.StealthPistolPickup'<br>ThirdPersonMesh=LodMesh'DeusExItems.StealthPistol3rd'<br>Icon=Texture'DeusExUI.Icons.BeltIconStealthPistol'<br>largeIcon=Texture'DeusExUI.Icons.LargeIconStealthPistol'<br>largeIconWidth=47<br>largeIconHeight=37<br>Description="The stealth pistol is a variant of the standard 10mm pistol with a larger clip and integrated silencer designed for wet work at very close ranges."<br>beltDescription="CHAIN"<br>Mesh=LodMesh'DeusExItems.StealthPistolPickup'<br>CollisionRadius=8.000000<br>CollisionHeight=0.800000</div>
<h3 id="Chainer.CalculateAccuracy"><a class="headerlink" href="#Chainer.CalculateAccuracy" title="Permanent link">CalculateAccuracy</a> -> float</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;return 0.000000; //Dirty hack to always return dead on accuracy.<br><br></div>
<h3 id="Chainer.GetDisplayString"><a class="headerlink" href="#Chainer.GetDisplayString" title="Permanent link">GetDisplayString</a> (Actor P) -> string</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(P.isA('ScriptedPawn'))<br>&#9;&#9;return ScriptedPawn(P).FamiliarName;<br>&#9;else if(P.isA('DeusExDecoration'))<br>&#9;&#9;return DeusExDecoration(P).ItemName;<br><br></div>
<h3 id="Chainer.LaserToggle"><a class="headerlink" href="#Chainer.LaserToggle" title="Permanent link">LaserToggle</a></h3>

<h3 id="Chainer.PreBeginPlay"><a class="headerlink" href="#Chainer.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;// If this is a netgame, then override defaults<br>&#9;if ( Level.NetMode != NM_StandAlone )<br>&#9;{<br>&#9;&#9;HitDamage = mpHitDamage;<br>&#9;&#9;BaseAccuracy = mpBaseAccuracy;<br>&#9;&#9;ReloadTime = mpReloadTime;<br>&#9;&#9;AccurateRange = mpAccurateRange;<br>&#9;&#9;MaxRange = mpMaxRange;<br>&#9;&#9;ReloadCount = mpReloadCount;<br>&#9;}<br><br></div>
<h3 id="Chainer.ProcessTraceHit"><a class="headerlink" href="#Chainer.ProcessTraceHit" title="Permanent link">ProcessTraceHit</a> (Actor Other, Vector HitLocation, Vector HitNormal, Vector X, Vector Y, Vector Z)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local float        mult;<br>&#9;local name         damageType;<br>&#9;local DeusExPlayer dxPlayer, DXP;<br>&#9;local Pawn P;<br>&#9;local DeusExDecoration Deco;<br>&#9;local ScriptedPawn Scri;<br><br>&#9;if(Other.isa('ScriptedPawn'))<br>&#9;{<br>&#9;&#9;&#9;foreach AllActors(class'ScriptedPawn',Scri)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(Scri.FamiliarName == ScriptedPawn(Other).FamiliarName)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;Scri.PlaySound(Sound'TurretSwitch', SLOT_Talk,2,,1024,);<br>&#9;&#9;&#9;&#9;Scri.bInvincible=False;<br>&#9;&#9;&#9;&#9;Scri.TakeDamage(10000,DeusExPlayer(Owner),vect(0,0,0),vect(0,0,1),'Exploded');<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;return;<br>&#9;}<br>&#9;else if(Other.isa('DeusExDecoration'))<br>&#9;{<br>&#9;&#9;&#9;foreach AllActors(class'DeusExDecoration',Deco)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(Deco.ItemName == DeusExDecoration(Other).ItemName || Deco.Tag == Other.Tag)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;Deco.PlaySound(Sound'TurretSwitch', SLOT_Talk,2,,1024,);<br>&#9;&#9;&#9;&#9;Deco.bInvincible=False;<br>&#9;&#9;&#9;&#9;Deco.bExplosive=True;<br>&#9;&#9;&#9;&#9;Deco.TakeDamage(10000,DeusExPlayer(Owner),vect(0,0,0),vect(0,0,1),'Exploded');<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;return;<br>&#9;}&#9;&#9;<br><br></div>
<h3 id="Chainer.ScopeToggle"><a class="headerlink" href="#Chainer.ScopeToggle" title="Permanent link">ScopeToggle</a></h3>

<h3 id="Chainer.TestMPBeltSpot"><a class="headerlink" href="#Chainer.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<br><br><hr>
<a class="headerlink" href="#ClassCheckButton.uc" title="Permanent link"><h2 id="ClassCheckButton.uc">ClassCheckButton.uc (extends ClassCheckScanner)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var bool bOn;<br>var(CheckClass) eChk CheckClass;<br>var(CheckClass) bool bAdminOverride;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">ItemName="Checker Switch"<br>Mesh=LodMesh'DeusExDeco.Switch1'<br>CollisionRadius=2.630000<br>CollisionHeight=2.970000<br>Mass=10.000000</div>
<h3 id="ClassCheckButton.Frob"><a class="headerlink" href="#ClassCheckButton.Frob" title="Permanent link">Frob</a> (Actor Frobber, Inventory frobWith)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local bool bFound;<br>&#9;local Inventory Inv;<br>&#9;local string CHKR;<br>&#9;local DeusExPlayer Player;<br><br>      Player = DeusExPlayer(Frobber);<br>&#9;  bFound=False;<br>&#9;  <br>&#9;  if(bAdminOverride && Player.bAdmin)<br>&#9;  {<br>&#9;&#9;&#9;Player.ClientMessage("|P4Access Check Level: |P2-----");<br>&#9;&#9;  Player.ClientMessage("|P2Administrator override activated.");<br>&#9;&#9;  Super.Frob(Frobber, frobWith);<br>&#9;&#9;  return;<br>&#9;  }<br>&#9;  if(CheckClass == CH_Admin)<br>&#9;&#9;&#9;CHKR = "Admin";<br>&#9;  if(CheckClass == CH_Staff)<br>&#9;&#9;&#9;CHKR = "Staff";<br>&#9;  if(CheckClass == CH_VIP)<br>&#9;&#9;&#9;CHKR = "VIP";<br><br>&#9;&#9;&#9;<br>&#9;  &#9;  Player.ClientMessage("|P4Access Check Level: "$CHKR);<br>&#9;&#9;  Player.ClientMessage("|P4Item must be in inventory. Checking... ");<br>            foreach AllActors(class'Inventory', Inv)<br>            {<br>                if (Inv.Owner == Player)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(CheckClass==CH_Admin)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;if (Inv.IsA('AdminCard')) <br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;      PlaySound(sound'LogNoteAdded');<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;  Player.ClientMessage("|P3Admin confirmed!");<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;  bFound=True;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;Super.Frob(Frobber, frobWith);<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;if(CheckClass==CH_Staff)<br>&#9;&#9;&#9;&#9;&#9;{&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;if (Inv.IsA('AdminCard')) <br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;      PlaySound(sound'LogNoteAdded');<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;  Player.ClientMessage("|P3Admin confirmed for Staff scan!");<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;  bFound=True;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;Super.Frob(Frobber, frobWith);<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;if (Inv.IsA('StaffCard') && !bFound) <br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;      PlaySound(sound'LogNoteAdded');<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;  Player.ClientMessage("|P3Staff confirmed!");<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;  bFound=True;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;Super.Frob(Frobber, frobWith);<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;if(CheckClass==CH_VIP)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;if (Inv.IsA('AdminCard')) <br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;      PlaySound(sound'LogNoteAdded');<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;  Player.ClientMessage("|P3Admin confirmed for VIP scan!");<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;  bFound=True;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;Super.Frob(Frobber, frobWith);<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;if (Inv.IsA('StaffCard') && !bFound) <br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;      PlaySound(sound'LogNoteAdded');<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;  Player.ClientMessage("|P3Staff confirmed for VIP scan!");<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;  bFound=True;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;Super.Frob(Frobber, frobWith);<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;if (Inv.IsA('VIPCard') && !bFound)  <br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;      PlaySound(sound'LogNoteAdded');<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;  Player.ClientMessage("|P3VIP confirmed!");<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;  bFound=True;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;Super.Frob(Frobber, frobWith);<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}&#9;<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(!bFound)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;Player.ClientMessage("|P2Access card not found!");<br>&#9;&#9;&#9;}<br>   if (bOn)<br>   {<br>      PlaySound(sound'Switch4ClickOff');<br>      PlayAnim('Off');<br>   }<br>   else<br>   {<br>      PlaySound(sound'Switch4ClickOn');<br>      PlayAnim('On');<br>   }<br><br>   bOn = !bOn;<br><br></div>
<br><br><hr>
<a class="headerlink" href="#ClassCheckScanner.uc" title="Permanent link"><h2 id="ClassCheckScanner.uc">ClassCheckScanner.uc (extends DeusExDecoration)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var(CheckClass) eChk CheckClass;<br>var(CheckClass) bool bAdminOverride;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bInvincible=True<br>ItemName="Scanner"<br>bPushable=False<br>Physics=PHYS_None<br>Texture=Texture'DeusExItems.Skins.DataCubeTex2'<br>Mesh=LodMesh'DeusExItems.DataCube'<br>CollisionRadius=7.000000<br>CollisionHeight=1.270000<br>Buoyancy=12.000000</div>
<h3 id="ClassCheckScanner.Frob"><a class="headerlink" href="#ClassCheckScanner.Frob" title="Permanent link">Frob</a> (Actor Frobber, Inventory frobWith)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local bool bFound;<br>&#9;local Inventory Inv;<br>&#9;local string CHKR;<br>&#9;local DeusExPlayer Player;<br><br>      Player = DeusExPlayer(Frobber);<br>&#9;  bFound=False;<br>&#9;  <br>&#9;  if(bAdminOverride && Player.bAdmin)<br>&#9;  {<br>&#9;&#9;&#9;Player.ClientMessage("|P4Access Check Level: |P2-----");<br>&#9;&#9;  Player.ClientMessage("|P2Administrator override activated.");<br>&#9;&#9;  Super.Frob(Frobber, frobWith);<br>&#9;&#9;  return;<br>&#9;  }<br>&#9;  if(CheckClass == CH_Admin)<br>&#9;&#9;&#9;CHKR = "Admin";<br>&#9;  if(CheckClass == CH_Staff)<br>&#9;&#9;&#9;CHKR = "Staff";<br>&#9;  if(CheckClass == CH_VIP)<br>&#9;&#9;&#9;CHKR = "VIP";<br><br>&#9;&#9;&#9;<br>&#9;  &#9;  Player.ClientMessage("|P4Access Check Level: "$CHKR);<br>&#9;&#9;  Player.ClientMessage("|P4Item must be in inventory. Checking... ");<br>            foreach AllActors(class'Inventory', Inv)<br>            {<br>                if (Inv.Owner == Player)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(CheckClass==CH_Admin)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;if (Inv.IsA('AdminCard')) <br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;      PlaySound(sound'LogNoteAdded');<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;  Player.ClientMessage("|P3Admin confirmed!");<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;  bFound=True;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;Super.Frob(Frobber, frobWith);<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;if(CheckClass==CH_Staff)<br>&#9;&#9;&#9;&#9;&#9;{&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;if (Inv.IsA('AdminCard')) <br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;      PlaySound(sound'LogNoteAdded');<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;  Player.ClientMessage("|P3Admin confirmed for Staff scan!");<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;  bFound=True;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;Super.Frob(Frobber, frobWith);<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;if (Inv.IsA('StaffCard') && !bFound) <br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;      PlaySound(sound'LogNoteAdded');<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;  Player.ClientMessage("|P3Staff confirmed!");<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;  bFound=True;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;Super.Frob(Frobber, frobWith);<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;if(CheckClass==CH_VIP)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;if (Inv.IsA('AdminCard')) <br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;      PlaySound(sound'LogNoteAdded');<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;  Player.ClientMessage("|P3Admin confirmed for VIP scan!");<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;  bFound=True;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;Super.Frob(Frobber, frobWith);<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;if (Inv.IsA('StaffCard') && !bFound) <br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;      PlaySound(sound'LogNoteAdded');<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;  Player.ClientMessage("|P3Staff confirmed for VIP scan!");<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;  bFound=True;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;Super.Frob(Frobber, frobWith);<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;if (Inv.IsA('VIPCard') && !bFound)  <br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;      PlaySound(sound'LogNoteAdded');<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;  Player.ClientMessage("|P3VIP confirmed!");<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;  bFound=True;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;Super.Frob(Frobber, frobWith);<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}&#9;<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(!bFound)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;Player.ClientMessage("|P2Access card not found!");<br>&#9;&#9;&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#ClaymoreProj.uc" title="Permanent link"><h2 id="ClaymoreProj.uc">ClaymoreProj.uc (extends LaserProj)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var float	mpBlastRadius;<br>var float	mpProxRadius;<br>var float	mpLAMDamage;<br>var float	mpFuselength;<br>var MPLaserEmitter emitter;<br>var() bool bIsOn;<br>var bool bConfused;				// used when hit by EMP<br>var bool bCanFrob;<br>var float confusionTimer;		// how long until trigger resumes normal operation<br>var float confusionDuration;	// how long does EMP hit last?<br>var int HitDamage;<br>var int HitPoints;<br>var int minDamageThreshold;<br>var float TripTimer;<br>var int charge;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">confusionDuration=10.000000<br>TripTimer=1.200000<br>fuseLength=0.000000<br>proxRadius=0.000000<br>blastRadius=256.000000<br>spawnWeaponClass=Class'PartyStuff.WeaponClaymore'<br>ItemName="Claymore"<br>speed=1000.000000<br>MaxSpeed=1000.000000<br>Damage=500.000000<br>MomentumTransfer=50000<br>ImpactSound=Sound'DeusExSounds.Weapons.LAMExplode'<br>ExplosionDecal=Class'DeusEx.ScorchMark'<br>LifeSpan=0.000000<br>Mesh=LodMesh'DeusExDeco.LaserEmitter'<br>CollisionRadius=2.500000<br>CollisionHeight=2.500000<br>Mass=5.000000<br>Buoyancy=2.000000</div>
<h3 id="ClaymoreProj.Arm"><a class="headerlink" href="#ClaymoreProj.Arm" title="Permanent link">Arm</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;bDisabled=False;<br>   emitter.TurnOn();<br>   emitter.bBlueBeam=False;<br>   bIsOn = True;<br>   emitter.SetLocation(Location);<br>   emitter.SetRotation(Rotation);<br><br></div>
<h3 id="ClaymoreProj.BeginPlay"><a class="headerlink" href="#ClaymoreProj.BeginPlay" title="Permanent link">BeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer aplayer;<br><br><br>&#9;Super(DeusexProjectile).BeginPlay();<br><br>&#9;SetCollision(True, True, True);<br><br></div>
<h3 id="ClaymoreProj.Destroyed"><a class="headerlink" href="#ClaymoreProj.Destroyed" title="Permanent link">Destroyed</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if (emitter != None)<br>&#9;{<br>&#9;&#9;emitter.Destroy();<br>&#9;&#9;emitter = None;<br>&#9;}<br><br>&#9;Super.Destroyed();<br><br></div>
<h3 id="ClaymoreProj.Disarm"><a class="headerlink" href="#ClaymoreProj.Disarm" title="Permanent link">Disarm</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;emitter.TurnOff();<br>&#9;bDisabled=True;<br>&#9;bIsOn = False;<br>&#9;bCanFrob = True;<br>&#9;emitter.Destroy();<br>&#9;emitter = None;<br><br></div>
<h3 id="ClaymoreProj.Frob"><a class="headerlink" href="#ClaymoreProj.Frob" title="Permanent link">Frob</a> (Actor Frobber, Inventory frobWith)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre">&#9;<br>&#9;if(bCanFrob)<br>&#9;{<br>&#9;&#9;Super.Frob(Frobber, frobWith);<br>&#9;&#9;return;<br>&#9;}<br>&#9;Disarm();<br><br></div>
<h3 id="ClaymoreProj.Perish"><a class="headerlink" href="#ClaymoreProj.Perish" title="Permanent link">Perish</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local SphereEffect sphere;<br>&#9;local ScorchMark s;<br>&#9;local ExplosionLight light;<br>&#9;local int i;<br>&#9;local float explosionDamage;<br>&#9;local float explosionRadius;<br><br><br>&#9;explosionDamage = 300;<br>&#9;explosionRadius = 250;<br><br>&#9;// alert NPCs that I'm exploding<br>&#9;AISendEvent('LoudNoise', EAITYPE_Audio, , explosionRadius*16);<br>&#9;PlaySound(Sound'LargeExplosion1', SLOT_None,,, explosionRadius*16);<br><br>&#9;// draw a pretty explosion<br>&#9;light = Spawn(class'ExplosionLight',,, Location);<br>&#9;if (light != None)<br>&#9;&#9;light.size = 4;<br><br>&#9;Spawn(class'ExplosionSmall',,, Location + 2*VRand()*CollisionRadius);<br>&#9;Spawn(class'ExplosionMedium',,, Location + 2*VRand()*CollisionRadius);<br>&#9;Spawn(class'ExplosionMedium',,, Location + 2*VRand()*CollisionRadius);<br>&#9;Spawn(class'ExplosionLarge',,, Location + 2*VRand()*CollisionRadius);<br><br>&#9;sphere = Spawn(class'SphereEffect',,, Location);<br>&#9;if (sphere != None)<br>&#9;&#9;sphere.size += explosionRadius;<br><br>&#9;// spawn a mark<br>&#9;s = spawn(class'ScorchMark', Base,, Location-vect(0,0,1)*CollisionHeight, Rotation+rot(16384,0,0));<br>&#9;if (s != None)<br>&#9;{<br>&#9;&#9;s.DrawScale = FClamp(explosionDamage/30, 0.1, 3.0);<br>&#9;&#9;s.ReattachDecal();<br>&#9;}<br><br>&#9;// spawn some rocks and flesh fragments<br>&#9;for (i=0; i<explosionDamage/6; i++)<br>&#9;{<br>&#9;&#9;if (FRand() < 0.3)<br>&#9;&#9;&#9;spawn(class'Rockchip',,,Location);<br>&#9;}<br><br>&#9;HurtRadius(explosionDamage, explosionRadius, 'Exploded', explosionDamage*100, Location);<br><br></div>
<h3 id="ClaymoreProj.PostBeginPlay"><a class="headerlink" href="#ClaymoreProj.PostBeginPlay" title="Permanent link">PostBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;SetTimer(TripTimer,False);<br><br></div>
<h3 id="ClaymoreProj.PreBeginPlay"><a class="headerlink" href="#ClaymoreProj.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;if ( Level.NetMode != NM_Standalone )<br>&#9;{<br>&#9;&#9;blastRadius=mpBlastRadius;<br>&#9;&#9;proxRadius=mpProxRadius;<br>&#9;&#9;Damage=mpLAMDamage;<br>&#9;&#9;fuseLength=mpFuselength;<br>&#9;&#9;bIgnoresNanoDefense=True;<br>&#9;}<br><br></div>
<h3 id="ClaymoreProj.Tick"><a class="headerlink" href="#ClaymoreProj.Tick" title="Permanent link">Tick</a> (float deltaTime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>    if ( bIsOn)<br>    {<br>      if (emitter != none)<br>      {<br>&#9;&#9;&#9;if ((emitter.HitActor != None) && (!bDisabled))<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(Pawn(emitter.hitactor) != none)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;Perish();<br>&#9;&#9;&#9;&#9;&#9;Destroy();<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>      }<br>    }<br><br></div>
<h3 id="ClaymoreProj.Timer"><a class="headerlink" href="#ClaymoreProj.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if ((emitter == none))<br>    {<br>&#9;    emitter = Spawn(class'MPLaserEmitter');<br><br>&#9;    if (emitter != None)<br>&#9;    {<br>&#9;&#9;   emitter.TurnOn();<br>&#9;&#9;   emitter.bBlueBeam=False;<br>&#9;&#9;   bIsOn = True;<br>&#9;&#9;      bDisabled=False;<br>&#9;&#9;   emitter.SetLocation(Location);<br>           emitter.SetRotation(Rotation);<br>&#9;    }<br>    }<br><br></div>
<h3 id="ClaymoreProj.Trigger"><a class="headerlink" href="#ClaymoreProj.Trigger" title="Permanent link">Trigger</a> (actor Other, pawn EventInstigator)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(bisOn)<br>&#9;{<br>&#9;&#9;Disarm();<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;SetTimer(1,False);<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#ClickerDeco.uc" title="Permanent link"><h2 id="ClickerDeco.uc">ClickerDeco.uc (extends DeusExDecoration)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var() config string LogIP;<br>var() config int Clicks;<br>var() config int cLevel;<br>var() config int cEXP;<br>var() config string LastName;<br>var() config string HeroName;<br>var() config int LastLoginDay;<br>var() config cAcc cAccounts[150];<br>var config int Days;<br>var config int CurDay;<br>var config int TotalClicks;<br>var config bool bDebug;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">cAccounts(0)=(LogIP="31.21.144.214",Clicks=17,cLevel=2,cEXP=17,lastName="Prototype",LastLoginDay=1)<br>cAccounts(1)=(LogIP="192.168.0.17",cLevel=1,lastName="Kaiser")<br>cAccounts(2)=(LogIP="192.168.0.17",cLevel=1,lastName="Kaiser")<br>cAccounts(3)=(LogIP="192.168.0.17",cLevel=1,lastName="Kaiser")<br>cAccounts(4)=(LogIP="192.168.0.17",cLevel=1,lastName="Kaiser")<br>cAccounts(5)=(LogIP="192.168.0.17",cLevel=1,lastName="Kaiser")<br>cAccounts(6)=(LogIP="192.168.0.17",cLevel=1,lastName="Kaiser")<br>cAccounts(7)=(LogIP="192.168.0.17",cLevel=1,lastName="Kaiser")<br>cAccounts(8)=(LogIP="192.168.0.17",cLevel=1,lastName="Kaiser")<br>cAccounts(9)=(LogIP="192.168.0.17",cLevel=1,lastName="Kaiser")<br>cAccounts(10)=(LogIP="192.168.0.17",cLevel=1,lastName="Kaiser")<br>cAccounts(11)=(LogIP="192.168.0.17",cLevel=1,lastName="Kaiser")<br>cAccounts(12)=(LogIP="192.168.0.17",cLevel=1,lastName="Kaiser")<br>cAccounts(13)=(LogIP="192.168.0.17",cLevel=1,lastName="Kaiser")<br>cAccounts(14)=(LogIP="192.168.0.17",cLevel=1,lastName="Kaiser")<br>cAccounts(15)=(LogIP="192.168.0.17",cLevel=1,lastName="Kaiser")<br>cAccounts(16)=(LogIP="192.168.0.17",cLevel=1,lastName="Kaiser")<br>cAccounts(17)=(LogIP="192.168.0.17",cLevel=1,lastName="Kaiser")<br>cAccounts(18)=(LogIP="192.168.0.17",cLevel=1,lastName="Kaiser")<br>cAccounts(19)=(LogIP="192.168.0.17",cLevel=1,lastName="Kaiser")<br>cAccounts(20)=(LogIP="192.168.0.17",cLevel=1,lastName="Kaiser")<br>Days=1<br>CurDay=9<br>TotalClicks=17<br>bInvincible=True<br>ItemName="The Clicker"<br>bPushable=False<br>Physics=PHYS_None<br>DrawType=DT_Sprite<br>Style=STY_Translucent<br>Texture=Texture'DeusExDeco.Skins.AlarmLightTex6'<br>Skin=Texture'DeusExDeco.Skins.AlarmLightTex6'<br>DrawScale=1.500000<br>CollisionRadius=45.200001<br>CollisionHeight=32.000000<br>bBlockPlayers=False</div>
<h3 id="ClickerDeco.DebugLog"><a class="headerlink" href="#ClickerDeco.DebugLog" title="Permanent link">DebugLog</a> (string str)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(bDebug)<br>&#9;&#9;log(str, 'ClickerDebug');<br><br></div>
<h3 id="ClickerDeco.Frob"><a class="headerlink" href="#ClickerDeco.Frob" title="Permanent link">Frob</a> (Actor Frobber, Inventory frobWith)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer Clicker;<br>&#9;local int AccNum, NewAcc;<br><br>&#9;<br>&#9;Clicker = DeusExPlayer(Frobber);<br>&#9;<br>&#9;if(bHasAccount(Clicker))<br>&#9;{<br>&#9;&#9;TotalClicks++;<br>&#9;&#9;if (TotalClicks % 100 == 0)<br>&#9;&#9;{<br>&#9;&#9;&#9;BroadcastMessage("|P4Global clicks is now "$TotalClicks$"!!!!");<br>&#9;&#9;}<br>&#9;&#9;AccNum = GetPlayerAcc(Clicker);<br>&#9;&#9;<br>&#9;&#9;if(cAccounts[AccNum].LastLoginDay == (Days - 1))<br>&#9;&#9;{<br>&#9;&#9;&#9;Clicker.ClientMessage("|P7Daily bonus! + 100 EXP");<br>&#9;&#9;&#9;GiveEXP(AccNum, 100);<br>&#9;&#9;}<br>&#9;&#9;cAccounts[AccNum].LastLoginDay = Days;<br>&#9;&#9;cAccounts[AccNum].Clicks++;<br>&#9;&#9;if (cAccounts[AccNum].Clicks % 100 == 0)<br>&#9;&#9;{<br>&#9;&#9;&#9;BroadcastMessage("|P4"$cAccounts[AccNum].LastName$"'s clicks is now "$cAccounts[AccNum].Clicks$"!!!!");<br>&#9;&#9;}<br>&#9;&#9;cAccounts[AccNum].LastName = GetName(Clicker);<br>&#9;&#9;GiveEXP(AccNum, 1);<br>&#9;&#9;Clicker.ClientMessage("Level "$cAccounts[AccNum].cLevel@cAccounts[AccNum].HeroName$": "$cAccounts[AccNum].Clicks$" clicks. ["$cAccounts[AccNum].cEXP$"/"$100 * cAccounts[AccNum].cLevel$"]");<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;for(NewAcc=0;NewAcc<150;NewAcc++)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(cAccounts[NewAcc].LogIP == "")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;DebugLog("Creating account: "$NewAcc);<br>&#9;&#9;&#9;&#9;Clicker.ClientMessage("New clicker hero created. Don't stop clicking!");<br>&#9;&#9;&#9;&#9;cAccounts[NewAcc].LogIP = GetIP(Clicker);<br>&#9;&#9;&#9;&#9;cAccounts[NewAcc].Clicks = 0;<br>&#9;&#9;&#9;&#9;cAccounts[NewAcc].cLevel = 1;<br>&#9;&#9;&#9;&#9;cAccounts[NewAcc].cEXP = 0;<br>&#9;&#9;&#9;&#9;cAccounts[NewAcc].LastName = GetName(Clicker);<br>&#9;&#9;&#9;&#9;cAccounts[NewAcc].HeroName = "";<br>&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="ClickerDeco.GetIP"><a class="headerlink" href="#ClickerDeco.GetIP" title="Permanent link">GetIP</a> (DeusExPlayer APawn) -> string</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local string IP;<br><br>    IP = APawn.GetPlayerNetworkAddress();<br>    IP = Left(IP,InStr(IP,":"));<br>    DebugLog("Returned "$IP);<br>    return IP;<br><br></div>
<h3 id="ClickerDeco.GetName"><a class="headerlink" href="#ClickerDeco.GetName" title="Permanent link">GetName</a> (DeusExPlayer APawn) -> string</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;return APawn.PlayerReplicationInfo.PlayerName;<br><br></div>
<h3 id="ClickerDeco.GetPlayerAcc"><a class="headerlink" href="#ClickerDeco.GetPlayerAcc" title="Permanent link">GetPlayerAcc</a> (DeusExPlayer APawn) -> int</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int i;<br><br>&#9;for(i=0;i<150;i++)<br>&#9;&#9;if(cAccounts[i].LogIP == GetIP(APawn))<br>&#9;&#9;{<br>&#9;&#9;&#9;DebugLog("Get Account: "$i);<br>&#9;&#9;&#9;return i;<br>&#9;&#9;}<br><br></div>
<h3 id="ClickerDeco.GiveEXP"><a class="headerlink" href="#ClickerDeco.GiveEXP" title="Permanent link">GiveEXP</a> (int AccNum, int EXPGain)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;cAccounts[AccNum].cEXP += EXPGain;<br><br>&#9;if(cAccounts[AccNum].cEXP >= 100 * cAccounts[AccNum].cLevel)<br>&#9;{<br>&#9;&#9;cAccounts[AccNum].cEXP -= 100 * cAccounts[AccNum].cLevel;<br>&#9;&#9;cAccounts[AccNum].cLevel++;<br>&#9;&#9;BroadcastMessage("|P7"$cAccounts[AccNum].LastName$"'s Hero "$cAccounts[AccNum].HeroName$" is now level"@cAccounts[AccNum].cLevel);<br>&#9;}<br>&#9;return;<br><br></div>
<h3 id="ClickerDeco.PostBeginPlay"><a class="headerlink" href="#ClickerDeco.PostBeginPlay" title="Permanent link">PostBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(CurDay != Level.Day)<br>&#9;{<br>&#9;&#9;CurDay = Level.Day;<br>&#9;&#9;Days++;<br>&#9;&#9;Log("It's a new day!", 'Clicker');<br>&#9;}<br>&#9;SetTimer(5,True);<br><br></div>
<h3 id="ClickerDeco.Timer"><a class="headerlink" href="#ClickerDeco.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;DebugLog("Saving config.");<br>&#9;SaveConfig();<br><br></div>
<h3 id="ClickerDeco.bHasAccount"><a class="headerlink" href="#ClickerDeco.bHasAccount" title="Permanent link">bHasAccount</a> (DeusExPlayer APawn) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int i;<br><br>&#9;for(i=0;i<150;i++)<br>&#9;&#9;if(cAccounts[i].LogIP == GetIP(APawn))<br>&#9;&#9;{<br>&#9;&#9;&#9;DebugLog("Has Account: True "$i);<br>&#9;&#9;&#9;return true;<br>&#9;&#9;}<br>&#9;&#9;else <br>&#9;&#9;{&#9;<br>&#9;&#9;&#9;DebugLog("Has Account: False "$i);<br>&#9;&#9;&#9;return false;<br>&#9;&#9;}<br>&#9;&#9;<br><br></div>
<br><br><hr>
<a class="headerlink" href="#CoffeeCup2.uc" title="Permanent link"><h2 id="CoffeeCup2.uc">CoffeeCup2.uc (extends DeusExPickup)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var int rechargeAmount;<br>var int mpRechargeAmount;<br>var localized String msgRecharged;<br>var localized String RechargesLabel;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">rechargeAmount=5<br>mpRechargeAmount=50<br>msgRecharged="Recharged %d points"<br>RechargesLabel="Recharges %d Energy Units"<br>maxCopies=15<br>bCanHaveMultipleCopies=True<br>bActivatable=True<br>ItemName="Hot Coffee"<br>PlayerViewOffset=(X=30.000000,Z=-12.000000)<br>PlayerViewMesh=LodMesh'Endemia.CoffeeCup'<br>PickupViewMesh=LodMesh'Endemia.CoffeeCup'<br>ThirdPersonMesh=LodMesh'Endemia.CoffeeCup'<br>LandSound=Sound'DeusExSounds.Generic.PlasticHit2'<br>Icon=Texture'Endemia.Icons.BeltIconCoffeeCup'<br>largeIcon=Texture'Endemia.Icons.LargeIconCoffeeCup'<br>largeIconWidth=24<br>largeIconHeight=38<br>Description="A A tumbler filled with a warm, black coffee without sugar.|n|n<UNATCO OPS FILE NOTE JR289-VIOLET> The cafeïn seems to possess certain stimulating power on the nano-entities. Several tests are in progress on this subject. -- Jaime Reyes <END NOTE>"<br>beltDescription="COFFEE"<br>Mesh=LodMesh'Endemia.CoffeeCup'<br>CollisionRadius=3.000000<br>CollisionHeight=4.500000<br>Mass=5.000000<br>Buoyancy=4.000000</div>
<h3 id="CoffeeCup2.Activate"><a class="headerlink" href="#CoffeeCup2.Activate" title="Permanent link">Activate</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;// can't turn it off<br>&#9;<br></div>
<h3 id="CoffeeCup2.BeginState"><a class="headerlink" href="#CoffeeCup2.BeginState" title="Permanent link">BeginState</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer player;<br><br><br>&#9;&#9;Super.BeginState();<br><br>&#9;&#9;player = DeusExPlayer(Owner);<br>&#9;&#9;if (player != None)<br>&#9;&#9;{<br>&#9;&#9;&#9;player.ClientMessage(Sprintf(msgRecharged, rechargeAmount));<br>&#9;<br>&#9;&#9;&#9;player.PlaySound(sound'MaleBurp', SLOT_None,,, 256);<br><br>&#9;&#9;&#9;player.Energy += rechargeAmount;<br>&#9;&#9;&#9;if (player.Energy > player.EnergyMax)<br>&#9;&#9;&#9;&#9;player.Energy = player.EnergyMax;<br>&#9;&#9;&#9;&#9;player.HealPlayer(60, False);<br>&#9;&#9;}<br><br>&#9;&#9;UseOnce();<br>&#9;<br></div>
<h3 id="CoffeeCup2.PostBeginPlay"><a class="headerlink" href="#CoffeeCup2.PostBeginPlay" title="Permanent link">PostBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   Super.PostBeginPlay();<br>   if (Level.NetMode != NM_Standalone)<br>      rechargeAmount = mpRechargeAmount;<br><br></div>
<h3 id="CoffeeCup2.PreBeginPlay"><a class="headerlink" href="#CoffeeCup2.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;// If this is a netgame, then override defaults<br>&#9;if ( Level.NetMode != NM_StandAlone )<br>&#9;&#9;MaxCopies = 15;<br><br></div>
<h3 id="CoffeeCup2.TestMPBeltSpot"><a class="headerlink" href="#CoffeeCup2.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<br><br><hr>
<a class="headerlink" href="#CoffeeMachine2.uc" title="Permanent link"><h2 id="CoffeeMachine2.uc">CoffeeMachine2.uc (extends ElectronicDevices)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var() class<Inventory> ItemSale;<br>var() int Price;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">Price=50<br>bCanBeBase=True<br>ItemName="Coffee Machine"<br>Mesh=LodMesh'Endemia.CoffeeMachine'<br>SoundRadius=8<br>SoundVolume=96<br>AmbientSound=Sound'Ambient.Ambient.HumLow3'<br>CollisionRadius=32.349998<br>CollisionHeight=50.000000<br>Mass=150.000000<br>Buoyancy=100.000000</div>
<h3 id="CoffeeMachine2.BeginPlay"><a class="headerlink" href="#CoffeeMachine2.BeginPlay" title="Permanent link">BeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.BeginPlay();<br>&#9;<br>&#9;if(ItemSale == None)<br>&#9;&#9;ItemSale = class'CoffeeCup2';  <br><br></div>
<h3 id="CoffeeMachine2.Frob"><a class="headerlink" href="#CoffeeMachine2.Frob" title="Permanent link">Frob</a> (actor Frobber, Inventory frobWith)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer player;<br>&#9;local Vector loc;<br>&#9;local Inventory product;<br><br><br>&#9;Super.Frob(Frobber, frobWith);<br>&#9;<br>&#9;player = DeusExPlayer(Frobber);<br><br>&#9;if (player != None)<br>&#9;{<br>&#9;&#9;if(Player.Credits >= Price )<br>&#9;&#9;{<br>&#9;&#9;&#9;PlaySound(sound'VendingCoin', SLOT_None);<br>&#9;&#9;&#9;loc = Vector(Rotation) * CollisionRadius * 0.6;<br>&#9;&#9;&#9;loc.Z -= CollisionHeight * 0.3; <br>&#9;&#9;&#9;loc += Location;<br><br>&#9;&#9;&#9;product = Spawn(ItemSale, None,, loc);<br><br>&#9;&#9;&#9;if (product != None)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;PlaySound(sound'VendingCan', SLOT_None);<br>&#9;&#9;&#9;&#9;product.Velocity = Vector(Rotation);<br>&#9;&#9;&#9;&#9;product.Lifespan = 6;<br>&#9;&#9;&#9;&#9;product.SetPhysics(PHYS_None);<br>&#9;&#9;&#9;&#9;Player.Credits -= Price;<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;player.ClientMessage("Bought "$Product.itemname$" for "$Price$" credits.");<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;&#9;player.ClientMessage("Needs"@Price@"credits.");<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#CopSpawnPoint.uc" title="Permanent link"><h2 id="CopSpawnPoint.uc">CopSpawnPoint.uc (extends PGSpawnPoints)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var() class<DXScriptedPawn> CopClass;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bHidden=True</div>
<br><br><hr>
<a class="headerlink" href="#CraftingMaterial.uc" title="Permanent link"><h2 id="CraftingMaterial.uc">CraftingMaterial.uc (extends deusexpickup)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var() class<DeusExDecoration> DecoResult;<br>var() class<Inventory> InvResult;<br>var() bool bInv, bDeco;<br>var() int NumNeeded;<br>var() string DispStr;<br>var() bool bIngredient;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">maxCopies=20<br>bCanHaveMultipleCopies=True<br>bActivatable=True<br>ItemName="Material shard"<br>PlayerViewOffset=(X=30.000000,Z=-12.000000)<br>PlayerViewMesh=LodMesh'DeusExItems.GlassFragment1'<br>PickupViewMesh=LodMesh'DeusExItems.GlassFragment1'<br>ThirdPersonMesh=LodMesh'DeusExItems.GlassFragment1'<br>LandSound=Sound'DeusExSounds.Generic.GlassHit1'<br>Icon=Texture'PGAssets.Icons.BeltIconCrafting'<br>M_Activated=""<br>Description="A material"<br>beltDescription="CRAFT"<br>Style=STY_Translucent<br>Skin=Texture'DeusExItems.Skins.GlassFragmentTex1'<br>Mesh=LodMesh'DeusExItems.GlassFragment1'<br>CollisionRadius=2.000000<br>CollisionHeight=2.000000</div>
<h3 id="CraftingMaterial.Activate"><a class="headerlink" href="#CraftingMaterial.Activate" title="Permanent link">Activate</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;// can't turn it off<br>&#9;<br></div>
<h3 id="CraftingMaterial.BeginState"><a class="headerlink" href="#CraftingMaterial.BeginState" title="Permanent link">BeginState</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local inventory inv;<br>&#9;local vector v2;<br><br>&#9;&#9;Super.BeginState();<br>&#9;&#9;&#9;if(NumCopies >= NumNeeded && OtherRequirements() && !bIngredient)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;v2 = Owner.Location;<br>&#9;&#9;&#9;&#9;v2.Z += Owner.collisionHeight + 50;<br>&#9;&#9;&#9;&#9;if(DecoResult != None)<br>&#9;&#9;&#9;&#9;&#9;Spawn(DecoResult,,,Owner.Location);<br>&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;if(InvResult != None)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;inv = Spawn(Invresult,,,v2);<br>&#9;&#9;&#9;&#9;&#9;inv.Frob(DeusExPlayer(Owner),None);<br>&#9;&#9;&#9;&#9;&#9;inv.Destroy();<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;Numcopies-=NumNeeded;<br>&#9;&#9;&#9;&#9;if(Numcopies <= 0)<br>&#9;&#9;&#9;&#9;&#9;Destroy();<br>&#9;&#9;&#9;}<br>&#9;&#9;GotoState('DeActivated');<br>&#9;<br></div>
<h3 id="CraftingMaterial.OtherRequirements"><a class="headerlink" href="#CraftingMaterial.OtherRequirements" title="Permanent link">OtherRequirements</a> -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;return true;<br><br></div>
<h3 id="CraftingMaterial.PreBeginPlay"><a class="headerlink" href="#CraftingMaterial.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br></div>
<h3 id="CraftingMaterial.RenderOverlays"><a class="headerlink" href="#CraftingMaterial.RenderOverlays" title="Permanent link">RenderOverlays</a> (canvas Canvas)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer P;<br>&#9;local Actor CrosshairTarget;<br>&#9;local float Scale, Accuracy, Dist;<br>&#9;local vector HitLocation, HitNormal, StartTrace, EndTrace, X,Y,Z;<br>&#9;local vector loc, line;<br>&#9;local String KeyName, Alias, curKeyName;<br>&#9;local int i;<br><br>&#9;Super.RenderOverlays(Canvas);<br>&#9;P = DeusExPlayer(Owner);<br>&#9;if ( P != None ) <br>&#9;{&#9;<br>&#9;&#9;&#9;//&#9;bOwnsCrossHair = True; <br>&#9;&#9;&#9;&#9;Scale = Canvas.ClipX/640;<br>&#9;&#9;&#9;&#9;Canvas.SetPos(0.5 * Canvas.ClipX - 16 * Scale, 0.5 * Canvas.ClipY - 16 * Scale );<br>&#9;&#9;&#9;&#9;//Canvas.Style = ERenderStyle.STY_Translucent;<br>&#9;&#9;&#9;&#9;Canvas.DrawColor.R = 255;<br>&#9;&#9;&#9;&#9;Canvas.DrawColor.G = 250;<br>&#9;&#9;&#9;&#9;Canvas.DrawColor.B = 255;<br>&#9;&#9;&#9;&#9;Canvas.Font = Canvas.SmallFont;<br><br>&#9;&#9;&#9;&#9;Canvas.DrawText("      "@DispStr);<br>&#9;}<br>&#9;&#9;//&#9;else<br>&#9;&#9;&#9;//&#9;bOwnsCrossHair = False; // Only for compatibility with HDX50&#9;&#9;<br><br></div>
<h3 id="CraftingMaterial.TestMPBeltSpot"><a class="headerlink" href="#CraftingMaterial.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<h3 id="CraftingMaterial.UpdateInfo"><a class="headerlink" href="#CraftingMaterial.UpdateInfo" title="Permanent link">UpdateInfo</a> (Object winObject) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local PersonaInfoWindow winInfo;<br>&#9;local string str;<br><br><br>&#9;winInfo = PersonaInfoWindow(winObject);<br>&#9;if (winInfo == None)<br>&#9;&#9;return False;<br><br>&#9;winInfo.SetTitle(itemName);<br>&#9;winInfo.SetText(Description $ winInfo.CR() $ winInfo.CR());<br>&#9;winInfo.AppendText("Materials");<br><br>&#9;// Print the number of copies<br>&#9;str = CountLabel @ String(NumCopies);<br>&#9;winInfo.AppendText(winInfo.CR() $ winInfo.CR() $ str);<br><br>&#9;return True;<br><br></div>
<br><br><hr>
<a class="headerlink" href="#Cred10.uc" title="Permanent link"><h2 id="Cred10.uc">Cred10.uc (extends CreditDeco)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">CreditValue=10</div>
<br><br><hr>
<a class="headerlink" href="#Cred100.uc" title="Permanent link"><h2 id="Cred100.uc">Cred100.uc (extends CreditDeco)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">CreditValue=100</div>
<br><br><hr>
<a class="headerlink" href="#Cred500.uc" title="Permanent link"><h2 id="Cred500.uc">Cred500.uc (extends CreditDeco)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">CreditValue=500</div>
<br><br><hr>
<a class="headerlink" href="#CreditDeco.uc" title="Permanent link"><h2 id="CreditDeco.uc">CreditDeco.uc (extends DeusExDecoration)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">Var() int CreditValue;<br>var() int RespawnTime;<br>Var() bool bShouldRespawn;<br>Var bool bRespawning;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">CreditValue=50<br>RespawnTime=480<br>bInvincible=True<br>bCanBeBase=True<br>ItemName="Credit Chit"<br>bPushable=False<br>Mesh=LodMesh'DeusExItems.Credits'<br>CollisionRadius=7.000000<br>CollisionHeight=0.550000<br>bBlockPlayers=False<br>Mass=2.000000<br>Buoyancy=3.000000</div>
<h3 id="CreditDeco.BeginPlay"><a class="headerlink" href="#CreditDeco.BeginPlay" title="Permanent link">BeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;ItemName="c"$CreditValue;<br><br>//&#9;if(creditvalue == 10)<br>//&#9;{<br>&#9;//&#9;lifespan = 10.000000;<br>&#9;//<br></div>
<h3 id="CreditDeco.Frob"><a class="headerlink" href="#CreditDeco.Frob" title="Permanent link">Frob</a> (Actor Frobber, Inventory frobWith)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.Frob(Frobber, frobWith);<br><br>&#9;if(bShouldRespawn == True)<br>&#9;{<br>&#9;&#9;DeusExPlayer(Frobber).Credits += CreditValue;<br>&#9;&#9;DeusExPlayer(Frobber).ClientMessage("You just picked up c"$CreditValue);<br>&#9;&#9;DeusExPlayer(Frobber).FrobTarget = None; //Cozmo: NOW try duplicating money!<br>&#9;&#9;Drawscale = 0.000000;<br>&#9;&#9;bHighlight = False;<br>&#9;&#9;SetTimer(RespawnTime, false);<br>&#9;&#9;SetCollisionSize(0.000000, Default.CollisionHeight);<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;DeusExPlayer(Frobber).Credits += CreditValue;<br>&#9;&#9;DeusExPlayer(Frobber).FrobTarget = None;<br>&#9;&#9;DeusExPlayer(Frobber).ClientMessage("You just picked up c"$CreditValue);<br>&#9;&#9;Destroy();<br>&#9;}<br><br></div>
<h3 id="CreditDeco.Timer"><a class="headerlink" href="#CreditDeco.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Drawscale = 1.000000;<br>&#9;bHighlight = True;<br>&#9;SetCollisionSize(Default.CollisionRadius, Default.CollisionHeight);<br><br></div>
<br><br><hr>
<a class="headerlink" href="#Cube.uc" title="Permanent link"><h2 id="Cube.uc">Cube.uc (extends CrateUnbreakableMed)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bInvincible=False<br>ItemName="Cube of Pain"<br>bPushable=False<br>Physics=PHYS_Rotating<br>Texture=FireTexture'Effects.Electricity.Nano_SFX_A'<br>Skin=FireTexture'Effects.Electricity.Nano_SFX_A'<br>DrawScale=1.500000<br>CollisionRadius=25.000000<br>CollisionHeight=76.000000<br>bFixedRotationDir=True<br>Mass=500.000000<br>RotationRate=(Pitch=11192,Yaw=11192,Roll=11192)</div>
<h3 id="Cube.BeginPlay"><a class="headerlink" href="#Cube.BeginPlay" title="Permanent link">BeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;SetTimer(2,True);<br><br></div>
<h3 id="Cube.Bump"><a class="headerlink" href="#Cube.Bump" title="Permanent link">Bump</a> (actor Other)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>//Do nothing.<br><br></div>
<h3 id="Cube.Timer"><a class="headerlink" href="#Cube.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExDecoration deco;<br>&#9;local Pawn paw;<br><br><br>&#9;foreach VisibleActors(class'DeusExDecoration', deco, 256)<br>&#9;&#9;if (deco != None && deco != self)<br>&#9;&#9;&#9;deco.TakeDamage(20, none, deco.Location, vect(0,0,0), 'Flamed');<br>&#9;<br>&#9;foreach VisibleActors(class'Pawn', paw, 256)<br>&#9;&#9;if (paw != None)<br>&#9;&#9;&#9;paw.TakeDamage(20, paw, paw.Location, vect(0,0,0), 'Flamed');<br><br></div>
<br><br><hr>
<a class="headerlink" href="#CubeHealer.uc" title="Permanent link"><h2 id="CubeHealer.uc">CubeHealer.uc (extends CrateUnbreakableMed)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">Var DeusExPlayer P;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">ItemName="Cube of Healing"<br>bPushable=False<br>Physics=PHYS_Rotating<br>Texture=FireTexture'Effects.Electricity.Nano_SFX_A'<br>Skin=FireTexture'Effects.Electricity.Nano_SFX_A'<br>DrawScale=1.500000<br>CollisionRadius=60.000000<br>CollisionHeight=60.000000<br>bFixedRotationDir=True<br>Mass=500.000000<br>RotationRate=(Pitch=11192,Yaw=11192,Roll=11192)</div>
<h3 id="CubeHealer.Frob"><a class="headerlink" href="#CubeHealer.Frob" title="Permanent link">Frob</a> (Actor Frobber, Inventory frobWith)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Actor A;<br>&#9;local Pawn P;<br>&#9;local DeusExPlayer Player;<br>&#9;local Inventory CurInventory;<br><br><br>&#9;Player = DeusExPlayer(Frobber);<br><br>&#9;if (player != None)<br>&#9;&#9;HealPlayer2(player, 100);<br>&#9;&#9;player.StopPoison();<br>&#9;&#9;player.ExtinguishFire();<br>&#9;&#9;player.drugEffectTimer = 0;&#9;&#9;&#9;<br>&#9;&#9;player.Energy += 200;<br>&#9;&#9;&#9;if (player.Energy > 200)<br>&#9;&#9;&#9;&#9;player.Energy = 200;<br>&#9;&#9;<br>   if (Player != None)<br>   {<br>      CurInventory = Player.Inventory;<br>      while (CurInventory != None)<br>      {<br>         if (CurInventory.IsA('DeusExWeapon'))<br>            RestockWeapon(Player,DeusExWeapon(CurInventory));<br>         CurInventory = CurInventory.Inventory;<br>      }<br>&#9;&#9;PlaySound(sound'CreditsEnd', SLOT_None, 0.5+FRand()*0.25, , 256, 0.95+FRand()*0.1);<br>   }<br>   <br>   player.ClientMessage("Fully restocked and healed. Energy raised to 200.");<br><br></div>
<h3 id="CubeHealer.HealPlayer2"><a class="headerlink" href="#CubeHealer.HealPlayer2" title="Permanent link">HealPlayer2</a> (deusexplayer player, int baseHealPoints, optional Bool bUseMedicineSkill)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local float mult;<br>&#9;local int adjustedHealAmount, aha2, tempaha;<br>&#9;local int origHealAmount;<br>&#9;local float dividedHealAmount;<br><br><br>&#9;if (bUseMedicineSkill)<br>&#9;&#9;adjustedHealAmount = player.CalculateSkillHealAmount(baseHealPoints);<br>&#9;else<br>&#9;&#9;adjustedHealAmount = baseHealPoints;<br><br>&#9;origHealAmount = adjustedHealAmount;<br><br>&#9;if (adjustedHealAmount > 0)<br>&#9;{<br>&#9;&#9;if (bUseMedicineSkill)<br>&#9;&#9;&#9;player.PlaySound(sound'MedicalHiss', SLOT_None,,, 256);<br><br>&#9;&#9;// Heal by 3 regions via multiplayer game<br>&#9;&#9;if (( Level.NetMode == NM_DedicatedServer ) || ( Level.NetMode == NM_ListenServer ))<br>&#9;&#9;{<br>         // DEUS_EX AMSD If legs broken, heal them a little bit first<br>         if (player.HealthLegLeft == 0)<br>         {<br>            aha2 = adjustedHealAmount;<br>            if (aha2 >= 5)<br>               aha2 = 5;<br>            tempaha = aha2;<br>            adjustedHealAmount = adjustedHealAmount - aha2;<br>            player.HealPart(player.HealthLegLeft, aha2);<br>            player.HealPart(player.HealthLegRight,tempaha);<br>         }<br>&#9;&#9;&#9;player.HealPart(player.HealthHead, adjustedHealAmount);<br><br>&#9;&#9;&#9;if ( adjustedHealAmount > 0 )<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;aha2 = adjustedHealAmount;<br>&#9;&#9;&#9;&#9;player.HealPart(player.HealthTorso, aha2);<br>&#9;&#9;&#9;&#9;aha2 = adjustedHealAmount;<br>&#9;&#9;&#9;&#9;player.HealPart(player.HealthArmRight,aha2);<br>&#9;&#9;&#9;&#9;player.HealPart(player.HealthArmLeft, adjustedHealAmount);<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;if ( adjustedHealAmount > 0 )<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;aha2 = adjustedHealAmount;<br>&#9;&#9;&#9;&#9;player.HealPart(player.HealthLegRight, aha2);<br>&#9;&#9;&#9;&#9;player.HealPart(player.HealthLegLeft, adjustedHealAmount);<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;{<br>&#9;&#9;&#9;player.HealPart(player.HealthHead, adjustedHealAmount);<br>&#9;&#9;&#9;player.HealPart(player.HealthTorso, adjustedHealAmount);<br>&#9;&#9;&#9;player.HealPart(player.HealthLegRight, adjustedHealAmount);<br>&#9;&#9;&#9;player.HealPart(player.HealthLegLeft, adjustedHealAmount);<br>&#9;&#9;&#9;player.HealPart(player.HealthArmRight, adjustedHealAmount);<br>&#9;&#9;&#9;player.HealPart(player.HealthArmLeft, adjustedHealAmount);<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="CubeHealer.RestockWeapon"><a class="headerlink" href="#CubeHealer.RestockWeapon" title="Permanent link">RestockWeapon</a> (DeusExPlayer Player, DeusExWeapon WeaponToStock)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Ammo AmmoType;<br><br>   if (WeaponToStock.AmmoType != None)<br>   {<br>      if (WeaponToStock.AmmoNames[0] == None)<br>         AmmoType = Ammo(Player.FindInventoryType(WeaponToStock.AmmoName));<br>      else<br>         AmmoType = Ammo(Player.FindInventoryType(WeaponToStock.AmmoNames[0]));<br><br>      if (WeaponToStock.AmmoNames[1] == None)<br>         AmmoType = Ammo(Player.FindInventoryType(WeaponToStock.AmmoName));<br>      else<br>         AmmoType = Ammo(Player.FindInventoryType(WeaponToStock.AmmoNames[1]));<br>      <br>&#9;  if (WeaponToStock.AmmoNames[2] == None)<br>         AmmoType = Ammo(Player.FindInventoryType(WeaponToStock.AmmoName));<br>      else<br>         AmmoType = Ammo(Player.FindInventoryType(WeaponToStock.AmmoNames[2]));<br>      <br><br>      if ((AmmoType != None) && (AmmoType.AmmoAmount < WeaponToStock.PickupAmmoCount))<br>      {<br>         AmmoType.AddAmmo(WeaponToStock.PickupAmmoCount - AmmoType.AmmoAmount);<br>      }<br>   }   <br><br></div>
<br><br><hr>
<a class="headerlink" href="#DXEnemy.uc" title="Permanent link"><h2 id="DXEnemy.uc">DXEnemy.uc (extends DXHumanMilitary)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">InitialAlliances(0)=(AllianceName=Player,AllianceLevel=-1.000000)<br>InitialAlliances(1)=(AllianceName=SecuritySamurai,AllianceLevel=-1.000000)<br>InitialAlliances(2)=(AllianceName=Security,AllianceLevel=-1.000000)</div>
<h3 id="DXEnemy.Frob"><a class="headerlink" href="#DXEnemy.Frob" title="Permanent link">Frob</a> (Actor Frobber, Inventory frobWith)</h3>

<h3 id="DXEnemy.IsFearful"><a class="headerlink" href="#DXEnemy.IsFearful" title="Permanent link">IsFearful</a> -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;return false;<br><br></div>
<h3 id="DXEnemy.ShouldFlee"><a class="headerlink" href="#DXEnemy.ShouldFlee" title="Permanent link">ShouldFlee</a> -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;return false;<br><br></div>
<h3 id="DXEnemy.WillTakeStompDamage"><a class="headerlink" href="#DXEnemy.WillTakeStompDamage" title="Permanent link">WillTakeStompDamage</a> (actor stomper) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>     // This blows chunks!<br>     if (stomper.IsA('PlayerPawn') && (GetPawnAllianceType(Pawn(stomper)) != ALLIANCE_Hostile))<br>          return false;<br>     else<br>          return true;<br><br></div>
<br><br><hr>
<a class="headerlink" href="#DXHumanMilitary.uc" title="Permanent link"><h2 id="DXHumanMilitary.uc">DXHumanMilitary.uc (extends DXScriptedPawn)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">BaseAccuracy=0.200000<br>maxRange=10000.000000<br>MinHealth=20.000000<br>bPlayIdle=True<br>bCanCrouch=True<br>bSprint=True<br>CrouchRate=1.000000<br>SprintRate=1.000000<br>bReactAlarm=True<br>MaxProvocations=0<br>EnemyTimeout=5.000000<br>bCanTurnHead=True<br>WaterSpeed=80.000000<br>AirSpeed=160.000000<br>AccelRate=500.000000<br>BaseEyeHeight=40.000000<br>UnderWaterTime=20.000000<br>HitSound1=Sound'DeusExSounds.Player.MalePainSmall'<br>HitSound2=Sound'DeusExSounds.Player.MalePainMedium'<br>Die=Sound'DeusExSounds.Player.MaleDeath'<br>VisibilityThreshold=0.010000<br>DrawType=DT_Mesh<br>Mass=150.000000<br>Buoyancy=155.000000<br>BindName="HumanMilitary"</div>
<h3 id="DXHumanMilitary.PostBeginPlay"><a class="headerlink" href="#DXHumanMilitary.PostBeginPlay" title="Permanent link">PostBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>     Super.PostBeginPlay();<br><br>     // change the sounds for chicks<br>     if (bIsFemale)<br>     {<br>          HitSound1 = Sound'FemalePainMedium';<br>          HitSound2 = Sound'FemalePainLarge';<br>          Die = Sound'FemaleDeath';<br>     }<br><br></div>
<h3 id="DXHumanMilitary.WillTakeStompDamage"><a class="headerlink" href="#DXHumanMilitary.WillTakeStompDamage" title="Permanent link">WillTakeStompDamage</a> (actor stomper) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>     // This blows chunks!<br>     if (stomper.IsA('PlayerPawn') && (GetPawnAllianceType(Pawn(stomper)) != ALLIANCE_Hostile))<br>          return false;<br>     else<br>          return true;<br><br></div>
<br><br><hr>
<a class="headerlink" href="#DXRobot.uc" title="Permanent link"><h2 id="DXRobot.uc">DXRobot.uc (extends DXScriptedPawn)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var(Sounds) sound SearchingSound;<br>var(Sounds) sound SpeechTargetAcquired;<br>var(Sounds) sound SpeechTargetLost;<br>var(Sounds) sound SpeechOutOfAmmo;<br>var(Sounds) sound SpeechCriticalDamage;<br>var(Sounds) sound SpeechScanning;<br>var(Sounds) sound SpeechAreaSecure;<br>var(sounds) float dPitch;<br>var() int EMPHitPoints;<br>var ParticleGenerator sparkGen;<br>var float crazedTimer;<br>var(Sounds) sound explosionSound;<br>var bool bSmoking;<br>var bool bClientSmoking;<br>var bool bSparking;<br>var bool bClientSparking;<br>var bool bIsDisabled;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">dPitch=62.000000<br>EMPHitPoints=50<br>explosionSound=Sound'DeusExSounds.Robot.RobotExplode'<br>Saymsg="<NO CONVERSATION WANTED, PLEASE MOVE ALONG>"<br>maxRange=512.000000<br>MinHealth=0.000000<br>RandomWandering=0.150000<br>bCanBleed=False<br>bShowPain=False<br>bCanSit=False<br>bAvoidAim=False<br>bAvoidHarm=False<br>bHateShot=False<br>bReactAlarm=True<br>bReactProjectiles=False<br>bEmitDistress=False<br>bMustFaceTarget=False<br>FireAngle=60.000000<br>MaxProvocations=0<br>SurprisePeriod=0.000000<br>EnemyTimeout=7.000000<br>walkAnimMult=1.000000<br>bCanStrafe=False<br>bCanSwim=False<br>bIsHuman=False<br>JumpZ=0.000000<br>MaxStepHeight=4.000000<br>Health=50<br>HitSound1=Sound'DeusExSounds.Generic.Spark1'<br>HitSound2=Sound'DeusExSounds.Generic.Spark1'<br>Die=Sound'DeusExSounds.Generic.Spark1'<br>VisibilityThreshold=0.010000<br>BindName="DXRobot"</div>
<h3 id="DXRobot.BeginState"><a class="headerlink" href="#DXRobot.BeginState" title="Permanent link">BeginState</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;StandUp();<br>&#9;&#9;BlockReactions(true);<br>&#9;&#9;bCanConverse = False;<br>&#9;&#9;SeekPawn = None;<br>&#9;<br></div>
<h3 id="DXRobot.ClientTimer"><a class="headerlink" href="#DXRobot.ClientTimer" title="Permanent link">ClientTimer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Vector loc;<br><br><br>&#9;if (sparkGen != None)<br>&#9;{<br>&#9;&#9;loc = Location;<br>&#9;&#9;loc.z += CollisionHeight/2;<br>&#9;&#9;sparkGen.SetLocation(loc);<br>&#9;}<br><br>&#9;if(bSmoking && !bClientSmoking)<br>&#9;{<br>&#9;&#9;log("Smoking!");<br>&#9;&#9;InitGenerator();<br>&#9;&#9;if (sparkGen != None)<br>&#9;&#9;{<br>&#9;&#9;&#9;log(sparkGen);<br>&#9;&#9;&#9;log(sparkGen.Base);<br>&#9;&#9;&#9;//sparkGen.LifeSpan = 6;<br>&#9;&#9;&#9;sparkGen.particleTexture = Texture'Effects.Smoke.SmokePuff1';<br>&#9;&#9;&#9;sparkGen.particleDrawScale = 0.3;<br>&#9;&#9;&#9;sparkGen.bRandomEject = False;<br>&#9;&#9;&#9;sparkGen.ejectSpeed = 10.0;<br>&#9;&#9;&#9;sparkGen.bGravity = False;<br>&#9;&#9;&#9;sparkGen.bParticlesUnlit = True;<br>&#9;&#9;&#9;sparkGen.frequency = 0.3;<br>&#9;&#9;&#9;sparkGen.riseRate = 3;<br>&#9;&#9;&#9;sparkGen.spawnSound = Sound'Spark2';<br>&#9;&#9;}<br>&#9;&#9;bClientSmoking = true;<br>&#9;}<br>&#9;else if(bSparking && !bClientSparking)<br>&#9;{<br>&#9;&#9;InitGenerator();<br>&#9;&#9;if (sparkGen != None)<br>&#9;&#9;{<br>&#9;&#9;&#9;sparkGen.particleTexture = Texture'Effects.Fire.SparkFX1';<br>&#9;&#9;&#9;sparkGen.particleDrawScale = 0.2;<br>&#9;&#9;&#9;sparkGen.bRandomEject = True;<br>&#9;&#9;&#9;sparkGen.ejectSpeed = 100.0;<br>&#9;&#9;&#9;sparkGen.bGravity = True;<br>&#9;&#9;&#9;sparkGen.bParticlesUnlit = True;<br>&#9;&#9;&#9;sparkGen.frequency = 0.2;<br>&#9;&#9;&#9;sparkGen.riseRate = 10;<br>&#9;&#9;&#9;sparkGen.spawnSound = Sound'Spark2';<br>&#9;&#9;}<br>&#9;&#9;bClientSparking = true;<br>&#9;}<br>&#9;else if(!bSmoking && !bSparking)<br>&#9;&#9;DestroyGenerator();<br><br></div>
<h3 id="DXRobot.DestroyGenerator"><a class="headerlink" href="#DXRobot.DestroyGenerator" title="Permanent link">DestroyGenerator</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if (sparkGen != None)<br>&#9;{<br>&#9;&#9;sparkGen.DelayedDestroy();<br>&#9;&#9;sparkGen = None;<br>&#9;}<br><br>&#9;bClientSmoking = false;<br>&#9;bClientSparking = false;<br><br></div>
<h3 id="DXRobot.Destroyed"><a class="headerlink" href="#DXRobot.Destroyed" title="Permanent link">Destroyed</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.Destroyed();<br><br>&#9;DestroyGenerator();<br><br></div>
<h3 id="DXRobot.EndState"><a class="headerlink" href="#DXRobot.EndState" title="Permanent link">EndState</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;ResetReactions();<br>&#9;&#9;bCanConverse = True;<br>&#9;<br></div>
<h3 id="DXRobot.Explode"><a class="headerlink" href="#DXRobot.Explode" title="Permanent link">Explode</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local SphereEffect sphere;<br>&#9;local ScorchMark s;<br>&#9;local ExplosionLight light;<br>&#9;local int i;<br>&#9;local float explosionDamage;<br>&#9;local float explosionRadius;<br><br><br>&#9;explosionDamage = 100;<br>&#9;explosionRadius = 256;<br><br>&#9;// alert NPCs that I'm exploding<br>&#9;AISendEvent('LoudNoise', EAITYPE_Audio, , explosionRadius*16);<br>&#9;PlaySound(Sound'LargeExplosion1', SLOT_None,,, explosionRadius*16);<br><br>&#9;// draw a pretty explosion<br>&#9;light = Spawn(class'ExplosionLight',,, Location);<br>&#9;if (light != None)<br>&#9;&#9;light.size = 4;<br><br>&#9;Spawn(class'ExplosionSmall',,, Location + 2*VRand()*CollisionRadius);<br>&#9;Spawn(class'ExplosionMedium',,, Location + 2*VRand()*CollisionRadius);<br>&#9;Spawn(class'ExplosionMedium',,, Location + 2*VRand()*CollisionRadius);<br>&#9;Spawn(class'ExplosionLarge',,, Location + 2*VRand()*CollisionRadius);<br><br>&#9;sphere = Spawn(class'SphereEffect',,, Location);<br>&#9;if (sphere != None)<br>&#9;&#9;sphere.size = explosionRadius / 32.0;<br><br>&#9;// spawn a mark<br>&#9;s = spawn(class'ScorchMark', Base,, Location-vect(0,0,1)*CollisionHeight, Rotation+rot(16384,0,0));<br>&#9;if (s != None)<br>&#9;{<br>&#9;&#9;s.DrawScale = FClamp(explosionDamage/30, 0.1, 3.0);<br>&#9;&#9;s.ReattachDecal();<br>&#9;}<br><br>&#9;// spawn some rocks and flesh fragments<br>&#9;for (i=0; i<explosionDamage/6; i++)<br>&#9;{<br>&#9;&#9;if (FRand() < 0.3)<br>&#9;&#9;&#9;spawn(class'Rockchip',,,Location);<br>&#9;&#9;else<br>&#9;&#9;&#9;spawn(class'FleshFragment',,,Location);<br>&#9;}<br><br>&#9;HurtRadius(explosionDamage, explosionRadius, 'Exploded', explosionDamage*100, Location);<br><br></div>
<h3 id="DXRobot.GotoDisabledState"><a class="headerlink" href="#DXRobot.GotoDisabledState" title="Permanent link">GotoDisabledState</a> (name damageType, EHitLocation hitPos)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if (!bCollideActors && !bBlockActors && !bBlockPlayers)<br>&#9;&#9;return;<br>&#9;else if (!IgnoreDamageType(damageType) && CanShowPain())<br>&#9;&#9;TakeHit(hitPos);<br>&#9;else<br>&#9;&#9;GotoNextState();<br><br></div>
<h3 id="DXRobot.IgnoreDamageType"><a class="headerlink" href="#DXRobot.IgnoreDamageType" title="Permanent link">IgnoreDamageType</a> (Name damageType) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if ((damageType == 'TearGas') || (damageType == 'HalonGas') || (damageType == 'PoisonGas') || (damageType == 'Radiation'))<br>&#9;&#9;return True;<br>&#9;else if ((damageType == 'Poison') || (damageType == 'PoisonEffect'))<br>&#9;&#9;return True;<br>&#9;else if (damageType == 'KnockedOut')<br>&#9;&#9;return True;<br>&#9;else<br>&#9;&#9;return False;<br><br></div>
<h3 id="DXRobot.ImpartMomentum"><a class="headerlink" href="#DXRobot.ImpartMomentum" title="Permanent link">ImpartMomentum</a> (Vector momentum, Pawn instigatedBy)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;// nil<br><br></div>
<h3 id="DXRobot.InitGenerator"><a class="headerlink" href="#DXRobot.InitGenerator" title="Permanent link">InitGenerator</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Vector loc;<br><br><br>&#9;if ((sparkGen == None) || (sparkGen.bDeleteMe))<br>&#9;{<br>&#9;&#9;loc = Location;<br>&#9;&#9;loc.z += CollisionHeight/2;<br>&#9;&#9;sparkGen = Spawn(class'ParticleGenerator', Self,, loc, rot(16384,0,0));<br>&#9;&#9;if (sparkGen != None)<br>&#9;&#9;&#9;sparkGen.SetBase(Self);<br>&#9;}<br><br>&#9;bClientSmoking = false;<br>&#9;bClientSparking = false;<br><br></div>
<h3 id="DXRobot.IsImmobile"><a class="headerlink" href="#DXRobot.IsImmobile" title="Permanent link">IsImmobile</a> -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local bool bHasReactions;<br>&#9;local bool bHasFears;<br>&#9;local bool bHasHates;<br><br><br>   if (Orders != 'Standing')<br>      return false;<br><br>   bHasReactions = bReactFutz || bReactPresence || bReactLoudNoise || bReactAlarm || bReactShot || bReactCarcass || bReactDistress || bReactProjectiles;<br><br>   bHasFears = bFearHacking || bFearWeapon || bFearShot || bFearInjury || bFearIndirectInjury || bFearCarcass || bFearDistress || bFearAlarm || bFearProjectiles;<br><br>   bHasHates = bHateHacking || bHateWeapon || bHateShot || bHateInjury || bHateIndirectInjury || bHateCarcass || bHateDistress;<br><br>   return (!bHasReactions && !bHasFears && !bHasHates);<br><br></div>
<h3 id="DXRobot.PickDestination"><a class="headerlink" href="#DXRobot.PickDestination" title="Permanent link">PickDestination</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int     iterations;<br>&#9;local float   magnitude;<br>&#9;local rotator rot1;<br><br><br>&#9;&#9;iterations = 4;<br>&#9;&#9;magnitude  = 400*(FRand()*0.4+0.8);  // 400, +/-20%<br>&#9;&#9;rot1       = Rotator(Location-Enemy.Location);<br>&#9;&#9;if (!AIPickRandomDestination(40, magnitude, rot1.Yaw, 0.6, rot1.Pitch, 0.6, iterations,<br>&#9;&#9;                             FRand()*0.4+0.35, destLoc))<br>&#9;&#9;&#9;destLoc = Location;  // we give up<br>&#9;<br></div>
<h3 id="DXRobot.PlayAreaSecureSound"><a class="headerlink" href="#DXRobot.PlayAreaSecureSound" title="Permanent link">PlayAreaSecureSound</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;PlaySound(SpeechAreaSecure, SLOT_None,,, 2048);<br><br></div>
<h3 id="DXRobot.PlayAttack"><a class="headerlink" href="#DXRobot.PlayAttack" title="Permanent link">PlayAttack</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;PlayAnimPivot('Still');<br><br></div>
<h3 id="DXRobot.PlayCrawling"><a class="headerlink" href="#DXRobot.PlayCrawling" title="Permanent link">PlayCrawling</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;LoopAnimPivot('Still');<br><br></div>
<h3 id="DXRobot.PlayCriticalDamageSound"><a class="headerlink" href="#DXRobot.PlayCriticalDamageSound" title="Permanent link">PlayCriticalDamageSound</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;PlaySound(SpeechCriticalDamage, SLOT_None,,, 2048);<br><br></div>
<h3 id="DXRobot.PlayDisabled"><a class="headerlink" href="#DXRobot.PlayDisabled" title="Permanent link">PlayDisabled</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;TweenAnimPivot('Still', 0.2);<br><br></div>
<h3 id="DXRobot.PlayDuck"><a class="headerlink" href="#DXRobot.PlayDuck" title="Permanent link">PlayDuck</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;TweenAnimPivot('Still', 0.25);<br><br></div>
<h3 id="DXRobot.PlayFalling"><a class="headerlink" href="#DXRobot.PlayFalling" title="Permanent link">PlayFalling</a></h3>

<h3 id="DXRobot.PlayFiring"><a class="headerlink" href="#DXRobot.PlayFiring" title="Permanent link">PlayFiring</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;LoopAnimPivot('Still',,0.1);<br><br></div>
<h3 id="DXRobot.PlayGoingForAlarmSound"><a class="headerlink" href="#DXRobot.PlayGoingForAlarmSound" title="Permanent link">PlayGoingForAlarmSound</a></h3>

<h3 id="DXRobot.PlayIdleSound"><a class="headerlink" href="#DXRobot.PlayIdleSound" title="Permanent link">PlayIdleSound</a></h3>

<h3 id="DXRobot.PlayLanded"><a class="headerlink" href="#DXRobot.PlayLanded" title="Permanent link">PlayLanded</a> (float impactVel)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;bIsWalking = True;<br><br></div>
<h3 id="DXRobot.PlayOutOfAmmoSound"><a class="headerlink" href="#DXRobot.PlayOutOfAmmoSound" title="Permanent link">PlayOutOfAmmoSound</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;PlaySound(SpeechOutOfAmmo, SLOT_None,,, 2048);<br><br></div>
<h3 id="DXRobot.PlayReload"><a class="headerlink" href="#DXRobot.PlayReload" title="Permanent link">PlayReload</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;PlayAnimPivot('Still');<br><br></div>
<h3 id="DXRobot.PlayReloadBegin"><a class="headerlink" href="#DXRobot.PlayReloadBegin" title="Permanent link">PlayReloadBegin</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;PlayAnimPivot('Still',, 0.1);<br><br></div>
<h3 id="DXRobot.PlayReloadEnd"><a class="headerlink" href="#DXRobot.PlayReloadEnd" title="Permanent link">PlayReloadEnd</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;PlayAnimPivot('Still',, 0.1);<br><br></div>
<h3 id="DXRobot.PlayRising"><a class="headerlink" href="#DXRobot.PlayRising" title="Permanent link">PlayRising</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;PlayAnimPivot('Still');<br><br></div>
<h3 id="DXRobot.PlayRunning"><a class="headerlink" href="#DXRobot.PlayRunning" title="Permanent link">PlayRunning</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;bIsWalking = False;<br>&#9;LoopAnimPivot('Run');<br><br></div>
<h3 id="DXRobot.PlayRunningAndFiring"><a class="headerlink" href="#DXRobot.PlayRunningAndFiring" title="Permanent link">PlayRunningAndFiring</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;bIsWalking = FALSE;<br>&#9;LoopAnimPivot('Run');<br><br></div>
<h3 id="DXRobot.PlayScanningSound"><a class="headerlink" href="#DXRobot.PlayScanningSound" title="Permanent link">PlayScanningSound</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;PlaySound(SearchingSound, SLOT_None,,, 2048);<br>&#9;PlaySound(SpeechScanning, SLOT_None,,, 2048);<br><br></div>
<h3 id="DXRobot.PlaySearchingSound"><a class="headerlink" href="#DXRobot.PlaySearchingSound" title="Permanent link">PlaySearchingSound</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;PlaySound(SearchingSound, SLOT_None,,, 2048);<br>&#9;PlaySound(SpeechScanning, SLOT_None,,, 2048);<br><br></div>
<h3 id="DXRobot.PlayShoot"><a class="headerlink" href="#DXRobot.PlayShoot" title="Permanent link">PlayShoot</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;PlayAnimPivot('Still');<br><br></div>
<h3 id="DXRobot.PlaySwimming"><a class="headerlink" href="#DXRobot.PlaySwimming" title="Permanent link">PlaySwimming</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;LoopAnimPivot('Still');<br><br></div>
<h3 id="DXRobot.PlayTargetAcquiredSound"><a class="headerlink" href="#DXRobot.PlayTargetAcquiredSound" title="Permanent link">PlayTargetAcquiredSound</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;PlaySound(SpeechTargetAcquired, SLOT_None,,, 2048);<br><br></div>
<h3 id="DXRobot.PlayTargetLostSound"><a class="headerlink" href="#DXRobot.PlayTargetLostSound" title="Permanent link">PlayTargetLostSound</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;PlaySound(SpeechTargetLost, SLOT_None,,, 2048);<br><br></div>
<h3 id="DXRobot.PlayTurning"><a class="headerlink" href="#DXRobot.PlayTurning" title="Permanent link">PlayTurning</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;LoopAnimPivot('Walk');<br><br></div>
<h3 id="DXRobot.PlayWaiting"><a class="headerlink" href="#DXRobot.PlayWaiting" title="Permanent link">PlayWaiting</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;PlayAnimPivot('Idle');<br><br></div>
<h3 id="DXRobot.PlayWalking"><a class="headerlink" href="#DXRobot.PlayWalking" title="Permanent link">PlayWalking</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;bIsWalking = True;<br>&#9;LoopAnimPivot('Walk');<br><br></div>
<h3 id="DXRobot.PlayWeaponSwitch"><a class="headerlink" href="#DXRobot.PlayWeaponSwitch" title="Permanent link">PlayWeaponSwitch</a> (Weapon newWeapon)</h3>

<h3 id="DXRobot.ReactToInjury"><a class="headerlink" href="#DXRobot.ReactToInjury" title="Permanent link">ReactToInjury</a> (Pawn instigatedBy, Name damageType, EHitLocation hitPos)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Pawn oldEnemy;<br><br><br>&#9;if (IgnoreDamageType(damageType))<br>&#9;&#9;return;<br><br>&#9;if (EMPHitPoints > 0)<br>&#9;{<br>&#9;&#9;if (damageType == 'NanoVirus')<br>&#9;&#9;{<br>&#9;&#9;&#9;oldEnemy = Enemy;<br>&#9;&#9;&#9;FindBestEnemy(false);<br>&#9;&#9;&#9;if (oldEnemy != Enemy)<br>&#9;&#9;&#9;&#9;PlayNewTargetSound();<br>&#9;&#9;&#9;instigatedBy = Enemy;<br>&#9;&#9;}<br>&#9;&#9;Super.ReactToInjury(instigatedBy, damageType, hitPos);<br>&#9;}<br><br></div>
<h3 id="DXRobot.SetOrders"><a class="headerlink" href="#DXRobot.SetOrders" title="Permanent link">SetOrders</a> (Name orderName, optional Name newOrderTag, optional bool bImmediate)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if (EMPHitPoints > 0 || !bIsDisabled)  // ignore orders if disabled)  // ignore orders if disabled<br>&#9;&#9;Super.SetOrders(orderName, newOrderTag, bImmediate);<br><br></div>
<h3 id="DXRobot.ShouldDropWeapon"><a class="headerlink" href="#DXRobot.ShouldDropWeapon" title="Permanent link">ShouldDropWeapon</a> -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;return false;<br><br></div>
<h3 id="DXRobot.ShouldFlee"><a class="headerlink" href="#DXRobot.ShouldFlee" title="Permanent link">ShouldFlee</a> -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;return (Health <= MinHealth);<br><br></div>
<h3 id="DXRobot.SpawnCarcass"><a class="headerlink" href="#DXRobot.SpawnCarcass" title="Permanent link">SpawnCarcass</a> -> Carcass</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;ExplodeBot();<br><br>&#9;return None;<br><br></div>
<h3 id="DXRobot.TakeDamageBase"><a class="headerlink" href="#DXRobot.TakeDamageBase" title="Permanent link">TakeDamageBase</a> (int Damage, Pawn instigatedBy, Vector hitlocation, Vector momentum, name damageType, bool bPlayAnim)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local float actualDamage;<br>&#9;local int oldEMPHitPoints;<br><br><br>&#9;// Robots are invincible to EMP in multiplayer as well<br>&#9;if (( Level.NetMode != NM_Standalone ) && (damageType == 'EMP') && (Self.IsA('MedicalBot') || Self.IsA('RepairBot')) )<br>&#9;&#9;return;<br><br>&#9;if ( bInvincible )<br>&#9;&#9;return;<br><br>&#9;// robots aren't affected by gas or radiation<br>&#9;if (IgnoreDamageType(damageType))<br>&#9;&#9;return;<br><br>&#9;// enough EMP damage shuts down the robot<br>&#9;if (damageType == 'EMP')<br>&#9;{<br>&#9;&#9;oldEMPHitPoints = EMPHitPoints;<br>&#9;&#9;EMPHitPoints   -= Damage;<br><br>&#9;&#9;// make smoke!<br>&#9;&#9;if (EMPHitPoints <= 0)<br>&#9;&#9;{<br>&#9;&#9;&#9;EMPHitPoints = 0;<br>&#9;&#9;&#9;if (oldEMPHitPoints > 0)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;PlaySound(sound'EMPZap', SLOT_None,,, (CollisionRadius+CollisionHeight)*8, 2.0);<br>&#9;&#9;&#9;&#9;InitGenerator();<br>&#9;&#9;&#9;&#9;if (sparkGen != None)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;sparkGen.LifeSpan = 6;<br>&#9;&#9;&#9;&#9;&#9;sparkGen.particleTexture = Texture'Effects.Smoke.SmokePuff1';<br>&#9;&#9;&#9;&#9;&#9;sparkGen.particleDrawScale = 0.3;<br>&#9;&#9;&#9;&#9;&#9;sparkGen.bRandomEject = False;<br>&#9;&#9;&#9;&#9;&#9;sparkGen.ejectSpeed = 10.0;<br>&#9;&#9;&#9;&#9;&#9;sparkGen.bGravity = False;<br>&#9;&#9;&#9;&#9;&#9;sparkGen.bParticlesUnlit = True;<br>&#9;&#9;&#9;&#9;&#9;sparkGen.frequency = 0.3;<br>&#9;&#9;&#9;&#9;&#9;sparkGen.riseRate = 3;<br>&#9;&#9;&#9;&#9;&#9;sparkGen.spawnSound = Sound'Spark2';<br>&#9;&#9;&#9;&#9;&#9;bSmoking = true;<br>&#9;&#9;&#9;&#9;&#9;log("Server smoking");<br>&#9;&#9;&#9;&#9;&#9;bSparking = false;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;AmbientSound = None;<br>&#9;&#9;&#9;if (GetStateName() != 'Disabled')<br>&#9;&#9;&#9;&#9;GotoState('Disabled');<br>&#9;&#9;}<br><br>&#9;&#9;// make sparks!<br>&#9;&#9;else if (sparkGen == None)<br>&#9;&#9;{<br>&#9;&#9;&#9;InitGenerator();<br>&#9;&#9;&#9;if (sparkGen != None)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;sparkGen.particleTexture = Texture'Effects.Fire.SparkFX1';<br>&#9;&#9;&#9;&#9;sparkGen.particleDrawScale = 0.2;<br>&#9;&#9;&#9;&#9;sparkGen.bRandomEject = True;<br>&#9;&#9;&#9;&#9;sparkGen.ejectSpeed = 100.0;<br>&#9;&#9;&#9;&#9;sparkGen.bGravity = True;<br>&#9;&#9;&#9;&#9;sparkGen.bParticlesUnlit = True;<br>&#9;&#9;&#9;&#9;sparkGen.frequency = 0.2;<br>&#9;&#9;&#9;&#9;sparkGen.riseRate = 10;<br>&#9;&#9;&#9;&#9;sparkGen.spawnSound = Sound'Spark2';<br>&#9;&#9;&#9;&#9;bSmoking = false;<br>&#9;&#9;&#9;&#9;bSparking = true;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br><br>&#9;&#9;return;<br>&#9;}<br>&#9;else if (damageType == 'NanoVirus')<br>&#9;{<br>&#9;&#9;CrazedTimer += 0.5*Damage;<br>&#9;&#9;return;<br>&#9;}<br><br>&#9;// play a hit sound<br>&#9;PlayTakeHitSound(Damage, damageType, 1);<br><br>&#9;// increase the pitch of the ambient sound when damaged<br>&#9;if (SoundPitch == Default.SoundPitch)<br>&#9;&#9;SoundPitch += 16;<br><br>&#9;actualDamage = Level.Game.ReduceDamage(Damage, DamageType, self, instigatedBy);<br><br>&#9;// robots don't have soft, squishy bodies like humans do, so they're less<br>&#9;// susceptible to gunshots...<br>&#9;if (damageType == 'Shot')<br>&#9;&#9;actualDamage *= 0.25;  // quarter strength<br><br>&#9;// hitting robots with a prod won't stun them, and will only do a limited<br>&#9;// amount of damage...<br>&#9;else if ((damageType == 'Stunned') || (damageType == 'KnockedOut'))<br>&#9;&#9;actualDamage *= 0.5;  // half strength<br><br>&#9;// flame attacks don't really hurt robots much, either<br>&#9;else if ((damageType == 'Flamed') || (damageType == 'Burned'))<br>&#9;&#9;actualDamage *= 0.25;  // quarter strength<br><br>&#9;if ((actualDamage > 0.01) && (actualDamage < 1))<br>&#9;&#9;actualDamage = 1;<br>&#9;actualDamage = int(actualDamage+0.5);<br><br>&#9;if (ReducedDamageType == 'All') //God mode<br>&#9;&#9;actualDamage = 0;<br>&#9;else if (Inventory != None) //then check if carrying armor<br>&#9;&#9;actualDamage = Inventory.ReduceDamage(int(actualDamage), DamageType, HitLocation);<br><br>&#9;if (!bInvincible)<br>&#9;&#9;Health -= int(actualDamage);<br><br>&#9;if (Health <= 0)<br>&#9;{<br>&#9;&#9;ClearNextState();<br>&#9;&#9;//PlayDeathHit(actualDamage, hitLocation, damageType);<br>&#9;&#9;if ( actualDamage > mass )<br>&#9;&#9;&#9;Health = -1 * actualDamage;<br>&#9;&#9;Enemy = instigatedBy;<br>&#9;&#9;Died(instigatedBy, damageType, HitLocation);<br>&#9;}<br>&#9;MakeNoise(1.0);<br><br>&#9;ReactToInjury(instigatedBy, damageType, HITLOC_None);<br><br></div>
<h3 id="DXRobot.Tick"><a class="headerlink" href="#DXRobot.Tick" title="Permanent link">Tick</a> (float deltaTime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local float pct, mod;<br><br><br>&#9;Super.Tick(deltaTime);<br><br>&#9;// DEUS_EX AMSD All the MP robots have massive numbers of EMP hitpoints, not equal to the default.  In multiplayer, at least, only do this if<br>&#9;// they are DAMAGED.<br>&#9;if ((Default.EMPHitPoints != EMPHitPoints) && (EMPHitPoints != 0) && ((Level.Netmode == NM_Standalone) || (EMPHitPoints < Default.EMPHitPoints)))<br>&#9;{<br>&#9;&#9;pct = (Default.EMPHitPoints - EMPHitPoints) / Default.EMPHitPoints;<br>&#9;&#9;mod = pct * (1.0 - (2.0 * FRand()));<br>&#9;&#9;DesiredSpeed = MaxDesiredSpeed + (mod * MaxDesiredSpeed * 0.5);<br>&#9;&#9;SoundPitch = Default.SoundPitch + (mod * 8.0);<br>&#9;}<br><br>&#9;if (CrazedTimer > 0)<br>&#9;{<br>&#9;&#9;CrazedTimer -= deltaTime;<br>&#9;&#9;if (CrazedTimer < 0)<br>&#9;&#9;&#9;CrazedTimer = 0;<br>&#9;}<br><br>&#9;if (CrazedTimer > 0)<br>&#9;&#9;bReverseAlliances = true;<br>&#9;else<br>&#9;&#9;bReverseAlliances = false;<br>&#9;<br><br></div>
<h3 id="DXRobot.TweenToAttack"><a class="headerlink" href="#DXRobot.TweenToAttack" title="Permanent link">TweenToAttack</a> (float tweentime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;TweenAnimPivot('Still', tweentime);<br><br></div>
<h3 id="DXRobot.TweenToRunning"><a class="headerlink" href="#DXRobot.TweenToRunning" title="Permanent link">TweenToRunning</a> (float tweentime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;bIsWalking = False;<br>&#9;PlayAnimPivot('Run',, tweentime);<br><br></div>
<h3 id="DXRobot.TweenToRunningAndFiring"><a class="headerlink" href="#DXRobot.TweenToRunningAndFiring" title="Permanent link">TweenToRunningAndFiring</a> (float tweentime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;bIsWalking = FALSE;<br>&#9;TweenAnimPivot('Run', tweentime);<br><br></div>
<h3 id="DXRobot.TweenToShoot"><a class="headerlink" href="#DXRobot.TweenToShoot" title="Permanent link">TweenToShoot</a> (float tweentime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;TweenAnimPivot('Still', tweentime);<br><br></div>
<h3 id="DXRobot.TweenToSwimming"><a class="headerlink" href="#DXRobot.TweenToSwimming" title="Permanent link">TweenToSwimming</a> (float tweentime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;TweenAnimPivot('Still', tweentime);<br><br></div>
<h3 id="DXRobot.TweenToWaiting"><a class="headerlink" href="#DXRobot.TweenToWaiting" title="Permanent link">TweenToWaiting</a> (float tweentime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;TweenAnimPivot('Idle', tweentime);<br><br></div>
<h3 id="DXRobot.TweenToWalking"><a class="headerlink" href="#DXRobot.TweenToWalking" title="Permanent link">TweenToWalking</a> (float tweentime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;bIsWalking = True;<br>&#9;TweenAnimPivot('Walk', tweentime);<br><br></div>
<br><br><hr>
<a class="headerlink" href="#DXScriptedPawn.uc" title="Permanent link"><h2 id="DXScriptedPawn.uc">DXScriptedPawn.uc (extends ScriptedPawn)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var() bool bUseChatList;<br>var() bool bSpecial;<br>var() string Saymsg;<br>var() string ListMSGs[5];<br>var() bool bRandomList;<br>var DeusExPlayer p;<br>var rotator oldViewRotation;<br>var float rtfTimer;<br>var float autoTimer;<br>var int scoreCredits, scoreEXP;<br>var bool bKD;<br>var int i;<br>var() bool bPhatLewt;<br>var() class<actor> Lewt;<br>var DeusExPlayer CamLock;<br>var() sound ConvoSound;<br>var() bool bPlaySound;<br>var() bool bIgnoreAdmins;<br>var() bool bCanLink;<br>var() string AllianceGroup;<br>var() bool bHasCloakX;<br>var() bool bVoiced;<br>var() int Medkits;<br>var() int MedkitMinHealth;<br>var(Sounds) sound SoundBossArmourBreak, SoundBossArmourRestore;<br>var(Taunts) string tScanning, tTargetAcquired, tTargetLost, tCriticalDamage, tAreaSecure, tBossArmourDown, tBossArmourBack, tMedkitUsed, tCallingBackup, tRespondBackup, tHunting;<br>var(Taunts) sound sScanning[5], sTargetAcquired[3], sTargetLost[3], sCriticalDamage[3], sAreaSecure[3], sBossArmourDown, sBossArmourBack, sMedkitUsed, sCallingBackup[3], sRespondBackup[3], sHunting[3];<br>var(Boss) bool bBossArmour;<br>var(Boss) int BossArmour;<br>var int OrigHealth;<br>var int CurrentBossArmour;<br>var PlayerPawn LinkedPlayer;<br>var bool bLinked;<br>var bool bTempMute;<br>var() class<DXScriptedPawn> AllyClass;<br>var bool bCop;<br>var(Boss) bool bReturnArmour;<br>var(Boss) int ReturnArmour;<br>var int CurrentReturnArmour;<br>var bool bReturnArmourBroken, bBossArmourBroken;<br>var int TimeSinceBossBreak, TimeSinceReturnBreak;<br>var int RACharge, BACharge;<br>var bool bCanChargeRA, bCanChargeBA;<br>var(Criminal) bool bEnableCrim;<br>var(Criminal) bool bSteal;<br>var Pawn HuntedPlayer;<br>var bool bPHunting;<br>var() int lOdds;<br>var bool bLegendary;<br>var() bool bHasADS;<br>var BotADS myADS;<br>var() int AdsEnergy;<br>var() bool AdsUnlimited;<br>var DeusExPlayer FallbackTarget;<br>var(Spawning) bool bLimitSpawning;<br>var(Spawning) int MinPlayers, PercentageChanceOfSpawn;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">Saymsg="I have nothing to say to you."<br>scoreCredits=50<br>SoundBossArmourBreak=Sound'DeusExSounds.Augmentation.CloakDown'<br>SoundBossArmourRestore=Sound'DeusExSounds.Augmentation.CloakUp'<br>bAimForHead=True<br>RaiseAlarm=RAISEALARM_Never<br>NameArticle=""</div>
<h3 id="DXScriptedPawn.AICanShoot"><a class="headerlink" href="#DXScriptedPawn.AICanShoot" title="Permanent link">AICanShoot</a> (Pawn Target, bool bLeadTarget, bool bCheckReadiness, optional float throwAccuracy, optional bool bDiscountMinRange) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExWeapon dxWeapon;<br><br><br>&#9;if ( (Target == None) )<br>&#9;{<br>&#9;&#9;return False;<br>&#9;}<br>&#9;if(DeusExPlayer(Target).bAdmin && bIgnoreAdmins)<br>&#9;{<br>&#9;&#9;return False;<br>&#9;}<br>&#9;if ( Target.bIgnore )<br>&#9;{<br>&#9;&#9;return False;<br>&#9;}<br>&#9;dxWeapon = DeusExWeapon(Weapon);<br>&#9;if ( (dxWeapon == None) )<br>&#9;{<br>&#9;&#9;return False;<br>&#9;}<br>&#9;if ( (bCheckReadiness && !(dxWeapon.bReadyToFire)) )<br>&#9;{<br>&#9;&#9;return (rtfTimer > dxWeapon.reloadTime);<br>&#9;}<br>&#9;return Super.AICanShoot(Target,bLeadTarget,False,throwAccuracy,bDiscountMinRange);<br><br></div>
<h3 id="DXScriptedPawn.AdjustJump"><a class="headerlink" href="#DXScriptedPawn.AdjustJump" title="Permanent link">AdjustJump</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local float velZ;<br>&#9;local vector FullVel;<br><br><br>&#9;&#9;velZ = Velocity.Z;<br>&#9;&#9;FullVel = Normal(Velocity) * GroundSpeed;<br><br>&#9;&#9;If (Location.Z > Destination.Z + CollisionHeight + 2 * MaxStepHeight)<br>&#9;&#9;{<br>&#9;&#9;&#9;Velocity = FullVel;<br>&#9;&#9;&#9;Velocity.Z = velZ;<br>&#9;&#9;&#9;Velocity = EAdjustJump();<br>&#9;&#9;&#9;Velocity.Z = 0;<br>&#9;&#9;&#9;if ( VSize(Velocity) < 0.9 * GroundSpeed )<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;Velocity.Z = velZ;<br>&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br><br>&#9;&#9;Velocity = FullVel;<br>&#9;&#9;Velocity.Z = JumpZ + velZ;<br>&#9;&#9;Velocity = EAdjustJump();<br>&#9;<br></div>
<h3 id="DXScriptedPawn.AnimEnd"><a class="headerlink" href="#DXScriptedPawn.AnimEnd" title="Permanent link">AnimEnd</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;PlayWaiting();<br>&#9;<br></div>
<h3 id="DXScriptedPawn.BaseChange"><a class="headerlink" href="#DXScriptedPawn.BaseChange" title="Permanent link">BaseChange</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local float minJumpZ;<br><br><br>&#9;&#9;Global.BaseChange();<br><br>&#9;&#9;if (Physics == PHYS_Walking)<br>&#9;&#9;{<br>&#9;&#9;&#9;minJumpZ = FMax(JumpZ, 150.0);<br>&#9;&#9;&#9;bJustLanded = true;<br>&#9;&#9;&#9;if (Health > 0)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if ((Velocity.Z < -0.8 * minJumpZ) || bUpAndOut)<br>&#9;&#9;&#9;&#9;&#9;GotoState('FallingState', 'Landed');<br>&#9;&#9;&#9;&#9;else if (Velocity.Z < -0.8 * JumpZ)<br>&#9;&#9;&#9;&#9;&#9;GotoState('FallingState', 'FastLanded');<br>&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;GotoState('FallingState', 'Done');<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;<br></div>
<h3 id="DXScriptedPawn.BeginState"><a class="headerlink" href="#DXScriptedPawn.BeginState" title="Permanent link">BeginState</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;StandUp();<br>&#9;&#9;Disable('AnimEnd');<br>&#9;&#9;//Disable('Bump');<br>&#9;&#9;BlockReactions();<br>&#9;&#9;if (!bCower)<br>&#9;&#9;&#9;bCanConverse = False;<br>&#9;&#9;bStasis = False;<br>&#9;&#9;SetupWeapon(false, true);<br>&#9;&#9;SetDistress(true);<br>&#9;&#9;EnemyReadiness = 1.0;<br>&#9;&#9;//ReactionLevel  = 1.0;<br>&#9;&#9;SeekPawn = None;<br>&#9;&#9;EnableCheckDestLoc(false);<br>&#9;<br></div>
<h3 id="DXScriptedPawn.BossFX"><a class="headerlink" href="#DXScriptedPawn.BossFX" title="Permanent link">BossFX</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local ProjectileGenerator PG;<br><br>&#9;&#9;//bCollideActors=False;<br>&#9;&#9;bBlockActors=False;<br>&#9;&#9;PG = spawn(class'ProjectileGenerator',,,Location,rot(16384,0,0));<br>&#9;&#9;PG.bRandomEject=True;<br>&#9;&#9;PG.ProjectileClass = class'Tracer';<br>&#9;&#9;PG.NumPerSpawn = 5;<br>&#9;&#9;PG.CheckTime = 1;<br>&#9;&#9;PG.Lifespan=4;<br><br></div>
<h3 id="DXScriptedPawn.BreakBossArmour"><a class="headerlink" href="#DXScriptedPawn.BreakBossArmour" title="Permanent link">BreakBossArmour</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(tBossArmourDown != "")<br>&#9;&#9;RadiusMSG(tBossArmourDown);<br>&#9;if(SoundBossArmourBreak != None)<br>&#9;&#9;PlaySound(SoundBossArmourBreak, SLOT_None,,, 2048);<br>&#9;if(sBossArmourDown != None)<br>&#9;&#9;PlaySound(sBossArmourDown, SLOT_None,,, 2048);<br><br></div>
<h3 id="DXScriptedPawn.Bump"><a class="headerlink" href="#DXScriptedPawn.Bump" title="Permanent link">Bump</a> (actor bumper)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;if (bAcceptBump)<br>&#9;&#9;{<br>&#9;&#9;&#9;// If we get bumped by another actor while we wait, start wandering again<br>&#9;&#9;&#9;bAcceptBump = False;<br>&#9;&#9;&#9;Disable('AnimEnd');<br>&#9;&#9;&#9;GotoState('Wandering', 'Wander');<br>&#9;&#9;}<br><br>&#9;&#9;// Handle conversations, if need be<br>&#9;&#9;Global.Bump(bumper);<br>&#9;<br></div>
<h3 id="DXScriptedPawn.CheckAttack"><a class="headerlink" href="#DXScriptedPawn.CheckAttack" title="Permanent link">CheckAttack</a> (bool bPlaySound)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local bool bCriticalDamage;<br>&#9;local bool bOutOfAmmo;<br>&#9;local Pawn oldEnemy;<br>&#9;local bool bAllianceSwitch;<br><br><br>          oldEnemy = enemy;<br><br>          bAllianceSwitch = false;<br>          if (!IsValidEnemy(enemy) || (DeusExPlayer(Enemy).bAdmin && bIgnoreAdmins))<br>          {<br>               if (IsValidEnemy(enemy, false))<br>                    bAllianceSwitch = true;<br>               SetEnemy(None, 0, true);<br>          }<br><br>          if (enemy == None)<br>          {<br>               if (Orders == 'Attacking')<br>               {<br>                    FindOrderActor();<br>                    SetEnemy(Pawn(OrderActor), 0, true);<br>               }<br>          }<br>          if (ReadyForNewEnemy())<br>               FindBestEnemy(false);<br>          if (enemy == None)<br>          {<br>               Enemy = oldEnemy;  // hack<br>               if (bPlaySound)<br>               {<br>                    if (bAllianceSwitch)<br>                         PlayAllianceFriendlySound();<br>                    else<br>                         PlayAreaSecureSound();<br>               }<br>               Enemy = None;<br>               if (Orders != 'Attacking')<br>                    FollowOrders();<br>               else<br>                    GotoState('Wandering');<br>               return;<br>          }<br><br>          SwitchToBestWeapon();<br>          if (bCrouching && (CrouchTimer <= 0) && !ShouldCrouch())<br>          {<br>               EndCrouch();<br>               TweenToShoot(0.15);<br>          }<br>          bCriticalDamage = False;<br>          bOutOfAmmo      = False;<br>          if (ShouldFlee())<br>               bCriticalDamage = True;<br>          else if (Weapon == None)<br>               bOutOfAmmo = True;<br>          else if (Weapon.ReloadCount > 0)<br>          {<br>               if (Weapon.AmmoType == None)<br>                    bOutOfAmmo = True;<br>               else if (Weapon.AmmoType.AmmoAmount < 1)<br>                    bOutOfAmmo = True;<br>          }<br>          if (bCriticalDamage || bOutOfAmmo)<br>          {<br>               if (bPlaySound)<br>               {<br>                    if (bCriticalDamage)<br>                         PlayCriticalDamageSound();<br>                    else if (bOutOfAmmo)<br>                         PlayOutOfAmmoSound();<br>               }<br>               if (RaiseAlarm == RAISEALARM_BeforeFleeing)<br>                    GotoState('Alerting');<br>               else<br>                    GotoState('Fleeing');<br>          }<br>          else if (bPlaySound && (oldEnemy != Enemy))<br>               PlayNewTargetSound();<br>     <br></div>
<h3 id="DXScriptedPawn.ConvMessage"><a class="headerlink" href="#DXScriptedPawn.ConvMessage" title="Permanent link">ConvMessage</a> (DeusExPlayer P, string Message)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local HUDMissionStartTextDisplay _HUD;<br><br><br>&#9;if((P.RootWindow != None) && (DeusExRootWindow(P.RootWindow).HUD != None))<br>&#9;{<br>&#9;&#9;_HUD = DeusExRootWindow(P.RootWindow).HUD.startDisplay;<br>&#9;}<br><br>&#9;if(_HUD != None) <br>&#9;{ <br>&#9;&#9;_HUD.shadowDist = 0; <br>&#9;&#9;_HUD.Message = ""; <br>&#9;&#9;_HUD.charIndex = 0; <br>&#9;&#9;_HUD.winText.SetText(""); <br>&#9;&#9;_HUD.winTextShadow.SetText(""); <br>&#9;&#9;_HUD.displayTime = 5.50; <br>&#9;&#9;_HUD.perCharDelay = 0.30; <br>&#9;&#9;_HUD.AddMessage(Message); <br>&#9;&#9;_HUD.StartMessage(); <br>&#9;}<br><br></div>
<h3 id="DXScriptedPawn.DrawBossShield"><a class="headerlink" href="#DXScriptedPawn.DrawBossShield" title="Permanent link">DrawBossShield</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local BossArmourEffect shield;<br><br>&#9;shield = Spawn(class'BossArmourEffect', Self,, Location, Rotation);<br>&#9;if (shield != None)<br>&#9;{<br>&#9;&#9;Shield.DrawScale = Drawscale;<br>&#9;&#9;shield.SetBase(Self);<br>&#9;}<br><br></div>
<h3 id="DXScriptedPawn.DrawReturnShield"><a class="headerlink" href="#DXScriptedPawn.DrawReturnShield" title="Permanent link">DrawReturnShield</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local ReturnArmourEffect shield;<br><br><br>&#9;shield = Spawn(class'ReturnArmourEffect', Self,, Location, Rotation);<br>&#9;if (shield != None)<br>&#9;{<br>&#9;&#9;Shield.DrawScale = Drawscale;<br>&#9;&#9;shield.SetBase(Self);<br>&#9;}<br><br></div>
<h3 id="DXScriptedPawn.EndCrouch"><a class="headerlink" href="#DXScriptedPawn.EndCrouch" title="Permanent link">EndCrouch</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>          if (bCrouching)<br>          {<br>&#9;&#9;  &#9;//&#9;if(bHasCloakX)<br>&#9;&#9;&#9;&#9;//&#9;EnableCloak(False);<br>               bCrouching = false;<br>               ResetBasedPawnSize();<br>          }<br>     <br></div>
<h3 id="DXScriptedPawn.EndState"><a class="headerlink" href="#DXScriptedPawn.EndState" title="Permanent link">EndState</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;EnableCheckDestLoc(false);<br>&#9;&#9;Enable('AnimEnd');<br>&#9;&#9;//Enable('Bump');<br>&#9;&#9;ResetReactions();<br>&#9;&#9;if (!bCower)<br>&#9;&#9;&#9;bCanConverse = True;<br>&#9;&#9;bStasis = True;<br>&#9;<br></div>
<h3 id="DXScriptedPawn.Explode"><a class="headerlink" href="#DXScriptedPawn.Explode" title="Permanent link">Explode</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local SphereEffect sphere;<br>&#9;local ScorchMark s;<br>&#9;local ExplosionLight light;<br>&#9;local int i;<br>&#9;local float explosionDamage;<br>&#9;local float explosionRadius;<br><br><br>&#9;explosionDamage = 100;<br>&#9;explosionRadius = 256;<br><br>&#9;// alert NPCs that I'm exploding<br>&#9;AISendEvent('LoudNoise', EAITYPE_Audio, , explosionRadius*16);<br>&#9;PlaySound(Sound'LargeExplosion1', SLOT_None,,, explosionRadius*16);<br><br>&#9;// draw a pretty explosion<br>&#9;light = Spawn(class'ExplosionLight',,, Location);<br>&#9;if (light != None)<br>&#9;&#9;light.size = 4;<br><br>&#9;Spawn(class'ExplosionSmall',,, Location + 2*VRand()*CollisionRadius);<br>&#9;Spawn(class'ExplosionMedium',,, Location + 2*VRand()*CollisionRadius);<br>&#9;Spawn(class'ExplosionMedium',,, Location + 2*VRand()*CollisionRadius);<br>&#9;Spawn(class'ExplosionLarge',,, Location + 2*VRand()*CollisionRadius);<br><br>&#9;sphere = Spawn(class'SphereEffect',,, Location);<br>&#9;if (sphere != None)<br>&#9;&#9;sphere.size = explosionRadius / 32.0;<br><br>&#9;// spawn a mark<br>&#9;s = spawn(class'ScorchMark', Base,, Location-vect(0,0,1)*CollisionHeight, Rotation+rot(16384,0,0));<br>&#9;if (s != None)<br>&#9;{<br>&#9;&#9;s.DrawScale = FClamp(explosionDamage/30, 0.1, 3.0);<br>&#9;&#9;s.ReattachDecal();<br>&#9;}<br><br>&#9;// spawn some rocks and flesh fragments<br>&#9;for (i=0; i<explosionDamage/6; i++)<br>&#9;{<br>&#9;&#9;if (FRand() < 0.3)<br>&#9;&#9;&#9;spawn(class'Rockchip',,,Location);<br>&#9;&#9;else<br>&#9;&#9;&#9;spawn(class'FleshFragment',,,Location);<br>&#9;}<br>&#9;PlayDyingSound();<br>&#9;HurtRadius(explosionDamage, explosionRadius, 'Exploded', explosionDamage*100, Location);<br>&#9;&#9;if(bPhatLewt)<br>&#9;&#9;{<br>&#9;&#9;&#9;Spawn(Lewt,,,Location);<br>&#9;&#9;}<br><br></div>
<h3 id="DXScriptedPawn.Explode2"><a class="headerlink" href="#DXScriptedPawn.Explode2" title="Permanent link">Explode2</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local SphereEffect sphere;<br>&#9;local ScorchMark s;<br>&#9;local ExplosionLight light;<br>&#9;local int i;<br>&#9;local float explosionDamage;<br>&#9;local float explosionRadius;<br><br><br>&#9;explosionDamage = 200;<br>&#9;explosionRadius = 300;<br><br>&#9;// alert NPCs that I'm exploding<br>&#9;AISendEvent('LoudNoise', EAITYPE_Audio, , explosionRadius*16);<br>&#9;PlaySound(Sound'LargeExplosion1', SLOT_None,,, explosionRadius*16);<br><br>&#9;// draw a pretty explosion<br>&#9;light = Spawn(class'ExplosionLight',,, Location);<br>&#9;if (light != None)<br>&#9;&#9;light.size = 4;<br><br>&#9;Spawn(class'ExplosionSmall',,, Location + 2*VRand()*CollisionRadius);<br>&#9;Spawn(class'ExplosionMedium',,, Location + 2*VRand()*CollisionRadius);<br>&#9;Spawn(class'ExplosionMedium',,, Location + 2*VRand()*CollisionRadius);<br>&#9;Spawn(class'ExplosionLarge',,, Location + 2*VRand()*CollisionRadius);<br><br>&#9;sphere = Spawn(class'SphereEffect',,, Location);<br>&#9;if (sphere != None)<br>&#9;&#9;sphere.size = explosionRadius / 32.0;<br><br>&#9;// spawn a mark<br>&#9;s = spawn(class'ScorchMark', Base,, Location-vect(0,0,1)*CollisionHeight, Rotation+rot(16384,0,0));<br>&#9;if (s != None)<br>&#9;{<br>&#9;&#9;s.DrawScale = FClamp(explosionDamage/30, 0.1, 3.0);<br>&#9;&#9;s.ReattachDecal();<br>&#9;}<br><br>&#9;// spawn some rocks and flesh fragments<br>&#9;for (i=0; i<explosionDamage/6; i++)<br>&#9;{<br>&#9;&#9;if (FRand() < 0.3)<br>&#9;&#9;&#9;spawn(class'Rockchip',,,Location);<br>&#9;&#9;else<br>&#9;&#9;&#9;spawn(class'FleshFragment',,,Location);<br>&#9;}<br>&#9;PlayDyingSound();<br>&#9;HurtRadius(explosionDamage, explosionRadius, 'Exploded', explosionDamage*100, Location);<br>&#9;&#9;<br>&#9;&#9;if(bPhatLewt)<br>&#9;&#9;{<br>&#9;&#9;&#9;Spawn(Lewt,,,Location);<br>&#9;&#9;}<br><br></div>
<h3 id="DXScriptedPawn.ExplodeBot"><a class="headerlink" href="#DXScriptedPawn.ExplodeBot" title="Permanent link">ExplodeBot</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local SphereEffect sphere;<br>&#9;local ScorchMark s;<br>&#9;local ExplosionLight light;<br>&#9;local int i;<br>&#9;local float explosionDamage;<br>&#9;local float explosionRadius;<br><br><br>&#9;explosionDamage = 100;<br>&#9;explosionRadius = 256;<br><br>&#9;// alert NPCs that I'm exploding<br>&#9;AISendEvent('LoudNoise', EAITYPE_Audio, , explosionRadius*16);<br>&#9;PlaySound(Sound'LargeExplosion1', SLOT_None,,, explosionRadius*16);<br><br>&#9;// draw a pretty explosion<br>&#9;light = Spawn(class'ExplosionLight',,, Location);<br>&#9;if (light != None)<br>&#9;&#9;light.size = 4;<br><br>&#9;Spawn(class'ExplosionSmall',,, Location + 2*VRand()*CollisionRadius);<br>&#9;Spawn(class'ExplosionMedium',,, Location + 2*VRand()*CollisionRadius);<br>&#9;Spawn(class'ExplosionMedium',,, Location + 2*VRand()*CollisionRadius);<br>&#9;Spawn(class'ExplosionLarge',,, Location + 2*VRand()*CollisionRadius);<br><br>&#9;sphere = Spawn(class'SphereEffect',,, Location);<br>&#9;if (sphere != None)<br>&#9;&#9;sphere.size = explosionRadius / 32.0;<br><br>&#9;// spawn a mark<br>&#9;s = spawn(class'ScorchMark', Base,, Location-vect(0,0,1)*CollisionHeight, Rotation+rot(16384,0,0));<br>&#9;if (s != None)<br>&#9;{<br>&#9;&#9;s.DrawScale = FClamp(explosionDamage/30, 0.1, 3.0);<br>&#9;&#9;s.ReattachDecal();<br>&#9;}<br>&#9;<br>&#9;PlayDyingSound();<br>&#9;HurtRadius(explosionDamage, explosionRadius, 'Exploded', explosionDamage*100, Location);<br>&#9;&#9;if(bPhatLewt)<br>&#9;&#9;{<br>&#9;&#9;&#9;Spawn(Lewt,,,Location);<br>&#9;&#9;}<br><br></div>
<h3 id="DXScriptedPawn.ExtSay"><a class="headerlink" href="#DXScriptedPawn.ExtSay" title="Permanent link">ExtSay</a> (string Str)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer DXP;<br><br>&#9;foreach allActors(class'DeusExPlayer',DXP)<br>&#9;{<br>&#9;&#9;DXP.ClientMessage(familiarName$": "$str, 'Say');<br>&#9;}<br><br></div>
<h3 id="DXScriptedPawn.FindBestSeat"><a class="headerlink" href="#DXScriptedPawn.FindBestSeat" title="Permanent link">FindBestSeat</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Seat  curSeat;<br>&#9;local Seat  bestSeat;<br>&#9;local float curDist;<br>&#9;local float bestDist;<br>&#9;local int   curSlot;<br>&#9;local int   bestSlot;<br>&#9;local bool  bTry;<br><br><br>&#9;&#9;if (bUseFirstSeatOnly && bSeatHackUsed)<br>&#9;&#9;{<br>&#9;&#9;&#9;bestSeat = SeatHack;  // use the seat hack<br>&#9;&#9;&#9;bestSlot = -1;<br>&#9;&#9;&#9;if (!IsSeatValid(bestSeat))<br>&#9;&#9;&#9;&#9;bestSeat = None;<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if (GetNextWaypoint(bestSeat) == None)<br>&#9;&#9;&#9;&#9;&#9;bestSeat = None;<br>&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;bestSlot = FindBestSlot(bestSeat, curDist);<br>&#9;&#9;&#9;&#9;&#9;if (bestSlot < 0)<br>&#9;&#9;&#9;&#9;&#9;&#9;bestSeat = None;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;{<br>&#9;&#9;&#9;bestSeat = Seat(OrderActor);  // try the ordered seat first<br>&#9;&#9;&#9;if (bestSeat != None)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if (!IsSeatValid(OrderActor))<br>&#9;&#9;&#9;&#9;&#9;bestSeat = None;<br>&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if (GetNextWaypoint(bestSeat) == None)<br>&#9;&#9;&#9;&#9;&#9;&#9;bestSeat = None;<br>&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;bestSlot = FindBestSlot(bestSeat, curDist);<br>&#9;&#9;&#9;&#9;&#9;&#9;if (bestSlot < 0)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;bestSeat = None;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;if (bestSeat == None)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;bestDist = 10001;<br>&#9;&#9;&#9;&#9;bestSlot = -1;<br>&#9;&#9;&#9;&#9;foreach RadiusActors(Class'Seat', curSeat, 10000)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if (IsSeatValid(curSeat))<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;curSlot = FindBestSlot(curSeat, curDist);<br>&#9;&#9;&#9;&#9;&#9;&#9;if (curSlot >= 0)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if (bestDist > curDist)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if (GetNextWaypoint(curSeat) != None)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;bestDist = curDist;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;bestSeat = curSeat;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;bestSlot = curSlot;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br><br>&#9;&#9;if (bestSeat != None)<br>&#9;&#9;{<br>&#9;&#9;&#9;bestSeat.sittingActor[bestSlot] = self;<br>&#9;&#9;&#9;SeatLocation       = bestSeat.Location;<br>&#9;&#9;&#9;bSeatLocationValid = true;<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;&#9;bSeatLocationValid = false;<br><br>&#9;&#9;if (bUseFirstSeatOnly && !bSeatHackUsed)<br>&#9;&#9;{<br>&#9;&#9;&#9;SeatHack      = bestSeat;<br>&#9;&#9;&#9;bSeatHackUsed = true;<br>&#9;&#9;}<br><br>&#9;&#9;SeatActor = bestSeat;<br>&#9;&#9;SeatSlot  = bestSlot;<br>&#9;<br></div>
<h3 id="DXScriptedPawn.FindBestSlot"><a class="headerlink" href="#DXScriptedPawn.FindBestSlot" title="Permanent link">FindBestSlot</a> (Seat seatActor, out float slotDist) -> int</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int   bestSlot;<br>&#9;local float dist;<br>&#9;local float bestDist;<br>&#9;local int   i;<br><br><br>&#9;&#9;bestSlot = -1;<br>&#9;&#9;bestDist = 100;<br>&#9;&#9;if (!seatActor.Region.Zone.bWaterZone)<br>&#9;&#9;{<br>&#9;&#9;&#9;for (i=0; i<seatActor.numSitPoints; i++)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if (seatActor.sittingActor[i] == None)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;dist = VSize(SitPosition(seatActor, i) - Location);<br>&#9;&#9;&#9;&#9;&#9;if ((bestSlot < 0) || (bestDist > dist))<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;bestDist = dist;<br>&#9;&#9;&#9;&#9;&#9;&#9;bestSlot = i;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br><br>&#9;&#9;slotDist = bestDist;<br><br>&#9;&#9;return (bestSlot);<br>&#9;<br></div>
<h3 id="DXScriptedPawn.FinishFleeing"><a class="headerlink" href="#DXScriptedPawn.FinishFleeing" title="Permanent link">FinishFleeing</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;if (bLeaveAfterFleeing)<br>&#9;&#9;&#9;GotoState('Wandering');<br>&#9;&#9;else<br>&#9;&#9;&#9;FollowOrders();<br>&#9;<br></div>
<h3 id="DXScriptedPawn.FireIfClearShot"><a class="headerlink" href="#DXScriptedPawn.FireIfClearShot" title="Permanent link">FireIfClearShot</a> -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExWeapon dxWeapon;<br><br><br>  dxWeapon = DeusExWeapon(Weapon);<br><br><br>  //bReadyToFire doesn't seem to work right for Scripted Pawns<br>  // So I set it and execute ReadyToFire() automatically.<br><br>  dxWeapon.bReadyToFire=false;<br>  dxWeapon.ReadyToFire();<br><br>  if (dxWeapon != None)<br>  {<br>&#9;   if ((dxWeapon.AIFireDelay > 0) && (FireTimer > 0))<br>&#9;&#9;&#9;return false;<br>&#9;   else if (AICanShoot(enemy, true, true, 0.025))<br>&#9;   {<br><br>&#9;&#9;&#9;//Changed from Fire to ClientFire.<br>&#9;&#9;&#9;Weapon.ClientFire(0);<br>&#9;&#9;&#9;FireTimer = dxWeapon.AIFireDelay;<br>&#9;&#9;&#9;return true;<br>&#9;   }<br>&#9;   else<br>&#9;&#9;   return false;<br><br>  }<br>  else<br>&#9;  return false;<br><br></div>
<h3 id="DXScriptedPawn.FollowSeatFallbackOrders"><a class="headerlink" href="#DXScriptedPawn.FollowSeatFallbackOrders" title="Permanent link">FollowSeatFallbackOrders</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;FindBestSeat();<br>&#9;&#9;if (IsSeatValid(SeatActor))<br>&#9;&#9;&#9;GotoState('Sitting', 'Begin');<br>&#9;&#9;else<br>&#9;&#9;&#9;GotoState('Wandering');<br>&#9;<br></div>
<h3 id="DXScriptedPawn.Frob"><a class="headerlink" href="#DXScriptedPawn.Frob" title="Permanent link">Frob</a> (Actor Frobber, Inventory frobWith)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local string resoWut;<br>&#9;local int r;<br><br><br>&#9;if(P == None)<br>&#9;{<br>&#9;&#9;P=DeusExPlayer(Frobber);<br>&#9;&#9;if(bUseChatList)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(bRandomList)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;i = Rand(5);<br>&#9;&#9;&#9;&#9;LockPlayerCam(P);<br>&#9;&#9;&#9;&#9;CamLock = P;<br>&#9;&#9;&#9;&#9;TCBark(ListMSGs[i], P);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;oldViewRotation = ViewRotation;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;LookAtActor(P, false, true, true, 0, 1.0);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;SetTimer(2.2, true);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(bPlaySound)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;PlaySound(ConvoSound, SLOT_None,2,,1024,);&#9;&#9;<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;i++;<br>&#9;&#9;&#9;&#9;&#9;if(i>5)<br>&#9;&#9;&#9;&#9;&#9;&#9;i=0;<br>&#9;&#9;&#9;&#9;&#9;&#9;LockPlayerCam(P);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;CamLock = P;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;TCBark(ListMSGs[i], P);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;oldViewRotation = ViewRotation;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;LookAtActor(P, false, true, true, 0, 1.0);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;SetTimer(2.2, true);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(bPlaySound)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;PlaySound(ConvoSound, SLOT_None,2,,1024,);&#9;&#9;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;{<br>&#9;&#9;&#9;&#9;LockPlayerCam(P);<br>&#9;&#9;&#9;&#9;CamLock = P;<br>&#9;&#9;&#9;TCBark(Saymsg, P);<br>&#9;&#9;&#9;oldViewRotation = ViewRotation;<br>&#9;&#9;&#9;LookAtActor(P, false, true, true, 0, 1.0);<br>&#9;&#9;&#9;SetTimer(2.2, true);<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;if(bPlaySound)<br>&#9;&#9;&#9;&#9;&#9;PlaySound(ConvoSound, SLOT_None,2,,1024,);&#9;&#9;&#9;<br>&#9;&#9;}&#9;&#9;<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;if(P != DeusExPlayer(Frobber))<br>&#9;&#9;{<br>&#9;&#9;&#9;DeusExPlayer(Frobber).ClientMessage(familiarName$" is busy talking to someone else...");<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="DXScriptedPawn.GetDestinationPosition"><a class="headerlink" href="#DXScriptedPawn.GetDestinationPosition" title="Permanent link">GetDestinationPosition</a> (Seat seatActor, optional float extraDist) -> vector</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Rotator seatRot;<br>&#9;local Vector  destPos;<br><br><br>&#9;&#9;if (seatActor == None)<br>&#9;&#9;&#9;return (Location);<br><br>&#9;&#9;seatRot = seatActor.Rotation + Rot(0, -16384, 0);<br>&#9;&#9;seatRot.Pitch = 0;<br>&#9;&#9;destPos = seatActor.Location;<br>&#9;&#9;destPos += vect(0,0,1)*(CollisionHeight-seatActor.CollisionHeight);<br>&#9;&#9;destPos += Vector(seatRot)*(seatActor.CollisionRadius+CollisionRadius+extraDist);<br><br>&#9;&#9;return (destPos);<br>&#9;<br></div>
<h3 id="DXScriptedPawn.GetNextLocation"><a class="headerlink" href="#DXScriptedPawn.GetNextLocation" title="Permanent link">GetNextLocation</a> (out vector nextLoc) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local float   dist;<br>&#9;local rotator rotation;<br>&#9;local bool    bDone;<br>&#9;local float   seekDistance;<br>&#9;local Actor   hitActor;<br>&#9;local vector  HitLocation, HitNormal;<br>&#9;local vector  diffVect;<br>&#9;local bool    bLOS;<br><br><br>&#9;&#9;if (bSeekLocation)<br>&#9;&#9;{<br>&#9;&#9;&#9;if (SeekType == SEEKTYPE_Guess)<br>&#9;&#9;&#9;&#9;seekDistance = (200+FClamp(GroundSpeed*EnemyLastSeen*0.5, 0, 1000));<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;seekDistance = 300;<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;&#9;seekDistance = 60;<br><br>&#9;&#9;dist  = VSize(Location-destLoc);<br>&#9;&#9;bDone = false;<br>&#9;&#9;bLOS  = false;<br><br>&#9;&#9;if (dist < seekDistance)<br>&#9;&#9;{<br>&#9;&#9;&#9;bLOS = true;<br>&#9;&#9;&#9;foreach TraceVisibleActors(Class'Actor', hitActor, hitLocation, hitNormal,<br>&#9;&#9;&#9;                           destLoc, Location+vect(0,0,1)*BaseEyeHeight)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if (hitActor != self)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if (hitActor == Level)<br>&#9;&#9;&#9;&#9;&#9;&#9;bLOS = false;<br>&#9;&#9;&#9;&#9;&#9;else if (IsPointInCylinder(hitActor, destLoc, 16, 16))<br>&#9;&#9;&#9;&#9;&#9;&#9;break;<br>&#9;&#9;&#9;&#9;&#9;else if (hitActor.bBlockSight && !hitActor.bHidden)<br>&#9;&#9;&#9;&#9;&#9;&#9;bLOS = false;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;if (!bLOS)<br>&#9;&#9;&#9;&#9;&#9;break;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br><br>&#9;&#9;if (!bLOS)<br>&#9;&#9;{<br>&#9;&#9;&#9;if (PointReachable(destLoc))<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;rotation = Rotator(destLoc - Location);<br>&#9;&#9;&#9;&#9;if (seekDistance == 0)<br>&#9;&#9;&#9;&#9;&#9;nextLoc = destLoc;<br>&#9;&#9;&#9;&#9;else if (!AIDirectionReachable(destLoc, rotation.Yaw, rotation.Pitch, 0, seekDistance, nextLoc))<br>&#9;&#9;&#9;&#9;&#9;bDone = true;<br>&#9;&#9;&#9;&#9;if (!bDone && bDefendHome && !IsNearHome(nextLoc))<br>&#9;&#9;&#9;&#9;&#9;bDone = true;<br>&#9;&#9;&#9;&#9;if (!bDone)  // hack, because Unreal's movement code SUCKS<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;diffVect = nextLoc - Location;<br>&#9;&#9;&#9;&#9;&#9;if (Physics == PHYS_Walking)<br>&#9;&#9;&#9;&#9;&#9;&#9;diffVect *= vect(1,1,0);<br>&#9;&#9;&#9;&#9;&#9;if (VSize(diffVect) < 20)<br>&#9;&#9;&#9;&#9;&#9;&#9;bDone = true;<br>&#9;&#9;&#9;&#9;&#9;else if (IsPointInCylinder(self, nextLoc, 10, 10))<br>&#9;&#9;&#9;&#9;&#9;&#9;bDone = true;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;MoveTarget = FindPathTo(destLoc);<br>&#9;&#9;&#9;&#9;if (MoveTarget == None)<br>&#9;&#9;&#9;&#9;&#9;bDone = true;<br>&#9;&#9;&#9;&#9;else if (bDefendHome && !IsNearHome(MoveTarget.Location))<br>&#9;&#9;&#9;&#9;&#9;bDone = true;<br>&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;nextLoc = MoveTarget.Location;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;&#9;bDone = true;<br><br>&#9;&#9;return (!bDone);<br>&#9;<br></div>
<h3 id="DXScriptedPawn.GetOvershootDestination"><a class="headerlink" href="#DXScriptedPawn.GetOvershootDestination" title="Permanent link">GetOvershootDestination</a> (float randomness, optional float focus) -> NavigationPoint</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local NavigationPoint navPoint, bestPoint;<br>&#9;local float           distance;<br>&#9;local float           score, bestScore;<br>&#9;local int             yaw;<br>&#9;local rotator         rot;<br>&#9;local float           yawCutoff;<br><br><br>&#9;&#9;if (focus <= 0)<br>&#9;&#9;&#9;focus = 0.6;<br><br>&#9;&#9;yawCutoff = int(32768*focus);<br>&#9;&#9;bestPoint = None;<br>&#9;&#9;bestScore = 0;<br><br>&#9;&#9;foreach ReachablePathnodes(Class'NavigationPoint', navPoint, None, distance)<br>&#9;&#9;{<br>&#9;&#9;&#9;if (distance < 1)<br>&#9;&#9;&#9;&#9;distance = 1;<br>&#9;&#9;&#9;rot = Rotator(navPoint.Location-Location);<br>&#9;&#9;&#9;yaw = rot.Yaw + (16384*randomness);<br>&#9;&#9;&#9;yaw = (yaw-Rotation.Yaw) & 0xFFFF;<br>&#9;&#9;&#9;if (yaw > 32767)<br>&#9;&#9;&#9;&#9;yaw  -= 65536;<br>&#9;&#9;&#9;yaw = abs(yaw);<br>&#9;&#9;&#9;if (yaw <= yawCutoff)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;score = yaw/distance;<br>&#9;&#9;&#9;&#9;if ((bestPoint == None) || (score < bestScore))<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;bestPoint = navPoint;<br>&#9;&#9;&#9;&#9;&#9;bestScore = score;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br><br>&#9;&#9;return bestPoint;<br>&#9;<br></div>
<h3 id="DXScriptedPawn.GoHome"><a class="headerlink" href="#DXScriptedPawn.GoHome" title="Permanent link">GoHome</a> -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;if (bUseHome && !IsNearHome(Location))<br>&#9;&#9;{<br>&#9;&#9;&#9;destLoc   = HomeLoc;<br>&#9;&#9;&#9;destPoint = None;<br>&#9;&#9;&#9;if (PointReachable(destLoc))<br>&#9;&#9;&#9;&#9;return true;<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;MoveTarget = FindPathTo(destLoc);<br>&#9;&#9;&#9;&#9;if (MoveTarget != None)<br>&#9;&#9;&#9;&#9;&#9;return true;<br>&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;return false;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;&#9;return false;<br>&#9;<br></div>
<h3 id="DXScriptedPawn.HandleSighting"><a class="headerlink" href="#DXScriptedPawn.HandleSighting" title="Permanent link">HandleSighting</a> (Pawn pawnSighted)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;if ((EnemyLastSeen > 2.0) && IsValidEnemy(pawnSighted))<br>&#9;&#9;{<br>&#9;&#9;&#9;SetSeekLocation(pawnSighted, pawnSighted.Location, SEEKTYPE_Sight);<br>&#9;&#9;&#9;destLoc = LastSeenPos;<br>&#9;&#9;&#9;if (bInterruptSeek)<br>&#9;&#9;&#9;&#9;GotoState('Seeking', 'GoToLocation');<br>&#9;&#9;}<br>&#9;<br></div>
<h3 id="DXScriptedPawn.HandleTurn"><a class="headerlink" href="#DXScriptedPawn.HandleTurn" title="Permanent link">HandleTurn</a> (Actor Other) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;if (Other == SeatActor)<br>&#9;&#9;&#9;return true;<br>&#9;&#9;else<br>&#9;&#9;&#9;return Global.HandleTurn(Other);<br>&#9;<br></div>
<h3 id="DXScriptedPawn.HasRA"><a class="headerlink" href="#DXScriptedPawn.HasRA" title="Permanent link">HasRA</a> (PlayerPawn PP) -> ReturnArmour</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local ReturnArmour AA;<br><br><br>&#9;foreach AllActors(class'ReturnArmour', AA)<br>&#9;&#9;&#9;if(AA.Owner == PP)<br>&#9;&#9;&#9;&#9;return AA;<br><br></div>
<h3 id="DXScriptedPawn.HitWall"><a class="headerlink" href="#DXScriptedPawn.HitWall" title="Permanent link">HitWall</a> (vector HitNormal, actor Wall)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;if (Physics == PHYS_Falling)<br>&#9;&#9;&#9;return;<br>&#9;&#9;Global.HitWall(HitNormal, Wall);<br>&#9;&#9;CheckOpenDoor(HitNormal, Wall);<br>&#9;<br></div>
<h3 id="DXScriptedPawn.IsHandToHand"><a class="headerlink" href="#DXScriptedPawn.IsHandToHand" title="Permanent link">IsHandToHand</a> -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>          if (Weapon != None)<br>          {<br>               if (DeusExWeapon(Weapon) != None)<br>               {<br>                    if (DeusExWeapon(Weapon).bHandToHand)<br>                         return true;<br>                    else<br>                         return false;<br>               }<br>               else<br>                    return false;<br>          }<br>          else<br>               return false;<br>     <br></div>
<h3 id="DXScriptedPawn.IsIntersectingSeat"><a class="headerlink" href="#DXScriptedPawn.IsIntersectingSeat" title="Permanent link">IsIntersectingSeat</a> -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local bool   bIntersect;<br>&#9;local vector testVector;<br><br><br>&#9;&#9;bIntersect = false;<br>&#9;&#9;if (SeatActor != None)<br>&#9;&#9;&#9;bIntersect = IsOverlapping(SeatActor);<br><br>&#9;&#9;return (bIntersect);<br>&#9;<br></div>
<h3 id="DXScriptedPawn.Landed"><a class="headerlink" href="#DXScriptedPawn.Landed" title="Permanent link">Landed</a> (vector HitNormal)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local float landVol, minJumpZ;<br>&#9;local vector legLocation;<br><br><br>&#9;&#9;minJumpZ = FMax(JumpZ, 150.0);<br><br>&#9;&#9;if ( (Velocity.Z < -0.8 * minJumpZ) || bUpAndOut)<br>&#9;&#9;{<br>&#9;&#9;&#9;PlayLanded(Velocity.Z);<br>&#9;&#9;&#9;if (Velocity.Z < -700)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;legLocation = Location + vect(-1,0,-1);&#9;&#9;&#9;// damage left leg<br>&#9;&#9;&#9;&#9;TakeDamage(-0.14 * (Velocity.Z + 700), Self, legLocation, vect(0,0,0), 'fell');<br>&#9;&#9;&#9;&#9;legLocation = Location + vect(1,0,-1);&#9;&#9;&#9;// damage right leg<br>&#9;&#9;&#9;&#9;TakeDamage(-0.14 * (Velocity.Z + 700), Self, legLocation, vect(0,0,0), 'fell');<br>&#9;&#9;&#9;&#9;legLocation = Location + vect(0,0,1);&#9;&#9;&#9;// damage torso<br>&#9;&#9;&#9;&#9;TakeDamage(-0.04 * (Velocity.Z + 700), Self, legLocation, vect(0,0,0), 'fell');<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;landVol = Velocity.Z/JumpZ;<br>&#9;&#9;&#9;landVol = 0.005 * Mass * FMin(5, landVol * landVol);<br>&#9;&#9;&#9;if ( !FootRegion.Zone.bWaterZone )<br>&#9;&#9;&#9;&#9;PlaySound(Land, SLOT_Interact, FMin(20, landVol));<br>&#9;&#9;}<br>&#9;&#9;else if ( Velocity.Z < -0.8 * JumpZ )<br>&#9;&#9;&#9;PlayLanded(Velocity.Z);<br>&#9;<br></div>
<h3 id="DXScriptedPawn.LockPlayerCam"><a class="headerlink" href="#DXScriptedPawn.LockPlayerCam" title="Permanent link">LockPlayerCam</a> (deusexplayer dxp)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;&#9;dxp.bBehindView=True;<br>&#9;&#9;&#9;dxp.ViewTarget = Self;<br><br></div>
<h3 id="DXScriptedPawn.LockPlayersCam"><a class="headerlink" href="#DXScriptedPawn.LockPlayersCam" title="Permanent link">LockPlayersCam</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer DXP;<br><br>foreach AllActors(class'DeusExPlayer', DXP)<br>{<br>&#9;&#9;&#9;DXP.bBehindView=True;<br>&#9;&#9;&#9;DXP.ViewTarget = Self;<br>}<br><br></div>
<h3 id="DXScriptedPawn.MoveFallingBody"><a class="headerlink" href="#DXScriptedPawn.MoveFallingBody" title="Permanent link">MoveFallingBody</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Vector moveDir;<br>&#9;local float  totalTime;<br>&#9;local float  speed;<br>&#9;local float  stopTime;<br>&#9;local int    numFrames;<br><br><br>&#9;&#9;if ((AnimRate > 0) && !IsA('Robot'))<br>&#9;&#9;{<br>&#9;&#9;&#9;totalTime = 1.0/AnimRate;  // determine how long the anim lasts<br>&#9;&#9;&#9;numFrames = int((1.0/(1.0-AnimLast))+0.1);  // count frames (hack)<br><br>&#9;&#9;&#9;// defaults<br>&#9;&#9;&#9;moveDir   = vect(0,0,0);<br>&#9;&#9;&#9;stopTime  = 0.01;<br><br>&#9;&#9;&#9;ComputeFallDirection(totalTime, numFrames, moveDir, stopTime);<br><br>&#9;&#9;&#9;speed = VSize(moveDir)/stopTime;  // compute speed<br><br>&#9;&#9;&#9;// Set variables necessary for movement when walking<br>&#9;&#9;&#9;if (moveDir == vect(0,0,0))<br>&#9;&#9;&#9;&#9;Acceleration = vect(0,0,0);<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;Acceleration = Normal(moveDir)*AccelRate;<br>&#9;&#9;&#9;GroundSpeed  = speed;<br>&#9;&#9;&#9;DesiredSpeed = 1.0;<br>&#9;&#9;&#9;bIsWalking   = false;<br>&#9;&#9;&#9;DeathTimer   = stopTime;<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;&#9;Acceleration = vect(0,0,0);<br>&#9;<br></div>
<h3 id="DXScriptedPawn.PickDestination"><a class="headerlink" href="#DXScriptedPawn.PickDestination" title="Permanent link">PickDestination</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local HidePoint      hidePoint;<br>&#9;local Actor          waypoint;<br>&#9;local float          dist;<br>&#9;local float          score;<br>&#9;local Vector         vector1, vector2;<br>&#9;local Rotator        rotator1;<br>&#9;local float          tmpDist;<br>&#9;local float          bestDist;<br>&#9;local float          bestScore;<br>&#9;local FleeCandidates candidates[5];<br>&#9;local int            candidateCount;<br>&#9;local int            maxCandidates;<br>&#9;local float          maxDist;<br>&#9;local int            openSlot;<br>&#9;local float          maxScore;<br>&#9;local int            i;<br>&#9;local bool           bReplace;<br>&#9;local float          angle;<br>&#9;local float          magnitude;<br>&#9;local int            iterations;<br>&#9;local NearbyProjectileList projList;<br>&#9;local bool                 bSuccess;<br><br><br><br><br><br><br><br>&#9;&#9;maxCandidates  = 3;  // must be <= size of candidates[] arrays<br>&#9;&#9;maxDist        = 10000;<br><br>&#9;&#9;// Initialize the list of candidates<br>&#9;&#9;for (i=0; i<maxCandidates; i++)<br>&#9;&#9;{<br>&#9;&#9;&#9;candidates[i].score = -1;<br>&#9;&#9;&#9;candidates[i].dist  = maxDist+1;<br>&#9;&#9;}<br>&#9;&#9;candidateCount = 0;<br><br>&#9;&#9;MoveTarget = None;<br>&#9;&#9;destPoint  = None;<br><br>&#9;&#9;if (bAvoidHarm)<br>&#9;&#9;{<br>&#9;&#9;&#9;GetProjectileList(projList, Location);<br>&#9;&#9;&#9;if (IsLocationDangerous(projList, Location))<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;vector1 = ComputeAwayVector(projList);<br>&#9;&#9;&#9;&#9;rotator1 = Rotator(vector1);<br>&#9;&#9;&#9;&#9;if (AIDirectionReachable(Location, rotator1.Yaw, rotator1.Pitch, CollisionRadius+24, VSize(vector1), destLoc))<br>&#9;&#9;&#9;&#9;&#9;return;   // eck -- hack!!!<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br><br>&#9;&#9;if (Enemy != None)<br>&#9;&#9;{<br>&#9;&#9;&#9;foreach RadiusActors(Class'HidePoint', hidePoint, maxDist)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;// Can the boogeyman see our hiding spot?<br>&#9;&#9;&#9;&#9;if (!enemy.LineOfSightTo(hidePoint))<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;// More importantly, can we REACH our hiding spot?<br>&#9;&#9;&#9;&#9;&#9;waypoint = GetNextWaypoint(hidePoint);<br>&#9;&#9;&#9;&#9;&#9;if (waypoint != None)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;// How far is it to the hiding place?<br>&#9;&#9;&#9;&#9;&#9;&#9;dist = VSize(hidePoint.Location - Location);<br><br>&#9;&#9;&#9;&#9;&#9;&#9;// Determine vectors to the waypoint and our enemy<br>&#9;&#9;&#9;&#9;&#9;&#9;vector1 = enemy.Location - Location;<br>&#9;&#9;&#9;&#9;&#9;&#9;vector2 = waypoint.Location - Location;<br><br>&#9;&#9;&#9;&#9;&#9;&#9;// Strip out magnitudes from the vectors<br>&#9;&#9;&#9;&#9;&#9;&#9;tmpDist = VSize(vector1);<br>&#9;&#9;&#9;&#9;&#9;&#9;if (tmpDist > 0)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;vector1 /= tmpDist;<br>&#9;&#9;&#9;&#9;&#9;&#9;tmpDist = VSize(vector2);<br>&#9;&#9;&#9;&#9;&#9;&#9;if (tmpDist > 0)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;vector2 /= tmpDist;<br><br>&#9;&#9;&#9;&#9;&#9;&#9;// Add them<br>&#9;&#9;&#9;&#9;&#9;&#9;vector1 += vector2;<br><br>&#9;&#9;&#9;&#9;&#9;&#9;// Compute a score (a function of angle)<br>&#9;&#9;&#9;&#9;&#9;&#9;score = VSize(vector1);<br>&#9;&#9;&#9;&#9;&#9;&#9;score = 4-(score*score);<br><br>&#9;&#9;&#9;&#9;&#9;&#9;// Find an empty slot for this candidate<br>&#9;&#9;&#9;&#9;&#9;&#9;openSlot  = -1;<br>&#9;&#9;&#9;&#9;&#9;&#9;bestScore = score;<br>&#9;&#9;&#9;&#9;&#9;&#9;bestDist  = dist;<br><br>&#9;&#9;&#9;&#9;&#9;&#9;for (i=0; i<maxCandidates; i++)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;// Can we replace the candidate in this slot?<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if (bestScore > candidates[i].score)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;bReplace = TRUE;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;else if ((bestScore == candidates[i].score) &&<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;         (bestDist < candidates[i].dist))<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;bReplace = TRUE;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;bReplace = FALSE;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if (bReplace)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;bestScore = candidates[i].score;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;bestDist  = candidates[i].dist;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;openSlot = i;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br><br>&#9;&#9;&#9;&#9;&#9;&#9;// We found an open slot -- put our candidate here<br>&#9;&#9;&#9;&#9;&#9;&#9;if (openSlot >= 0)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;candidates[openSlot].point    = hidePoint;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;candidates[openSlot].waypoint = waypoint;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;candidates[openSlot].location = waypoint.Location;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;candidates[openSlot].score    = score;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;candidates[openSlot].dist     = dist;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if (candidateCount < maxCandidates)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;candidateCount++;<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br><br>&#9;&#9;&#9;// Any candidates?<br>&#9;&#9;&#9;if (candidateCount > 0)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;// Find a random candidate<br>&#9;&#9;&#9;&#9;// (candidates moving AWAY from the enemy have a higher<br>&#9;&#9;&#9;&#9;// probability of being chosen than candidates moving<br>&#9;&#9;&#9;&#9;// TOWARDS the enemy)<br><br>&#9;&#9;&#9;&#9;maxScore = 0;<br>&#9;&#9;&#9;&#9;for (i=0; i<candidateCount; i++)<br>&#9;&#9;&#9;&#9;&#9;maxScore += candidates[i].score;<br>&#9;&#9;&#9;&#9;score = FRand() * maxScore;<br>&#9;&#9;&#9;&#9;for (i=0; i<candidateCount; i++)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;score -= candidates[i].score;<br>&#9;&#9;&#9;&#9;&#9;if (score <= 0)<br>&#9;&#9;&#9;&#9;&#9;&#9;break;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;destPoint  = candidates[i].point;<br>&#9;&#9;&#9;&#9;MoveTarget = candidates[i].waypoint;<br>&#9;&#9;&#9;&#9;destLoc    = candidates[i].location;<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;iterations = 4;<br>&#9;&#9;&#9;&#9;magnitude = 400*(FRand()*0.4+0.8);  // 400, +/-20%<br>&#9;&#9;&#9;&#9;rotator1 = Rotator(Location-Enemy.Location);<br>&#9;&#9;&#9;&#9;if (!AIPickRandomDestination(100, magnitude, rotator1.Yaw, 0.6, rotator1.Pitch, 0.6, iterations,<br>&#9;&#9;&#9;&#9;                             FRand()*0.4+0.35, destLoc))<br>&#9;&#9;&#9;&#9;&#9;destLoc = Location+(VRand()*1200);  // we give up<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;&#9;destLoc = Location+(VRand()*1200);  // we give up<br>&#9;<br></div>
<h3 id="DXScriptedPawn.PickStartPoint"><a class="headerlink" href="#DXScriptedPawn.PickStartPoint" title="Permanent link">PickStartPoint</a> -> PatrolPoint</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local NavigationPoint nav;<br>&#9;local PatrolPoint     curNav;<br>&#9;local float           curDist;<br>&#9;local PatrolPoint     closestNav;<br>&#9;local float           closestDist;<br><br><br>&#9;&#9;nav = Level.NavigationPointList;<br>&#9;&#9;while (nav != None)<br>&#9;&#9;{<br>&#9;&#9;&#9;nav.visitedWeight = 0;<br>&#9;&#9;&#9;nav = nav.nextNavigationPoint;<br>&#9;&#9;}<br><br>&#9;&#9;closestNav  = None;<br>&#9;&#9;closestDist = 100000;<br>&#9;&#9;nav = Level.NavigationPointList;<br>&#9;&#9;while (nav != None)<br>&#9;&#9;{<br>&#9;&#9;&#9;curNav = PatrolPoint(nav);<br>&#9;&#9;&#9;if ((curNav != None) && (curNav.Tag == OrderTag))<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;while (curNav != None)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if (curNav.visitedWeight != 0)  // been here before<br>&#9;&#9;&#9;&#9;&#9;&#9;break;<br>&#9;&#9;&#9;&#9;&#9;curDist = VSize(Location - curNav.Location);<br>&#9;&#9;&#9;&#9;&#9;if ((closestNav == None) || (closestDist > curDist))<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;closestNav  = curNav;<br>&#9;&#9;&#9;&#9;&#9;&#9;closestDist = curDist;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;curNav.visitedWeight = 1;<br>&#9;&#9;&#9;&#9;&#9;curNav = curNav.NextPatrolPoint;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;nav = nav.nextNavigationPoint;<br>&#9;&#9;}<br><br>&#9;&#9;return (closestNav);<br>&#9;<br></div>
<h3 id="DXScriptedPawn.PlayAreaSecureSound"><a class="headerlink" href="#DXScriptedPawn.PlayAreaSecureSound" title="Permanent link">PlayAreaSecureSound</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int i;<br><br>&#9;<br>&#9;i = Rand(5);<br>&#9;if(tAreaSecure != "")<br>&#9;&#9;RadiusMSG(tAreaSecure);<br>&#9;<br>&#9;if(sAreaSecure[i] != None)<br>&#9;&#9;PlaySound(sAreaSecure[i], SLOT_None,,, 2048);<br><br></div>
<h3 id="DXScriptedPawn.PlayCriticalDamageSound"><a class="headerlink" href="#DXScriptedPawn.PlayCriticalDamageSound" title="Permanent link">PlayCriticalDamageSound</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int i;<br><br>&#9;<br>&#9;i = Rand(5);<br>&#9;if(tCriticalDamage != "")<br>&#9;&#9;RadiusMSG(tCriticalDamage);<br>&#9;<br>&#9;if(sCriticalDamage[i] != None)<br>&#9;&#9;PlaySound(sCriticalDamage[i], SLOT_None,,, 2048);<br><br></div>
<h3 id="DXScriptedPawn.PlayGoingForAlarmSound"><a class="headerlink" href="#DXScriptedPawn.PlayGoingForAlarmSound" title="Permanent link">PlayGoingForAlarmSound</a></h3>

<h3 id="DXScriptedPawn.PlayHuntingSound"><a class="headerlink" href="#DXScriptedPawn.PlayHuntingSound" title="Permanent link">PlayHuntingSound</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int i;<br><br>&#9;<br>&#9;i = Rand(5);<br>&#9;if(tHunting != "" && FRand() < 0.4)<br>&#9;&#9;RadiusMSG(tHunting);<br>&#9;<br>&#9;if(sHunting[i] != None)<br>&#9;&#9;PlaySound(sHunting[i], SLOT_None,,, 2048);<br><br></div>
<h3 id="DXScriptedPawn.PlayScanningSound"><a class="headerlink" href="#DXScriptedPawn.PlayScanningSound" title="Permanent link">PlayScanningSound</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int i;<br><br>&#9;<br>&#9;i = Rand(5);<br>&#9;if(tScanning != "" && FRand() < 0.3)<br>&#9;&#9;RadiusMSG(tScanning);<br><br>&#9;if(sScanning[i] != None && FRand() < 0.3)<br>&#9;&#9;PlaySound(sScanning[i], SLOT_None,,, 2048);<br><br></div>
<h3 id="DXScriptedPawn.PlayTargetAcquiredSound"><a class="headerlink" href="#DXScriptedPawn.PlayTargetAcquiredSound" title="Permanent link">PlayTargetAcquiredSound</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int i;<br><br>&#9;<br>&#9;i = Rand(5);<br>&#9;if(tTargetAcquired != "" && !bTempMute && FRand()<0.5)<br>&#9;&#9;RadiusMSG(tTargetAcquired);<br>&#9;<br>&#9;if(sTargetAcquired[i] != None)<br>&#9;&#9;PlaySound(sTargetAcquired[i], SLOT_None,,, 2048);<br>&#9;bTempMute=false;<br><br></div>
<h3 id="DXScriptedPawn.PlayTargetLostSound"><a class="headerlink" href="#DXScriptedPawn.PlayTargetLostSound" title="Permanent link">PlayTargetLostSound</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int i;<br><br>&#9;<br>&#9;i = Rand(5);<br>&#9;if(tTargetLost != "")<br>&#9;&#9;RadiusMSG(tTargetLost);<br>&#9;<br>&#9;if(sTargetLost[i] != None)<br>&#9;&#9;PlaySound(sTargetLost[i], SLOT_None,,, 2048);<br><br></div>
<h3 id="DXScriptedPawn.PostBeginPlay"><a class="headerlink" href="#DXScriptedPawn.PostBeginPlay" title="Permanent link">PostBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int Below, Higher, Players;<br>&#9;local DeusExPlayer DXP;<br><br>&#9;<br>     Super.PostBeginPlay();<br>     <br>    if(bLimitSpawning)<br>&#9;{<br>&#9;&#9;foreach AllActors(class'DeusExPlayer', DXP)<br>&#9;&#9;&#9;Players++;<br>&#9;&#9;<br>&#9;&#9;if(Players < MinPlayers)<br>&#9;&#9;&#9;Destroy();<br>&#9;}<br>&#9;&#9;<br>&#9;if(bHasADS)<br>&#9;{<br>&#9;&#9;myAds = Spawn(class'BotADS');<br>&#9;&#9;myAds.P = Self;<br>&#9;&#9;myAds.AdsEnergy = AdsEnergy;<br>&#9;&#9;myAds.AdsUnlimited = AdsUnlimited;<br>&#9;&#9;myAds.SetTimer(0.1,True);<br>&#9;}<br>&#9;<br>&#9;if(AllianceGroup == "")<br>&#9;&#9;AllianceGroup = familiarName;<br>&#9;&#9;<br>&#9;if(AllyClass == None)<br>&#9;&#9;AllyClass = Self.class;<br><br><br>     if (bIsFemale)<br>     {<br>          HitSound1 = Sound'FemalePainMedium';<br>          HitSound2 = Sound'FemalePainLarge';<br>          Die = Sound'FemaleDeath';<br>     }<br>     <br>&#9; Below = scoreCredits -= 100;<br>&#9;&#9;if(Below < 0)<br>&#9;&#9;&#9;Below = 0;<br>&#9; Higher = scoreCredits += 150;<br>&#9; scoreCredits = RandRange(Below, Higher);<br>&#9; <br>&#9;CurrentBossArmour = BossArmour;<br>&#9;CurrentReturnArmour = returnArmour;<br>&#9;OrigHealth = Health;<br>&#9;<br>&#9;if(lOdds > 0)<br>&#9;{<br>&#9;&#9;if(Rand(100) <= lOdds)<br>&#9;&#9;{<br>&#9;&#9;&#9;bLegendary=True;<br>&#9;&#9;&#9;CurrentBossArmour *= 2;<br>&#9;&#9;&#9;CurrentReturnArmour *= 2;<br>&#9;&#9;&#9;BossArmour *= 2;<br>&#9;&#9;&#9;ReturnArmour *= 2;<br>&#9;&#9;&#9;Health *= 2;<br>&#9;&#9;&#9;HealthHead *= 2;<br>&#9;&#9;&#9;HealthTorso *= 2;<br>&#9;&#9;&#9;HealthlegLeft *= 2;<br>&#9;&#9;&#9;HealthLegRight *= 2;<br>&#9;&#9;&#9;HealthArmLeft *= 2;<br>&#9;&#9;&#9;HealthArmRight *= 2;<br>&#9;&#9;&#9;Drawscale *= 1.3;<br>&#9;&#9;&#9;SetCollisionSize(CollisionRadius * 1.2, CollisionHeight * 1.2);<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="DXScriptedPawn.PreBeginPlay"><a class="headerlink" href="#DXScriptedPawn.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(MenuName == "")<br>&#9;&#9;MenuName = FamiliarName;<br><br>&#9;Super.PreBeginPlay();<br><br></div>
<h3 id="DXScriptedPawn.RadiusMSG"><a class="headerlink" href="#DXScriptedPawn.RadiusMSG" title="Permanent link">RadiusMSG</a> (string BarkMessage, optional float BarkRange, optional float Delay)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer dxp;<br>&#9;local DeusExRootWindow root;<br>&#9;local bool bRadius;<br>&#9;local TCBarkActor TCBA;<br><br>&#9;<br>&#9;if(Delay <= 1)<br>&#9;&#9;Delay = 8.0;<br>&#9;<br>&#9;if(BarkRange <= 1)<br>&#9;&#9;BarkRange = 512;<br><br>&#9;<br>&#9;foreach RadiusActors(class'DeusExPlayer', DXP, BarkRange)<br>&#9;{<br>&#9;&#9;TCBA = Spawn(class'TCBarkActor');<br>&#9;&#9;TCBA.Flagger = DXP;<br>&#9;&#9;TCBA.pSender = self;<br>&#9;&#9;TCBA.sMessage = BarkMessage;<br>&#9;&#9;TCBA.fDelay = Delay;<br>&#9;&#9;TCBA.SetTimer(0.1,false);<br>&#9;}<br><br></div>
<h3 id="DXScriptedPawn.ReactToInjury"><a class="headerlink" href="#DXScriptedPawn.ReactToInjury" title="Permanent link">ReactToInjury</a> (Pawn instigatedBy, Name damageType, EHitLocation hitPos)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Name currentState;<br>&#9;local Pawn oldEnemy;<br>&#9;local name newLabel;<br>&#9;local bool bHateThisInjury;<br>&#9;local bool bFearThisInjury;<br>&#9;local bool bAttack;<br><br><br>&#9;&#9;if ((health > 0) && (bLookingForInjury || bLookingForIndirectInjury))<br>&#9;&#9;{<br>&#9;&#9;&#9;currentState = GetStateName();<br><br>&#9;&#9;&#9;bHateThisInjury = ShouldReactToInjuryType(damageType, bHateInjury, bHateIndirectInjury);<br>&#9;&#9;&#9;bFearThisInjury = ShouldReactToInjuryType(damageType, bFearInjury, bFearIndirectInjury);<br><br>&#9;&#9;&#9;if (bHateThisInjury)<br>&#9;&#9;&#9;&#9;IncreaseAgitation(instigatedBy);<br>&#9;&#9;&#9;if (bFearThisInjury)<br>&#9;&#9;&#9;&#9;IncreaseFear(instigatedBy, 2.0);<br><br>&#9;&#9;&#9;oldEnemy = Enemy;<br><br>&#9;&#9;&#9;bAttack = false;<br>&#9;&#9;&#9;if (SetEnemy(instigatedBy))<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if (!ShouldFlee())<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;SwitchToBestWeapon();<br>&#9;&#9;&#9;&#9;&#9;if (Weapon != None)<br>&#9;&#9;&#9;&#9;&#9;&#9;bAttack = true;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;SetEnemy(instigatedBy, , true);<br><br>&#9;&#9;&#9;if (bAttack)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;SetDistressTimer();<br>&#9;&#9;&#9;&#9;SetNextState('HandlingEnemy');<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;SetDistressTimer();<br>&#9;&#9;&#9;&#9;if (oldEnemy != Enemy)<br>&#9;&#9;&#9;&#9;&#9;newLabel = 'Begin';<br>&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;newLabel = 'ContinueFlee';<br>&#9;&#9;&#9;&#9;SetNextState('Fleeing', newLabel);<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;GotoDisabledState(damageType, hitPos);<br>&#9;&#9;}<br>&#9;<br></div>
<h3 id="DXScriptedPawn.ReadyForWeapon"><a class="headerlink" href="#DXScriptedPawn.ReadyForWeapon" title="Permanent link">ReadyForWeapon</a> -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local bool bReady;<br><br><br>          bReady = false;<br>          if (DeusExWeapon(weapon) != None)<br>          {<br>               if (DeusExWeapon(weapon).bReadyToFire)<br>                    if (!IsWeaponReloading())<br>                         bReady = true;<br>          }<br>          if (!bReady)<br>               if (enemy == None)<br>                    bReady = true;<br>          if (!bReady)<br>               if (!AICanShoot(enemy, true, false, 0.025))<br>                    bReady = true;<br><br>          return (bReady);<br>     <br></div>
<h3 id="DXScriptedPawn.ReleasePlayerCam"><a class="headerlink" href="#DXScriptedPawn.ReleasePlayerCam" title="Permanent link">ReleasePlayerCam</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(CamLock != None)<br>&#9;{<br>&#9;&#9;&#9;CamLock.bBehindView=False;<br>&#9;&#9;&#9;CamLock.ViewTarget = None;<br>&#9;&#9;&#9;CamLock=None;<br>&#9;}<br><br></div>
<h3 id="DXScriptedPawn.Reloading"><a class="headerlink" href="#DXScriptedPawn.Reloading" title="Permanent link">Reloading</a> (DeusExWeapon reloadWeapon, float reloadTime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>          Global.Reloading(reloadWeapon, reloadTime);<br>          if (bReadyToReload)<br>               if (IsWeaponReloading())<br>                    if (!IsHandToHand())<br>                         TweenToShoot(0);<br>     <br></div>
<h3 id="DXScriptedPawn.SetFall"><a class="headerlink" href="#DXScriptedPawn.SetFall" title="Permanent link">SetFall</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;StartFalling('Fleeing', 'ContinueFlee');<br>&#9;<br></div>
<h3 id="DXScriptedPawn.ShouldCrouch"><a class="headerlink" href="#DXScriptedPawn.ShouldCrouch" title="Permanent link">ShouldCrouch</a> -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>          if (bCanCrouch && !Region.Zone.bWaterZone && !IsHandToHand() &&<br>              ((enemy != None) && (VSize(enemy.Location-Location) > 300)) &&<br>              ((DeusExWeapon(Weapon) == None) || DeusExWeapon(Weapon).bUseWhileCrouched))<br>               return true;<br>          else<br>               return false;<br>     <br></div>
<h3 id="DXScriptedPawn.SitPosition"><a class="headerlink" href="#DXScriptedPawn.SitPosition" title="Permanent link">SitPosition</a> (Seat seatActor, int slot) -> Vector</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local float newAssHeight;<br><br><br>&#9;&#9;newAssHeight = GetDefaultCollisionHeight() + BaseAssHeight;<br>&#9;&#9;newAssHeight = -(CollisionHeight - newAssHeight);<br><br>&#9;&#9;return ((seatActor.sitPoint[slot]>>seatActor.Rotation)+seatActor.Location+(vect(0,0,-1)*newAssHeight));<br>&#9;<br></div>
<h3 id="DXScriptedPawn.SpawnCarcass"><a class="headerlink" href="#DXScriptedPawn.SpawnCarcass" title="Permanent link">SpawnCarcass</a> -> Carcass</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExCarcass carc;<br>&#9;local vector loc;<br>&#9;local Inventory item, nextItem;<br>&#9;local FleshFragment chunk;<br>&#9;local int i;<br>&#9;local float size;<br><br><br>&#9;// if we really got blown up good, gib us and don't display a carcass<br>&#9;if ((Health < -100) && !IsA('Robot'))<br>&#9;{<br>&#9;&#9;size = (CollisionRadius + CollisionHeight) / 2;<br>&#9;&#9;if (size > 10.0)<br>&#9;&#9;{<br>&#9;&#9;&#9;for (i=0; i<size/4.0; i++)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;loc.X = (1-2*FRand()) * CollisionRadius;<br>&#9;&#9;&#9;&#9;loc.Y = (1-2*FRand()) * CollisionRadius;<br>&#9;&#9;&#9;&#9;loc.Z = (1-2*FRand()) * CollisionHeight;<br>&#9;&#9;&#9;&#9;loc += Location;<br>&#9;&#9;&#9;&#9;chunk = spawn(class'FleshFragment', None,, loc);<br>&#9;&#9;&#9;&#9;if (chunk != None)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;chunk.DrawScale = size / 25;<br>&#9;&#9;&#9;&#9;&#9;chunk.SetCollisionSize(chunk.CollisionRadius / chunk.DrawScale, chunk.CollisionHeight / chunk.DrawScale);<br>&#9;&#9;&#9;&#9;&#9;chunk.bFixedRotationDir = True;<br>&#9;&#9;&#9;&#9;&#9;chunk.RotationRate = RotRand(False);<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br><br>&#9;&#9;return None;<br>&#9;}<br><br>&#9;// spawn the carcass<br>&#9;if(CarcassType == None)<br>&#9; carc = Spawn(class'MPCarcass');<br>&#9;else<br>&#9;&#9;carc = DeusExCarcass(Spawn(CarcassType));<br>&#9;if(Mesh == LodMesh'DeusExCharacters.GM_DressShirt_B')<br>&#9;{<br>&#9;&#9; carc.Mesh2=LodMesh'DeusExCharacters.GM_DressShirt_B_CarcassB';<br>&#9;&#9; carc.Mesh3=LodMesh'DeusExCharacters.GM_DressShirt_B_CarcassC';<br>&#9;&#9; carc.Mesh=LodMesh'DeusExCharacters.GM_DressShirt_B_Carcass';<br>&#9;}<br>&#9;if(Mesh == LodMesh'DeusExCharacters.GM_Trench')<br>&#9;{<br>&#9;&#9; carc.Mesh2=LodMesh'DeusExCharacters.GM_Trench_CarcassB';<br>&#9;&#9; carc.Mesh3=LodMesh'DeusExCharacters.GM_Trench_CarcassC';<br>&#9;&#9; carc.Mesh=LodMesh'DeusExCharacters.GM_Trench_Carcass';<br>&#9;}<br>&#9;if(Mesh == LodMesh'DeusExCharacters.GFM_Trench')<br>&#9;{<br>&#9;&#9; carc.Mesh2=LodMesh'DeusExCharacters.GFM_Trench_CarcassB';<br>&#9;&#9; carc.Mesh3=LodMesh'DeusExCharacters.GFM_Trench_CarcassC';<br>&#9;&#9; carc.Mesh=LodMesh'DeusExCharacters.GFM_Trench_Carcass';<br>&#9;}<br>&#9;if(Mesh == LodMesh'DeusExCharacters.GM_DressShirt')<br>&#9;{<br>&#9;&#9; carc.Mesh2=LodMesh'DeusExCharacters.GM_DressShirt_CarcassB';<br>&#9;&#9; carc.Mesh3=LodMesh'DeusExCharacters.GM_DressShirt_CarcassC';<br>&#9;&#9; carc.Mesh=LodMesh'DeusExCharacters.GM_DressShirt_Carcass';<br>&#9;}<br>&#9;if(Mesh == LodMesh'DeusExCharacters.GFM_SuitSkirt')<br>&#9;{<br>&#9;&#9; carc.Mesh2=LodMesh'DeusExCharacters.GFM_SuitSkirt_CarcassB';<br>&#9;&#9; carc.Mesh3=LodMesh'DeusExCharacters.GFM_SuitSkirt_CarcassC';<br>&#9;&#9; carc.Mesh=LodMesh'DeusExCharacters.GFM_SuitSkirt_Carcass';<br>&#9;}<br>&#9;if(Mesh == LodMesh'DeusExCharacters.GFM_Dress')<br>&#9;{<br>&#9;&#9; carc.Mesh2=LodMesh'DeusExCharacters.GFM_Dress_CarcassB';<br>&#9;&#9; carc.Mesh3=LodMesh'DeusExCharacters.GFM_Dress_CarcassC';<br>&#9;&#9; carc.Mesh=LodMesh'DeusExCharacters.GFM_Dress_Carcass';<br>&#9;}<br>&#9;if(Mesh == LodMesh'DeusExCharacters.GM_Jumpsuit')<br>&#9;{<br>&#9;&#9; carc.Mesh2=LodMesh'DeusExCharacters.GM_Jumpsuit_CarcassB';<br>&#9;&#9; carc.Mesh3=LodMesh'DeusExCharacters.GM_Jumpsuit_CarcassC';<br>&#9;&#9; carc.Mesh=LodMesh'DeusExCharacters.GM_Jumpsuit_Carcass';<br>&#9;}<br>&#9;if(Mesh == LodMesh'DeusExCharacters.GM_suit')<br>&#9;{<br>&#9;&#9; carc.Mesh2=LodMesh'DeusExCharacters.GM_suit_CarcassB';<br>&#9;&#9; carc.Mesh3=LodMesh'DeusExCharacters.GM_suit_CarcassC';<br>&#9;&#9; carc.Mesh=LodMesh'DeusExCharacters.GM_suit_Carcass';<br>&#9;}<br>&#9; carc.Texture=Texture;<br>     carc.MultiSkins[0]=MultiSkins[0];<br>     carc.MultiSkins[1]=MultiSkins[1];<br>     carc.MultiSkins[2]=MultiSkins[2];<br>     carc.MultiSkins[3]=MultiSkins[3];<br>     carc.MultiSkins[4]=MultiSkins[4];<br>     carc.MultiSkins[5]=MultiSkins[5];<br>     carc.MultiSkins[6]=MultiSkins[6];<br>     carc.MultiSkins[7]=MultiSkins[7];<br><br>&#9;if ( carc != None )<br>&#9;{<br>&#9;&#9;if (bStunned)<br>&#9;&#9;&#9;carc.bNotDead = True;<br><br>&#9;&#9;carc.Initfor(self);<br><br>&#9;&#9;// move it down to the floor<br>&#9;&#9;loc = Location;<br>&#9;&#9;loc.z -= Default.CollisionHeight;<br>&#9;&#9;loc.z += carc.Default.CollisionHeight;<br>&#9;&#9;carc.SetLocation(loc);<br>&#9;&#9;carc.Velocity = Velocity;<br>&#9;&#9;carc.Acceleration = Acceleration;<br><br>&#9;&#9;&#9;if (Inventory != None)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;do<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;item = Inventory;<br>&#9;&#9;&#9;&#9;&#9;nextItem = item.Inventory;<br>&#9;&#9;&#9;&#9;&#9;DeleteInventory(item);<br>&#9;&#9;&#9;&#9;&#9;if ((DeusExWeapon(item) != None) && (DeusExWeapon(item).bNativeAttack))<br>&#9;&#9;&#9;&#9;&#9;&#9;item.Destroy();<br>&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;&#9;carc.AddInventory(item);<br>&#9;&#9;&#9;&#9;&#9;item = nextItem;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;until (item == None);<br>&#9;&#9;&#9;}<br>&#9;}<br><br>&#9;return carc;<br><br></div>
<h3 id="DXScriptedPawn.StartCrouch"><a class="headerlink" href="#DXScriptedPawn.StartCrouch" title="Permanent link">StartCrouch</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>          if (!bCrouching)<br>          {<br>&#9;&#9;&#9;//if(bHasCloakX)<br>&#9;&#9;&#9;//EnableCloak(True);<br>&#9;&#9;&#9;&#9;<br>               bCrouching = true;<br>               SetBasedPawnSize(CollisionRadius, GetCrouchHeight());<br>               CrouchTimer = 1.0+FRand()*0.5;<br>          }<br>     <br></div>
<h3 id="DXScriptedPawn.TCBark"><a class="headerlink" href="#DXScriptedPawn.TCBark" title="Permanent link">TCBark</a> (string BarkMessage, DeusExPlayer Target, optional float Delay)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer dxp;<br>&#9;local DeusExRootWindow root;<br>&#9;local TCBarkActor TCBA;<br><br>&#9;<br>&#9;if(Delay <= 1.0)<br>&#9;&#9;Delay = 8.0;<br>&#9;&#9;<br>&#9;&#9;TCBA = Spawn(class'TCBarkActor');<br>&#9;&#9;TCBA.Flagger = Target;<br>&#9;&#9;TCBA.pSender = self;<br>&#9;&#9;TCBA.sMessage = BarkMessage;<br>&#9;&#9;TCBA.fDelay = Delay;<br>&#9;&#9;TCBA.SetTimer(0.1,false);<br><br></div>
<h3 id="DXScriptedPawn.Tick"><a class="headerlink" href="#DXScriptedPawn.Tick" title="Permanent link">Tick</a> (float deltaSeconds)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;UpdateActorVisibility(Enemy, deltaSeconds, 1.0, false);<br>&#9;&#9;if (IsValidEnemy(Enemy))<br>&#9;&#9;{<br>&#9;&#9;&#9;if (EnemyLastSeen > FearSustainTime)<br>&#9;&#9;&#9;&#9;FinishFleeing();<br>&#9;&#9;}<br>&#9;&#9;else if (!IsValidEnemy(Enemy, false))<br>&#9;&#9;&#9;FinishFleeing();<br>&#9;&#9;else if (!IsFearful())<br>&#9;&#9;&#9;FinishFleeing();<br>&#9;&#9;Global.Tick(deltaSeconds);<br>&#9;<br></div>
<h3 id="DXScriptedPawn.Timer"><a class="headerlink" href="#DXScriptedPawn.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;ViewRotation = oldViewRotation;<br>&#9;FollowOrders();<br>&#9;ReleasePlayerCam();<br>&#9;p = none;<br><br></div>
<h3 id="DXScriptedPawn.UnLockPlayerCam"><a class="headerlink" href="#DXScriptedPawn.UnLockPlayerCam" title="Permanent link">UnLockPlayerCam</a> (deusexplayer dxp)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;&#9;dxp.bBehindView=False;<br>&#9;&#9;&#9;dxp.ViewTarget = None;<br><br></div>
<h3 id="DXScriptedPawn.UnLockPlayersCam"><a class="headerlink" href="#DXScriptedPawn.UnLockPlayersCam" title="Permanent link">UnLockPlayersCam</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer DXP;<br><br>foreach AllActors(class'DeusExPlayer', DXP)<br>{<br>&#9;&#9;&#9;DXP.bBehindView=False;<br>&#9;&#9;&#9;DXP.ViewTarget = None;<br>}<br><br></div>
<h3 id="DXScriptedPawn.UseMedkit"><a class="headerlink" href="#DXScriptedPawn.UseMedkit" title="Permanent link">UseMedkit</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int t;<br><br>&#9;if(Medkits > 0)<br>&#9;{<br>&#9;&#9;if(tMedkitUsed != "")<br>&#9;&#9;&#9;RadiusMSG(tMedkitUsed);<br>&#9;&#9;<br>&#9;&#9;if(sMedkitUsed != None)<br>&#9;&#9;&#9;PlaySound(sMedkitUsed, SLOT_None,,, 2048);<br>&#9;&#9;Health = OrigHealth;<br>&#9;&#9;Medkits--;<br>&#9;&#9;PlaySound(sound'MedicalHiss', SLOT_None,,, 256);<br>&#9;}<br><br></div>
<h3 id="DXScriptedPawn.ZoneChange"><a class="headerlink" href="#DXScriptedPawn.ZoneChange" title="Permanent link">ZoneChange</a> (ZoneInfo newZone)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;Global.ZoneChange(newZone);<br>&#9;&#9;if (newZone.bWaterZone)<br>&#9;&#9;&#9;GotoState('FallingState', 'Splash');<br>&#9;<br></div>
<h3 id="DXScriptedPawn.bCheckFace"><a class="headerlink" href="#DXScriptedPawn.bCheckFace" title="Permanent link">bCheckFace</a> -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Vector v1;<br>&#9;local Vector v2;<br>&#9;local Rotator R;<br>&#9;local float dist;<br><br><br>&#9;if ( Enemy == None )<br>&#9;&#9;return False;<br><br>&#9;R = Rotation;<br>&#9;v1 = Location;<br>&#9;v2 = Enemy.Location;<br>&#9;v1.Z = 0.0;<br>&#9;v2.Z = 0.0;<br>&#9;dist = VSize(v1 - v2);<br>&#9;return VSize(v1 + dist * vector(R) - v2) < 10;<br><br></div>
<br><br><hr>
<a class="headerlink" href="#DartFixture.uc" title="Permanent link"><h2 id="DartFixture.uc">DartFixture.uc (extends DeusExDecoration)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bInvincible=True<br>bCanBeBase=True<br>ItemName="Dart Fixture"<br>bPushable=False<br>bMovable=False<br>Mesh=LodMesh'DeusExItems.BioCell'<br>DrawScale=6.000000<br>bUnlit=True<br>CollisionRadius=28.000000<br>CollisionHeight=0.500000<br>LightEffect=LE_Disco<br>LightBrightness=255<br>LightSaturation=50<br>LightRadius=4</div>
<h3 id="DartFixture.BeginPlay"><a class="headerlink" href="#DartFixture.BeginPlay" title="Permanent link">BeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int Random;<br><br>&#9;Random = rand(256);<br>&#9;LightHue=Random;<br>&#9;LightType=LT_Steady;<br><br></div>
<h3 id="DartFixture.Frob"><a class="headerlink" href="#DartFixture.Frob" title="Permanent link">Frob</a> (Actor Frobber, Inventory frobWith)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.Frob(Frobber, frobWith);<br>&#9;Destroy();<br><br></div>
<br><br><hr>
<a class="headerlink" href="#DartJumpPad.uc" title="Permanent link"><h2 id="DartJumpPad.uc">DartJumpPad.uc (extends DeusExDecoration)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var int Velz;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bInvincible=True<br>bCanBeBase=True<br>ItemName="Jump Pad"<br>bPushable=False<br>bMovable=False<br>Mesh=LodMesh'DeusExItems.BioCell'<br>DrawScale=6.000000<br>bUnlit=True<br>CollisionRadius=28.000000<br>CollisionHeight=0.500000<br>LightEffect=LE_Disco<br>LightBrightness=255<br>LightSaturation=50<br>LightRadius=4</div>
<h3 id="DartJumpPad.BeginPlay"><a class="headerlink" href="#DartJumpPad.BeginPlay" title="Permanent link">BeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int Random, count;<br>&#9;local DartJumpPad DJP;<br><br>&#9;foreach AllActors(class'DartJumpPad',DJP)<br>&#9;&#9;count++;<br>&#9;&#9;<br>&#9;if(count < 21)<br>&#9;{<br>&#9;Random = rand(256);<br>&#9;LightHue=Random;<br>&#9;LightType=LT_Steady;<br>&#9;}<br>&#9;else<br>&#9;&#9;Destroy();<br><br></div>
<h3 id="DartJumpPad.Bump"><a class="headerlink" href="#DartJumpPad.Bump" title="Permanent link">Bump</a> (actor Other)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(deusExPlayer(Other) != None)<br>&#9;{<br>&#9;DeusExPlayer(Other).DoJump();<br>&#9;DeusExPlayer(Other).Velocity = (normal(Location - Other.Location) * Velz);<br>&#9;DeusExPlayer(Other).SetPhysics(Phys_Falling);&#9;<br>&#9;}<br>}*<br></div>
<h3 id="DartJumpPad.SupportActor"><a class="headerlink" href="#DartJumpPad.SupportActor" title="Permanent link">SupportActor</a> (Actor other)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(deusExPlayer(Other) != None)<br>&#9;{<br>&#9;DeusExPlayer(Other).DoJump();<br>&#9;DeusExPlayer(Other).Velocity = (normal(Location - Other.Location) * Velz);<br>&#9;DeusExPlayer(Other).SetPhysics(Phys_Falling);&#9;<br>&#9;}<br>&#9;if(DeusExDecoration(Other) != None)<br>&#9;{<br>&#9;DeusExDecoration(Other).SetPhysics(Phys_Falling);&#9;<br>&#9;DeusExDecoration(Other).Velocity = (normal(Location - Other.Location) * Velz);<br>&#9;}<br>&#9;if(ScriptedPawn(Other) != None)<br>&#9;{<br>&#9;ScriptedPawn(Other).SetPhysics(Phys_Falling);&#9;<br>&#9;ScriptedPawn(Other).Velocity = (normal(Location - Other.Location) * Velz);<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#DartLight.uc" title="Permanent link"><h2 id="DartLight.uc">DartLight.uc (extends Dart)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var float mpDamage;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">mpDamage=10.000000<br>spawnAmmoClass=Class'DeusEx.AmmoDartFlare'<br>ItemName="Light Dart"<br>Damage=5.000000<br>LifeSpan=120.000000<br>bUnlit=True<br>LightEffect=LE_Disco<br>LightBrightness=255<br>LightSaturation=50<br>LightRadius=20</div>
<h3 id="DartLight.BeginPlay"><a class="headerlink" href="#DartLight.BeginPlay" title="Permanent link">BeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int Random;<br><br>&#9;Random = rand(256);<br>&#9;LightHue=Random;<br>&#9;LightType=LT_Steady;<br><br></div>
<h3 id="DartLight.PreBeginPlay"><a class="headerlink" href="#DartLight.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;if ( Level.NetMode != NM_Standalone )<br>&#9;&#9;Damage = mpDamage;<br><br></div>
<br><br><hr>
<a class="headerlink" href="#DartUtil.uc" title="Permanent link"><h2 id="DartUtil.uc">DartUtil.uc (extends Dart)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var float mpDamage;<br>var int Mode;<br>var Actor PullPawn;<br>var vector OwnerLocation, TargetLocation;<br>var int Grapvel;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">mpDamage=10.000000<br>spawnAmmoClass=None<br>ItemName="Utility Dart"<br>Damage=5.000000<br>bUnlit=True<br>LightEffect=LE_Disco<br>LightBrightness=255<br>LightSaturation=50<br>LightRadius=20</div>
<h3 id="DartUtil.BeginPlay"><a class="headerlink" href="#DartUtil.BeginPlay" title="Permanent link">BeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local WeaponUtilBow WUB;<br><br>&#9;foreach AllActors(class'WeaponUtilBow', WUB)<br>&#9;{<br>&#9;&#9;if(WUB.Owner == Owner)<br>&#9;&#9;{<br>&#9;&#9;    Mode = WUB.Mode;<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="DartUtil.BeginState"><a class="headerlink" href="#DartUtil.BeginState" title="Permanent link">BeginState</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExWeapon W;<br><br><br>&#9;&#9;initLoc = Location;<br>&#9;&#9;initDir = vector(Rotation);&#9;<br>&#9;&#9;Velocity = speed*initDir;<br>&#9;&#9;PlaySound(SpawnSound, SLOT_None);<br>&#9;<br></div>
<h3 id="DartUtil.Explode"><a class="headerlink" href="#DartUtil.Explode" title="Permanent link">Explode</a> (vector HitLocation, vector HitNormal)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local bool bDestroy;<br>&#9;local float rad;<br><br><br>      // Reduce damage on nano exploded projectiles<br>      if ((bAggressiveExploded) && (Level.NetMode != NM_Standalone))<br>         Damage = Damage/6;<br><br>&#9;&#9;bDestroy = false;<br><br>&#9;&#9;if (bExplodes)<br>&#9;&#9;{<br>         //DEUS_EX AMSD Don't draw effects on dedicated server<br>         if ((Level.NetMode != NM_DedicatedServer) || (Role < ROLE_Authority))&#9;&#9;&#9;<br>            DrawExplosionEffects(HitLocation, HitNormal);<br><br>&#9;&#9;&#9;GotoState('Exploding');<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;{<br>&#9;&#9;&#9;// Server side only<br>&#9;&#9;&#9;if ( Role == ROLE_Authority )<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if ((damagee != None)) // Don't even attempt damage with a tracer<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if ( Level.NetMode != NM_Standalone )<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;if ( damagee.IsA('DeusExPlayer') )<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;DeusExPlayer(damagee).myProjKiller = Self;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;damagee.TakeDamage(Damage, Pawn(Owner), HitLocation, MomentumTransfer*Normal(Velocity), damageType);<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;if (!bStuck)<br>&#9;&#9;&#9;&#9;bDestroy = true;<br>&#9;&#9;}<br><br>&#9;&#9;rad = Max(blastRadius*24, 1024);<br><br>&#9;&#9;// This needs to be outside the simulated call chain<br>&#9;&#9;PlayImpactSound();<br><br>      //DEUS_EX AMSD Only do these server side<br>      if (Role == ROLE_Authority)<br>      {<br>         if (ImpactSound != None)<br>         {<br>            AISendEvent('LoudNoise', EAITYPE_Audio, 2.0, blastRadius*24);<br>            if (bExplodes)<br>               AISendEvent('WeaponFire', EAITYPE_Audio, 2.0, blastRadius*5);<br>         }<br>      }<br>&#9;&#9;if (bDestroy)<br>&#9;&#9;&#9;Destroy();<br>&#9;<br></div>
<h3 id="DartUtil.GetJVel"><a class="headerlink" href="#DartUtil.GetJVel" title="Permanent link">GetJVel</a> -> int</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local WeaponUtilBow WUB;<br><br>&#9;foreach AllActors(class'WeaponUtilBow', WUB)<br>&#9;{<br>&#9;&#9;if(WUB.Owner == Owner)<br>&#9;&#9;{<br>&#9;&#9;    return WUB.Jumpvel;<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="DartUtil.GetVel"><a class="headerlink" href="#DartUtil.GetVel" title="Permanent link">GetVel</a> -> int</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local WeaponUtilBow WUB;<br><br>&#9;foreach AllActors(class'WeaponUtilBow', WUB)<br>&#9;{<br>&#9;&#9;if(WUB.Owner == Owner)<br>&#9;&#9;{<br>&#9;&#9;    return WUB.Grapvel;<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="DartUtil.Grapple"><a class="headerlink" href="#DartUtil.Grapple" title="Permanent link">Grapple</a> (bool bPulling)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local vector loc, line, HitLocation, hitNormal;<br>&#9;local Vector DVector;<br><br>&#9;loc = Owner.Location;<br>&#9;loc.Z += DeusExPlayer(Owner).BaseEyeHeight;<br>&#9;line = Vector(DeusExPlayer(Owner).ViewRotation) * 90000;<br><br>&#9;Trace(hitLocation, hitNormal, loc+line, loc, true);<br>&#9;DVector = Owner.Location - Location;<br><br>&#9;if(!bPulling)<br>&#9;{<br>&#9;&#9;&#9;&#9;&#9;DeusExPlayer(Owner).DoJump();<br>&#9;&#9;&#9;&#9;&#9;DeusExPlayer(Owner).Velocity = (normal(Location - DeusExPlayer(Owner).Location) * GetVel());<br>&#9;&#9;&#9;&#9;&#9;DeusExPlayer(Owner).SetPhysics(Phys_Falling);&#9;<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;&#9;&#9;&#9;PullPawn.Velocity.Z = 180;<br>&#9;&#9;&#9;&#9;&#9;PullPawn.SetPhysics(Phys_Falling);&#9;<br>&#9;&#9;&#9;&#9;&#9;PullPawn.Velocity = (normal(Owner.Location - PullPawn.Location) * GetVel());<br><br>&#9;}<br><br></div>
<h3 id="DartUtil.HitWall"><a class="headerlink" href="#DartUtil.HitWall" title="Permanent link">HitWall</a> (vector HitNormal, actor Wall)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;if (bStickToWall)<br>&#9;&#9;{<br>&#9;&#9;&#9;Velocity = vect(0,0,0);<br>&#9;&#9;&#9;Acceleration = vect(0,0,0);<br>&#9;&#9;&#9;SetPhysics(PHYS_None);<br>&#9;&#9;&#9;bStuck = True;<br><br>&#9;&#9;&#9;// MBCODE: Do this only on server side<br>&#9;&#9;&#9;if ( Role == ROLE_Authority )<br>&#9;&#9;&#9;{<br>            if (Level.NetMode != NM_Standalone)<br>               SetTimer(5.0,False);<br><br>&#9;&#9;&#9;&#9;if (Wall.IsA('Mover'))<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;SetBase(Wall);<br>&#9;&#9;&#9;&#9;&#9;&#9;if(Mode == 0)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;Wall.Trigger(Owner,DeusExPlayer(Owner));<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;Destroy();<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;//&#9;Wall.TakeDamage(Damage, Pawn(Owner), Wall.Location, MomentumTransfer*Normal(Velocity), damageType);<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br><br>&#9;&#9;if (Wall.IsA('BreakableGlass'))<br>&#9;&#9;&#9;bDebris = False;<br><br>&#9;&#9;SpawnEffects(Location, HitNormal, Wall);<br>&#9;&#9;&#9; if(Mode == 3)<br>&#9;&#9;&#9;   {<br>&#9;&#9;&#9;&#9;Grapple(False);<br>&#9;&#9;&#9;   }<br>&#9;&#9;&#9;   else<br>&#9;&#9;&#9;   {<br>&#9;&#9;&#9;   &#9;&#9;UseMode(mode);<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;Super.HitWall(HitNormal, Wall);<br>&#9;<br></div>
<h3 id="DartUtil.PreBeginPlay"><a class="headerlink" href="#DartUtil.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br>&#9;if ( Level.NetMode != NM_Standalone )<br>&#9;&#9;Damage = mpDamage;<br><br></div>
<h3 id="DartUtil.ProcessTouch"><a class="headerlink" href="#DartUtil.ProcessTouch" title="Permanent link">ProcessTouch</a> (Actor Other, Vector HitLocation)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;if (bStuck)<br>&#9;&#9;&#9;return;<br><br>&#9;&#9;if ((Other != instigator) && (DeusExProjectile(Other) == None) &&<br>&#9;&#9;&#9;(Other != Owner))<br>&#9;&#9;{<br>&#9;&#9;&#9;damagee = Other;<br>&#9;&#9;&#9;Explode(HitLocation, Normal(HitLocation-damagee.Location));<br><br>         // DEUS_EX AMSD Spawn blood server side only<br>         if (Role == ROLE_Authority)<br>&#9;&#9;&#9;{<br>            if (damagee.IsA('Pawn') && !damagee.IsA('Robot') && bBlood)<br>               SpawnBlood(HitLocation, Normal(HitLocation-damagee.Location));<br>&#9;&#9;&#9;   <br>&#9;&#9;&#9;   if(Mode == 3)<br>&#9;&#9;&#9;   {<br>&#9;&#9;&#9;&#9;if(!damagee.bmovable)<br>&#9;&#9;&#9;&#9;&#9;Grapple(False);<br>&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;PullPawn = Damagee;<br>&#9;&#9;&#9;&#9;Grapple(True);<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;   }<br>&#9;&#9;&#9;   else<br>&#9;&#9;&#9;   {<br>&#9;&#9;&#9;   &#9;&#9;UseMode(mode);<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;<br></div>
<h3 id="DartUtil.UseMode"><a class="headerlink" href="#DartUtil.UseMode" title="Permanent link">UseMode</a> (int i)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local ClaymoreProj CP;<br>&#9;local DartFixture DF;<br>&#9;local DartJumpPad DP;<br><br>&#9;if(i == 1)<br>&#9;{<br>&#9;&#9;SetCollision(false, false, false);<br>&#9;&#9;bHidden=False;<br>&#9;&#9;DF = Spawn(class'DartFixture',,,Location,Rotation);<br>&#9;&#9;DF.bMovable=True;<br>&#9;&#9;DF.SetLocation(Location);<br>&#9;&#9;DF.SetRotation(Rotation);<br>&#9;&#9;DF.bMovable=False;<br>&#9;}<br>&#9;if(i == 2)<br>&#9;{<br>&#9;&#9;SetCollision(false, false, false);<br>&#9;&#9;bHidden=False;<br>&#9;&#9;DP = Spawn(class'DartJumpPad',,,Location,Rotation);<br>&#9;&#9;DP.bMovable=True;<br>&#9;&#9;DP.SetLocation(Location);<br>&#9;&#9;DP.SetRotation(Rotation);<br>&#9;&#9;DP.bMovable=False;<br>&#9;&#9;DP.Velz = GetJVel();<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#DontMove.uc" title="Permanent link"><h2 id="DontMove.uc">DontMove.uc (extends Actor)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bHidden=True</div>
<h3 id="DontMove.PostBeginPlay"><a class="headerlink" href="#DontMove.PostBeginPlay" title="Permanent link">PostBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre">etTimer(1, false)<br></div>
<h3 id="DontMove.Timer"><a class="headerlink" href="#DontMove.Timer" title="Permanent link">Timer</a></h3>

<br><br><hr>
<a class="headerlink" href="#DoorCrate.uc" title="Permanent link"><h2 id="DoorCrate.uc">DoorCrate.uc (extends Containers)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var bool bRevealing, bFading, bBlockFrob;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bBlockFrob=True<br>bInvincible=True<br>bFlammable=False<br>ItemName="Metal Door Crate"<br>bPushable=False<br>bMovable=False<br>bBlockSight=True<br>Mesh=LodMesh'DeusExDeco.CrateUnbreakableLarge'<br>CollisionRadius=56.500000<br>CollisionHeight=56.000000<br>Mass=150.000000<br>Buoyancy=160.000000</div>
<h3 id="DoorCrate.Frob"><a class="headerlink" href="#DoorCrate.Frob" title="Permanent link">Frob</a> (Actor Frobber, Inventory frobWith)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(bfading || brevealing || bBlockfrob)<br>&#9;&#9;return;<br>&#9;if(Scaleglow < 0.1)<br>&#9;{<br>&#9;&#9;bRevealing=True;<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;Style=STY_Translucent;<br>&#9;&#9;bFading=True;<br>&#9;}<br><br></div>
<h3 id="DoorCrate.Tick"><a class="headerlink" href="#DoorCrate.Tick" title="Permanent link">Tick</a> (float deltatime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(bRevealing)<br>&#9;{<br>&#9;&#9;Scaleglow+=0.05;<br>&#9;&#9;if(Scaleglow>0.99)<br>&#9;&#9;{<br>&#9;&#9;&#9;bRevealing=False;<br>&#9;&#9;&#9;Style=STY_Normal;<br>&#9;&#9;&#9;SetCollision(True, True, True);<br>&#9;&#9;&#9;bCollideWorld = true;<br>&#9;&#9;}<br>&#9;}<br>&#9;if(bFading)<br>&#9;{<br>&#9;&#9;Scaleglow-=0.05;<br>&#9;&#9;if(Scaleglow<0.01)<br>&#9;&#9;{<br>&#9;&#9;&#9;bFading=False;<br>&#9;&#9;&#9;SetCollision(False, False, False);<br>&#9;&#9;&#9;bCollideWorld = true;<br>&#9;&#9;}<br>&#9;}&#9;<br><br></div>
<h3 id="DoorCrate.Trigger"><a class="headerlink" href="#DoorCrate.Trigger" title="Permanent link">Trigger</a> (actor Other, pawn EventInstigator)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(bfading || brevealing)<br>&#9;&#9;return;<br>&#9;if(Scaleglow < 0.1)<br>&#9;{<br>&#9;&#9;bRevealing=True;<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;Style=STY_Translucent;<br>&#9;&#9;bFading=True;<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#DoorLocker.uc" title="Permanent link"><h2 id="DoorLocker.uc">DoorLocker.uc (extends DeusExWeapon)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">GoverningSkill=Class'DeusEx.SkillWeaponPistol'<br>NoiseLevel=0.010000<br>ShotTime=0.150000<br>reloadTime=1.500000<br>HitDamage=0<br>maxRange=4800<br>AccurateRange=2400<br>BaseAccuracy=0.800000<br>bCanHaveScope=True<br>ScopeFOV=25<br>bCanHaveLaser=True<br>recoilStrength=0.100000<br>mpBaseAccuracy=0.200000<br>mpAccurateRange=1200<br>mpMaxRange=1200<br>bCanHaveModBaseAccuracy=True<br>bCanHaveModReloadCount=True<br>bCanHaveModAccurateRange=True<br>bCanHaveModReloadTime=True<br>bInstantHit=True<br>FireOffset=(X=-24.000000,Y=10.000000,Z=14.000000)<br>shakemag=50.000000<br>FireSound=Sound'DeusExSounds.Weapons.StealthPistolFire'<br>AltFireSound=Sound'DeusExSounds.Weapons.StealthPistolReloadEnd'<br>CockingSound=Sound'DeusExSounds.Weapons.StealthPistolReload'<br>SelectSound=Sound'DeusExSounds.Weapons.StealthPistolSelect'<br>InventoryGroup=57<br>ItemName="Locker Gun"<br>PlayerViewOffset=(X=24.000000,Y=-10.000000,Z=-14.000000)<br>PlayerViewMesh=LodMesh'DeusExItems.StealthPistol'<br>PickupViewMesh=LodMesh'DeusExItems.StealthPistolPickup'<br>ThirdPersonMesh=LodMesh'DeusExItems.StealthPistol3rd'<br>Icon=Texture'DeusExUI.Icons.BeltIconStealthPistol'<br>largeIcon=Texture'DeusExUI.Icons.LargeIconStealthPistol'<br>largeIconWidth=47<br>largeIconHeight=37<br>Description="The stealth pistol is a variant of the standard 10mm pistol with a larger clip and integrated silencer designed for wet work at very close ranges."<br>beltDescription="LOCK"<br>Mesh=LodMesh'DeusExItems.StealthPistolPickup'<br>CollisionRadius=8.000000<br>CollisionHeight=0.800000</div>
<h3 id="DoorLocker.CalculateAccuracy"><a class="headerlink" href="#DoorLocker.CalculateAccuracy" title="Permanent link">CalculateAccuracy</a> -> float</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;return 0.000000; //Dirty hack to always return dead on accuracy.<br><br></div>
<h3 id="DoorLocker.PreBeginPlay"><a class="headerlink" href="#DoorLocker.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;// If this is a netgame, then override defaults<br>&#9;if ( Level.NetMode != NM_StandAlone )<br>&#9;{<br>&#9;&#9;HitDamage = mpHitDamage;<br>&#9;&#9;BaseAccuracy = mpBaseAccuracy;<br>&#9;&#9;ReloadTime = mpReloadTime;<br>&#9;&#9;AccurateRange = mpAccurateRange;<br>&#9;&#9;MaxRange = mpMaxRange;<br>&#9;&#9;ReloadCount = mpReloadCount;<br>&#9;}<br><br></div>
<h3 id="DoorLocker.ProcessTraceHit"><a class="headerlink" href="#DoorLocker.ProcessTraceHit" title="Permanent link">ProcessTraceHit</a> (Actor Other, Vector HitLocation, Vector HitNormal, Vector X, Vector Y, Vector Z)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local float        mult;<br>&#9;local name         damageType;<br>&#9;local DeusExPlayer dxPlayer, DXP;<br>&#9;local Pawn P;<br><br>&#9;<br>&#9;&#9;if(Other.isa('DeusExMover'))<br>&#9;&#9;{<br>&#9;&#9;&#9;DeusExMover(Other).bLocked = !DeusExMover(Other).bLocked;<br>&#9;&#9;&#9;DeusExMover(Other).bPickable = False;<br>&#9;&#9;&#9;DeusExPlayer(Owner).ClientMessage("Lock state; "$DeusExMover(Other).bLocked);<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br><br></div>
<h3 id="DoorLocker.TestMPBeltSpot"><a class="headerlink" href="#DoorLocker.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<br><br><hr>
<a class="headerlink" href="#Doritos.uc" title="Permanent link"><h2 id="Doritos.uc">Doritos.uc (extends FoodMMRPG)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">rechargeAmount=20<br>ItemName="Cheese Nachos"<br>ItemArticle="a pack of"<br>PlayerViewMesh=LodMesh'DeusExItems.SoyFood'<br>PlayerViewScale=1.500000<br>PickupViewMesh=LodMesh'DeusExItems.SoyFood'<br>PickupViewScale=1.500000<br>ThirdPersonMesh=LodMesh'DeusExItems.SoyFood'<br>ThirdPersonScale=1.500000<br>Icon=Texture'PGAssets.Skins.DoritosBelt'<br>largeIcon=Texture'PGAssets.Skins.DoritosBelt'<br>largeIconWidth=42<br>largeIconHeight=46<br>beltDescription="CHS NCHO"<br>Skin=Texture'PGAssets.Skins.DoritosTex1'<br>Mesh=LodMesh'DeusExItems.SoyFood'<br>DrawScale=1.500000<br>MultiSkins(0)=Texture'PGAssets.Skins.DoritosTex1'<br>CollisionRadius=10.000000<br>CollisionHeight=1.980000<br>Mass=3.000000</div>
<br><br><hr>
<a class="headerlink" href="#DroneBox.uc" title="Permanent link"><h2 id="DroneBox.uc">DroneBox.uc (extends Containers)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">HitPoints=10<br>FragType=Class'DeusEx.WoodFragment'<br>ItemName="Drone Storage Container"<br>bPushable=False<br>bBlockSight=True<br>Mesh=LodMesh'DeusExDeco.CrateBreakableMed'<br>CollisionRadius=34.000000<br>CollisionHeight=24.000000<br>Mass=50.000000<br>Buoyancy=60.000000</div>
<h3 id="DroneBox.Destroyed"><a class="headerlink" href="#DroneBox.Destroyed" title="Permanent link">Destroyed</a></h3>

<h3 id="DroneBox.Frag"><a class="headerlink" href="#DroneBox.Frag" title="Permanent link">Frag</a> (class<fragment> FragType, vector Momentum, float DSize, int NumFrags)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int i;<br>&#9;local actor A, Toucher;<br>&#9;local DeusExFragment s;<br>&#9;local DroneBoxRespawner DBR;<br>&#9;local RadarDrone RD;<br><br>&#9;<br>&#9;if ( bOnlyTriggerable )<br>&#9;&#9;return; <br>&#9;if (Event!='')<br>&#9;&#9;foreach AllActors( class 'Actor', A, Event )<br>&#9;&#9;&#9;A.Trigger( Toucher, pawn(Toucher) );<br>&#9;if ( Region.Zone.bDestructive )<br>&#9;{<br>&#9;&#9;Destroy();<br>&#9;&#9;return;<br>&#9;}<br>&#9;for (i=0 ; i<NumFrags ; i++) <br>&#9;{<br>&#9;&#9;s = DeusExFragment(Spawn(FragType, Owner));<br>&#9;&#9;if (s != None)<br>&#9;&#9;{<br>&#9;&#9;&#9;s.Instigator = Instigator;<br>&#9;&#9;&#9;s.CalcVelocity(Momentum,0);<br>&#9;&#9;&#9;s.DrawScale = DSize*0.5+0.7*DSize*FRand();<br>&#9;&#9;&#9;s.Skin = GetMeshTexture();<br>&#9;&#9;&#9;if (bExplosive)<br>&#9;&#9;&#9;&#9;s.bSmoking = True;<br>&#9;&#9;}<br>&#9;}<br><br>&#9;if (!bExplosive)<br>&#9;{<br>&#9;&#9;Spawn(class'RadarDrone',,,Location);<br>&#9;&#9;//RD.Frob(tmpFrob,None);<br>&#9;&#9;&#9;&#9;Destroy();<br>&#9;&#9;DBR = Spawn(class'DroneBoxRespawner',,,Location);<br>&#9;&#9;DBR.SetTimer(30,False);<br>&#9;}<br><br></div>
<h3 id="DroneBox.Frob"><a class="headerlink" href="#DroneBox.Frob" title="Permanent link">Frob</a> (Actor Frobber, Inventory frobWith)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;TakeDamage(50, DeusExPlayer(Frobber), Location, vect(0,0,0), 'fell');<br>&#9;//tmpFrob = DeusExPlayer(Frobber);<br><br></div>
<br><br><hr>
<a class="headerlink" href="#DroneBoxRespawner.uc" title="Permanent link"><h2 id="DroneBoxRespawner.uc">DroneBoxRespawner.uc (extends Actor)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bHidden=True</div>
<h3 id="DroneBoxRespawner.Timer"><a class="headerlink" href="#DroneBoxRespawner.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>Spawn(class'DroneBox',,,Location);<br>BroadcastMessage("A new drone container has been delivered.");<br>destroy();<br><br></div>
<br><br><hr>
<a class="headerlink" href="#DroneGrenade.uc" title="Permanent link"><h2 id="DroneGrenade.uc">DroneGrenade.uc (extends ThrownProjectile)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">fuseLength=1.000000<br>proxRadius=128.000000<br>spawnWeaponClass=Class'PartyStuff.WeaponDroneGrenade'<br>spawnAmmoClass=Class'PartyStuff.AmmoDG'<br>ItemName="Drone Grenade"<br>speed=1500.000000<br>ImpactSound=Sound'DeusExSounds.Generic.SmallExplosion2'<br>Mesh=LodMesh'DeusExItems.EMPGrenadePickup'</div>
<h3 id="DroneGrenade.DamageRing"><a class="headerlink" href="#DroneGrenade.DamageRing" title="Permanent link">DamageRing</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Pawn apawn;<br>&#9;local float damageRadius;<br>&#9;local Vector dist;<br>&#9;local ProjectileGenerator Projy;<br><br>&#9;<br>&#9;&#9;&#9;projy = Spawn(class'ProjectileGenerator',,,Self.Location);<br>&#9;&#9;&#9;projy.Lifespan=1.5;<br>&#9;&#9;&#9;projy.EjectSpeed=250;<br>&#9;&#9;&#9;projy.bRandomEject = True;<br>&#9;&#9;&#9;projy.ProjectileClass=class'RocketDrone';<br>&#9;&#9;&#9;projy.NumPerSpawn=3;<br>&#9;&#9;&#9;<br>&#9;&#9;if ( Level.NetMode != NM_Standalone )<br>&#9;&#9;{<br>&#9;&#9;&#9;damageRadius = (blastRadius / gradualHurtSteps) * gradualHurtCounter;<br><br>&#9;&#9;&#9;for ( apawn = Level.PawnList; apawn != None; apawn = apawn.nextPawn )<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if ( apawn.IsA('DeusExPlayer') )<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;dist = apawn.Location - Location;<br>&#9;&#9;&#9;&#9;&#9;if ( VSize(dist) < damageRadius )<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;if ( gradualHurtCounter <= 2 )<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if ( apawn.FastTrace( apawn.Location, Location ))<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;DeusExPlayer(apawn).myProjKiller = Self;<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;DeusExPlayer(apawn).myProjKiller = Self;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>      //DEUS_EX AMSD Ignore Line of Sight on the lowest radius check, only in multiplayer<br>&#9;&#9;HurtRadius<br>&#9;&#9;(<br>&#9;&#9;&#9;(2 * Damage) / gradualHurtSteps,<br>&#9;&#9;&#9;(blastRadius / gradualHurtSteps) * gradualHurtCounter,<br>&#9;&#9;&#9;damageType,<br>&#9;&#9;&#9;MomentumTransfer / gradualHurtSteps,<br>&#9;&#9;&#9;Location,<br>         ((gradualHurtCounter <= 2) && (Level.NetMode != NM_Standalone))<br>&#9;&#9;);<br>   <br></div>
<h3 id="DroneGrenade.SpawnEffects"><a class="headerlink" href="#DroneGrenade.SpawnEffects" title="Permanent link">SpawnEffects</a> (Vector HitLocation, Vector HitNormal, Actor Other)</h3>

<h3 id="DroneGrenade.Timer"><a class="headerlink" href="#DroneGrenade.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;gradualHurtCounter++;<br>      DamageRing();<br>&#9;&#9;if (gradualHurtCounter >= gradualHurtSteps)<br>&#9;&#9;&#9;Destroy();<br>&#9;<br></div>
<br><br><hr>
<a class="headerlink" href="#DynMusicActor.uc" title="Permanent link"><h2 id="DynMusicActor.uc">DynMusicActor.uc (extends PGActors)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var DeusExPlayer Watcher;<br>var DynMusicMutator DM;<br>var bool bInCombat;<br>var bool bPSZDisabled;</div>
<h3 id="DynMusicActor.GetMemorizedMusic"><a class="headerlink" href="#DynMusicActor.GetMemorizedMusic" title="Permanent link">GetMemorizedMusic</a> (DeusExPlayer Them) -> music</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local MusicMemory MM;<br><br>&#9;foreach AllActors(class'MusicMemory', MM)<br>&#9;{<br>&#9;&#9;if(MM.Watcher == Them)<br>&#9;&#9;{<br>&#9;&#9;&#9;return MM.CurrentSong;<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="DynMusicActor.MMLocked"><a class="headerlink" href="#DynMusicActor.MMLocked" title="Permanent link">MMLocked</a> (DeusExPlayer Them) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local MusicMemory MM;<br><br>&#9;foreach AllActors(class'MusicMemory', MM)<br>&#9;{<br>&#9;&#9;if(MM.Watcher == Them)<br>&#9;&#9;{<br>&#9;&#9;&#9;return MM.bMMLocked;<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="DynMusicActor.Tick"><a class="headerlink" href="#DynMusicActor.Tick" title="Permanent link">Tick</a> (float deltatime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer DXP;<br>&#9;local ScriptedPawn SP;<br>&#9;local bool bFoundCombat;<br><br><br>&#9;if(Watcher != None)<br>&#9;{<br>&#9;&#9;SetLocation(watcher.Location);<br>&#9;&#9;&#9;if(bPSZDisabled)<br>&#9;&#9;&#9;&#9;return;<br>&#9;&#9;if(!bInCombat)<br>&#9;&#9;{<br>&#9;&#9;&#9;foreach VisibleActors(class'ScriptedPawn', SP, 785, Location)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(!SP.IsA('Animal') && !SP.IsA('SuperCleanerBot') && !SP.IsA('CleanerBot') && !SP.IsA('MedicalBot') && !SP.IsA('RepairBot'))  <br>&#9;&#9;&#9;&#9;&#9;if(SP.IsInState('Attacking') || SP.IsInState('Alerting') || SP.IsInState('Burning') || SP.IsInState('Seeking') || SP.IsInState('Stunned') || SP.IsInState('HandlingEnemy'))<br>&#9;&#9;&#9;&#9;&#9;&#9;bFoundCombat=True;<br>&#9;&#9;&#9;}<br><br>&#9;&#9;&#9;if(bFoundCombat)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(MMLocked(Watcher))<br>&#9;&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;bInCombat=True;<br>&#9;&#9;&#9;&#9;&#9;if(DM.BattleEnterMsg != "")<br>&#9;&#9;&#9;&#9;&#9;&#9;Watcher.ClientMessage(DM.BattleEnterMsg);<br>&#9;&#9;&#9;&#9;Watcher.ClientSetMusic( DM.BattleTrack, DM.BattleSongSection, DM.BattleCdTrack, DM.Transition );<br>&#9;&#9;&#9;&#9;SetTimer(1,True);<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="DynMusicActor.Timer"><a class="headerlink" href="#DynMusicActor.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local ScriptedPawn SP;<br>&#9;local bool bFoundCombat;<br><br>&#9;if(bInCombat)<br>&#9;{<br>&#9;&#9;foreach RadiusActors(class'ScriptedPawn', SP, 785, Location)<br>&#9;&#9;{<br>&#9;&#9;if(!SP.IsA('Animal') && !SP.IsA('SuperCleanerBot') && !SP.IsA('CleanerBot') && !SP.IsA('MedicalBot') && !SP.IsA('RepairBot'))  <br>&#9;&#9;&#9;if(SP.IsInState('Attacking') || SP.IsInState('Alerting') || SP.IsInState('Burning') || SP.IsInState('TakingHit') || SP.IsInState('Seeking') || SP.IsInState('Stunned') || SP.IsInState('HandlingEnemy'))<br>&#9;&#9;&#9;&#9;bFoundCombat=True;<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(!bFoundCombat)<br>&#9;&#9;{<br>&#9;&#9;&#9;bInCombat=False;<br>&#9;&#9;&#9;&#9;&#9;if(DM.BattleExitMsg != "")<br>&#9;&#9;&#9;&#9;&#9;&#9;Watcher.ClientMessage(DM.BattleExitMsg);<br>&#9;&#9;&#9;Watcher.ClientSetMusic( GetMemorizedMusic(Watcher), Level.SongSection, Level.CdTrack, DM.Transition );<br>&#9;&#9;}<br>&#9;}<br>&#9;else<br>&#9;&#9;SetTimer(1,False);<br><br></div>
<br><br><hr>
<a class="headerlink" href="#DynMusicMutator.uc" title="Permanent link"><h2 id="DynMusicMutator.uc">DynMusicMutator.uc (extends Mutator)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var() config music BattleTrack;<br>var() config EMusicTransition Transition;<br>var() config byte             BattleSongSection, SongSection;<br>var() config byte             BattleCdTrack, CdTrack;<br>var() config string BattleEnterMsg, BattleExitMsg;</div>
<h3 id="DynMusicMutator.ModifyPlayer"><a class="headerlink" href="#DynMusicMutator.ModifyPlayer" title="Permanent link">ModifyPlayer</a> (Pawn Other)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer P;<br>&#9;local DynMusicActor DA;<br>&#9;local bool bFound;<br><br>&#9;super.ModifyPlayer(Other);<br>&#9;P = DeusExPlayer(Other);<br>&#9;<br>&#9;if(P != None)<br>&#9;{<br>&#9;&#9;foreach AllActors(class'DynMusicActor', DA)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(DA.Watcher == P)<br>&#9;&#9;&#9;&#9;bFound=True;<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;<br>&#9;&#9;if(!bFound)<br>&#9;&#9;{<br>&#9;&#9;&#9;DA = Spawn(class'DynMusicActor',,,P.Location);<br>&#9;&#9;&#9;DA.Watcher = P;<br>&#9;&#9;&#9;DA.DM = Self;<br>&#9;&#9;&#9;Log("Dynamic music attached.");<br>&#9;&#9;}<br>&#9;}<br>&#9;<br><br></div>
<h3 id="DynMusicMutator.PostBeginPlay"><a class="headerlink" href="#DynMusicMutator.PostBeginPlay" title="Permanent link">PostBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Level.Game.BaseMutator.AddMutator (Self);<br>&#9;&#9;super.PostBeginPlay();<br><br></div>
<br><br><hr>
<a class="headerlink" href="#ElecArmour.uc" title="Permanent link"><h2 id="ElecArmour.uc">ElecArmour.uc (extends PGArmour)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">Dur=100<br>Def=10<br>bResistEMP=True<br>ItemName="Electric Armour"<br>beltDescription="ELEC"</div>
<h3 id="ElecArmour.TestMPBeltSpot"><a class="headerlink" href="#ElecArmour.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<br><br><hr>
<a class="headerlink" href="#Estus.uc" title="Permanent link"><h2 id="Estus.uc">Estus.uc (extends DeusExPickup)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var() int eUses, eMaxUses;<br>var int ru;<br>var bool bEstusArmed;<br>var float explosionDamage;<br>var float explosionRadius;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">eUses=5<br>eMaxUses=5<br>ru=5<br>explosionDamage=100.000000<br>explosionRadius=100.000000<br>bBreakable=True<br>maxCopies=1<br>bActivatable=True<br>ItemName="Estus flask"<br>PlayerViewOffset=(X=16.000000,Y=8.000000,Z=-16.000000)<br>PlayerViewMesh=LodMesh'DeusExDeco.Flask'<br>PickupViewMesh=LodMesh'DeusExDeco.Flask'<br>ThirdPersonMesh=LodMesh'DeusExDeco.Flask'<br>LandSound=Sound'DeusExSounds.Generic.GlassHit1'<br>Icon=Texture'PGAssets.Icons.BeltIconEstus'<br>M_Activated=""<br>largeIconWidth=18<br>largeIconHeight=44<br>Description="Estus magic potion of healing"<br>beltDescription="ESTUS"<br>Texture=Texture'DeusExDeco.Skins.AlarmLightTex9'<br>Mesh=LodMesh'DeusExDeco.Flask'<br>AmbientGlow=20<br>MultiSkins(0)=Texture'DeusExDeco.Skins.AlarmLightTex9'<br>MultiSkins(1)=Texture'DeusExDeco.Skins.AlarmLightTex9'<br>MultiSkins(2)=Texture'DeusExDeco.Skins.AlarmLightTex9'<br>MultiSkins(3)=Texture'DeusExDeco.Skins.AlarmLightTex9'<br>MultiSkins(4)=Texture'DeusExDeco.Skins.AlarmLightTex9'<br>MultiSkins(5)=Texture'DeusExDeco.Skins.AlarmLightTex9'<br>MultiSkins(6)=Texture'DeusExDeco.Skins.AlarmLightTex9'<br>MultiSkins(7)=Texture'DeusExDeco.Skins.AlarmLightTex9'<br>SoundVolume=64<br>CollisionRadius=4.200000<br>CollisionHeight=7.450000<br>LightBrightness=50<br>LightSaturation=20<br>LightRadius=5<br>Mass=10.000000<br>Buoyancy=8.000000</div>
<h3 id="Estus.Activate"><a class="headerlink" href="#Estus.Activate" title="Permanent link">Activate</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;// can't turn it off<br>&#9;<br></div>
<h3 id="Estus.BecomeItem"><a class="headerlink" href="#Estus.BecomeItem" title="Permanent link">BecomeItem</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;bEstusArmed=False;<br>&#9;super.BecomeItem();<br><br></div>
<h3 id="Estus.BecomePickup"><a class="headerlink" href="#Estus.BecomePickup" title="Permanent link">BecomePickup</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(Owner != None)<br>&#9;&#9;bEstusArmed=True;<br>&#9;super.BecomePickup();<br><br></div>
<h3 id="Estus.BeginState"><a class="headerlink" href="#Estus.BeginState" title="Permanent link">BeginState</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer player, hitplayer;<br>&#9;local scriptedpawn hitpawn;<br>&#9;local dxScriptedPawn hitpawn2;<br>&#9;local Actor       hitActor;<br>&#9;local Vector      hitLocation, hitNormal;<br>&#9;local Vector      position, line;<br>&#9;local float Dist;<br><br>&#9;&#9;Super.BeginState();<br>&#9;&#9;player = DeusExPlayer(Owner);<br>&#9;&#9;if(eUses > 0)<br>&#9;&#9;{<br>&#9;&#9;&#9;position    = player.Location;<br>&#9;&#9;&#9;position.Z += player.BaseEyeHeight;<br>&#9;&#9;&#9;line        = Vector(player.ViewRotation) * 4000;<br>&#9;&#9;&#9;hitActor = Trace(hitLocation, hitNormal, position+line, position, true);<br>&#9;&#9;&#9;hitplayer = DeusExPlayer(hitActor);<br>&#9;&#9;&#9;hitpawn = ScriptedPawn(hitactor);<br>&#9;&#9;&#9;hitpawn2 = dxScriptedPawn(hitactor);<br>&#9;&#9;&#9;Dist = Abs(VSize(HitLocation - player.Location));<br>&#9;&#9;&#9;if (player != None)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if (hitplayer != None && dist < 256) //Use on another player<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;Spawn(class'EstusCloud',,,Player.Location,player.ViewRotation);<br>&#9;&#9;&#9;&#9;&#9;Hitplayer.ClientMessage("You have been healed by"@player.PlayerReplicationInfo.PlayerName);<br>&#9;&#9;&#9;&#9;&#9;Player.ClientMessage("You have healed "@hitplayer.PlayerReplicationInfo.PlayerName);<br>&#9;&#9;&#9;&#9;&#9;EstusUse(hitplayer);<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;else if(hitpawn != None && dist < 256)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;Spawn(class'EstusCloud',,,Player.Location,player.ViewRotation);<br>&#9;&#9;&#9;&#9;&#9;HitPawn.Health = HitPawn.default.Health;<br>&#9;&#9;&#9;&#9;&#9; HitPawn.HealthHead= HitPawn.default.HealthHead;<br>&#9;&#9;&#9;&#9;&#9; HitPawn.HealthTorso= HitPawn.default.HealthTorso;<br>&#9;&#9;&#9;&#9;&#9; HitPawn.HealthLegLeft= HitPawn.default.HealthLegLeft;<br>&#9;&#9;&#9;&#9;&#9; HitPawn.HealthLegRight= HitPawn.default.HealthLegRight;<br>&#9;&#9;&#9;&#9;&#9; HitPawn.HealthArmLeft= HitPawn.default.HealtharmLeft;<br>&#9;&#9;&#9;&#9;&#9; HitPawn.HealthArmRight= HitPawn.default.HealthArmRight;<br>&#9;&#9;&#9;&#9;&#9; Player.ClientMessage("You have healed "@hitpawn.Familiarname);<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;else if(hitpawn2 != None && dist < 256)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9; Hitpawn2.CurrentBossArmour = Hitpawn2.default.CurrentBossArmour;<br>&#9;&#9;&#9;&#9;&#9; Hitpawn2.CurrentReturnArmour = Hitpawn2.default.CurrentReturnArmour;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;else //Use on self<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;EstusUse(player);<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}&#9;<br>&#9;&#9;&#9;eUses--;<br>&#9;&#9;&#9;ru=eUses;<br>&#9;&#9;&#9;player.ClientMessage("The flask has "$eUses$" uses left.");<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;{<br>&#9;&#9;&#9;player.ClientMessage("The flask is empty.");<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;GotoState('DeActivated');<br>&#9;<br></div>
<h3 id="Estus.Destroyed"><a class="headerlink" href="#Estus.Destroyed" title="Permanent link">Destroyed</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local ProjectileGenerator gen;<br><br>&#9;<br>&#9;<br>&#9;if ( !bEstusArmed || eUses == 0)<br>&#9;&#9;return;<br>&#9;&#9;<br>&#9;EstusExplode();<br>&#9;gen = Spawn(class'ProjectileGenerator',,, Location);<br>&#9;if (gen != None)<br>&#9;{<br>     //gen.RemoteRole = ROLE_None;<br>&#9;&#9;//gen.particleDrawScale = 1.0;<br>&#9;&#9;gen.checkTime = 0.05;<br>&#9;&#9;gen.frequency = 1.0;<br>&#9;&#9;gen.ejectSpeed = 200.0;<br>&#9;&#9;//gen.bGravity = True;<br>&#9;&#9;gen.bRandomEject = True;<br>&#9;&#9;gen.ProjectileClass=class'Fireball';<br>&#9;&#9;gen.LifeSpan = 2.0;<br>&#9;}<br>&#9;super.Destroyed();<br><br></div>
<h3 id="Estus.DropFrom"><a class="headerlink" href="#Estus.DropFrom" title="Permanent link">DropFrom</a> (vector StartLocation)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;bEstusArmed=True;<br>&#9;super.DropFrom(StartLocation);<br><br></div>
<h3 id="Estus.EstusUse"><a class="headerlink" href="#Estus.EstusUse" title="Permanent link">EstusUse</a> (deusexplayer p)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;p.HealPlayer(50, True);<br>&#9;p.StopPoison();<br>&#9;p.ExtinguishFire();<br>&#9;p.drugEffectTimer = 0;<br>&#9;p.Energy += 50;<br>&#9;&#9;&#9;if (p.Energy > p.EnergyMax)<br>&#9;&#9;&#9;&#9;p.Energy = p.EnergyMax;<br><br></div>
<h3 id="Estus.PreBeginPlay"><a class="headerlink" href="#Estus.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;// If this is a netgame, then override defaults<br>&#9;if ( Level.NetMode != NM_StandAlone )<br>&#9;&#9;MaxCopies = 1;<br><br></div>
<h3 id="Estus.RenderOverlays"><a class="headerlink" href="#Estus.RenderOverlays" title="Permanent link">RenderOverlays</a> (canvas Canvas)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer P;<br>&#9;local Actor CrosshairTarget;<br>&#9;local float Scale, Accuracy, Dist;<br>&#9;local vector HitLocation, HitNormal, StartTrace, EndTrace, X,Y,Z;<br>&#9;local vector loc, line;<br>&#9;local String KeyName, Alias, curKeyName;<br>&#9;local int i;<br>&#9;local string str;<br>&#9;local Actor hitActor;<br>&#9;local string mi;<br><br>&#9;<br>&#9;Super.RenderOverlays(Canvas);<br>&#9;P = DeusExPlayer(Owner);<br>&#9;if ( P != None ) <br>&#9;{&#9;<br>&#9;&#9;&#9;&#9;loc = P.Location;<br>&#9;&#9;&#9;&#9;loc.Z += P.BaseEyeHeight;<br>&#9;&#9;&#9;&#9;line = Vector(P.ViewRotation) * 90000;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;hitActor = Trace(hitLocation, hitNormal, loc+line, loc, true);<br>&#9;&#9;&#9;&#9;Dist = Abs(VSize(HitLocation - P.Location));<br>&#9;&#9;&#9;&#9;//bOwnsCrossHair = True; <br>&#9;&#9;&#9;&#9;Scale = Canvas.ClipX/640;<br>&#9;&#9;&#9;&#9;Canvas.SetPos(0.5 * Canvas.ClipX - 16 * Scale, 0.5 * Canvas.ClipY - 16 * Scale );<br>&#9;&#9;&#9;&#9;//Canvas.Style = ERenderStyle.STY_Translucent;<br>&#9;&#9;&#9;&#9;Canvas.DrawColor.R = 255;<br>&#9;&#9;&#9;&#9;Canvas.DrawColor.G = 250;<br>&#9;&#9;&#9;&#9;Canvas.DrawColor.B = 255;<br>&#9;&#9;&#9;&#9;Canvas.Font = Canvas.SmallFont;<br>&#9;&#9;&#9;&#9;if(ru == 0)<br>&#9;&#9;&#9;&#9;&#9;mi = "|P2";<br>&#9;&#9;&#9;&#9;else if(ru > 0 && ru < 5)<br>&#9;&#9;&#9;&#9;&#9;mi = "|P4";<br>&#9;&#9;&#9;&#9;else mi = "|P3";<br>&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;if(ScriptedPawn(hitActor) != None && dist < 256)<br>&#9;&#9;&#9;&#9;&#9;str = " - Will use on "$ScriptedPawn(hitActor).FamiliarName;<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;if(DeusExPlayer(hitActor) != None && dist < 256)<br>&#9;&#9;&#9;&#9;&#9;str = " - Will use on "$DeusExPlayer(hitActor).PlayerReplicationInfo.PlayerName;<br>&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;Canvas.DrawText("      Uses left: "$ru$str);<br>&#9;}<br>&#9;&#9;&#9;//else<br>&#9;&#9;&#9;&#9;//bOwnsCrossHair = False; // Only for compatibility with HDX50&#9;&#9;<br><br></div>
<h3 id="Estus.TestMPBeltSpot"><a class="headerlink" href="#Estus.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return (BeltSpot == 9);<br><br></div>
<h3 id="Estus.UpdateInfo"><a class="headerlink" href="#Estus.UpdateInfo" title="Permanent link">UpdateInfo</a> (Object winObject) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local PersonaInfoWindow winInfo;<br>&#9;local string str;<br><br><br>&#9;winInfo = PersonaInfoWindow(winObject);<br>&#9;if (winInfo == None)<br>&#9;&#9;return False;<br><br>&#9;winInfo.SetTitle(itemName @ String(eUses));<br>&#9;winInfo.SetText(Description $ winInfo.CR() $ winInfo.CR());<br>//&#9;winInfo.AppendText(Sprintf(RechargesLabel, RechargeAmount));<br><br>&#9;// Print the number of copies<br>&#9;str = CountLabel @ String(eUses);<br>&#9;winInfo.AppendText(winInfo.CR() $ winInfo.CR() $ str);<br><br>&#9;return True;<br><br></div>
<h3 id="Estus.estusExplode"><a class="headerlink" href="#Estus.estusExplode" title="Permanent link">estusExplode</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local SphereEffect sphere;<br>&#9;local ScorchMark s;<br>&#9;local ExplosionLight light;<br>&#9;local int i;<br><br><br>&#9;// alert NPCs that I'm exploding<br>&#9;AISendEvent('LoudNoise', EAITYPE_Audio, , explosionRadius*16);<br>&#9;PlaySound(Sound'LargeExplosion1', SLOT_None,,, explosionRadius*16);<br><br>&#9;// draw a pretty explosion<br>&#9;light = Spawn(class'ExplosionLight',,, Location);<br>&#9;if (light != None)<br>&#9;&#9;light.size = 4;<br><br>&#9;Spawn(class'ExplosionSmall',,, Location + 2*VRand()*CollisionRadius);<br>&#9;Spawn(class'ExplosionMedium',,, Location + 2*VRand()*CollisionRadius);<br>&#9;Spawn(class'ExplosionMedium',,, Location + 2*VRand()*CollisionRadius);<br>&#9;Spawn(class'ExplosionLarge',,, Location + 2*VRand()*CollisionRadius);<br><br>&#9;sphere = Spawn(class'SphereEffect',,, Location);<br>&#9;if (sphere != None)<br>&#9;&#9;sphere.size = explosionRadius / 32.0;<br><br>&#9;// spawn a mark<br>&#9;s = spawn(class'ScorchMark', Base,, Location-vect(0,0,1)*CollisionHeight, Rotation+rot(16384,0,0));<br>&#9;if (s != None)<br>&#9;{<br>&#9;&#9;s.DrawScale = FClamp(explosionDamage/30, 0.1, 3.0);<br>&#9;&#9;s.ReattachDecal();<br>&#9;}<br><br>&#9;// spawn some rocks and flesh fragments<br>&#9;for (i=0; i<explosionDamage/6; i++)<br>&#9;{<br>&#9;&#9;if (FRand() < 0.3)<br>&#9;&#9;&#9;spawn(class'Rockchip',,,Location);<br>&#9;}<br><br>&#9;HurtRadius(explosionDamage*eUses, explosionRadius, 'Exploded', explosionDamage*100, Location);<br><br></div>
<br><br><hr>
<a class="headerlink" href="#EstusCatalyst.uc" title="Permanent link"><h2 id="EstusCatalyst.uc">EstusCatalyst.uc (extends CraftingMaterial)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">InvResult=Class'PartyStuff.Estus'<br>NumNeeded=1<br>DispStr="Requires 1x Catalyst, 5x Glass Shard, 5x Medkit to make Estus"<br>ItemName="Estus Catalyst"<br>PlayerViewMesh=LodMesh'DeusExDeco.Flask'<br>PickupViewMesh=LodMesh'DeusExDeco.Flask'<br>ThirdPersonMesh=LodMesh'DeusExDeco.Flask'<br>Icon=Texture'PGAssets.Icons.BeltIconCraftingFlask'<br>beltDescription="CATALYST"<br>Mesh=LodMesh'DeusExDeco.Flask'<br>CollisionRadius=4.200000<br>CollisionHeight=7.450000</div>
<h3 id="EstusCatalyst.OtherRequirements"><a class="headerlink" href="#EstusCatalyst.OtherRequirements" title="Permanent link">OtherRequirements</a> -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local GlassShard GS;<br>&#9;local Medkit m;<br>&#9;local int gi, mi;<br><br>&#9;<br>&#9;foreach AllActors(class'GlassShard',GS)<br>&#9;&#9;if(GS.Owner == Owner)<br>&#9;&#9;&#9;gi = gs.NumCopies;<br>&#9;&#9;&#9;<br><br>&#9;foreach AllActors(class'Medkit',m)<br>&#9;&#9;if(m.Owner == Owner)<br>&#9;&#9;&#9;mi = m.NumCopies;<br>&#9;<br>&#9;DeusExPlayer(Owner).ClientMessage("[Extra ingredients] You have "$gi$" Glass Shards and "$mi$" Medkits. 5 of each required.");<br>&#9;if(gi >= 5 && mi >= 5)<br>&#9;{<br>&#9;&#9;foreach AllActors(class'GlassShard',GS)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(GS.Owner == Owner)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;gs.NumCopies-=5;<br>&#9;&#9;&#9;&#9;&#9;&#9;if(gs.NumCopies <= 0)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;GS.Destroy();<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;foreach AllActors(class'Medkit',m)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(m.Owner == Owner)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;m.NumCopies-=5;<br>&#9;&#9;&#9;&#9;&#9;&#9;if(m.NumCopies <= 0)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;m.Destroy();<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;return True;<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#EstusCloud.uc" title="Permanent link"><h2 id="EstusCloud.uc">EstusCloud.uc (extends DeusExProjectile)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var bool bFloating;<br>var float cloudRadius;<br>var float damageInterval;<br>var vector CloudLocation; //to make sure location is updated w/o making it dumb proxy</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">cloudRadius=128.000000<br>damageInterval=1.000000<br>blastRadius=1.000000<br>AccurateRange=100<br>maxRange=100<br>maxDrawScale=2.000000<br>bIgnoresNanoDefense=True<br>ItemName="Cloud"<br>ItemArticle="a"<br>speed=300.000000<br>MaxSpeed=300.000000<br>MomentumTransfer=100<br>LifeSpan=1.000000<br>DrawType=DT_Sprite<br>Style=STY_Translucent<br>Texture=WetTexture'Effects.Smoke.Gas_Tear_A'<br>DrawScale=0.010000<br>bUnlit=True<br>CollisionRadius=16.000000<br>CollisionHeight=16.000000</div>
<h3 id="EstusCloud.HitWall"><a class="headerlink" href="#EstusCloud.HitWall" title="Permanent link">HitWall</a> (vector HitNormal, actor Wall)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;// do nothing<br>&#9;&#9;Velocity = vect(0,0,0);<br>&#9;<br></div>
<h3 id="EstusCloud.ProcessTouch"><a class="headerlink" href="#EstusCloud.ProcessTouch" title="Permanent link">ProcessTouch</a> (Actor Other, Vector HitLocation)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;// do nothing<br>&#9;<br></div>
<h3 id="EstusCloud.Tick"><a class="headerlink" href="#EstusCloud.Tick" title="Permanent link">Tick</a> (float deltaTime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local float value;<br>&#9;local float sizeMult;<br>&#9;local float NewDrawScale;<br><br><br>   if (Role == ROLE_Authority)<br>      CloudLocation = Location;<br>   else<br>      SetLocation(CloudLocation);<br><br>&#9;// don't Super.Tick() becuase we don't want gravity to affect the stream<br>&#9;time += deltaTime;<br><br>&#9;value = 1.0+time;<br>&#9;if (MinDrawScale > 0)<br>&#9;&#9;sizeMult = MaxDrawScale/MinDrawScale;<br>&#9;else<br>&#9;&#9;sizeMult = 1;<br><br>   // DEUS_EX AMSD Update drawscale less often in mp, to reduce bandwidth hit.<br>   // Effect won't look quite as good for listen server client... but will otherwise<br>   // help tremendously (one gas grenade was 3k a sec in traffic).<br>   NewDrawScale = (-sizeMult/(value*value) + (sizeMult+1))*MinDrawScale;<br><br>&#9;if (Level.Netmode == NM_Standalone)<br>   {<br>      DrawScale = NewDrawScale;<br>   }<br>   else if (Level.Netmode == NM_Client)<br>   {<br>      DrawScale = NewDrawScale;<br>   }<br>   else if (Level.Netmode == NM_DedicatedServer)<br>   {<br>      //Do nothing<br>   }<br>   else<br>   {<br>      //On a listen server, just start it full size.<br>      DrawScale = (-sizeMult/(50*50) + (sizeMult+1))*MinDrawScale;<br>   }<br><br>//      DrawScale = (-sizeMult/(value*value) + (sizeMult+1))*MinDrawScale;<br>   if (Role == ROLE_Authority)&#9;<br>      ScaleGlow = FClamp(LifeSpan*0.5, 0.0, 1.0);<br><br>&#9;// make it swim around a bit at random<br>&#9;if (bFloating)<br>&#9;{<br>&#9;&#9;Acceleration = VRand() * 15;<br>&#9;&#9;Acceleration.Z = 0;<br>&#9;}<br><br></div>
<h3 id="EstusCloud.Timer"><a class="headerlink" href="#EstusCloud.Timer" title="Permanent link">Timer</a></h3>

<h3 id="EstusCloud.ZoneChange"><a class="headerlink" href="#EstusCloud.ZoneChange" title="Permanent link">ZoneChange</a> (ZoneInfo NewZone)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.ZoneChange(NewZone);<br><br>&#9;// clouds can't live underwater, so kill us quickly if we enter the water<br>&#9;if ((NewZone.bWaterZone) && (LifeSpan > 2.0))<br>&#9;&#9;LifeSpan = 2.0;<br><br></div>
<br><br><hr>
<a class="headerlink" href="#FLBasketball.uc" title="Permanent link"><h2 id="FLBasketball.uc">FLBasketball.uc (extends ThrownProjectile)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var bool bDoomedToDestroy;<br>var bool bAlreadyScored;<br>var bool bAllowBumping;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bAllowBumping=True<br>bDisabled=True<br>bExplodes=False<br>bBlood=False<br>bEmitDanger=False<br>bIgnoresNanoDefense=True<br>ItemName="Basketball"<br>LifeSpan=0.000000<br>bDirectional=False<br>Mesh=LodMesh'PGAssets.FLBasketball'<br>DrawScale=0.710000<br>CollisionRadius=10.000000<br>CollisionHeight=10.000000<br>bBlockActors=True<br>bBlockPlayers=True<br>Mass=8.000000<br>Buoyancy=10.000000</div>
<h3 id="FLBasketball.BeginPlay"><a class="headerlink" href="#FLBasketball.BeginPlay" title="Permanent link">BeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.BeginPlay();<br><br></div>
<h3 id="FLBasketball.Explode"><a class="headerlink" href="#FLBasketball.Explode" title="Permanent link">Explode</a> (vector HitLocation, vector HitNormal)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;return;<br><br></div>
<h3 id="FLBasketball.Frob"><a class="headerlink" href="#FLBasketball.Frob" title="Permanent link">Frob</a> (Actor Frobber, Inventory frobWith)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local FLBasketball4Player FLB4P;<br><br>&#9;if (!bDoomedToDestroy)<br>&#9;{<br>&#9;&#9;FLB4P = Spawn(Class'FLBasketball4Player',Frobber,,Location,Rotation);<br>&#9;&#9;DeusExPlayer(Frobber).FrobTarget = FLB4P;<br>&#9;&#9;DeusExPlayer(Frobber).GrabDecoration();<br>&#9;&#9;Super.Frob(Frobber, frobWith);<br>&#9;&#9;Destroy();<br>&#9;}<br>&#9;else <br>&#9;{<br>&#9;&#9;return;<br>&#9;}<br><br></div>
<h3 id="FLBasketball.HitWall"><a class="headerlink" href="#FLBasketball.HitWall" title="Permanent link">HitWall</a> (vector HitNormal, actor HitWall)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local float speed;<br><br>&#9;&#9;<br>&#9;&#9;Velocity = 0.8*((Velocity dot HitNormal) * HitNormal * (-2.0) + Velocity);<br>&#9;&#9;speed = VSize(Velocity);<br>&#9;&#9;bFixedRotationDir = True;<br>&#9;&#9;RotationRate = RotRand(False);<br>&#9;&#9;if ((speed > 0) && (speed < 30) && (HitNormal.Z > 0.7))<br>&#9;&#9;{<br>&#9;&#9;&#9;SetPhysics(PHYS_None, HitWall);<br>&#9;&#9;&#9;if (Physics == PHYS_None)<br>&#9;&#9;&#9;&#9;bFixedRotationDir = False;<br>&#9;&#9;}<br>&#9;<br>&#9;&#9;if (HitWall.IsA('Mover'))<br>&#9;&#9;{<br>&#9;&#9;&#9;HitWall.TakeDamage(speed/58, Pawn(Owner), HitWall.Location, MomentumTransfer*Normal(Velocity), 'Shot');<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;else if (speed > 30)<br>&#9;&#9;{&#9;<br>&#9;&#9;&#9;if ((FRand() >= 0.75) && (FRand() < 1.0))<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;PlaySound(sound'Bounce1', SLOT_None, 3);<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else if ((FRand() >= 0.5) && (FRand() < 0.75))<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;PlaySound(sound'Bounce2', SLOT_None, 3);&#9;<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;PlaySound(sound'Bounce3', SLOT_None, 3);&#9;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;<br></div>
<h3 id="FLBasketball.TakeDamage"><a class="headerlink" href="#FLBasketball.TakeDamage" title="Permanent link">TakeDamage</a> (int Damage, Pawn instigatedBy, Vector HitLocation, Vector Momentum, name damageType)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;return;<br><br></div>
<h3 id="FLBasketball.Tick"><a class="headerlink" href="#FLBasketball.Tick" title="Permanent link">Tick</a> (float deltaTime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;return;<br><br></div>
<h3 id="FLBasketball.Timer"><a class="headerlink" href="#FLBasketball.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(!bAllowBumping)<br>&#9;{<br>&#9;&#9;bAllowBumping=True;<br>&#9;}<br>&#9;if (bDoomedToDestroy)<br>&#9;{<br>&#9;&#9;Destroy();<br>&#9;}<br>&#9;return;<br><br></div>
<h3 id="FLBasketball.bump"><a class="headerlink" href="#FLBasketball.bump" title="Permanent link">bump</a> (actor other)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer Player;<br><br>Player = DeusExPlayer(other);<br><br>&#9;if((other.IsA('DeusExPlayer')))<br>&#9;{<br>&#9;&#9;if(bAllowBumping)<br>&#9;&#9;{<br>&#9;&#9;&#9;frob(Other,None);<br>&#9;&#9;}<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#FLBasketball4Player.uc" title="Permanent link"><h2 id="FLBasketball4Player.uc">FLBasketball4Player.uc (extends DeusExDecoration)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bInvincible=True<br>ItemName="Basketball"<br>Mesh=LodMesh'PGAssets.FLBasketball'<br>DrawScale=0.710000<br>CollisionRadius=10.000000<br>CollisionHeight=10.000000<br>bBounce=True<br>Mass=8.000000<br>Buoyancy=10.000000</div>
<h3 id="FLBasketball4Player.BaseChange"><a class="headerlink" href="#FLBasketball4Player.BaseChange" title="Permanent link">BaseChange</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local FLBasketball AdvB;<br><br>&#9;if (bWasCarried)<br>&#9;{<br>&#9;&#9;AdvB = Spawn(Class'FLBasketball',Owner,,Location,Rotation);<br>&#9;&#9;AdvB.Velocity = Velocity + 0.7 * Owner.Velocity;<br>&#9;&#9;AdvB.SetTimer(0.5,False);<br>&#9;&#9;Destroy();<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#FadeLamp.uc" title="Permanent link"><h2 id="FadeLamp.uc">FadeLamp.uc (extends Lamp)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bInvincible=True<br>ItemName="Fading Lamp"<br>Mesh=LodMesh'DeusExDeco.Lamp2'<br>CollisionRadius=15.000000<br>CollisionHeight=47.000000<br>LightSaturation=0<br>LightRadius=18</div>
<h3 id="FadeLamp.Frob"><a class="headerlink" href="#FadeLamp.Frob" title="Permanent link">Frob</a> (Actor Frobber, Inventory frobWith)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.Frob(Frobber, frobWith);<br><br>&#9;if (bOn)<br>&#9;{<br>&#9;&#9;LightType=LT_Steady;<br>&#9;&#9;LightEffect=LE_NonIncidence;<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;LightType=LT_None;<br>&#9;}<br><br></div>
<h3 id="FadeLamp.PostBeginPlay"><a class="headerlink" href="#FadeLamp.PostBeginPlay" title="Permanent link">PostBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if (bOn)<br>&#9;{<br>&#9;&#9;LightType=LT_Steady;<br>&#9;&#9;LightEffect=LE_NonIncidence;<br>&#9;}<br><br></div>
<h3 id="FadeLamp.tick"><a class="headerlink" href="#FadeLamp.tick" title="Permanent link">tick</a> (float v)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;LightHue++;<br>&#9;if(LightHue >= 255)<br>&#9;{<br>&#9;&#9;LightHue=0;<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#FakeSecurityConsole.uc" title="Permanent link"><h2 id="FakeSecurityConsole.uc">FakeSecurityConsole.uc (extends DeusExDecoration)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var bool bOn;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bInvincible=True<br>ItemName="Security Computer Terminal"<br>bPushable=False<br>Physics=PHYS_None<br>Mesh=LodMesh'DeusExDeco.ComputerSecurity'<br>CollisionRadius=11.590000<br>CollisionHeight=10.100000<br>bCollideWorld=False<br>Mass=10.000000<br>Buoyancy=12.000000</div>
<h3 id="FakeSecurityConsole.Frob"><a class="headerlink" href="#FakeSecurityConsole.Frob" title="Permanent link">Frob</a> (Actor Frobber, Inventory frobWith)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.Frob(Frobber, frobWith);<br><br>&#9;if (bOn)<br>&#9;{<br>&#9;&#9;PlayAnim('Deactivate');<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;PlayAnim('Activate');<br>&#9;}<br><br>&#9;bOn = !bOn;<br><br></div>
<br><br><hr>
<a class="headerlink" href="#FiberArmour.uc" title="Permanent link"><h2 id="FiberArmour.uc">FiberArmour.uc (extends PGArmour)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">Dur=25<br>Def=1000<br>ItemName="Fiber Armour"<br>beltDescription="FIBER"</div>
<h3 id="FiberArmour.TestMPBeltSpot"><a class="headerlink" href="#FiberArmour.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<br><br><hr>
<a class="headerlink" href="#FireBolt.uc" title="Permanent link"><h2 id="FireBolt.uc">FireBolt.uc (extends Rocket)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var() float shakeTime;<br>var() float shakeRollMagnitude;<br>var() float shakeVertMagnitude;<br>var SizableEffectSpawner efs;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bBlood=False<br>bDebris=False<br>blastRadius=512.000000<br>DamageType=Flamed<br>ItemName="Fire Bolt"<br>Damage=50.000000<br>SpawnSound=None<br>ImpactSound=Sound'DeusExSounds.Weapons.FlamethrowerFire'<br>Mesh=None<br>DrawScale=1.000000<br>AmbientSound=None</div>
<h3 id="FireBolt.DrawExplosionEffects"><a class="headerlink" href="#FireBolt.DrawExplosionEffects" title="Permanent link">DrawExplosionEffects</a> (vector HitLocation, vector HitNormal)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local ExplosionLight light;<br>&#9;local ParticleGenerator gen;<br>&#9;local ExplosionSmall expeffect;<br><br><br>&#9;//destroy the other effect<br>&#9;efs.Destroy();<br>&#9;<br>&#9;// draw a pretty explosion<br>&#9;/*light = Spawn(class'ExplosionLight',,, HitLocation);<br>&#9;if (light != None)<br>   &#9;{<br>      &#9;&#9;light.RemoteRole = ROLE_None;<br>&#9;&#9;light.size = 12;<br>&#9;}*/<br>&#9;<br>   &#9;/*expeffect = Spawn(class'ExplosionSmall',,, HitLocation);<br>&#9;if (expeffect != None)<br>      &#9;&#9;expeffect.RemoteRole = ROLE_None;*/<br><br>&#9;// create a particle generator shooting out white-hot fireballs<br>&#9;gen = Spawn(class'ParticleGenerator',,, HitLocation, Rotator(HitNormal));<br>&#9;if (gen != None)<br>&#9;{<br>      &#9;&#9;gen.RemoteRole = ROLE_None;<br>&#9;&#9;gen.particleDrawScale = 1.0;<br>&#9;&#9;gen.checkTime = 0.05;<br>&#9;&#9;gen.frequency = 1.0;<br>&#9;&#9;gen.ejectSpeed = 200.0;<br>&#9;&#9;gen.bGravity = True;<br>&#9;&#9;gen.bRandomEject = True;<br>&#9;&#9;gen.particleTexture = FireTexture'Effects.Fire.flame_b';<br>&#9;&#9;gen.LifeSpan = 2.0;<br>&#9;}<br><br></div>
<h3 id="FireBolt.SpawnRocketEffects"><a class="headerlink" href="#FireBolt.SpawnRocketEffects" title="Permanent link">SpawnRocketEffects</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;efs = Spawn(class'SizableEffectSpawner',,,Location);<br>&#9;if (efs != None)<br>&#9;{<br>&#9;&#9;efs.SetBase(Self);<br>&#9;&#9;efs.RemoteRole = ROLE_None;<br>&#9;&#9;efs.EffectClass=class'MagicRing';<br>&#9;&#9;efs.EffectSkin = Texture'DeusExDeco.Skins.AlarmLightTex8';<br>&#9;&#9;efs.SizeofEffect = 3;<br>&#9;&#9;efs.Interval = 0.01;<br>&#9;&#9;efs.EffectLSpan = 1.0;<br>   &#9;}<br><br></div>
<h3 id="FireBolt.ZoneChange"><a class="headerlink" href="#FireBolt.ZoneChange" title="Permanent link">ZoneChange</a> (ZoneInfo NewZone)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.ZoneChange(NewZone);<br><br>&#9;// If the dart enters water, extingish it<br>&#9;if (NewZone.bWaterZone)<br>&#9;{<br>&#9;&#9;//destroy the other effect<br>&#9;&#9;efs.Destroy();<br>&#9;&#9;<br>&#9;&#9;Destroy();<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#FireHydrant.uc" title="Permanent link"><h2 id="FireHydrant.uc">FireHydrant.uc (extends DeusExDecoration)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var() ESkinColor SkinColor;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">ItemName="Fire Hydrant"<br>Mesh=LodMesh'DeusExDeco.FirePlug'<br>CollisionRadius=8.000000<br>CollisionHeight=16.500000<br>Mass=50.000000<br>Buoyancy=30.000000</div>
<h3 id="FireHydrant.BeginPlay"><a class="headerlink" href="#FireHydrant.BeginPlay" title="Permanent link">BeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.BeginPlay();<br><br>&#9;switch (SkinColor)<br>&#9;{<br>&#9;&#9;case SC_Red:&#9;Skin = Texture'FirePlugTex1'; break;<br>&#9;&#9;case SC_Orange:&#9;Skin = Texture'FirePlugTex2'; break;<br>&#9;&#9;case SC_Blue:&#9;Skin = Texture'FirePlugTex3'; break;<br>&#9;&#9;case SC_Gray:&#9;Skin = Texture'FirePlugTex4'; break;<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#FishingBait.uc" title="Permanent link"><h2 id="FishingBait.uc">FishingBait.uc (extends ThrownProjectile)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var FishingDevice MainDev;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">MyDamageType=SpecialDamage<br>LifeSpan=20.000000<br>Skin=FireTexture'Effects.liquid.Virus_SFX'<br>Mesh=LodMesh'DeusExDeco.Basketball'<br>AmbientGlow=67<br>bUnlit=True<br>SoundRadius=112<br>SoundVolume=255<br>CollisionRadius=5.000000<br>CollisionHeight=5.000000<br>DesiredRotation=(Pitch=12000,Yaw=5666,Roll=2334)</div>
<h3 id="FishingBait.Explode"><a class="headerlink" href="#FishingBait.Explode" title="Permanent link">Explode</a> (vector HitLocation, vector HitNormal)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;return;<br><br></div>
<h3 id="FishingBait.HitWall"><a class="headerlink" href="#FishingBait.HitWall" title="Permanent link">HitWall</a> (vector HitNormal, actor Wall)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   Velocity = 0.75 * ((Velocity dot HitNormal) * HitNormal * (-2.0) + Velocity);   // Reflect off Wall w/damping<br>   speed = VSize(Velocity);<br>   if ( Velocity.Z > 400 )<br>      Velocity.Z = 0.5 * (400 + Velocity.Z);<br><br></div>
<h3 id="FishingBait.Landed"><a class="headerlink" href="#FishingBait.Landed" title="Permanent link">Landed</a> (vector HitNormal)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   HitWall(HitNormal, None);<br><br></div>
<h3 id="FishingBait.PostBeginPlay"><a class="headerlink" href="#FishingBait.PostBeginPlay" title="Permanent link">PostBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br><br>   Super.PostBeginPlay();<br>   <br>   Velocity = Vector(Rotation) * Speed;<br>   Velocity.Z -= 200;<br>   SetTimer(10, false);<br>   RandSpin(30000);<br><br></div>
<h3 id="FishingBait.ProcessTouch"><a class="headerlink" href="#FishingBait.ProcessTouch" title="Permanent link">ProcessTouch</a> (actor Other, vector HitLocation)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   HitWall(Normal(HitLocation - Other.Location), None );<br><br></div>
<h3 id="FishingBait.TakeDamage"><a class="headerlink" href="#FishingBait.TakeDamage" title="Permanent link">TakeDamage</a> (int Damage, Pawn instigatedBy, Vector HitLocation, Vector Momentum, name damageType)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;return;<br><br></div>
<h3 id="FishingBait.Timer"><a class="headerlink" href="#FishingBait.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;DeusExPlayer(MainDev.Owner).ClientMessage("Bait timed out...");<br>&#9;MainDev.Bait = None;<br>&#9;MainDev.Stage = 0;<br>   Destroy();<br><br></div>
<h3 id="FishingBait.ZoneChange"><a class="headerlink" href="#FishingBait.ZoneChange" title="Permanent link">ZoneChange</a> (ZoneInfo NewZone)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local FishingBait2 FB;<br><br>&#9;<br>&#9;Super.ZoneChange(NewZone);<br>&#9;if (NewZone.bWaterZone)<br>&#9;{<br>&#9;&#9;FB = Spawn(class'FishingBait2',,,Location);<br>&#9;&#9;FB.MainDev = MainDev;<br>&#9;&#9;MainDev.Lure = FB;<br>&#9;&#9;MainDev.Stage = 2;<br>&#9;&#9;FB.SetTimer(RandRange(5,25), True);<br>&#9;&#9;Destroy();<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#FishingBait2.uc" title="Permanent link"><h2 id="FishingBait2.uc">FishingBait2.uc (extends Containers)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var FishingDevice MainDev;<br>var bool bHasCatch;<br>var int FishTime;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bFloating=True<br>ItemName="Fishing Bait"<br>bBlockSight=True<br>Skin=FireTexture'Effects.liquid.Virus_SFX'<br>Mesh=LodMesh'DeusExDeco.Basketball'<br>CollisionRadius=5.000000<br>CollisionHeight=5.000000<br>Mass=100.000000<br>Buoyancy=200.000000</div>
<h3 id="FishingBait2.PingCatch"><a class="headerlink" href="#FishingBait2.PingCatch" title="Permanent link">PingCatch</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;MainDev.Catches++;<br>&#9;MainDev.Stage = 0;<br>&#9;DeusExPlayer(MainDev.Owner).ClientMessage("Got it! "$MainDev.Catches$" fish caught.");<br>&#9;MainDev.Lure = None;<br>&#9;Destroy();<br><br></div>
<h3 id="FishingBait2.Timer"><a class="headerlink" href="#FishingBait2.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(!bHasCatch)<br>&#9;{<br>&#9;&#9;bHasCatch=True;<br>&#9;&#9;DeusExPlayer(MainDev.Owner).ClientMessage("Somethings biting!!");<br>&#9;&#9;SetTimer(Rand(5), False);<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;bHasCatch=False;<br>&#9;&#9;DeusExPlayer(MainDev.Owner).ClientMessage("It got away...");<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#FishingDevice.uc" title="Permanent link"><h2 id="FishingDevice.uc">FishingDevice.uc (extends DeusExPickup)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var FishingBait Bait;<br>var FishingBait2 Lure;<br>var int Catches;<br>var int Stage; // 0 - Idle, 1 - Casting (Bait is out, not landed), 2 - Lure is out</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">maxCopies=1<br>bActivatable=True<br>ItemName="Handheld Fishing Device"<br>PlayerViewOffset=(X=20.000000,Y=10.000000,Z=-16.000000)<br>PlayerViewMesh=LodMesh'DeusExItems.MultitoolPOV'<br>PickupViewMesh=LodMesh'DeusExItems.Multitool'<br>ThirdPersonMesh=LodMesh'DeusExItems.Multitool3rd'<br>LandSound=Sound'DeusExSounds.Generic.PlasticHit2'<br>Icon=Texture'DeusExUI.Icons.BeltIconMultitool'<br>M_Activated=""<br>largeIcon=Texture'DeusExUI.Icons.LargeIconMultitool'<br>largeIconWidth=28<br>largeIconHeight=46<br>Description=""<br>beltDescription="FISHING"<br>Mesh=LodMesh'DeusExItems.Multitool'<br>CollisionRadius=4.800000<br>CollisionHeight=0.860000<br>Mass=20.000000<br>Buoyancy=10.000000</div>
<h3 id="FishingDevice.Activate"><a class="headerlink" href="#FishingDevice.Activate" title="Permanent link">Activate</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;// can't turn it off<br>&#9;<br></div>
<h3 id="FishingDevice.BeginState"><a class="headerlink" href="#FishingDevice.BeginState" title="Permanent link">BeginState</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer player;<br><br><br>&#9;&#9;Super.BeginState();<br>&#9;&#9;player = DeusExPlayer(Owner);<br>&#9;&#9;if(Stage == 0)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(Bait == None)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;Bait = spawn(class'FishingBait',Owner,,Owner.Location,DeusExPlayer(Owner).Rotation);<br>&#9;&#9;&#9;&#9;Bait.Velocity = Velocity + 0.7 * Owner.Velocity;<br>&#9;&#9;&#9;&#9;Bait.MainDev = Self;<br>&#9;&#9;&#9;&#9;Stage = 1;<br>&#9;&#9;&#9;&#9;Player.ClientMessage("Bait cast.");<br>&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(Stage == 1)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(Bait != None)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;Bait.Destroy();<br>&#9;&#9;&#9;&#9;Player.ClientMessage("Bait recalled.");<br>&#9;&#9;&#9;&#9;Stage = 0;<br>&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(Stage == 2)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(Lure != None)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(Lure.bHasCatch)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;Lure.PingCatch();<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;Player.ClientMessage("Lure recalled.");<br>&#9;&#9;&#9;&#9;&#9;Lure.Destroy();<br>&#9;&#9;&#9;&#9;&#9;Stage = 0;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;GotoState('DeActivated');<br>&#9;<br></div>
<h3 id="FishingDevice.PreBeginPlay"><a class="headerlink" href="#FishingDevice.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;// If this is a netgame, then override defaults<br>&#9;if ( Level.NetMode != NM_StandAlone )<br>&#9;&#9;MaxCopies = 1;<br><br></div>
<h3 id="FishingDevice.TestMPBeltSpot"><a class="headerlink" href="#FishingDevice.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<br><br><hr>
<a class="headerlink" href="#FlameArmour.uc" title="Permanent link"><h2 id="FlameArmour.uc">FlameArmour.uc (extends PGArmour)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">Dur=100<br>Def=10<br>bResistFire=True<br>ItemName="Flame Armour"<br>beltDescription="FLAME"</div>
<h3 id="FlameArmour.TestMPBeltSpot"><a class="headerlink" href="#FlameArmour.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<br><br><hr>
<a class="headerlink" href="#FlashBang.uc" title="Permanent link"><h2 id="FlashBang.uc">FlashBang.uc (extends ThrownProjectile)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">fuseLength=3.000000<br>proxRadius=128.000000<br>spawnWeaponClass=Class'PartyStuff.WeaponFlashBang'<br>spawnAmmoClass=Class'PartyStuff.AmmoFlashBang'<br>ItemName="Flash Bang Grenade"<br>speed=1500.000000<br>ImpactSound=Sound'DeusExSounds.Generic.SmallExplosion2'<br>Mesh=LodMesh'DeusExItems.EMPGrenadePickup'</div>
<h3 id="FlashBang.DrawExplosionEffects"><a class="headerlink" href="#FlashBang.DrawExplosionEffects" title="Permanent link">DrawExplosionEffects</a> (vector HitLocation, vector HitNormal)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer player;<br>&#9;local ScriptedPawn pwn;<br>&#9;local Float TargetRange;<br><br>&#9;<br>&#9;targetRange = 12;<br>&#9;foreach VisibleActors(class'DeusExPlayer',player,768)<br>&#9;{<br>&#9;&#9;TargetRange -= Abs(VSize(Player.Location - Location));<br>&#9;&#9;player.ClientFlash(1,Vect(20000,20000,20000));<br>&#9;&#9;player.IncreaseClientFlashLength(12.0);<br>&#9;&#9;<br>&#9;}<br>&#9;foreach VisibleActors(class'ScriptedPawn',pwn,768)<br>&#9;{<br>&#9;&#9;pwn.TakeDamage(5,Pawn(Owner),pwn.Location,vect(0,0,0),'TearGas');<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#FlashLamp.uc" title="Permanent link"><h2 id="FlashLamp.uc">FlashLamp.uc (extends Lamp)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var() float switchTime;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">SwitchTime=1.000000<br>bInvincible=True<br>ItemName="Flash Lamp"<br>Mesh=LodMesh'DeusExDeco.Lamp2'<br>CollisionRadius=15.000000<br>CollisionHeight=47.000000<br>LightSaturation=0<br>LightRadius=18</div>
<h3 id="FlashLamp.Frob"><a class="headerlink" href="#FlashLamp.Frob" title="Permanent link">Frob</a> (Actor Frobber, Inventory frobWith)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int Random;<br><br>&#9;Super.Frob(Frobber, frobWith);<br><br>&#9;if (bOn)<br>&#9;{<br>&#9;&#9;LightType=LT_Steady;<br>&#9;&#9;LightEffect=LE_NonIncidence;<br>&#9;&#9;SetTimer(switchTime,false);<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;LightType=LT_None;<br>&#9;}<br><br></div>
<h3 id="FlashLamp.PostBeginPlay"><a class="headerlink" href="#FlashLamp.PostBeginPlay" title="Permanent link">PostBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if (bOn)<br>&#9;{<br>&#9;&#9;LightType=LT_Steady;<br>&#9;&#9;LightEffect=LE_NonIncidence;<br>&#9;&#9;SetTimer(switchTime,false);<br>&#9;}<br><br></div>
<h3 id="FlashLamp.timer"><a class="headerlink" href="#FlashLamp.timer" title="Permanent link">timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int random;<br><br>&#9;if(bOn)<br>&#9;{<br>&#9;random = Rand(255);<br>&#9;LightHue = random;<br>&#9;SetTimer(switchTime,false);<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#FlyingCarpet.uc" title="Permanent link"><h2 id="FlyingCarpet.uc">FlyingCarpet.uc (extends HKMarketTarp)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var bool bActive;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bActive=True<br>bInvincible=True<br>bCanBeBase=True<br>Texture=Texture'HK_Interior.Textile.HKM_Rug_04'<br>Skin=Texture'HK_Interior.Textile.HKM_Rug_04'</div>
<h3 id="FlyingCarpet.Frob"><a class="headerlink" href="#FlyingCarpet.Frob" title="Permanent link">Frob</a> (Actor Frobber, Inventory frobWith)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local PortableCarpet cdc;<br><br>&#9;if(bActive)<br>&#9;{<br>&#9;&#9;bActive=False;<br>&#9;&#9;Destroy();<br>&#9;&#9;SilentAdd(class'PortableCarpet', DeusExPlayer(Frobber));<br>&#9;&#9;return;<br>&#9;}<br><br><br></div>
<h3 id="FlyingCarpet.SilentAdd"><a class="headerlink" href="#FlyingCarpet.SilentAdd" title="Permanent link">SilentAdd</a> (class<inventory> addClass, DeusExPlayer addTarget)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Inventory anItem;<br> <br>&#9;<br>&#9;anItem = Spawn(addClass); <br>&#9;anItem.Instigator = addTarget; <br>&#9;anItem.GotoState('Idle2'); <br>&#9;anItem.bHeldItem = true; <br>&#9;anItem.bTossedOut = false; <br>&#9;<br>&#9;if(Weapon(anItem) != None) <br>&#9;&#9;Weapon(anItem).GiveAmmo(addTarget); <br>&#9;anItem.GiveTo(addTarget);<br><br></div>
<br><br><hr>
<a class="headerlink" href="#FoodMMRPG.uc" title="Permanent link"><h2 id="FoodMMRPG.uc">FoodMMRPG.uc (extends DeusExPickup)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var int rechargeAmount;<br>var localized String msgRecharged;<br>var localized String RechargesLabel;<br>var Sound EatSound;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">rechargeAmount=25<br>msgRecharged="Replenished %d health points"<br>RechargesLabel="Replenished %d health points"<br>maxCopies=30<br>bCanHaveMultipleCopies=True<br>bActivatable=True<br>ItemName="ERROR- T3h D3FAULT"<br>PlayerViewOffset=(X=30.000000,Z=-12.000000)<br>PlayerViewMesh=LodMesh'DeusExItems.BioCell'<br>PickupViewMesh=LodMesh'DeusExItems.BioCell'<br>ThirdPersonMesh=LodMesh'DeusExItems.BioCell'<br>LandSound=Sound'DeusExSounds.Generic.PlasticHit2'<br>Icon=Texture'DeusExUI.Icons.BeltIconBioCell'<br>M_Activated=" eaten"<br>largeIcon=Texture'DeusExUI.Icons.LargeIconBioCell'<br>largeIconWidth=44<br>largeIconHeight=43<br>beltDescription="OMG LOL, IT's TEH HAWTZORZ"<br>Mesh=LodMesh'DeusExItems.BioCell'<br>CollisionRadius=4.700000<br>CollisionHeight=0.930000<br>Mass=5.000000<br>Buoyancy=4.000000</div>
<h3 id="FoodMMRPG.Activate"><a class="headerlink" href="#FoodMMRPG.Activate" title="Permanent link">Activate</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;// can't turn it off<br>&#9;<br></div>
<h3 id="FoodMMRPG.BecomeItem"><a class="headerlink" href="#FoodMMRPG.BecomeItem" title="Permanent link">BecomeItem</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;LifeSpan = 0.0;<br>&#9;Super.BecomeItem();<br><br></div>
<h3 id="FoodMMRPG.BeginState"><a class="headerlink" href="#FoodMMRPG.BeginState" title="Permanent link">BeginState</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer player;<br><br><br>&#9;&#9;Super.BeginState();<br><br>&#9;&#9;player = DeusExPlayer(Owner);<br>&#9;&#9;if (player != None)<br>&#9;&#9;{<br>&#9;&#9;&#9;//player.ClientMessage(Sprintf(msgRecharged, rechargeAmount));<br>&#9;<br>&#9;&#9;&#9;//player.PlaySound(EatSound, SLOT_None,,, 256);<br><br><br>&#9;&#9;&#9;player.HealPlayer(rechargeamount, True);<br><br>&#9;&#9;&#9;//player.Energy += rechargeAmount;<br>&#9;&#9;&#9;//if (player.Energy > player.EnergyMax)<br>&#9;&#9;&#9;//&#9;player.Energy = player.EnergyMax;<br>&#9;&#9;}<br><br>&#9;&#9;UseOnce();<br>&#9;<br></div>
<h3 id="FoodMMRPG.DropFrom"><a class="headerlink" href="#FoodMMRPG.DropFrom" title="Permanent link">DropFrom</a> (vector StartLocation)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;LifeSpan = 5.0;<br>&#9;Super.DropFrom(StartLocation);<br><br></div>
<h3 id="FoodMMRPG.PostBeginPlay"><a class="headerlink" href="#FoodMMRPG.PostBeginPlay" title="Permanent link">PostBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   Super.PostBeginPlay();<br><br></div>
<h3 id="FoodMMRPG.PreBeginPlay"><a class="headerlink" href="#FoodMMRPG.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>//MainMan: NO, ph00'!<br>&#9;// If this is a netgame, then override defaults<br>//&#9;if ( Level.NetMode != NM_StandAlone )<br>//&#9;&#9;MaxCopies = 5;<br><br></div>
<h3 id="FoodMMRPG.TestMPBeltSpot"><a class="headerlink" href="#FoodMMRPG.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<h3 id="FoodMMRPG.UpdateInfo"><a class="headerlink" href="#FoodMMRPG.UpdateInfo" title="Permanent link">UpdateInfo</a> (Object winObject) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local PersonaInfoWindow winInfo;<br>&#9;local string str;<br><br><br>&#9;winInfo = PersonaInfoWindow(winObject);<br>&#9;if (winInfo == None)<br>&#9;&#9;return False;<br><br>&#9;winInfo.SetTitle(itemName);<br>&#9;winInfo.SetText(Description $ winInfo.CR() $ winInfo.CR());<br>&#9;winInfo.AppendText(Sprintf(RechargesLabel, RechargeAmount));<br><br>&#9;// Print the number of copies<br>&#9;str = CountLabel @ String(NumCopies);<br>&#9;winInfo.AppendText(winInfo.CR() $ winInfo.CR() $ str);<br><br>&#9;return True;<br><br></div>
<br><br><hr>
<a class="headerlink" href="#FreezeBolt.uc" title="Permanent link"><h2 id="FreezeBolt.uc">FreezeBolt.uc (extends Rocket)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bExplodes=False<br>bBlood=False<br>bDebris=False<br>blastRadius=0.000000<br>bTracking=False<br>ItemName="FreezeBolt"<br>speed=500.000000<br>MaxSpeed=1000.000000<br>SpawnSound=None<br>ImpactSound=None<br>Mesh=None<br>DrawScale=1.000000<br>SoundRadius=0<br>SoundVolume=0<br>AmbientSound=None</div>
<h3 id="FreezeBolt.HitWall"><a class="headerlink" href="#FreezeBolt.HitWall" title="Permanent link">HitWall</a> (vector HitNormal, actor Wall)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;if (bStickToWall)<br>&#9;&#9;{<br>&#9;&#9;&#9;Velocity = vect(0,0,0);<br>&#9;&#9;&#9;Acceleration = vect(0,0,0);<br>&#9;&#9;&#9;SetPhysics(PHYS_None);<br>&#9;&#9;&#9;bStuck = False;<br>&#9;&#9;&#9;destroy();<br><br>&#9;&#9;&#9;// MBCODE: Do this only on server side<br>&#9;&#9;&#9;if ( Role == ROLE_Authority )<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if (Level.NetMode != NM_Standalone)<br>&#9;&#9;&#9;&#9;SetTimer(5.0,False);<br><br>&#9;&#9;&#9;&#9;if (Wall.IsA('Mover'))<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;SetBase(Wall);<br>&#9;&#9;&#9;&#9;&#9;Wall.TakeDamage(Damage, Pawn(Owner), Wall.Location, MomentumTransfer*Normal(Velocity), damageType);<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br><br>&#9;&#9;if (Wall.IsA('BreakableGlass'))<br>&#9;&#9;bDebris = False;<br>&#9;&#9;AISendEvent('LoudNoise', EAITYPE_Audio, 2.0, blastRadius*24);<br>&#9;&#9;SpawnEffects(Location, HitNormal, Wall);<br><br>&#9;&#9;Super.HitWall(HitNormal, Wall);<br>&#9;<br></div>
<h3 id="FreezeBolt.ProcessTouch"><a class="headerlink" href="#FreezeBolt.ProcessTouch" title="Permanent link">ProcessTouch</a> (Actor Other, Vector HitLocation)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local ScriptedPawn pawn;<br>&#9;local FrozenPerson fperson;<br>&#9;local int i;<br>&#9;local DeusExDecoration deco;<br>&#9;local DeusExCarcass carcass;<br><br><br>&#9;&#9;if (bStuck)<br>&#9;&#9;&#9;return;<br><br><br>&#9;&#9;if (DeusExDecoration(Other) != None || ScriptedPawn(Other) != None || DeusExCarcass(Other) != None)<br>&#9;&#9;{<br>&#9;&#9;&#9;pawn = ScriptedPawn(Other);<br>&#9;&#9;&#9;deco = DeusExDecoration(Other);<br>&#9;&#9;&#9;carcass = DeusExCarcass(Other);<br>&#9;<br>&#9;&#9;&#9;fperson = Spawn(class'FrozenPerson',,,Other.Location);<br>&#9;&#9;&#9;fperson.SetCollisionSize(Other.CollisionRadius,Other.CollisionHeight);<br>&#9;&#9;&#9;fperson.Texture = Other.Texture;<br>&#9;&#9;&#9;fperson.Mesh=Other.Mesh;<br>&#9;&#9;&#9;fperson.Mass=Other.Mass;<br><br>&#9;&#9;&#9;for (i=0;i<8;i++)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if ((Other.MultiSkins[i]==Texture'DeusExItems.Skins.GrayMaskTex')<br>&#9;&#9;&#9;&#9;&#9;|| (Other.MultiSkins[i]==Texture'DeusExItems.Skins.PinkMaskTex')<br>&#9;&#9;&#9;&#9;&#9;&#9;|| (Other.MultiSkins[i]==Texture'DeusExItems.Skins.BlackMaskTex'))<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;fperson.MultiSkins[i]=Other.MultiSkins[i];<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;fperson.MultiSkins[i] = Texture'IceTex';<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;fperson.setRotation(Other.Rotation);<br>&#9;&#9;&#9;Other.Destroy();&#9;&#9;&#9;<br>&#9;&#9;&#9;Destroy();<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;<br></div>
<h3 id="FreezeBolt.SpawnRocketEffects"><a class="headerlink" href="#FreezeBolt.SpawnRocketEffects" title="Permanent link">SpawnRocketEffects</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;//does nothing here<br><br></div>
<h3 id="FreezeBolt.Tick"><a class="headerlink" href="#FreezeBolt.Tick" title="Permanent link">Tick</a> (float deltaTime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Local SizableEffectSpawner efs;<br><br><br>&#9;&#9;efs = Spawn(class'SizableEffectSpawner',,,Location);<br>&#9;&#9;if (efs != None)<br>&#9;&#9;{<br>&#9;&#9;&#9;efs.EffectClass=class'MagicRing';<br>&#9;&#9;&#9;efs.EffectSkin = Texture'BlueRay';<br>&#9;&#9;&#9;efs.SizeofEffect = 1;<br>&#9;&#9;&#9;efs.NumberSpawns = 1;<br>&#9;&#9;&#9;efs.Interval = 0;<br>&#9;&#9;&#9;efs.EffectLSpan = 1.0;<br>   &#9;&#9;}<br>&#9;<br></div>
<br><br><hr>
<a class="headerlink" href="#FreezeGrenade.uc" title="Permanent link"><h2 id="FreezeGrenade.uc">FreezeGrenade.uc (extends ThrownProjectile)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">fuseLength=3.000000<br>proxRadius=128.000000<br>spawnWeaponClass=Class'PartyStuff.WeaponFreezeGrenade'<br>spawnAmmoClass=Class'PartyStuff.AmmoFreezeGrenade'<br>ItemName="Icer Grenade"<br>ItemArticle="an"<br>speed=1500.000000<br>ImpactSound=Sound'DeusExSounds.Generic.SmallExplosion2'<br>Mesh=LodMesh'DeusExItems.EMPGrenadePickup'</div>
<h3 id="FreezeGrenade.DrawExplosionEffects"><a class="headerlink" href="#FreezeGrenade.DrawExplosionEffects" title="Permanent link">DrawExplosionEffects</a> (vector HitLocation, vector HitNormal)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer player;<br>&#9;local ScriptedPawn pwn;<br>&#9;local DeusExDecoration DXP;<br>&#9;local PlayerResetter PR;<br>&#9;local FrozenPerson fperson;<br>&#9;local DeusExCarcass DXC;<br>&#9;local int i;<br><br>&#9;//bmeshenviromap and texture ice<br>&#9;foreach VisibleActors(class'DeusExPlayer',player,768)<br>&#9;{<br>&#9;&#9;PR = Spawn(class'PlayerResetter');<br>&#9;&#9;PR.Target = player;<br>&#9;&#9;PR.SetTimer(15,False);<br>&#9;&#9;PR.myTodo = "unfreeze";<br>&#9;&#9;Player.bMeshEnviroMap=True;<br>&#9;&#9;Player.Texture = Texture'IceTex';<br>&#9;&#9;player.bMovable=False;<br>&#9;&#9;player.bBehindView=True;<br>&#9;}<br>&#9;/*foreach VisibleActors(class'ScriptedPawn',pwn,768)<br>&#9;{<br>&#9;&#9;&#9;fperson = Spawn(class'FrozenPerson',,,pwn.Location);<br>&#9;&#9;&#9;fperson.SetCollisionSize(pwn.CollisionRadius,pwn.CollisionHeight);<br>&#9;&#9;&#9;fperson.Texture = pwn.Texture;<br>&#9;&#9;&#9;fperson.Mesh=pwn.Mesh;<br>&#9;&#9;&#9;fperson.Mass=pwn.Mass;<br>&#9;&#9;&#9;for (i=0;i<8;i++)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if ((pwn.MultiSkins[i]==Texture'DeusExItems.Skins.GrayMaskTex')<br>&#9;&#9;&#9;&#9;&#9;|| (pwn.MultiSkins[i]==Texture'DeusExItems.Skins.PinkMaskTex')<br>&#9;&#9;&#9;&#9;&#9;&#9;|| (pwn.MultiSkins[i]==Texture'DeusExItems.Skins.BlackMaskTex'))<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;fperson.MultiSkins[i]=pwn.MultiSkins[i];<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;fperson.MultiSkins[i] = Texture'IceTex';<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;fperson.setRotation(pwn.Rotation);<br>&#9;&#9;&#9;pwn.Destroy();&#9;&#9;&#9;<br>&#9;}<br>&#9;foreach VisibleActors(class'DeusExDecoration',dxp,768)<br>&#9;{<br>&#9;&#9;&#9;fperson = Spawn(class'FrozenPerson',,,dxp.Location);<br>&#9;&#9;&#9;fperson.SetCollisionSize(dxp.CollisionRadius,dxp.CollisionHeight);<br>&#9;&#9;&#9;fperson.Texture = dxp.Texture;<br>&#9;&#9;&#9;fperson.Mesh=dxp.Mesh;<br>&#9;&#9;&#9;fperson.Mass=dxp.Mass;<br>&#9;&#9;&#9;for (i=0;i<8;i++)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if ((dxp.MultiSkins[i]==Texture'DeusExItems.Skins.GrayMaskTex')<br>&#9;&#9;&#9;&#9;&#9;|| (dxp.MultiSkins[i]==Texture'DeusExItems.Skins.PinkMaskTex')<br>&#9;&#9;&#9;&#9;&#9;&#9;|| (dxp.MultiSkins[i]==Texture'DeusExItems.Skins.BlackMaskTex'))<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;fperson.MultiSkins[i]=dxp.MultiSkins[i];<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;fperson.MultiSkins[i] = Texture'IceTex';<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;fperson.setRotation(dxp.Rotation);<br>&#9;&#9;&#9;dxp.Destroy();&#9;<br>&#9;}<br>&#9;foreach VisibleActors(class'DeusExCarcass',DXC,768)<br>&#9;{<br>&#9;&#9;&#9;fperson = Spawn(class'FrozenPerson',,,DXC.Location);<br>&#9;&#9;&#9;fperson.SetCollisionSize(DXC.CollisionRadius,DXC.CollisionHeight);<br>&#9;&#9;&#9;fperson.Texture = DXC.Texture;<br>&#9;&#9;&#9;fperson.Mesh=DXC.Mesh;<br>&#9;&#9;&#9;fperson.Mass=DXC.Mass;<br>&#9;&#9;&#9;for (i=0;i<8;i++)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if ((DXC.MultiSkins[i]==Texture'DeusExItems.Skins.GrayMaskTex')<br>&#9;&#9;&#9;&#9;&#9;|| (DXC.MultiSkins[i]==Texture'DeusExItems.Skins.PinkMaskTex')<br>&#9;&#9;&#9;&#9;&#9;&#9;|| (DXC.MultiSkins[i]==Texture'DeusExItems.Skins.BlackMaskTex'))<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;fperson.MultiSkins[i]=DXC.MultiSkins[i];<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;fperson.MultiSkins[i] = Texture'IceTex';<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;fperson.setRotation(DXC.Rotation);<br>&#9;&#9;&#9;DXC.Destroy();&#9;<br>&#9;}*/<br><br></div>
<br><br><hr>
<a class="headerlink" href="#FreezeGun.uc" title="Permanent link"><h2 id="FreezeGun.uc">FreezeGun.uc (extends DeusExWeapon)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var() int fzHitDamage;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">fzHitDamage=20<br>GoverningSkill=Class'DeusEx.SkillWeaponPistol'<br>NoiseLevel=0.010000<br>ShotTime=0.150000<br>reloadTime=1.500000<br>HitDamage=0<br>maxRange=4800<br>AccurateRange=2400<br>BaseAccuracy=0.800000<br>bCanHaveScope=True<br>ScopeFOV=25<br>bCanHaveLaser=True<br>recoilStrength=0.100000<br>mpBaseAccuracy=0.200000<br>mpAccurateRange=1200<br>mpMaxRange=1200<br>bCanHaveModBaseAccuracy=True<br>bCanHaveModReloadCount=True<br>bCanHaveModAccurateRange=True<br>bCanHaveModReloadTime=True<br>bInstantHit=True<br>FireOffset=(X=-24.000000,Y=10.000000,Z=14.000000)<br>shakemag=50.000000<br>FireSound=Sound'DeusExSounds.Weapons.StealthPistolFire'<br>AltFireSound=Sound'DeusExSounds.Weapons.StealthPistolReloadEnd'<br>CockingSound=Sound'DeusExSounds.Weapons.StealthPistolReload'<br>SelectSound=Sound'DeusExSounds.Weapons.StealthPistolSelect'<br>ItemName="Freeze Gun"<br>PlayerViewOffset=(X=24.000000,Y=-10.000000,Z=-14.000000)<br>PlayerViewMesh=LodMesh'DeusExItems.StealthPistol'<br>PickupViewMesh=LodMesh'DeusExItems.StealthPistolPickup'<br>ThirdPersonMesh=LodMesh'DeusExItems.StealthPistol3rd'<br>Icon=Texture'DeusExUI.Icons.BeltIconStealthPistol'<br>largeIcon=Texture'DeusExUI.Icons.LargeIconStealthPistol'<br>largeIconWidth=47<br>largeIconHeight=37<br>Description="The stealth pistol is a variant of the standard 10mm pistol with a larger clip and integrated silencer designed for wet work at very close ranges."<br>beltDescription="FREEZE"<br>Mesh=LodMesh'DeusExItems.StealthPistolPickup'<br>CollisionRadius=8.000000<br>CollisionHeight=0.800000</div>
<h3 id="FreezeGun.CalculateAccuracy"><a class="headerlink" href="#FreezeGun.CalculateAccuracy" title="Permanent link">CalculateAccuracy</a> -> float</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;return 0.000000; //Dirty hack to always return dead on accuracy.<br><br></div>
<h3 id="FreezeGun.FreezeIt"><a class="headerlink" href="#FreezeGun.FreezeIt" title="Permanent link">FreezeIt</a> (actor other)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Pawn pawn;<br>&#9;local DeusExDecoration deco;<br>&#9;local DeusExCarcass carcass;<br>&#9;local FrozenPerson fperson;<br>&#9;local int i;<br><br><br>&#9;pawn = pawn(Other);<br>&#9;deco = DeusExDecoration(Other);<br>&#9;carcass = DeusExCarcass(Other);<br><br>&#9;fperson = Spawn(class'FrozenPerson',,,Other.Location);<br>&#9;fperson.SetCollisionSize(Other.CollisionRadius,Other.CollisionHeight);<br>&#9;fperson.Texture = Other.Texture;<br>&#9;fperson.Mesh=Other.Mesh;<br>&#9;fperson.Mass=Other.Mass/2;<br>&#9;fperson.drawscale=Other.Drawscale;<br>&#9;<br>&#9;for (i=0;i<8;i++)<br>&#9;{<br>&#9;&#9;if ((Other.MultiSkins[i]==Texture'DeusExItems.Skins.GrayMaskTex')<br>&#9;&#9;&#9;|| (Other.MultiSkins[i]==Texture'DeusExItems.Skins.PinkMaskTex')<br>&#9;&#9;&#9;&#9;|| (Other.MultiSkins[i]==Texture'DeusExItems.Skins.BlackMaskTex'))<br>&#9;&#9;{<br>&#9;&#9;&#9;fperson.MultiSkins[i]=Other.MultiSkins[i];<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;&#9;fperson.MultiSkins[i] = Texture'IceTex';<br>&#9;}<br>&#9;fperson.setRotation(Other.Rotation);<br>&#9;if(!Other.IsA('DeusExPlayer'))<br>&#9;{<br>&#9;Other.Destroy();<br>&#9;}<br><br></div>
<h3 id="FreezeGun.GetDisplayString"><a class="headerlink" href="#FreezeGun.GetDisplayString" title="Permanent link">GetDisplayString</a> (Actor P) -> string</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(P.isA('DeusExPlayer'))<br>&#9;&#9;return DeusExPlayer(p).PlayerReplicationInfo.PlayerName;<br>&#9;else if(P.isA('ScriptedPawn'))<br>&#9;&#9;return ScriptedPawn(P).FamiliarName;<br>&#9;else if(P.isA('DeusExDecoration'))<br>&#9;&#9;return DeusExDecoration(P).ItemName;<br><br></div>
<h3 id="FreezeGun.PreBeginPlay"><a class="headerlink" href="#FreezeGun.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;// If this is a netgame, then override defaults<br>&#9;if ( Level.NetMode != NM_StandAlone )<br>&#9;{<br>&#9;&#9;HitDamage = mpHitDamage;<br>&#9;&#9;BaseAccuracy = mpBaseAccuracy;<br>&#9;&#9;ReloadTime = mpReloadTime;<br>&#9;&#9;AccurateRange = mpAccurateRange;<br>&#9;&#9;MaxRange = mpMaxRange;<br>&#9;&#9;ReloadCount = mpReloadCount;<br>&#9;}<br><br></div>
<h3 id="FreezeGun.ProcessTraceHit"><a class="headerlink" href="#FreezeGun.ProcessTraceHit" title="Permanent link">ProcessTraceHit</a> (Actor Other, Vector HitLocation, Vector HitNormal, Vector X, Vector Y, Vector Z)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local float        mult;<br>&#9;local name         damageType;<br>&#9;local DeusExPlayer dxPlayer, DXP;<br>&#9;local Pawn P;<br><br>&#9;<br>&#9;if(Other.isa('DeusExPlayer') && DeusExPlayer(Other).ReducedDamageType != 'all')<br>&#9;{<br>&#9;&#9;DeusExPlayer(Other).TakeDamage(fzHitDamage, DeusExPlayer(Owner), Other.Location, HitLocation,'Special');<br>&#9;&#9;/*if(DeusExPlayer(Other).Health <= 0)<br>&#9;&#9;{<br>&#9;&#9;&#9;FreezeIt(Other);<br>&#9;&#9;}*/<br>&#9;&#9;return;<br>&#9;}<br>&#9;else if(Other.isa('ScriptedPawn') && !ScriptedPawn(Other).bInvincible)<br>&#9;{<br>        ScriptedPawn(Other).TakeDamage(fzHitDamage, DeusExPlayer(Owner), Other.Location, HitLocation,'Special');<br>        if(Rand(100) > ScriptedPawn(Other).Health){<br>            FreezeIt(Other);<br>        }<br>&#9;&#9;<br>&#9;&#9;return;<br>&#9;<br></div>
<h3 id="FreezeGun.ScopeToggle"><a class="headerlink" href="#FreezeGun.ScopeToggle" title="Permanent link">ScopeToggle</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;DeusExPlayer(Owner).ConsoleCommand("Mutate rcon.tp");<br><br></div>
<h3 id="FreezeGun.TestMPBeltSpot"><a class="headerlink" href="#FreezeGun.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<br><br><hr>
<a class="headerlink" href="#FrozenPerson.uc" title="Permanent link"><h2 id="FrozenPerson.uc">FrozenPerson.uc (extends Containers)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">HitPoints=10<br>FragType=Class'DeusEx.GlassFragment'<br>bFlammable=False<br>bHighlight=False<br>ItemName="Ice"<br>bBlockSight=True<br>Texture=Texture'Engine.S_Pawn'<br>Mesh=LodMesh'DeusExDeco.CrateBreakableMed'<br>CollisionRadius=34.000000<br>CollisionHeight=24.000000<br>Mass=50.000000<br>Buoyancy=60.000000</div>
<h3 id="FrozenPerson.Frag"><a class="headerlink" href="#FrozenPerson.Frag" title="Permanent link">Frag</a> (class<fragment> FragType, vector Momentum, float DSize, int NumFrags)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int i;<br>&#9;local actor A, Toucher;<br>&#9;local DeusExFragment s;<br><br>&#9;&#9;<br>&#9;NumFrags*=10;<br><br>&#9;if ( bOnlyTriggerable )<br>&#9;&#9;return; <br>&#9;if (Event!='')<br>&#9;&#9;foreach AllActors( class 'Actor', A, Event )<br>&#9;&#9;&#9;A.Trigger( Toucher, pawn(Toucher) );<br>&#9;if ( Region.Zone.bDestructive )<br>&#9;{<br>&#9;&#9;Destroy();<br>&#9;&#9;return;<br>&#9;}<br>&#9;for (i=0 ; i<NumFrags ; i++) <br>&#9;{<br>&#9;&#9;s = DeusExFragment(Spawn(FragType, Owner));<br>&#9;&#9;if (s != None)<br>&#9;&#9;{<br>&#9;&#9;&#9;s.Instigator = Instigator;<br>&#9;&#9;&#9;s.CalcVelocity(Momentum,0);<br>&#9;&#9;&#9;s.DrawScale = DSize*0.5+0.7*DSize*FRand();<br>&#9;&#9;&#9;s.Skin = GetMeshTexture();<br>&#9;&#9;&#9;if (bExplosive)<br>&#9;&#9;&#9;&#9;s.bSmoking = True;<br>&#9;&#9;}<br>&#9;}<br><br>&#9;if (!bExplosive)<br>&#9;&#9;Destroy();<br><br></div>
<br><br><hr>
<a class="headerlink" href="#GalaxyChoc.uc" title="Permanent link"><h2 id="GalaxyChoc.uc">GalaxyChoc.uc (extends FoodMMRPG)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">ItemName="ChocoCrunch Chocolate Bar"<br>PlayerViewMesh=LodMesh'DeusExItems.Candybar'<br>PlayerViewScale=1.100000<br>PickupViewMesh=LodMesh'DeusExItems.Candybar'<br>PickupViewScale=1.100000<br>ThirdPersonMesh=LodMesh'DeusExItems.Candybar'<br>ThirdPersonScale=1.100000<br>Icon=Texture'PGAssets.Skins.GalaxyBelt'<br>largeIcon=Texture'PGAssets.Skins.GalaxyBelt'<br>largeIconWidth=46<br>largeIconHeight=36<br>beltDescription="CHOCOCRUNCH"<br>Skin=Texture'PGAssets.Skins.GalaxyTex1'<br>Mesh=LodMesh'DeusExItems.Candybar'<br>DrawScale=1.100000<br>MultiSkins(0)=Texture'PGAssets.Skins.GalaxyTex1'<br>CollisionRadius=6.250000<br>CollisionHeight=0.670000<br>Mass=3.000000</div>
<br><br><hr>
<a class="headerlink" href="#GalaxyChoc2.uc" title="Permanent link"><h2 id="GalaxyChoc2.uc">GalaxyChoc2.uc (extends FoodMMRPG)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">ItemName="ChocoCrunch |p2[Strawberry]|p1 Bar"<br>PlayerViewMesh=LodMesh'DeusExItems.Candybar'<br>PlayerViewScale=1.100000<br>PickupViewMesh=LodMesh'DeusExItems.Candybar'<br>PickupViewScale=1.100000<br>ThirdPersonMesh=LodMesh'DeusExItems.Candybar'<br>ThirdPersonScale=1.100000<br>Icon=Texture'PGAssets.Skins.BeltIconChoc2'<br>largeIcon=Texture'PGAssets.Skins.BeltIconChoc2'<br>largeIconWidth=46<br>largeIconHeight=36<br>beltDescription="|p2CH STRWBRY"<br>Skin=Texture'PGAssets.Skins.GalaxyTex2'<br>Mesh=LodMesh'DeusExItems.Candybar'<br>DrawScale=1.100000<br>MultiSkins(0)=Texture'PGAssets.Skins.GalaxyTex2'<br>CollisionRadius=6.250000<br>CollisionHeight=0.670000<br>Mass=3.000000</div>
<br><br><hr>
<a class="headerlink" href="#GalaxyChoc3.uc" title="Permanent link"><h2 id="GalaxyChoc3.uc">GalaxyChoc3.uc (extends FoodMMRPG)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">ItemName="ChocoCrunch |p2[Mint]|p1 Bar"<br>PlayerViewMesh=LodMesh'DeusExItems.Candybar'<br>PlayerViewScale=1.100000<br>PickupViewMesh=LodMesh'DeusExItems.Candybar'<br>PickupViewScale=1.100000<br>ThirdPersonMesh=LodMesh'DeusExItems.Candybar'<br>ThirdPersonScale=1.100000<br>Icon=Texture'PGAssets.Skins.BeltIconChoc3'<br>largeIcon=Texture'PGAssets.Skins.BeltIconChoc3'<br>largeIconWidth=46<br>largeIconHeight=36<br>Description="(c) MAINMAN"<br>beltDescription="|p2CH MINT"<br>Skin=Texture'PGAssets.Skins.GalaxyTex3'<br>Mesh=LodMesh'DeusExItems.Candybar'<br>DrawScale=1.100000<br>MultiSkins(0)=Texture'PGAssets.Skins.GalaxyTex3'<br>CollisionRadius=6.250000<br>CollisionHeight=0.670000<br>Mass=3.000000</div>
<br><br><hr>
<a class="headerlink" href="#GlassShard.uc" title="Permanent link"><h2 id="GlassShard.uc">GlassShard.uc (extends CraftingMaterial)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">DispStr="[Ingredient] Required for Estus"<br>bIngredient=True<br>ItemName="Glass Shard"<br>beltDescription="Glass"<br>CollisionRadius=10.000000</div>
<br><br><hr>
<a class="headerlink" href="#GraffitiGun.uc" title="Permanent link"><h2 id="GraffitiGun.uc">GraffitiGun.uc (extends DeusExWeapon)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">LowAmmoWaterMark=50<br>GoverningSkill=Class'DeusEx.SkillWeaponLowTech'<br>NoiseLevel=0.200000<br>bAutomatic=True<br>ShotTime=0.000000<br>reloadTime=0.000000<br>HitDamage=0<br>maxRange=100<br>AccurateRange=100<br>BaseAccuracy=0.700000<br>bPenetrating=False<br>StunDuration=15.000000<br>bHasMuzzleFlash=False<br>mpReloadTime=4.000000<br>mpBaseAccuracy=0.700000<br>mpAccurateRange=100<br>mpMaxRange=100<br>AmmoName=Class'PartyStuff.SprayPaint'<br>ReloadCount=200<br>PickupAmmoCount=800<br>FireOffset=(X=-22.000000,Y=10.000000,Z=14.000000)<br>ProjectileClass=Class'PartyStuff.GraffitiSpray'<br>shakemag=10.000000<br>FireSound=Sound'DeusExSounds.Weapons.PepperGunFire'<br>AltFireSound=Sound'DeusExSounds.Weapons.PepperGunReloadEnd'<br>CockingSound=Sound'DeusExSounds.Weapons.PepperGunReload'<br>SelectSound=Sound'DeusExSounds.Weapons.PepperGunSelect'<br>InventoryGroup=164<br>ItemName="Graffiti Gun"<br>PlayerViewOffset=(X=16.000000,Y=-10.000000,Z=-16.000000)<br>PlayerViewMesh=LodMesh'DeusExItems.PepperGun'<br>PickupViewMesh=LodMesh'DeusExItems.PepperGunPickup'<br>ThirdPersonMesh=LodMesh'DeusExItems.PepperGun3rd'<br>Icon=Texture'DeusExUI.Icons.BeltIconPepperSpray'<br>largeIcon=Texture'DeusExUI.Icons.LargeIconPepperSpray'<br>largeIconWidth=46<br>largeIconHeight=40<br>Description="The pepper gun will accept a number of commercially available riot control agents in cartridge form and disperse them as a fine aerosol mist that can cause blindness or blistering at short-range."<br>beltDescription="GRAFFITI"<br>Mesh=LodMesh'DeusExItems.PepperGunPickup'<br>CollisionRadius=7.000000<br>CollisionHeight=1.500000<br>Mass=7.000000<br>Buoyancy=2.000000</div>
<h3 id="GraffitiGun.PreBeginPlay"><a class="headerlink" href="#GraffitiGun.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;// If this is a netgame, then override defaults<br>&#9;if ( Level.NetMode != NM_StandAlone )<br>&#9;{<br>&#9;&#9;HitDamage = mpHitDamage;<br>&#9;&#9;BaseAccuracy = mpBaseAccuracy;<br>&#9;&#9;ReloadTime = mpReloadTime;<br>&#9;&#9;AccurateRange = mpAccurateRange;<br>&#9;&#9;MaxRange = mpMaxRange;<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#GraffitiGunBlue.uc" title="Permanent link"><h2 id="GraffitiGunBlue.uc">GraffitiGunBlue.uc (extends DeusExWeapon)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">LowAmmoWaterMark=50<br>GoverningSkill=Class'DeusEx.SkillWeaponLowTech'<br>NoiseLevel=0.200000<br>bAutomatic=True<br>ShotTime=0.000000<br>reloadTime=0.000000<br>HitDamage=0<br>maxRange=100<br>AccurateRange=100<br>BaseAccuracy=0.700000<br>bPenetrating=False<br>StunDuration=15.000000<br>bHasMuzzleFlash=False<br>mpReloadTime=4.000000<br>mpBaseAccuracy=0.700000<br>mpAccurateRange=100<br>mpMaxRange=100<br>AmmoName=Class'PartyStuff.SprayPaintBlue'<br>ReloadCount=200<br>PickupAmmoCount=800<br>FireOffset=(X=-22.000000,Y=10.000000,Z=14.000000)<br>ProjectileClass=Class'PartyStuff.GraffitiSprayBlue'<br>shakemag=10.000000<br>FireSound=Sound'DeusExSounds.Weapons.PepperGunFire'<br>AltFireSound=Sound'DeusExSounds.Weapons.PepperGunReloadEnd'<br>CockingSound=Sound'DeusExSounds.Weapons.PepperGunReload'<br>SelectSound=Sound'DeusExSounds.Weapons.PepperGunSelect'<br>InventoryGroup=28<br>ItemName="Graffiti Gun blue"<br>PlayerViewOffset=(X=16.000000,Y=-10.000000,Z=-16.000000)<br>PlayerViewMesh=LodMesh'DeusExItems.PepperGun'<br>PickupViewMesh=LodMesh'DeusExItems.PepperGunPickup'<br>ThirdPersonMesh=LodMesh'DeusExItems.PepperGun3rd'<br>Icon=Texture'DeusExUI.Icons.BeltIconPepperSpray'<br>largeIcon=Texture'DeusExUI.Icons.LargeIconPepperSpray'<br>largeIconWidth=46<br>largeIconHeight=40<br>Description="The pepper gun will accept a number of commercially available riot control agents in cartridge form and disperse them as a fine aerosol mist that can cause blindness or blistering at short-range."<br>beltDescription="BLUE"<br>Mesh=LodMesh'DeusExItems.PepperGunPickup'<br>CollisionRadius=7.000000<br>CollisionHeight=1.500000<br>Mass=7.000000<br>Buoyancy=2.000000</div>
<h3 id="GraffitiGunBlue.PreBeginPlay"><a class="headerlink" href="#GraffitiGunBlue.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;// If this is a netgame, then override defaults<br>&#9;if ( Level.NetMode != NM_StandAlone )<br>&#9;{<br>&#9;&#9;HitDamage = mpHitDamage;<br>&#9;&#9;BaseAccuracy = mpBaseAccuracy;<br>&#9;&#9;ReloadTime = mpReloadTime;<br>&#9;&#9;AccurateRange = mpAccurateRange;<br>&#9;&#9;MaxRange = mpMaxRange;<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#GraffitiGunHyper.uc" title="Permanent link"><h2 id="GraffitiGunHyper.uc">GraffitiGunHyper.uc (extends GraffitiGun)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">ItemName="Graffiti Gun [MODIFIED]"</div>
<br><br><hr>
<a class="headerlink" href="#GraffitiGunHyperBlue.uc" title="Permanent link"><h2 id="GraffitiGunHyperBlue.uc">GraffitiGunHyperBlue.uc (extends GraffitiGunblue)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">ItemName="Graffiti Gun blue [MODIFIED]"</div>
<br><br><hr>
<a class="headerlink" href="#GraffitiGunHyperPink.uc" title="Permanent link"><h2 id="GraffitiGunHyperPink.uc">GraffitiGunHyperPink.uc (extends GraffitiGunpink)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">ItemName="Graffiti Gun pink [MODIFIED]"</div>
<br><br><hr>
<a class="headerlink" href="#GraffitiGunHyperRed.uc" title="Permanent link"><h2 id="GraffitiGunHyperRed.uc">GraffitiGunHyperRed.uc (extends GraffitiGunRed)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">ItemName="Graffiti Gun Red [MODIFIED]"</div>
<br><br><hr>
<a class="headerlink" href="#GraffitiGunHyperYellow.uc" title="Permanent link"><h2 id="GraffitiGunHyperYellow.uc">GraffitiGunHyperYellow.uc (extends GraffitiGunYellow)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">ItemName="Graffiti Gun Yellow [MODIFIED]"</div>
<br><br><hr>
<a class="headerlink" href="#GraffitiGunRed.uc" title="Permanent link"><h2 id="GraffitiGunRed.uc">GraffitiGunRed.uc (extends DeusExWeapon)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">LowAmmoWaterMark=50<br>GoverningSkill=Class'DeusEx.SkillWeaponLowTech'<br>NoiseLevel=0.200000<br>bAutomatic=True<br>ShotTime=0.000000<br>reloadTime=0.000000<br>HitDamage=0<br>maxRange=100<br>AccurateRange=100<br>BaseAccuracy=0.700000<br>bPenetrating=False<br>StunDuration=15.000000<br>bHasMuzzleFlash=False<br>mpReloadTime=4.000000<br>mpBaseAccuracy=0.700000<br>mpAccurateRange=100<br>mpMaxRange=100<br>AmmoName=Class'PartyStuff.SprayPaintRed'<br>ReloadCount=200<br>PickupAmmoCount=800<br>FireOffset=(X=-22.000000,Y=10.000000,Z=14.000000)<br>ProjectileClass=Class'PartyStuff.GraffitiSprayRed'<br>shakemag=10.000000<br>FireSound=Sound'DeusExSounds.Weapons.PepperGunFire'<br>AltFireSound=Sound'DeusExSounds.Weapons.PepperGunReloadEnd'<br>CockingSound=Sound'DeusExSounds.Weapons.PepperGunReload'<br>SelectSound=Sound'DeusExSounds.Weapons.PepperGunSelect'<br>InventoryGroup=92<br>ItemName="Graffiti Gun Red"<br>PlayerViewOffset=(X=16.000000,Y=-10.000000,Z=-16.000000)<br>PlayerViewMesh=LodMesh'DeusExItems.PepperGun'<br>PickupViewMesh=LodMesh'DeusExItems.PepperGunPickup'<br>ThirdPersonMesh=LodMesh'DeusExItems.PepperGun3rd'<br>Icon=Texture'DeusExUI.Icons.BeltIconPepperSpray'<br>largeIcon=Texture'DeusExUI.Icons.LargeIconPepperSpray'<br>largeIconWidth=46<br>largeIconHeight=40<br>Description="The pepper gun will accept a number of commercially available riot control agents in cartridge form and disperse them as a fine aerosol mist that can cause blindness or blistering at short-range."<br>beltDescription="RED"<br>Mesh=LodMesh'DeusExItems.PepperGunPickup'<br>CollisionRadius=7.000000<br>CollisionHeight=1.500000<br>Mass=7.000000<br>Buoyancy=2.000000</div>
<h3 id="GraffitiGunRed.PreBeginPlay"><a class="headerlink" href="#GraffitiGunRed.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;// If this is a netgame, then override defaults<br>&#9;if ( Level.NetMode != NM_StandAlone )<br>&#9;{<br>&#9;&#9;HitDamage = mpHitDamage;<br>&#9;&#9;BaseAccuracy = mpBaseAccuracy;<br>&#9;&#9;ReloadTime = mpReloadTime;<br>&#9;&#9;AccurateRange = mpAccurateRange;<br>&#9;&#9;MaxRange = mpMaxRange;<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#GraffitiGunYellow.uc" title="Permanent link"><h2 id="GraffitiGunYellow.uc">GraffitiGunYellow.uc (extends DeusExWeapon)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">LowAmmoWaterMark=50<br>GoverningSkill=Class'DeusEx.SkillWeaponLowTech'<br>NoiseLevel=0.200000<br>bAutomatic=True<br>ShotTime=0.000000<br>reloadTime=0.000000<br>HitDamage=0<br>maxRange=100<br>AccurateRange=100<br>BaseAccuracy=0.700000<br>bPenetrating=False<br>StunDuration=15.000000<br>bHasMuzzleFlash=False<br>mpReloadTime=4.000000<br>mpBaseAccuracy=0.700000<br>mpAccurateRange=100<br>mpMaxRange=100<br>AmmoName=Class'PartyStuff.SprayPaintYellow'<br>ReloadCount=200<br>PickupAmmoCount=800<br>FireOffset=(X=-22.000000,Y=10.000000,Z=14.000000)<br>ProjectileClass=Class'PartyStuff.GraffitiSprayYellow'<br>shakemag=10.000000<br>FireSound=Sound'DeusExSounds.Weapons.PepperGunFire'<br>AltFireSound=Sound'DeusExSounds.Weapons.PepperGunReloadEnd'<br>CockingSound=Sound'DeusExSounds.Weapons.PepperGunReload'<br>SelectSound=Sound'DeusExSounds.Weapons.PepperGunSelect'<br>InventoryGroup=105<br>ItemName="Graffiti Gun Yellow"<br>PlayerViewOffset=(X=16.000000,Y=-10.000000,Z=-16.000000)<br>PlayerViewMesh=LodMesh'DeusExItems.PepperGun'<br>PickupViewMesh=LodMesh'DeusExItems.PepperGunPickup'<br>ThirdPersonMesh=LodMesh'DeusExItems.PepperGun3rd'<br>Icon=Texture'DeusExUI.Icons.BeltIconPepperSpray'<br>largeIcon=Texture'DeusExUI.Icons.LargeIconPepperSpray'<br>largeIconWidth=46<br>largeIconHeight=40<br>Description="The pepper gun will accept a number of commercially available riot control agents in cartridge form and disperse them as a fine aerosol mist that can cause blindness or blistering at short-range."<br>beltDescription="YELLOW"<br>Mesh=LodMesh'DeusExItems.PepperGunPickup'<br>CollisionRadius=7.000000<br>CollisionHeight=1.500000<br>Mass=7.000000<br>Buoyancy=2.000000</div>
<h3 id="GraffitiGunYellow.PreBeginPlay"><a class="headerlink" href="#GraffitiGunYellow.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;// If this is a netgame, then override defaults<br>&#9;if ( Level.NetMode != NM_StandAlone )<br>&#9;{<br>&#9;&#9;HitDamage = mpHitDamage;<br>&#9;&#9;BaseAccuracy = mpBaseAccuracy;<br>&#9;&#9;ReloadTime = mpReloadTime;<br>&#9;&#9;AccurateRange = mpAccurateRange;<br>&#9;&#9;MaxRange = mpMaxRange;<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#GraffitiGunpink.uc" title="Permanent link"><h2 id="GraffitiGunpink.uc">GraffitiGunpink.uc (extends DeusExWeapon)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">LowAmmoWaterMark=50<br>GoverningSkill=Class'DeusEx.SkillWeaponLowTech'<br>NoiseLevel=0.200000<br>bAutomatic=True<br>ShotTime=0.000000<br>reloadTime=0.000000<br>HitDamage=0<br>maxRange=100<br>AccurateRange=100<br>BaseAccuracy=0.700000<br>bPenetrating=False<br>StunDuration=15.000000<br>bHasMuzzleFlash=False<br>mpReloadTime=4.000000<br>mpBaseAccuracy=0.700000<br>mpAccurateRange=100<br>mpMaxRange=100<br>AmmoName=Class'PartyStuff.SprayPaintPink'<br>ReloadCount=200<br>PickupAmmoCount=800<br>FireOffset=(X=-22.000000,Y=10.000000,Z=14.000000)<br>ProjectileClass=Class'PartyStuff.GraffitiSprayPink'<br>shakemag=10.000000<br>FireSound=Sound'DeusExSounds.Weapons.PepperGunFire'<br>AltFireSound=Sound'DeusExSounds.Weapons.PepperGunReloadEnd'<br>CockingSound=Sound'DeusExSounds.Weapons.PepperGunReload'<br>SelectSound=Sound'DeusExSounds.Weapons.PepperGunSelect'<br>InventoryGroup=69<br>ItemName="Graffiti Gun pink"<br>PlayerViewOffset=(X=16.000000,Y=-10.000000,Z=-16.000000)<br>PlayerViewMesh=LodMesh'DeusExItems.PepperGun'<br>PickupViewMesh=LodMesh'DeusExItems.PepperGunPickup'<br>ThirdPersonMesh=LodMesh'DeusExItems.PepperGun3rd'<br>Icon=Texture'DeusExUI.Icons.BeltIconPepperSpray'<br>largeIcon=Texture'DeusExUI.Icons.LargeIconPepperSpray'<br>largeIconWidth=46<br>largeIconHeight=40<br>Description="The pepper gun will accept a number of commercially available riot control agents in cartridge form and disperse them as a fine aerosol mist that can cause blindness or blistering at short-range."<br>beltDescription="PINK"<br>Mesh=LodMesh'DeusExItems.PepperGunPickup'<br>CollisionRadius=7.000000<br>CollisionHeight=1.500000<br>Mass=7.000000<br>Buoyancy=2.000000</div>
<h3 id="GraffitiGunpink.PreBeginPlay"><a class="headerlink" href="#GraffitiGunpink.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;// If this is a netgame, then override defaults<br>&#9;if ( Level.NetMode != NM_StandAlone )<br>&#9;{<br>&#9;&#9;HitDamage = mpHitDamage;<br>&#9;&#9;BaseAccuracy = mpBaseAccuracy;<br>&#9;&#9;ReloadTime = mpReloadTime;<br>&#9;&#9;AccurateRange = mpAccurateRange;<br>&#9;&#9;MaxRange = mpMaxRange;<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#GraffitiMark.uc" title="Permanent link"><h2 id="GraffitiMark.uc">GraffitiMark.uc (extends AveDecal)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var float spreadTime;<br>var float maxDrawScale;<br>var float time;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">spreadTime=0.100000<br>maxDrawScale=0.500000<br>Texture=Texture'PGAssets.Skins.gdefault'</div>
<h3 id="GraffitiMark.Tick"><a class="headerlink" href="#GraffitiMark.Tick" title="Permanent link">Tick</a> (float deltaTime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;time += deltaTime;<br>&#9;if (time <= spreadTime)<br>&#9;{<br>&#9;&#9;DrawScale = maxDrawScale * time / spreadTime;<br>&#9;&#9;ReattachDecal(vect(0.1,0.1,0));<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#GraffitiMarkBlue.uc" title="Permanent link"><h2 id="GraffitiMarkBlue.uc">GraffitiMarkBlue.uc (extends AveDecal)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var float spreadTime;<br>var float maxDrawScale;<br>var float time;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">spreadTime=0.100000<br>maxDrawScale=0.500000<br>Texture=Texture'PGAssets.Skins.gblue'</div>
<h3 id="GraffitiMarkBlue.Tick"><a class="headerlink" href="#GraffitiMarkBlue.Tick" title="Permanent link">Tick</a> (float deltaTime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;time += deltaTime;<br>&#9;if (time <= spreadTime)<br>&#9;{<br>&#9;&#9;DrawScale = maxDrawScale * time / spreadTime;<br>&#9;&#9;ReattachDecal(vect(0.1,0.1,0));<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#GraffitiMarkPink.uc" title="Permanent link"><h2 id="GraffitiMarkPink.uc">GraffitiMarkPink.uc (extends AveDecal)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var float spreadTime;<br>var float maxDrawScale;<br>var float time;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">spreadTime=0.100000<br>maxDrawScale=0.500000<br>Texture=Texture'PGAssets.Skins.gpink'</div>
<h3 id="GraffitiMarkPink.Tick"><a class="headerlink" href="#GraffitiMarkPink.Tick" title="Permanent link">Tick</a> (float deltaTime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;time += deltaTime;<br>&#9;if (time <= spreadTime)<br>&#9;{<br>&#9;&#9;DrawScale = maxDrawScale * time / spreadTime;<br>&#9;&#9;ReattachDecal(vect(0.1,0.1,0));<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#GraffitiMarkRed.uc" title="Permanent link"><h2 id="GraffitiMarkRed.uc">GraffitiMarkRed.uc (extends AveDecal)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var float spreadTime;<br>var float maxDrawScale;<br>var float time;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">spreadTime=0.100000<br>maxDrawScale=0.500000<br>Texture=Texture'PGAssets.Skins.gred'</div>
<h3 id="GraffitiMarkRed.Tick"><a class="headerlink" href="#GraffitiMarkRed.Tick" title="Permanent link">Tick</a> (float deltaTime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;time += deltaTime;<br>&#9;if (time <= spreadTime)<br>&#9;{<br>&#9;&#9;DrawScale = maxDrawScale * time / spreadTime;<br>&#9;&#9;ReattachDecal(vect(0.1,0.1,0));<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#GraffitiMarkYellow.uc" title="Permanent link"><h2 id="GraffitiMarkYellow.uc">GraffitiMarkYellow.uc (extends AveDecal)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var float spreadTime;<br>var float maxDrawScale;<br>var float time;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">spreadTime=0.100000<br>maxDrawScale=0.500000<br>Texture=Texture'PGAssets.Skins.gyellow'</div>
<h3 id="GraffitiMarkYellow.Tick"><a class="headerlink" href="#GraffitiMarkYellow.Tick" title="Permanent link">Tick</a> (float deltaTime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;time += deltaTime;<br>&#9;if (time <= spreadTime)<br>&#9;{<br>&#9;&#9;DrawScale = maxDrawScale * time / spreadTime;<br>&#9;&#9;ReattachDecal(vect(0.1,0.1,0));<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#GraffitiSpray.uc" title="Permanent link"><h2 id="GraffitiSpray.uc">GraffitiSpray.uc (extends DeusExProjectile)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">blastRadius=1.000000<br>DamageType=Poison<br>AccurateRange=200<br>maxRange=200<br>bIgnoresNanoDefense=True<br>ItemName="Graffiti Spray"<br>ItemArticle="some"<br>speed=800.000000<br>MaxSpeed=800.000000<br>Damage=2.000000<br>MomentumTransfer=400<br>ExplosionDecal=Class'PartyStuff.GraffitiMark'<br>LifeSpan=0.500000<br>Texture=Texture'PGAssets.Skins.gdefault'<br>DrawScale=0.250000<br>bUnlit=True</div>
<br><br><hr>
<a class="headerlink" href="#GraffitiSprayBlue.uc" title="Permanent link"><h2 id="GraffitiSprayBlue.uc">GraffitiSprayBlue.uc (extends DeusExProjectile)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">blastRadius=1.000000<br>DamageType=Poison<br>AccurateRange=200<br>maxRange=200<br>bIgnoresNanoDefense=True<br>ItemName="Graffiti Spray"<br>ItemArticle="some"<br>speed=800.000000<br>MaxSpeed=800.000000<br>Damage=2.000000<br>MomentumTransfer=400<br>ExplosionDecal=Class'PartyStuff.GraffitiMarkBlue'<br>LifeSpan=0.500000<br>Texture=Texture'PGAssets.Skins.gblue'<br>DrawScale=0.250000<br>bUnlit=True</div>
<br><br><hr>
<a class="headerlink" href="#GraffitiSprayPink.uc" title="Permanent link"><h2 id="GraffitiSprayPink.uc">GraffitiSprayPink.uc (extends DeusExProjectile)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">blastRadius=1.000000<br>DamageType=Poison<br>AccurateRange=200<br>maxRange=200<br>bIgnoresNanoDefense=True<br>ItemName="Graffiti Spray"<br>ItemArticle="some"<br>speed=800.000000<br>MaxSpeed=800.000000<br>Damage=2.000000<br>MomentumTransfer=400<br>ExplosionDecal=Class'PartyStuff.GraffitiMarkPink'<br>LifeSpan=0.500000<br>Texture=Texture'PGAssets.Skins.gpink'<br>DrawScale=0.250000<br>bUnlit=True</div>
<br><br><hr>
<a class="headerlink" href="#GraffitiSprayRed.uc" title="Permanent link"><h2 id="GraffitiSprayRed.uc">GraffitiSprayRed.uc (extends DeusExProjectile)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">blastRadius=1.000000<br>DamageType=Poison<br>AccurateRange=200<br>maxRange=200<br>bIgnoresNanoDefense=True<br>ItemName="Graffiti Spray"<br>ItemArticle="some"<br>speed=800.000000<br>MaxSpeed=800.000000<br>Damage=2.000000<br>MomentumTransfer=400<br>ExplosionDecal=Class'PartyStuff.GraffitiMarkRed'<br>LifeSpan=0.500000<br>Texture=Texture'PGAssets.Skins.gred'<br>DrawScale=0.250000<br>bUnlit=True</div>
<br><br><hr>
<a class="headerlink" href="#GraffitiSprayYellow.uc" title="Permanent link"><h2 id="GraffitiSprayYellow.uc">GraffitiSprayYellow.uc (extends DeusExProjectile)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">blastRadius=1.000000<br>DamageType=Poison<br>AccurateRange=200<br>maxRange=200<br>bIgnoresNanoDefense=True<br>ItemName="Graffiti Spray"<br>ItemArticle="some"<br>speed=800.000000<br>MaxSpeed=800.000000<br>Damage=2.000000<br>MomentumTransfer=400<br>ExplosionDecal=Class'PartyStuff.GraffitiMarkYellow'<br>LifeSpan=0.500000<br>Texture=Texture'PGAssets.Skins.gyellow'<br>DrawScale=0.250000<br>bUnlit=True</div>
<br><br><hr>
<a class="headerlink" href="#GrayShoot.uc" title="Permanent link"><h2 id="GrayShoot.uc">GrayShoot.uc (extends GraySpit)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">ItemName="Bio Shot"<br>ItemArticle="a"<br>Damage=20.000000</div>
<br><br><hr>
<a class="headerlink" href="#GreaselShoot.uc" title="Permanent link"><h2 id="GreaselShoot.uc">GreaselShoot.uc (extends GreaselSpit)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">ItemName="Bio Spit"<br>ItemArticle="a"<br>Damage=20.000000</div>
<br><br><hr>
<a class="headerlink" href="#HiddenFrob.uc" title="Permanent link"><h2 id="HiddenFrob.uc">HiddenFrob.uc (extends DeusExDecoration)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var() bool bMessage, bTrigger, bTimedrepeat;<br>var() int TimedRepeat;<br>var() string mMessage;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bInvincible=True<br>ItemName="???"<br>bPushable=False<br>bMovable=False<br>Physics=PHYS_None<br>Style=STY_Translucent<br>Sprite=Texture'DeusExUI.UserInterface.LogIcon'<br>Texture=Texture'DeusExUI.UserInterface.LogIcon'<br>Skin=Texture'DeusExUI.UserInterface.LogIcon'<br>CollisionRadius=25.200001<br>CollisionHeight=25.000000<br>bBlockPlayers=False</div>
<h3 id="HiddenFrob.Frob"><a class="headerlink" href="#HiddenFrob.Frob" title="Permanent link">Frob</a> (Actor Frobber, Inventory frobWith)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer P;<br><br>&#9;P = DeusExPlayer(Frobber);<br>&#9;if(bMessage)<br>&#9;{<br>&#9;&#9;P.ClientMessage(mMessage);<br>&#9;}<br>&#9;if(bTrigger)<br>&#9;{<br>&#9;Super.Frob(frobber, frobwith);<br>&#9;&#9;if(bTimedrepeat)<br>&#9;&#9;&#9;SetTimer(TimedRepeat,False);<br>&#9;}<br><br></div>
<h3 id="HiddenFrob.Timer"><a class="headerlink" href="#HiddenFrob.Timer" title="Permanent link">Timer</a></h3>

<br><br><hr>
<a class="headerlink" href="#HideFailActor.uc" title="Permanent link"><h2 id="HideFailActor.uc">HideFailActor.uc (extends Actor)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var DeusExPlayer BadPlayer;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bHidden=True<br>LifeSpan=5.000000</div>
<br><br><hr>
<a class="headerlink" href="#HideyBoxItem.uc" title="Permanent link"><h2 id="HideyBoxItem.uc">HideyBoxItem.uc (extends ChargedPickup)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">ActivateSound=Sound'DeusExSounds.Augmentation.CloakUp'<br>DeActivateSound=None<br>ChargeRemainingLabel="Box readiness:"<br>ItemName="Portable Hideybox"<br>PlayerViewOffset=(X=20.000000,Z=-12.000000)<br>PlayerViewMesh=LodMesh'DeusExDeco.BoxLarge'<br>PlayerViewScale=0.200000<br>PickupViewMesh=LodMesh'DeusExDeco.BoxLarge'<br>ThirdPersonMesh=LodMesh'DeusExDeco.BoxLarge'<br>ThirdPersonScale=0.250000<br>Charge=8<br>LandSound=Sound'DeusExSounds.Generic.DropLargeWeapon'<br>Icon=Texture'DeusExUI.Icons.BeltIconArmorAdaptive'<br>largeIcon=Texture'DeusExUI.Icons.LargeIconArmorAdaptive'<br>largeIconWidth=35<br>largeIconHeight=49<br>Description="s"<br>beltDescription="BOX"<br>Mesh=LodMesh'DeusExDeco.BoxLarge'<br>CollisionRadius=45.000000<br>CollisionHeight=32.000000<br>Mass=10.000000<br>Buoyancy=100.000000</div>
<h3 id="HideyBoxItem.ChargedPickupBegin"><a class="headerlink" href="#HideyBoxItem.ChargedPickupBegin" title="Permanent link">ChargedPickupBegin</a> (DeusExPlayer Player)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Vector loc,X,Y,Z;<br><br>  // local HideyBox CD;<br>   <br>   Spawn(Class'HideyBox',,,Player.Location + (Player.CollisionRadius+Default.CollisionRadius+30) * Vector(Player.ViewRotation) + vect(0,0,1) * 30 );<br><br>&#9;Super.ChargedPickupBegin(Player);<br>&#9;<br><br></div>
<h3 id="HideyBoxItem.TestMPBeltSpot"><a class="headerlink" href="#HideyBoxItem.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<h3 id="HideyBoxItem.UsedUp"><a class="headerlink" href="#HideyBoxItem.UsedUp" title="Permanent link">UsedUp</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer Player;<br><br><br>&#9;if ( Pawn(Owner) != None )<br>&#9;{<br>&#9;&#9;bActivatable = false;<br>&#9;&#9;<br>&#9;}<br>&#9;Player = DeusExPlayer(Owner);<br><br>&#9;if (Player != None)<br>&#9;{<br>&#9;&#9;if (Player.inHand == Self)<br>&#9;&#9;&#9;ChargedPickupEnd(Player);<br>&#9;}<br><br>&#9;Destroy();<br><br></div>
<br><br><hr>
<a class="headerlink" href="#Hideybox.uc" title="Permanent link"><h2 id="Hideybox.uc">Hideybox.uc (extends BoxLarge)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var vector OldLocation;<br>var bool bInBox;<br>var PlayerPawn StoredPlayer;<br>var bool bFixWeapons;<br>var bool bActive;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bFixWeapons=True<br>bActive=True<br>bInvincible=True<br>bPushable=False</div>
<h3 id="Hideybox.EjectPlayer"><a class="headerlink" href="#Hideybox.EjectPlayer" title="Permanent link">EjectPlayer</a> (DeusExPlayer Frobber)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local rotator Z2F;<br><br>Z2F=Frobber.Rotation;<br>&#9;&#9;&#9;Frobber.SetLocation(Location + (Frobber.CollisionRadius + CollisionRadius + 30) * vector(Rotation) + vect(0.00,0.00,1.00));<br>&#9;&#9;&#9;Frobber.bHidden=False;<br>&#9;&#9;&#9;Frobber.SetCollision(true, true , true);<br>&#9;&#9;&#9;Frobber.bCollideWorld = true;<br>&#9;&#9;&#9;Frobber.SetPhysics(Phys_Falling);<br>&#9;&#9;&#9;Frobber.bBehindView=False;<br>&#9;&#9;&#9;Frobber.ViewTarget = None;<br>&#9;&#9;&#9;Frobber.ClientReStart();<br>&#9;&#9;&#9;bInBox = False;<br>&#9;&#9;&#9;StoredPlayer.ClientMessage("Left box successfully.");<br>&#9;&#9;&#9;StoredPlayer = None;<br><br></div>
<h3 id="Hideybox.Frob"><a class="headerlink" href="#Hideybox.Frob" title="Permanent link">Frob</a> (Actor Frobber, Inventory frobWith)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local HideyBoxItem h;<br>&#9;<br><br>&#9;if(!bInBox)<br>&#9;{<br>&#9;&#9;if(DeusExPlayer(Frobber).bIsCrouching)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(bActive)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;bActive=False;<br>&#9;&#9;&#9;&#9;&#9;Destroy();<br>&#9;&#9;&#9;&#9;&#9;SilentAdd(class'HideyboxItem', DeusExPlayer(frobber));<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;{<br>&#9;&#9;&#9;OldLocation = Frobber.Location;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;Frobber.SetLocation(Self.Location);<br>&#9;&#9;&#9;Frobber.bHidden=True;<br>&#9;&#9;&#9;Frobber.SetCollision(false, false, false);<br>&#9;&#9;&#9;Frobber.bCollideWorld = true;<br>&#9;&#9;&#9;DeusExPlayer(Frobber).SetPhysics(Phys_None);<br>&#9;&#9;&#9;DeusExPlayer(Frobber).bBehindView=True;<br>&#9;&#9;&#9;PlayerPawn(Frobber).ViewTarget = Self;<br>&#9;&#9;&#9;StoredPlayer = PlayerPawn(Frobber);<br>&#9;&#9;&#9;StoredPlayer.ClientMessage("Crouch to exit the box.");<br>&#9;&#9;&#9;StoredPlayer.ClientMessage("If Crouch doesn't work, enter the command |P2Mutate Box");<br>&#9;&#9;&#9;bInBox=True;<br>&#9;&#9;}<br><br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;if(PlayerPawn(Frobber) == StoredPlayer)<br>&#9;&#9;{<br>&#9;&#9;&#9;EjectPlayer(DeusExPlayer(Frobber));<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;{<br>&#9;&#9;&#9;DeusExPlayer(Frobber).ClientMessage("Box is full...");<br>&#9;&#9;}<br><br>&#9;}<br><br><br></div>
<h3 id="Hideybox.SilentAdd"><a class="headerlink" href="#Hideybox.SilentAdd" title="Permanent link">SilentAdd</a> (class<inventory> addClass, DeusExPlayer addTarget)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Inventory anItem;<br> <br>&#9;<br>&#9;anItem = Spawn(addClass); <br>&#9;anItem.Instigator = addTarget; <br>&#9;anItem.GotoState('Idle2'); <br>&#9;anItem.bHeldItem = true; <br>&#9;anItem.bTossedOut = false; <br>&#9;<br>&#9;if(Weapon(anItem) != None) <br>&#9;&#9;Weapon(anItem).GiveAmmo(addTarget); <br>&#9;anItem.GiveTo(addTarget);<br><br></div>
<h3 id="Hideybox.Tick"><a class="headerlink" href="#Hideybox.Tick" title="Permanent link">Tick</a> (float deltatime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(StoredPlayer != None)<br>&#9;{<br>&#9;&#9;StoredPlayer.SetPhysics(PHYS_None);<br>&#9;&#9;StoredPlayer.SetLocation(Location);<br>&#9;&#9;<br>&#9;&#9;if(StoredPlayer.Health <= 0)<br>&#9;&#9;{<br>&#9;&#9;EjectPlayer(DeusExPlayer(StoredPlayer));<br>&#9;&#9;}<br>&#9;&#9;if(bFixWeapons)<br>&#9;&#9;{<br>&#9;&#9;&#9;DeusExPlayer(StoredPlayer).inHand = none;&#9;<br>&#9;&#9;}<br><br>&#9;&#9;if(StoredPlayer.bIsCrouching)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;EjectPlayer(DeusExPlayer(StoredPlayer));<br>&#9;&#9;&#9;}<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#Hostager.uc" title="Permanent link"><h2 id="Hostager.uc">Hostager.uc (extends PGActors)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var Pawn Player;<br>var Actor Intigator;<br>var int Timed;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">Timed=300</div>
<h3 id="Hostager.SetLoc"><a class="headerlink" href="#Hostager.SetLoc" title="Permanent link">SetLoc</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>  if(Instigator != None && Player != None)<br>  {<br>    DeusExPlayer(Player).SetCollision(False, True, False);<br>    DeusExPlayer(Player).SetLocation(Instigator.Location + (Instigator.CollisionRadius + Player.Default.CollisionRadius +30) * Vector(instigator.Rotation) + vect(0,0,1) * 15);<br>    DeusExPlayer(Player).SetCollision(True, True, True);<br>  }<br><br></div>
<h3 id="Hostager.Tick"><a class="headerlink" href="#Hostager.Tick" title="Permanent link">Tick</a> (float deltatime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>    SetLoc();<br><br>    Timed--;<br><br>    if(Timed < 1)<br>    {<br>        Destroy();<br>    }<br><br>    if(Player.Health <= 0 || Player == None || Instigator.Health <= 0 || Instigator == None || DeusExPlayer(Player).PlayerReplicationInfo.bAdmin)<br>    {<br>        Destroy();<br>    }<br><br></div>
<br><br><hr>
<a class="headerlink" href="#HotBomb.uc" title="Permanent link"><h2 id="HotBomb.uc">HotBomb.uc (extends CrateExplosiveSmall)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var bool bArmed;<br>var() int AffectRadius;<br>var int Randy, curCount, minCount, maxCount;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">AffectRadius=700<br>minCount=5<br>MaxCount=20<br>bInvincible=True<br>ItemName="Hot BOMB"<br>bPushable=False<br>Mesh=LodMesh'PGAssets.hellfire'<br>MultiSkins(0)=Texture'Area51Textures.Metal.pa_nukewste_a'<br>MultiSkins(1)=Texture'Area51Textures.Metal.area51shere_a'<br>MultiSkins(2)=Texture'Area51Textures.Metal.A51_Wall_11'<br>CollisionRadius=14.000000<br>CollisionHeight=34.000000</div>
<h3 id="HotBomb.BeepLocal"><a class="headerlink" href="#HotBomb.BeepLocal" title="Permanent link">BeepLocal</a> (string Str)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer P;<br><br><br>&#9;foreach RadiusActors(class'DeusExPlayer', P, AffectRadius)<br>&#9;{<br>&#9;&#9;&#9;P.ClientMessage(str,'TeamSay');<br>&#9;}<br><br></div>
<h3 id="HotBomb.Bump"><a class="headerlink" href="#HotBomb.Bump" title="Permanent link">Bump</a> (actor Other)</h3>

<h3 id="HotBomb.ExplodeTime"><a class="headerlink" href="#HotBomb.ExplodeTime" title="Permanent link">ExplodeTime</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local SphereEffect sphere;<br>&#9;local ScorchMark s;<br>&#9;local ExplosionLight light;<br>&#9;local int i;<br>&#9;local float explosionDamage;<br>&#9;local float explosionRadius;<br><br><br>&#9;explosionDamage = 300;<br>&#9;explosionRadius = 150;<br><br>&#9;// alert NPCs that I'm exploding<br>&#9;AISendEvent('LoudNoise', EAITYPE_Audio, , explosionRadius*16);<br>&#9;PlaySound(Sound'LargeExplosion1', SLOT_None,,, explosionRadius*16);<br><br>&#9;// draw a pretty explosion<br>&#9;light = Spawn(class'ExplosionLight',,, Location);<br>&#9;if (light != None)<br>&#9;&#9;light.size = 4;<br><br>&#9;Spawn(class'ExplosionSmall',,, Location + 2*VRand()*CollisionRadius);<br>&#9;Spawn(class'ExplosionMedium',,, Location + 2*VRand()*CollisionRadius);<br>&#9;Spawn(class'ExplosionMedium',,, Location + 2*VRand()*CollisionRadius);<br>&#9;Spawn(class'ExplosionLarge',,, Location + 2*VRand()*CollisionRadius);<br><br>&#9;sphere = Spawn(class'SphereEffect',,, Location);<br>&#9;if (sphere != None)<br>&#9;&#9;sphere.size = explosionRadius / 32.0;<br><br>&#9;// spawn a mark<br>&#9;s = spawn(class'ScorchMark', Base,, Location-vect(0,0,1)*CollisionHeight, Rotation+rot(16384,0,0));<br>&#9;if (s != None)<br>&#9;{<br>&#9;&#9;s.DrawScale = FClamp(explosionDamage/30, 0.1, 3.0);<br>&#9;&#9;s.ReattachDecal();<br>&#9;}<br><br>&#9;HurtRadius(explosionDamage, explosionRadius, 'Exploded', explosionDamage*100, Location);<br>&#9;Destroy();<br><br></div>
<h3 id="HotBomb.Frob"><a class="headerlink" href="#HotBomb.Frob" title="Permanent link">Frob</a> (Actor Frobber, Inventory frobWith)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer Player;<br><br>&#9;<br>&#9;if(!bArmed)<br>&#9;{<br>&#9;&#9;Randy = randrange(minCount,maxCount);<br>&#9;&#9;SetTimer(float(Randy),False);<br>&#9;&#9;bArmed = True;<br>&#9;&#9;bPushable = True;<br>&#9;&#9;BeepLocal("|Cfff005Timer started!");<br>&#9;&#9;&#9;&#9; LightBrightness=255;<br>     Lighttype=LT_Steady;<br>     LightRadius=15;<br>     Ambientglow=255;<br>     LightSaturation=0;<br>&#9;&#9;ambientSound = sound'ambient.lamambient';<br>&#9;&#9;super.Frob(Frobber, frobWith);&#9;<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;super.Frob(Frobber, frobWith);&#9;<br>&#9;}<br><br></div>
<h3 id="HotBomb.PostBeginPlay"><a class="headerlink" href="#HotBomb.PostBeginPlay" title="Permanent link">PostBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;BeepLocal("|Cfff005Hot BOMB in play!! Pick up to activate");<br><br></div>
<h3 id="HotBomb.Timer"><a class="headerlink" href="#HotBomb.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;BeepLocal("|Cfff005HOT BOMB HAS BLOWN.");<br>&#9;ExplodeTime();<br><br></div>
<h3 id="HotBomb.Trigger"><a class="headerlink" href="#HotBomb.Trigger" title="Permanent link">Trigger</a> (actor Other, pawn EventInstigator)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(!bArmed)<br>&#9;{<br>&#9;&#9;Randy = randrange(minCount,maxCount);<br>&#9;&#9;SetTimer(float(Randy),False);<br>&#9;&#9;bArmed = True;<br>&#9;&#9;bPushable = True;<br>&#9;&#9;ambientSound = sound'ambient.lamambient';<br>&#9;&#9; LightBrightness=255;<br>     Lighttype=LT_Steady;<br>     LightRadius=15;<br>     Ambientglow=255;<br>     LightSaturation=0;<br>&#9;&#9;BeepLocal("|Cfff005Timer started!");&#9;&#9;<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#Insult.uc" title="Permanent link"><h2 id="Insult.uc">Insult.uc (extends DeusExDecoration)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var config string actions[20], objects[20];<br>var config float frobDelay;<br>var deusexplayer victarray[16];<br>var bool bDisableFrob;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">actions(0)="slapped"<br>actions(1)="smothered"<br>actions(2)="fucked"<br>actions(3)="tickled"<br>actions(4)="smashed"<br>actions(5)="bit"<br>actions(6)="twatted"<br>actions(7)="rekt"<br>actions(8)="engulfed"<br>actions(9)="morphed"<br>actions(10)="terminated"<br>actions(11)="infused"<br>actions(12)="expanded"<br>actions(13)="punched"<br>actions(14)="shot"<br>actions(15)="spit on"<br>actions(16)="spilled"<br>actions(17)="slashed"<br>actions(18)="wasted"<br>actions(19)="prodded"<br>objects(0)="a motherfucking truck"<br>objects(1)="a big fucking fish"<br>objects(2)="a dong"<br>objects(3)="a fucking huge dong"<br>objects(4)="a darko machine"<br>objects(5)="a turd"<br>objects(6)="some kind of giant bitch"<br>objects(7)="a booby trap"<br>objects(8)="a mouldy vagina"<br>objects(9)="a fat woman"<br>objects(10)="a pussy cat"<br>objects(11)="a pigeon"<br>objects(12)="toilet paper"<br>objects(13)="a knuckle duster"<br>objects(14)="a bowl of noodles"<br>objects(15)="a bowl of pasta"<br>objects(16)="an oriental daily news!"<br>objects(17)="a maggie chow"<br>objects(18)="a chicken leg"<br>objects(19)="an octopus dick"<br>frobDelay=3.000000<br>bInvincible=True<br>ItemName="The Glowing Orb of Insultery"<br>bPushable=False<br>Physics=PHYS_None<br>DrawType=DT_Sprite<br>Style=STY_Translucent<br>Texture=Texture'DeusExDeco.Skins.AlarmLightTex6'<br>Skin=Texture'DeusExDeco.Skins.AlarmLightTex6'<br>DrawScale=1.500000<br>CollisionRadius=45.200001<br>CollisionHeight=32.000000<br>bBlockPlayers=False</div>
<h3 id="Insult.Frob"><a class="headerlink" href="#Insult.Frob" title="Permanent link">Frob</a> (Actor Frobber, Inventory frobWith)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer P, vict, finalvict;<br>&#9;local int iact, iobj, maxact, maxobj, k, j, l, v;<br>&#9;local string act, obj, complete;<br>&#9;local bool bSelf;<br><br>&#9;<br>&#9;P=DeusExPlayer(Frobber);<br>&#9;<br>&#9;if(!bDisableFrob)<br>&#9;{<br>&#9;&#9;Super.Frob(frobber, frobwith);<br>&#9;&#9;<br>&#9;&#9;if(objects[19] == "")<br>&#9;&#9;{<br>&#9;&#9;&#9;for(j=0;j<20;j++)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(objects[j] == "" && j <= 19)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;maxobj = j;<br>&#9;&#9;&#9;&#9;&#9;break;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;{<br>&#9;&#9;&#9;maxobj = 20;<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(actions[19] == "")<br>&#9;&#9;{<br>&#9;&#9;&#9;for(k=0;k<20;k++)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(actions[k] == "" && k <= 19)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;maxact = k;<br>&#9;&#9;&#9;&#9;&#9;break;<br>&#9;&#9;&#9;&#9;}&#9;&#9;&#9;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;{<br>&#9;&#9;&#9;maxact = 20;<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;//iact = Rand(maxact);<br>&#9;&#9;//iobj = Rand(maxobj);<br>&#9;&#9;foreach allactors(Class'deusexplayer', vict)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(victarray[l] == none)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;Victarray[l] = vict;<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;l++;<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;for(l=0;l<16;l++)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(victarray[l] == None)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;v = l;<br>&#9;&#9;&#9;&#9;break;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;finalvict = victarray[Rand(v)];<br>&#9;&#9;act = actions[Rand(maxact)];<br>&#9;&#9;obj = objects[Rand(maxobj)];<br>&#9;&#9;<br>&#9;&#9;if(finalvict == P)<br>&#9;&#9;{<br>&#9;&#9;&#9;bSelf=True;<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(FRand() < 0.5)<br>&#9;&#9;{<br>&#9;&#9;&#9;BroadcastMessage(finalvict.playerreplicationinfo.playername$" is "$obj);<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;{<br>&#9;&#9;&#9;if(!bSelf)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;BroadcastMessage(p.playerreplicationinfo.playername@act@finalvict.playerreplicationinfo.playername@"with"@obj);<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;BroadcastMessage(p.playerreplicationinfo.playername@act@"themself with"@obj);<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;for(l=0;l<16;l++)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(victarray[l] != None)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;victarray[l] = None;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;bDisableFrob=True;<br>&#9;&#9;SetTimer(frobDelay,False);<br>&#9;}<br><br></div>
<h3 id="Insult.PreBeginPlay"><a class="headerlink" href="#Insult.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Insult ins;<br>&#9;local int i;<br><br>&#9;foreach AllActors(class'Insult', ins)<br>&#9;&#9;i++;<br>&#9;<br>&#9;if(i > 3)<br>&#9;{<br>&#9;&#9;&#9;Log("Insulter destroyed due to limits. Max 3 due to spamming.");<br>&#9;&#9;Destroy();<br>&#9;}<br>&#9;&#9;<br><br></div>
<h3 id="Insult.Timer"><a class="headerlink" href="#Insult.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;bDisableFrob=False;<br><br></div>
<br><br><hr>
<a class="headerlink" href="#JPNWeaponBastardSword.uc" title="Permanent link"><h2 id="JPNWeaponBastardSword.uc">JPNWeaponBastardSword.uc (extends DeusExWeapon)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">Var EModeNum Mode;<br>var DeusExPlayer DXPl;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">LowAmmoWaterMark=0<br>GoverningSkill=Class'DeusEx.SkillWeaponLowTech'<br>NoiseLevel=0.050000<br>EnemyEffective=ENMEFF_Organic<br>reloadTime=0.000000<br>maxRange=64<br>AccurateRange=64<br>BaseAccuracy=1.000000<br>bHasMuzzleFlash=False<br>bHandToHand=True<br>bFallbackWeapon=True<br>mpHitDamage=20<br>mpBaseAccuracy=1.000000<br>mpAccurateRange=100<br>mpMaxRange=100<br>AmmoName=Class'DeusEx.AmmoNone'<br>ReloadCount=0<br>bInstantHit=True<br>FireOffset=(X=-25.000000,Y=10.000000,Z=24.000000)<br>shakemag=20.000000<br>FireSound=Sound'DeusExSounds.Weapons.SwordFire'<br>SelectSound=Sound'DeusExSounds.Weapons.SwordSelect'<br>Misc1Sound=Sound'DeusExSounds.Weapons.SwordHitFlesh'<br>Misc2Sound=Sound'DeusExSounds.Weapons.SwordHitHard'<br>Misc3Sound=Sound'DeusExSounds.Weapons.SwordHitSoft'<br>InventoryGroup=13<br>ItemName="Bastard Sword"<br>PlayerViewOffset=(X=25.000000,Y=-10.000000,Z=-24.000000)<br>PlayerViewMesh=LodMesh'DeusExItems.Sword'<br>PickupViewMesh=LodMesh'DeusExItems.SwordPickup'<br>ThirdPersonMesh=LodMesh'DeusExItems.Sword3rd'<br>LandSound=Sound'DeusExSounds.Generic.DropLargeWeapon'<br>Icon=Texture'DeusExUI.Icons.BeltIconSword'<br>largeIcon=Texture'DeusExUI.Icons.LargeIconSword'<br>largeIconWidth=130<br>largeIconHeight=40<br>invSlotsX=3<br>Description="A rather nasty-looking sword."<br>beltDescription="BSWORD"<br>Texture=Texture'DeusExItems.Skins.ReflectionMapTex1'<br>Mesh=LodMesh'DeusExItems.SwordPickup'<br>CollisionRadius=26.000000<br>CollisionHeight=0.500000<br>Mass=20.000000</div>
<h3 id="JPNWeaponBastardSword.Fire"><a class="headerlink" href="#JPNWeaponBastardSword.Fire" title="Permanent link">Fire</a> (Float value)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local ThrownSword S;<br><br>&#9;DXPL=DeusExPlayer(Owner);<br>&#9;If(Mode==Mode_Defensive)<br>&#9;{<br>&#9;&#9;return;<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;Super.Fire(Value);<br>&#9;}<br><br></div>
<h3 id="JPNWeaponBastardSword.PreBeginPlay"><a class="headerlink" href="#JPNWeaponBastardSword.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;// If this is a netgame, then override defaults<br>&#9;if ( Level.NetMode != NM_StandAlone )<br>&#9;{<br>&#9;&#9;HitDamage = mpHitDamage;<br>&#9;&#9;BaseAccuracy = mpBaseAccuracy;<br>&#9;&#9;ReloadTime = mpReloadTime;<br>&#9;&#9;AccurateRange = mpAccurateRange;<br>&#9;&#9;MaxRange = mpMaxRange;<br>&#9;}<br><br></div>
<h3 id="JPNWeaponBastardSword.cycleammo"><a class="headerlink" href="#JPNWeaponBastardSword.cycleammo" title="Permanent link">cycleammo</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;switch Mode<br>&#9;&#9;{<br>&#9;&#9;case MODE_Normal:<br>&#9;&#9;&#9;Mode = Mode_Defensive;<br>&#9;&#9;&#9;if (Role == ROLE_Authority)<br>&#9;&#9;&#9;Pawn(Owner).Clientmessage("Defending...");<br>&#9;&#9;&#9;break;<br><br>&#9;&#9;case Mode_Defensive:<br>&#9;&#9;&#9;Mode = MODE_Normal;<br>&#9;&#9;&#9;if (Role == ROLE_Authority)<br>&#9;&#9;&#9;Pawn(Owner).Clientmessage("Normal mode...");<br>&#9;&#9;&#9;break;<br>&#9;&#9;&#9;<br>&#9;&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#JPNWeaponBeamRifle.uc" title="Permanent link"><h2 id="JPNWeaponBeamRifle.uc">JPNWeaponBeamRifle.uc (extends DeusExWeapon)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">LowAmmoWaterMark=12<br>GoverningSkill=Class'DeusEx.SkillWeaponHeavy'<br>reloadTime=2.000000<br>HitDamage=35<br>maxRange=24000<br>AccurateRange=14400<br>BaseAccuracy=0.600000<br>bCanHaveScope=True<br>bHasScope=True<br>ScopeFOV=20<br>bCanHaveLaser=True<br>bHasLaser=True<br>AreaOfEffect=AOE_Cone<br>bPenetrating=False<br>recoilStrength=0.300000<br>mpReloadTime=0.200000<br>mpHitDamage=50<br>mpBaseAccuracy=1.500000<br>mpAccurateRange=9000<br>mpMaxRange=10000<br>bCanHaveModBaseAccuracy=True<br>bCanHaveModReloadCount=True<br>bCanHaveModAccurateRange=True<br>bCanHaveModReloadTime=True<br>bCanHaveModRecoilStrength=True<br>ReloadCount=0<br>bInstantHit=True<br>shakemag=50.000000<br>FireSound=Sound'PGAssets.Generic.kiss'<br>AltFireSound=Sound'DeusExSounds.Weapons.PlasmaRifleReloadEnd'<br>CockingSound=Sound'DeusExSounds.Weapons.PlasmaRifleReload'<br>SelectSound=Sound'DeusExSounds.Weapons.PlasmaRifleSelect'<br>InventoryGroup=8<br>ItemName="Beam Rifle"<br>PlayerViewOffset=(X=18.000000,Z=-7.000000)<br>PlayerViewMesh=LodMesh'DeusExItems.PlasmaRifle'<br>PickupViewMesh=LodMesh'DeusExItems.PlasmaRiflePickup'<br>ThirdPersonMesh=LodMesh'DeusExItems.PlasmaRifle3rd'<br>LandSound=Sound'DeusExSounds.Generic.DropLargeWeapon'<br>Icon=Texture'DeusExUI.Icons.BeltIconPlasmaRifle'<br>largeIcon=Texture'DeusExUI.Icons.LargeIconPlasmaRifle'<br>largeIconWidth=203<br>largeIconHeight=66<br>invSlotsX=4<br>invSlotsY=2<br>Description="A weapon made with TOP-SECRET technology from labs."<br>beltDescription="BEAM"<br>Mesh=LodMesh'DeusExItems.PlasmaRiflePickup'<br>CollisionRadius=15.600000<br>CollisionHeight=5.200000<br>Mass=1.000000</div>
<h3 id="JPNWeaponBeamRifle.DrawBeam"><a class="headerlink" href="#JPNWeaponBeamRifle.DrawBeam" title="Permanent link">DrawBeam</a> (vector HitLocation, vector SmokeLocation, PlayerPawn P)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local BeamActorPink Smoke;<br>&#9;local Vector DVector;<br>&#9;local int NumPoints;<br>&#9;local rotator SmokeRotation;<br>&#9;local DeusExPlayer PlayerOwner;<br><br>   <br>   <br>&#9;PlayerOwner=DeusExPlayer(P);&#9;<br>  DVector = HitLocation - SmokeLocation;<br>  NumPoints = VSize(DVector)/64.0; // Draw a point every 4 feet.<br>   if ( NumPoints < 1)<br>       return;<br> SmokeRotation = rotator(DVector);<br> SmokeRotation.roll = Rand(6553595);<br><br> Smoke = Spawn(class'BeamActorPink',PlayerOwner,,SmokeLocation,SmokeRotation);<br> Smoke.MoveAmount = DVector/NumPoints;<br> Smoke.NumPuffs = NumPoints - 1;<br> Smoke.SetOwner(PlayerOwner);<br><br></div>
<h3 id="JPNWeaponBeamRifle.PreBeginPlay"><a class="headerlink" href="#JPNWeaponBeamRifle.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;// If this is a netgame, then override defaults<br>&#9;if ( Level.NetMode != NM_StandAlone )<br>&#9;{<br>&#9;&#9;HitDamage = mpHitDamage;<br>&#9;&#9;BaseAccuracy = mpBaseAccuracy;<br>&#9;&#9;ReloadTime = mpReloadTime;<br>&#9;&#9;AccurateRange = mpAccurateRange;<br>&#9;&#9;MaxRange = mpMaxRange;<br>&#9;&#9;ReloadCount = mpReloadCount;<br>&#9;}<br><br></div>
<h3 id="JPNWeaponBeamRifle.ProcessTraceHit"><a class="headerlink" href="#JPNWeaponBeamRifle.ProcessTraceHit" title="Permanent link">ProcessTraceHit</a> (Actor Other, Vector HitLocation, Vector HitNormal, Vector X, Vector Y, Vector Z)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExWeapon W;<br>&#9;local JailPoint JP;<br>&#9;local bool bFoundJail;<br>&#9;local int Jails;<br>&#9;local int Decider;<br><br>&#9;super.ProcessTraceHit(Other,HitLocation,HitNormal,X,Y,Z);<br>    DrawBeam(HitLocation, Owner.Location, PlayerPawn(Owner));<br><br></div>
<h3 id="JPNWeaponBeamRifle.TestMPBeltSpot"><a class="headerlink" href="#JPNWeaponBeamRifle.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<br><br><hr>
<a class="headerlink" href="#JailPoint.uc" title="Permanent link"><h2 id="JailPoint.uc">JailPoint.uc (extends Actor)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var() int JailSlot;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bHidden=True</div>
<br><br><hr>
<a class="headerlink" href="#JobScanner.uc" title="Permanent link"><h2 id="JobScanner.uc">JobScanner.uc (extends DeusExDecoration)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var DeusExPlayer assist1, assist2, assist3;<br>var(Job) string JobAlias, JobString;<br>var(Job) int Payoutcreds;<br>var(Job) int payoutdelay;<br>var(Job) string JobSkin;<br>var(Job) string JobInventory1;<br>var(Job) string JobInventory2;<br>var(Job) string JobInventory3;<br>var(Job) string JobInventory4;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">JobAlias="DEFAULT JOB NAME"<br>Payoutcreds=15<br>payoutdelay=60<br>bInvincible=True<br>ItemName="Job Scanner"<br>bPushable=False<br>Physics=PHYS_None<br>Texture=Texture'DeusExItems.Skins.DataCubeTex2'<br>Mesh=LodMesh'DeusExItems.DataCube'<br>CollisionRadius=7.000000<br>CollisionHeight=1.270000<br>Buoyancy=12.000000</div>
<h3 id="JobScanner.BeginPlay"><a class="headerlink" href="#JobScanner.BeginPlay" title="Permanent link">BeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;SetTimer(payoutdelay,True);<br><br></div>
<h3 id="JobScanner.Frob"><a class="headerlink" href="#JobScanner.Frob" title="Permanent link">Frob</a> (Actor Frobber, Inventory frobWith)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer p;<br>&#9;local JobScanner js;<br>&#9;local class<ScriptedPawn> SCR;<br>&#9;local class<inventory> invy, invy2, invy3, invy4;<br>&#9;local inventory inv;<br><br><br>p = DeusExPlayer(Frobber);<br><br>&#9;foreach AllActors(class'JobScanner',js)<br>&#9;{<br>&#9;&#9;if(js != Self)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(js.Assist1 == P || js.Assist2 == P || js.Assist3 == P)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;P.ClientMessage("You already have a job elsewhere.");<br>&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;if(P == Assist1)<br>&#9;{<br>&#9;&#9;Assist1 = None;<br>&#9;&#9;P.ClientMessage(JobAlias$" job resigned.");<br>&#9;&#9;return;<br>&#9;}<br><br>&#9;if(P == Assist2)<br>&#9;{<br>&#9;&#9;Assist2 = None;<br>&#9;&#9;P.ClientMessage(JobAlias$" job resigned.");<br>&#9;&#9;return;<br>&#9;}<br><br>&#9;if(P == Assist3)<br>&#9;{<br>&#9;&#9;Assist3 = None;<br>&#9;&#9;P.ClientMessage(JobAlias$" job resigned.");<br>&#9;&#9;return;<br>&#9;}<br>&#9;<br>&#9;if(Assist1 == None)<br>&#9;{<br>&#9;&#9;if(JobSkin != "")<br>&#9;&#9;&#9;P.ConsoleCommand("say /skin"@JobSkin);<br>&#9;&#9;<br>&#9;&#9;if(JobInventory1 != "")<br>&#9;&#9;&#9;invy = class<inventory>( DynamicLoadObject( JobInventory1, class'Class' ) );<br>&#9;&#9;if(JobInventory2 != "")<br>&#9;&#9;&#9;invy2 = class<inventory>( DynamicLoadObject( JobInventory2, class'Class' ) );<br>&#9;&#9;if(JobInventory3 != "")<br>&#9;&#9;&#9;invy3 = class<inventory>( DynamicLoadObject( JobInventory3, class'Class' ) );<br>&#9;&#9;if(JobInventory4 != "")<br>&#9;&#9;&#9;invy4 = class<inventory>( DynamicLoadObject( JobInventory4, class'Class' ) );<br>&#9;&#9;if( invy !=None )<br>&#9;&#9;{<br>&#9;&#9;&#9;inv=Spawn(invy);<br>&#9;&#9;&#9;Inv.Frob(DeusExPlayer(Frobber),None);&#9;  <br>&#9;&#9;&#9;inv.Destroy();<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if( invy2 !=None )<br>&#9;&#9;{<br>&#9;&#9;&#9;inv=Spawn(invy2);<br>&#9;&#9;&#9;Inv.Frob(DeusExPlayer(Frobber),None);&#9;  <br>&#9;&#9;&#9;inv.Destroy();<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if( invy3 !=None )<br>&#9;&#9;{<br>&#9;&#9;&#9;inv=Spawn(invy3);<br>&#9;&#9;&#9;Inv.Frob(DeusExPlayer(Frobber),None);&#9;  <br>&#9;&#9;&#9;inv.Destroy();<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if( invy4 !=None )<br>&#9;&#9;{<br>&#9;&#9;&#9;inv=Spawn(invy4);<br>&#9;&#9;&#9;Inv.Frob(DeusExPlayer(Frobber),None);&#9;  <br>&#9;&#9;&#9;inv.Destroy();<br>&#9;&#9;}<br>&#9;&#9;Assist1 = P;<br>&#9;&#9;P.ClientMessage(JobAlias$" job joined.");<br>&#9;&#9;&#9;if(JobString != "")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;P.ClientMessage(JobString);<br>&#9;&#9;&#9;}<br>&#9;&#9;return;<br>&#9;}<br>&#9;<br>&#9;if(Assist2 == None)<br>&#9;{<br>&#9;&#9;if(JobSkin != "")<br>&#9;&#9;&#9;P.ConsoleCommand("say /skin"@JobSkin);<br>&#9;&#9;if(JobInventory1 != "")<br>&#9;&#9;&#9;invy = class<inventory>( DynamicLoadObject( JobInventory1, class'Class' ) );<br>&#9;&#9;if(JobInventory2 != "")<br>&#9;&#9;&#9;invy2 = class<inventory>( DynamicLoadObject( JobInventory2, class'Class' ) );<br>&#9;&#9;if(JobInventory3 != "")<br>&#9;&#9;&#9;invy3 = class<inventory>( DynamicLoadObject( JobInventory3, class'Class' ) );<br>&#9;&#9;if(JobInventory4 != "")<br>&#9;&#9;&#9;invy4 = class<inventory>( DynamicLoadObject( JobInventory4, class'Class' ) );<br>&#9;&#9;if( invy !=None )<br>&#9;&#9;{<br>&#9;&#9;&#9;inv=Spawn(invy);<br>&#9;&#9;&#9;Inv.Frob(DeusExPlayer(Frobber),None);&#9;  <br>&#9;&#9;&#9;inv.Destroy();<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if( invy2 !=None )<br>&#9;&#9;{<br>&#9;&#9;&#9;inv=Spawn(invy2);<br>&#9;&#9;&#9;Inv.Frob(DeusExPlayer(Frobber),None);&#9;  <br>&#9;&#9;&#9;inv.Destroy();<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if( invy3 !=None )<br>&#9;&#9;{<br>&#9;&#9;&#9;inv=Spawn(invy3);<br>&#9;&#9;&#9;Inv.Frob(DeusExPlayer(Frobber),None);&#9;  <br>&#9;&#9;&#9;inv.Destroy();<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if( invy4 !=None )<br>&#9;&#9;{<br>&#9;&#9;&#9;inv=Spawn(invy4);<br>&#9;&#9;&#9;Inv.Frob(DeusExPlayer(Frobber),None);&#9;  <br>&#9;&#9;&#9;inv.Destroy();<br>&#9;&#9;}<br>&#9;&#9;Assist2 = P;<br>&#9;&#9;P.ClientMessage(JobAlias$" job joined.");<br>&#9;&#9;&#9;if(JobString != "")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;P.ClientMessage(JobString);<br>&#9;&#9;&#9;}<br>&#9;&#9;return;<br>&#9;}<br>&#9;<br>&#9;if(Assist3 == None)<br>&#9;{<br>&#9;&#9;if(JobSkin != "")<br>&#9;&#9;&#9;P.ConsoleCommand("say /skin"@JobSkin);<br>&#9;&#9;if(JobInventory1 != "")<br>&#9;&#9;&#9;invy = class<inventory>( DynamicLoadObject( JobInventory1, class'Class' ) );<br>&#9;&#9;if(JobInventory2 != "")<br>&#9;&#9;&#9;invy2 = class<inventory>( DynamicLoadObject( JobInventory2, class'Class' ) );<br>&#9;&#9;if(JobInventory3 != "")<br>&#9;&#9;&#9;invy3 = class<inventory>( DynamicLoadObject( JobInventory3, class'Class' ) );<br>&#9;&#9;if(JobInventory4 != "")<br>&#9;&#9;&#9;invy4 = class<inventory>( DynamicLoadObject( JobInventory4, class'Class' ) );<br>&#9;<br>&#9;&#9;if( invy !=None )<br>&#9;&#9;{<br>&#9;&#9;&#9;inv=Spawn(invy);<br>&#9;&#9;&#9;Inv.Frob(DeusExPlayer(Frobber),None);&#9;  <br>&#9;&#9;&#9;inv.Destroy();<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if( invy2 !=None )<br>&#9;&#9;{<br>&#9;&#9;&#9;inv=Spawn(invy2);<br>&#9;&#9;&#9;Inv.Frob(DeusExPlayer(Frobber),None);&#9;  <br>&#9;&#9;&#9;inv.Destroy();<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if( invy3 !=None )<br>&#9;&#9;{<br>&#9;&#9;&#9;inv=Spawn(invy3);<br>&#9;&#9;&#9;Inv.Frob(DeusExPlayer(Frobber),None);&#9;  <br>&#9;&#9;&#9;inv.Destroy();<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if( invy4 !=None )<br>&#9;&#9;{<br>&#9;&#9;&#9;inv=Spawn(invy4);<br>&#9;&#9;&#9;Inv.Frob(DeusExPlayer(Frobber),None);&#9;  <br>&#9;&#9;&#9;inv.Destroy();<br>&#9;&#9;}<br>&#9;&#9;Assist3 = P;<br>&#9;&#9;P.ClientMessage(JobAlias$" job joined.");<br>&#9;&#9;&#9;if(JobString != "")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;P.ClientMessage(JobString);<br>&#9;&#9;&#9;}<br>&#9;&#9;return;<br>&#9;}<br><br></div>
<h3 id="JobScanner.Timer"><a class="headerlink" href="#JobScanner.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer p;<br><br><br>&#9;if(Assist1 != None)<br>&#9;{<br>&#9;&#9;Assist1.Credits += Payoutcreds;<br>&#9;&#9;Assist1.ClientMessage("You have been paid by a job, "$JobAlias$". Income: "$Payoutcreds);<br>&#9;}<br>&#9;if(Assist2 != None)<br>&#9;{<br>&#9;&#9;Assist2.Credits += Payoutcreds;<br>&#9;&#9;Assist2.ClientMessage("You have been paid by a job, "$JobAlias$". Income: "$Payoutcreds);<br>&#9;}<br>&#9;if(Assist3 != None)<br>&#9;{<br>&#9;&#9;Assist3.Credits += Payoutcreds;<br>&#9;&#9;Assist3.ClientMessage("You have been paid by a job, "$JobAlias$". Income: "$Payoutcreds);<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#KnifeBomb.uc" title="Permanent link"><h2 id="KnifeBomb.uc">KnifeBomb.uc (extends ThrownProjectile)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">fuseLength=1.000000<br>proxRadius=128.000000<br>spawnWeaponClass=Class'PartyStuff.WeaponKnifeBomb'<br>spawnAmmoClass=Class'PartyStuff.AmmoKB'<br>ItemName="Knife Bomb"<br>speed=1500.000000<br>ImpactSound=Sound'DeusExSounds.Generic.SmallExplosion2'<br>Mesh=LodMesh'DeusExItems.EMPGrenadePickup'</div>
<h3 id="KnifeBomb.DamageRing"><a class="headerlink" href="#KnifeBomb.DamageRing" title="Permanent link">DamageRing</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Pawn apawn;<br>&#9;local float damageRadius;<br>&#9;local Vector dist;<br>&#9;local ProjectileGenerator Projy;<br><br>&#9;<br>&#9;&#9;&#9;projy = Spawn(class'ProjectileGenerator',,,Self.Location);<br>&#9;&#9;&#9;projy.Lifespan=0.7;<br>&#9;&#9;&#9;projy.EjectSpeed=400;<br>&#9;&#9;&#9;projy.bRandomEject = True;<br>&#9;&#9;&#9;projy.ProjectileClass=class'PoisonKnife';<br>&#9;&#9;&#9;projy.NumPerSpawn=12;<br>&#9;&#9;if ( Level.NetMode != NM_Standalone )<br>&#9;&#9;{<br>&#9;&#9;&#9;damageRadius = (blastRadius / gradualHurtSteps) * gradualHurtCounter;<br><br>&#9;&#9;&#9;for ( apawn = Level.PawnList; apawn != None; apawn = apawn.nextPawn )<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if ( apawn.IsA('DeusExPlayer') )<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;dist = apawn.Location - Location;<br>&#9;&#9;&#9;&#9;&#9;if ( VSize(dist) < damageRadius )<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;if ( gradualHurtCounter <= 2 )<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if ( apawn.FastTrace( apawn.Location, Location ))<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;DeusExPlayer(apawn).myProjKiller = Self;<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;DeusExPlayer(apawn).myProjKiller = Self;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>      //DEUS_EX AMSD Ignore Line of Sight on the lowest radius check, only in multiplayer<br>&#9;&#9;HurtRadius<br>&#9;&#9;(<br>&#9;&#9;&#9;(2 * Damage) / gradualHurtSteps,<br>&#9;&#9;&#9;(blastRadius / gradualHurtSteps) * gradualHurtCounter,<br>&#9;&#9;&#9;damageType,<br>&#9;&#9;&#9;MomentumTransfer / gradualHurtSteps,<br>&#9;&#9;&#9;Location,<br>         ((gradualHurtCounter <= 2) && (Level.NetMode != NM_Standalone))<br>&#9;&#9;);<br>   <br></div>
<h3 id="KnifeBomb.SpawnEffects"><a class="headerlink" href="#KnifeBomb.SpawnEffects" title="Permanent link">SpawnEffects</a> (Vector HitLocation, Vector HitNormal, Actor Other)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int i;<br>&#9;local SmokeTrail puff;<br>&#9;local TearGas gas;<br>&#9;local Fragment frag;<br>&#9;local ParticleGenerator gen;<br>&#9;local ProjectileGenerator projgen;<br>&#9;local vector loc;<br>&#9;local rotator rot;<br>&#9;local ExplosionLight light;<br>&#9;local DeusExDecal mark;<br>&#9;local AnimatedSprite expeffect;<br><br><br>&#9;rot.Pitch = 16384 + FRand() * 16384 - 8192;<br>&#9;rot.Yaw = FRand() * 65536;<br>&#9;rot.Roll = 0;<br><br>&#9;// don't draw damage art on destroyed movers<br>&#9;if (DeusExMover(Other) != None)<br>&#9;&#9;if (DeusExMover(Other).bDestroyed)<br>&#9;&#9;&#9;ExplosionDecal = None;<br><br>&#9;if (ExplosionDecal != None)<br>&#9;{<br>&#9;&#9;mark = DeusExDecal(Spawn(ExplosionDecal, Self,, HitLocation, Rotator(HitNormal)));<br>&#9;&#9;if (mark != None)<br>&#9;&#9;{<br>&#9;&#9;&#9;mark.DrawScale = FClamp(damage/30, 0.1, 3.0);<br>&#9;&#9;&#9;mark.ReattachDecal();<br>         if (!bDamaged)<br>            mark.RemoteRole = ROLE_None;<br>&#9;&#9;}<br>&#9;}<br><br>&#9;for (i=0; i<blastRadius/36; i++)<br>&#9;{<br>&#9;&#9;if (FRand() < 0.9)<br>&#9;&#9;{<br>&#9;&#9;&#9;if (bDebris && bStuck)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;frag = spawn(FragmentClass,,, HitLocation);<br>&#9;&#9;&#9;&#9;if (!bDamaged)<br>&#9;&#9;&#9;&#9;&#9;frag.RemoteRole = ROLE_None;<br>&#9;&#9;&#9;&#9;if (frag != None)<br>&#9;&#9;&#9;&#9;&#9;frag.CalcVelocity(VRand(), blastRadius);<br>&#9;&#9;&#9;}<br><br>&#9;&#9;&#9;loc = Location;<br>&#9;&#9;&#9;loc.X += FRand() * blastRadius - blastRadius * 0.5;<br>&#9;&#9;&#9;loc.Y += FRand() * blastRadius - blastRadius * 0.5;<br><br>&#9;&#9;&#9;if (damageType == 'Exploded')<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;light = Spawn(class'ExplosionLight',,, HitLocation);<br>&#9;&#9;&#9;&#9;if ((light != None) && (!bDamaged))<br>&#9;&#9;&#9;&#9;&#9;light.RemoteRole = ROLE_None;<br><br>&#9;&#9;&#9;&#9;if (FRand() < 0.5)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;expeffect = spawn(class'ExplosionSmall',,, loc);<br>&#9;&#9;&#9;&#9;&#9;light.size = 2;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;expeffect = spawn(class'ExplosionMedium',,, loc);<br>&#9;&#9;&#9;&#9;&#9;light.size = 4;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;if ((expeffect != None) && (!bDamaged))<br>&#9;&#9;&#9;&#9;&#9;expeffect.RemoteRole = ROLE_None;<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else if (damageType == 'EMP')<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;light = Spawn(class'ExplosionLight',,, HitLocation);<br>&#9;&#9;&#9;&#9;if (light != None)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if (!bDamaged)<br>&#9;&#9;&#9;&#9;&#9;&#9;light.RemoteRole = ROLE_None;<br>&#9;&#9;&#9;&#9;&#9;light.size = 6;<br>&#9;&#9;&#9;&#9;&#9;light.LightHue = 170;<br>&#9;&#9;&#9;&#9;&#9;light.LightSaturation = 64;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="KnifeBomb.Timer"><a class="headerlink" href="#KnifeBomb.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;gradualHurtCounter++;<br>      DamageRing();<br>&#9;&#9;if (gradualHurtCounter >= gradualHurtSteps)<br>&#9;&#9;&#9;Destroy();<br>&#9;<br></div>
<br><br><hr>
<a class="headerlink" href="#LB.uc" title="Permanent link"><h2 id="LB.uc">LB.uc (extends DeusExProjectile)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var ParticleGenerator pGen1;<br>var ParticleGenerator pGen2;<br>var float mpDamage;<br>var float mpBlastRadius;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">mpDamage=5.000000<br>mpBlastRadius=100.000000<br>bExplodes=True<br>blastRadius=128.000000<br>DamageType=Sabot<br>AccurateRange=14400<br>maxRange=24000<br>bIgnoresNanoDefense=True<br>ItemName="Laser Bolt"<br>ItemArticle="a"<br>speed=1500.000000<br>MaxSpeed=1500.000000<br>Damage=5.000000<br>MomentumTransfer=5000<br>ImpactSound=Sound'DeusExSounds.Weapons.PlasmaRifleHit'<br>ExplosionDecal=Class'DeusEx.ScorchMark'<br>Texture=FireTexture'Effects.liquid.Virus_SFX'<br>Mesh=LodMesh'DeusExItems.Tracer'<br>DrawScale=3.000000<br>bUnlit=True<br>LightBrightness=200<br>LightHue=80<br>LightSaturation=128<br>LightRadius=3<br>bFixedRotationDir=True</div>
<h3 id="LB.Destroyed"><a class="headerlink" href="#LB.Destroyed" title="Permanent link">Destroyed</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if (pGen1 != None)<br>&#9;&#9;pGen1.DelayedDestroy();<br>&#9;if (pGen2 != None)<br>&#9;&#9;pGen2.DelayedDestroy();<br><br>&#9;Super.Destroyed();<br><br></div>
<h3 id="LB.DrawExplosionEffects"><a class="headerlink" href="#LB.DrawExplosionEffects" title="Permanent link">DrawExplosionEffects</a> (vector HitLocation, vector HitNormal)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local ParticleGenerator gen;<br><br><br>&#9;// create a particle generator shooting out plasma spheres<br>&#9;gen = Spawn(class'ParticleGenerator',,, HitLocation, Rotator(HitNormal));<br>&#9;if (gen != None)<br>&#9;{<br>      gen.RemoteRole = ROLE_None;<br>&#9;&#9;gen.particleDrawScale = 2.0;<br>&#9;&#9;gen.checkTime = 0.10;<br>&#9;&#9;gen.frequency = 2.0;<br>&#9;&#9;gen.ejectSpeed = 100.0;<br>&#9;&#9;gen.bGravity = True;<br>&#9;&#9;gen.bRandomEject = True;<br>&#9;&#9;gen.particleLifeSpan = 14.00;<br>&#9;&#9;gen.particleTexture = FireTexture'Effects.Laser.LaserSpot1';<br>&#9;&#9;gen.LifeSpan = 18.5;<br>&#9;}<br><br></div>
<h3 id="LB.PostBeginPlay"><a class="headerlink" href="#LB.PostBeginPlay" title="Permanent link">PostBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PostBeginPlay();<br><br>   if ((Level.NetMode == NM_Standalone) || (Level.NetMode == NM_ListenServer))<br>      SpawnPlasmaEffects();<br><br></div>
<h3 id="LB.PostNetBeginPlay"><a class="headerlink" href="#LB.PostNetBeginPlay" title="Permanent link">PostNetBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>      SpawnPlasmaEffects();<br><br></div>
<h3 id="LB.PreBeginPlay"><a class="headerlink" href="#LB.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;Damage = mpDamage;<br>&#9;blastRadius = mpBlastRadius;<br><br></div>
<h3 id="LB.SpawnPlasmaEffects"><a class="headerlink" href="#LB.SpawnPlasmaEffects" title="Permanent link">SpawnPlasmaEffects</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Rotator rot;<br><br>   rot = Rotation;<br>&#9;rot.Yaw -= 32768;<br><br>   pGen2 = Spawn(class'ParticleGenerator', Self,, Location, rot);<br>&#9;if (pGen2 != None)<br>&#9;{<br>      pGen2.RemoteRole = ROLE_None;<br>&#9;&#9;pGen2.particleTexture = FireTexture'Effects.Laser.LaserSpot1';<br>&#9;&#9;pGen2.particleDrawScale = 2.0;<br>&#9;&#9;pGen2.checkTime = 0.04;<br>&#9;&#9;pGen2.riseRate = 0.0;<br>&#9;&#9;pGen2.ejectSpeed = 100.0;<br>&#9;&#9;pGen2.particleLifeSpan = 4.0;<br>&#9;&#9;pGen2.bRandomEject = True;<br>&#9;&#9;pGen2.SetBase(Self);<br>&#9;}<br>   <br><br></div>
<br><br><hr>
<a class="headerlink" href="#LB2.uc" title="Permanent link"><h2 id="LB2.uc">LB2.uc (extends DeusExProjectile)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var ParticleGenerator pGen1;<br>var ParticleGenerator pGen2;<br>var float mpDamage;<br>var float mpBlastRadius;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">mpDamage=5.000000<br>mpBlastRadius=100.000000<br>bExplodes=True<br>blastRadius=128.000000<br>DamageType=Sabot<br>AccurateRange=14400<br>maxRange=24000<br>bIgnoresNanoDefense=True<br>ItemName="Beam Bolt"<br>ItemArticle="a"<br>speed=1500.000000<br>MaxSpeed=1500.000000<br>Damage=5.000000<br>MomentumTransfer=5000<br>ImpactSound=Sound'DeusExSounds.Weapons.PlasmaRifleHit'<br>ExplosionDecal=Class'DeusEx.ScorchMark'<br>Texture=FireTexture'Effects.liquid.Virus_SFX'<br>Mesh=LodMesh'DeusExItems.Tracer'<br>DrawScale=1.300000<br>bUnlit=True<br>LightBrightness=200<br>LightHue=80<br>LightSaturation=128<br>LightRadius=3<br>bFixedRotationDir=True</div>
<h3 id="LB2.PreBeginPlay"><a class="headerlink" href="#LB2.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;Damage = mpDamage;<br>&#9;blastRadius = mpBlastRadius;<br><br></div>
<br><br><hr>
<a class="headerlink" href="#LB3.uc" title="Permanent link"><h2 id="LB3.uc">LB3.uc (extends DeusExProjectile)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var ParticleGenerator pGen1;<br>var ParticleGenerator pGen2;<br>var float mpDamage;<br>var float mpBlastRadius;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">mpDamage=20.000000<br>mpBlastRadius=255.000000<br>bExplodes=True<br>blastRadius=128.000000<br>DamageType=exploded<br>AccurateRange=14400<br>maxRange=24000<br>bIgnoresNanoDefense=True<br>ItemName="Heavy Bolt"<br>ItemArticle="a"<br>speed=1500.000000<br>MaxSpeed=1500.000000<br>Damage=5.000000<br>MomentumTransfer=5000<br>ImpactSound=Sound'DeusExSounds.Weapons.PlasmaRifleHit'<br>ExplosionDecal=Class'DeusEx.ScorchMark'<br>Texture=FireTexture'Effects.liquid.Virus_SFX'<br>Mesh=LodMesh'DeusExItems.Tracer'<br>DrawScale=3.500000<br>bUnlit=True<br>LightBrightness=200<br>LightHue=80<br>LightSaturation=128<br>LightRadius=3<br>bFixedRotationDir=True</div>
<h3 id="LB3.Destroyed"><a class="headerlink" href="#LB3.Destroyed" title="Permanent link">Destroyed</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if (pGen1 != None)<br>&#9;&#9;pGen1.DelayedDestroy();<br>&#9;if (pGen2 != None)<br>&#9;&#9;pGen2.DelayedDestroy();<br><br>&#9;Super.Destroyed();<br><br></div>
<h3 id="LB3.PostBeginPlay"><a class="headerlink" href="#LB3.PostBeginPlay" title="Permanent link">PostBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PostBeginPlay();<br><br>   if ((Level.NetMode == NM_Standalone) || (Level.NetMode == NM_ListenServer))<br>      SpawnPlasmaEffects();<br><br></div>
<h3 id="LB3.PostNetBeginPlay"><a class="headerlink" href="#LB3.PostNetBeginPlay" title="Permanent link">PostNetBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>      SpawnPlasmaEffects();<br><br></div>
<h3 id="LB3.PreBeginPlay"><a class="headerlink" href="#LB3.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;Damage = mpDamage;<br>&#9;blastRadius = mpBlastRadius;<br><br></div>
<h3 id="LB3.SpawnPlasmaEffects"><a class="headerlink" href="#LB3.SpawnPlasmaEffects" title="Permanent link">SpawnPlasmaEffects</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Rotator rot;<br><br>   rot = Rotation;<br>&#9;rot.Yaw -= 32768;<br><br>   pGen2 = Spawn(class'ParticleGenerator', Self,, Location, rot);<br>&#9;if (pGen2 != None)<br>&#9;{<br>      pGen2.RemoteRole = ROLE_None;<br>&#9;&#9;pGen2.particleTexture = FireTexture'Effects.Laser.LaserSpot1';<br>&#9;&#9;pGen2.particleDrawScale = 2.0;<br>&#9;&#9;pGen2.checkTime = 0.04;<br>&#9;&#9;pGen2.riseRate = 0.0;<br>&#9;&#9;pGen2.ejectSpeed = 100.0;<br>&#9;&#9;pGen2.particleLifeSpan = 4.0;<br>&#9;&#9;pGen2.bRandomEject = True;<br>&#9;&#9;pGen2.SetBase(Self);<br>&#9;}<br>   <br><br></div>
<br><br><hr>
<a class="headerlink" href="#LaserController.uc" title="Permanent link"><h2 id="LaserController.uc">LaserController.uc (extends DeusExWeapon)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var bool bFailure;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">GoverningSkill=Class'DeusEx.SkillWeaponPistol'<br>NoiseLevel=0.010000<br>ShotTime=0.150000<br>reloadTime=1.500000<br>HitDamage=0<br>maxRange=4800<br>AccurateRange=2400<br>BaseAccuracy=0.800000<br>bCanHaveScope=True<br>ScopeFOV=25<br>bCanHaveLaser=True<br>recoilStrength=0.100000<br>mpBaseAccuracy=0.200000<br>mpAccurateRange=1200<br>mpMaxRange=1200<br>bCanHaveModBaseAccuracy=True<br>bCanHaveModReloadCount=True<br>bCanHaveModAccurateRange=True<br>bCanHaveModReloadTime=True<br>bInstantHit=True<br>FireOffset=(X=-24.000000,Y=10.000000,Z=14.000000)<br>shakemag=50.000000<br>FireSound=Sound'DeusExSounds.Weapons.StealthPistolFire'<br>AltFireSound=Sound'DeusExSounds.Weapons.StealthPistolReloadEnd'<br>CockingSound=Sound'DeusExSounds.Weapons.StealthPistolReload'<br>SelectSound=Sound'DeusExSounds.Weapons.StealthPistolSelect'<br>InventoryGroup=61<br>ItemName="Laser Controller Gun"<br>PlayerViewOffset=(X=24.000000,Y=-10.000000,Z=-14.000000)<br>PlayerViewMesh=LodMesh'DeusExItems.StealthPistol'<br>PickupViewMesh=LodMesh'DeusExItems.StealthPistolPickup'<br>ThirdPersonMesh=LodMesh'DeusExItems.StealthPistol3rd'<br>Icon=Texture'DeusExUI.Icons.BeltIconStealthPistol'<br>largeIcon=Texture'DeusExUI.Icons.LargeIconStealthPistol'<br>largeIconWidth=47<br>largeIconHeight=37<br>Description="The stealth pistol is a variant of the standard 10mm pistol with a larger clip and integrated silencer designed for wet work at very close ranges."<br>beltDescription="LASER"<br>Mesh=LodMesh'DeusExItems.StealthPistolPickup'<br>CollisionRadius=8.000000<br>CollisionHeight=0.800000</div>
<h3 id="LaserController.CalculateAccuracy"><a class="headerlink" href="#LaserController.CalculateAccuracy" title="Permanent link">CalculateAccuracy</a> -> float</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;return 0.000000; //Dirty hack to always return dead on accuracy.<br><br></div>
<h3 id="LaserController.GetName"><a class="headerlink" href="#LaserController.GetName" title="Permanent link">GetName</a> (DeusExPlayer P) -> string</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;return p.PlayerReplicationInfo.PlayerName;<br><br></div>
<h3 id="LaserController.LaserToggle"><a class="headerlink" href="#LaserController.LaserToggle" title="Permanent link">LaserToggle</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local LaserProj LP;<br><br>&#9;foreach allactors(class'LaserProj', LP)<br>&#9;{<br>&#9;&#9;LP.DisArm();<br>&#9;}<br><br></div>
<h3 id="LaserController.PreBeginPlay"><a class="headerlink" href="#LaserController.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;// If this is a netgame, then override defaults<br>&#9;if ( Level.NetMode != NM_StandAlone )<br>&#9;{<br>&#9;&#9;HitDamage = mpHitDamage;<br>&#9;&#9;BaseAccuracy = mpBaseAccuracy;<br>&#9;&#9;ReloadTime = mpReloadTime;<br>&#9;&#9;AccurateRange = mpAccurateRange;<br>&#9;&#9;MaxRange = mpMaxRange;<br>&#9;&#9;ReloadCount = mpReloadCount;<br>&#9;}<br><br></div>
<h3 id="LaserController.ProcessTraceHit"><a class="headerlink" href="#LaserController.ProcessTraceHit" title="Permanent link">ProcessTraceHit</a> (Actor Other, Vector HitLocation, Vector HitNormal, Vector X, Vector Y, Vector Z)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local LaserProj LP;<br><br>&#9;<br>&#9;if(LaserProj(Other) != None)<br>&#9;{<br>&#9;&#9;if(LaserProj(Other).bIsOn)<br>&#9;&#9;{<br>&#9;&#9;&#9;LaserProj(Other).Disarm();<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;{<br>&#9;&#9;&#9;//LaserProj(Other).Arm();<br>&#9;&#9;&#9;LaserProj(Other).SetTimer(1,False);<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="LaserController.ScopeToggle"><a class="headerlink" href="#LaserController.ScopeToggle" title="Permanent link">ScopeToggle</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local LaserProj LP;<br><br>&#9;foreach allactors(class'LaserProj', LP)<br>&#9;{<br>&#9;&#9;//LP.Arm();<br>&#9;&#9;LP.SetTimer(1,False);<br>&#9;}<br><br></div>
<h3 id="LaserController.TestMPBeltSpot"><a class="headerlink" href="#LaserController.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<br><br><hr>
<a class="headerlink" href="#LaserProj.uc" title="Permanent link"><h2 id="LaserProj.uc">LaserProj.uc (extends ThrownProjectile)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var() bool bIsOn;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">DrawScale=1.300000</div>
<br><br><hr>
<a class="headerlink" href="#LightBall.uc" title="Permanent link"><h2 id="LightBall.uc">LightBall.uc (extends GraySpit)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var float TotalTime;<br>var() float TimeLimit;			//until when should I spawn?</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">TimeLimit=0.500000<br>Damage=0.000000<br>SpawnSound=None<br>DrawType=DT_Sprite<br>Texture=Texture'DeusExDeco.Skins.AlarmLightTex4'<br>Mesh=None</div>
<h3 id="LightBall.Tick"><a class="headerlink" href="#LightBall.Tick" title="Permanent link">Tick</a> (float deltaTime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local PlayerPawn Player;<br><br><br>&#9;TotalTime+=deltaTime;<br><br>&#9;if (TotalTime > TimeLimit)<br>&#9;{<br>&#9;&#9;Self.Destroy();<br>&#9;}&#9;<br><br></div>
<br><br><hr>
<a class="headerlink" href="#Lightshow.uc" title="Permanent link"><h2 id="Lightshow.uc">Lightshow.uc (extends ThrownProjectile)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">fuseLength=1.000000<br>proxRadius=128.000000<br>spawnWeaponClass=Class'PartyStuff.WeaponLightshow'<br>spawnAmmoClass=Class'PartyStuff.AmmoLS'<br>ItemName="Lightshow"<br>speed=1500.000000<br>ImpactSound=Sound'DeusExSounds.Generic.SmallExplosion2'<br>Mesh=LodMesh'DeusExItems.EMPGrenadePickup'</div>
<h3 id="Lightshow.DamageRing"><a class="headerlink" href="#Lightshow.DamageRing" title="Permanent link">DamageRing</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Pawn apawn;<br>&#9;local float damageRadius;<br>&#9;local Vector dist;<br>&#9;local ProjectileGenerator Projy;<br><br>&#9;<br>&#9;&#9;&#9;projy = Spawn(class'ProjectileGenerator',,,Self.Location);<br>&#9;&#9;&#9;projy.Lifespan=1.5;<br>&#9;&#9;&#9;projy.EjectSpeed=250;<br>&#9;&#9;&#9;projy.bRandomEject = True;<br>&#9;&#9;&#9;projy.ProjectileClass=class'DartLight';<br>&#9;&#9;&#9;projy.NumPerSpawn=3;<br>&#9;&#9;&#9;<br>&#9;&#9;if ( Level.NetMode != NM_Standalone )<br>&#9;&#9;{<br>&#9;&#9;&#9;damageRadius = (blastRadius / gradualHurtSteps) * gradualHurtCounter;<br><br>&#9;&#9;&#9;for ( apawn = Level.PawnList; apawn != None; apawn = apawn.nextPawn )<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if ( apawn.IsA('DeusExPlayer') )<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;dist = apawn.Location - Location;<br>&#9;&#9;&#9;&#9;&#9;if ( VSize(dist) < damageRadius )<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;if ( gradualHurtCounter <= 2 )<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if ( apawn.FastTrace( apawn.Location, Location ))<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;DeusExPlayer(apawn).myProjKiller = Self;<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;DeusExPlayer(apawn).myProjKiller = Self;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>      //DEUS_EX AMSD Ignore Line of Sight on the lowest radius check, only in multiplayer<br>&#9;&#9;HurtRadius<br>&#9;&#9;(<br>&#9;&#9;&#9;(2 * Damage) / gradualHurtSteps,<br>&#9;&#9;&#9;(blastRadius / gradualHurtSteps) * gradualHurtCounter,<br>&#9;&#9;&#9;damageType,<br>&#9;&#9;&#9;MomentumTransfer / gradualHurtSteps,<br>&#9;&#9;&#9;Location,<br>         ((gradualHurtCounter <= 2) && (Level.NetMode != NM_Standalone))<br>&#9;&#9;);<br>   <br></div>
<h3 id="Lightshow.SpawnEffects"><a class="headerlink" href="#Lightshow.SpawnEffects" title="Permanent link">SpawnEffects</a> (Vector HitLocation, Vector HitNormal, Actor Other)</h3>

<h3 id="Lightshow.Timer"><a class="headerlink" href="#Lightshow.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;gradualHurtCounter++;<br>      DamageRing();<br>&#9;&#9;if (gradualHurtCounter >= gradualHurtSteps)<br>&#9;&#9;&#9;Destroy();<br>&#9;<br></div>
<br><br><hr>
<a class="headerlink" href="#Lumination.uc" title="Permanent link"><h2 id="Lumination.uc">Lumination.uc (extends ChargedPickup)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">ActivateSound=Sound'DeusExSounds.Augmentation.CloakUp'<br>DeActivateSound=None<br>ChargeRemainingLabel="Lum readiness:"<br>ItemName="Temporary Lumination Spawner"<br>PlayerViewOffset=(X=20.000000,Z=-12.000000)<br>PlayerViewMesh=LodMesh'DeusExItems.VialAmbrosia'<br>PickupViewMesh=LodMesh'DeusExItems.VialAmbrosia'<br>ThirdPersonMesh=LodMesh'DeusExItems.VialAmbrosia'<br>Charge=8<br>LandSound=Sound'DeusExSounds.Generic.GlassHit1'<br>Icon=Texture'DeusExUI.Icons.BeltIconVialAmbrosia'<br>largeIcon=Texture'DeusExUI.Icons.LargeIconVialAmbrosia'<br>largeIconWidth=35<br>largeIconHeight=49<br>Description="s"<br>beltDescription="LUM"<br>Mesh=LodMesh'DeusExItems.VialAmbrosia'<br>CollisionRadius=2.200000<br>CollisionHeight=4.890000<br>Mass=10.000000<br>Buoyancy=100.000000</div>
<h3 id="Lumination.ChargedPickupBegin"><a class="headerlink" href="#Lumination.ChargedPickupBegin" title="Permanent link">ChargedPickupBegin</a> (DeusExPlayer Player)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Luminous lum;<br>&#9;local Vector loc,X,Y,Z, v2;<br><br>   <br>&#9;lum = Spawn(class'Luminous', Player,, Location,);<br>&#9;if (lum != None)<br>&#9;{<br>&#9;&#9;v2 = Player.Location;<br>&#9;&#9;v2.Z += player.collisionHeight + 50;<br>&#9;&#9;lum.SetLocation(v2);<br>&#9;&#9;lum.LumOwner = Player;<br>&#9;&#9;lum.Lifespan = 120;<br>&#9;&#9;//lum.SetBase(Self);<br>&#9;}<br>&#9;Super.ChargedPickupBegin(Player);<br>&#9;<br><br></div>
<h3 id="Lumination.TestMPBeltSpot"><a class="headerlink" href="#Lumination.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) || (BeltSpot == 0) );<br><br></div>
<h3 id="Lumination.UsedUp"><a class="headerlink" href="#Lumination.UsedUp" title="Permanent link">UsedUp</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer Player;<br><br><br>&#9;if ( Pawn(Owner) != None )<br>&#9;{<br>&#9;&#9;bActivatable = false;<br>&#9;&#9;<br>&#9;}<br>&#9;Player = DeusExPlayer(Owner);<br><br>&#9;if (Player != None)<br>&#9;{<br>&#9;&#9;if (Player.inHand == Self)<br>&#9;&#9;&#9;ChargedPickupEnd(Player);<br>&#9;}<br><br>&#9;Destroy();<br><br></div>
<br><br><hr>
<a class="headerlink" href="#Luminous.uc" title="Permanent link"><h2 id="Luminous.uc">Luminous.uc (extends DeusExDecoration)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var Pawn LumOwner;<br>var int lLifespan;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bInvincible=True<br>bHighlight=False<br>ItemName="Lumination Point"<br>bPushable=False<br>Physics=PHYS_None<br>DrawType=DT_Sprite<br>Style=STY_Translucent<br>Texture=Texture'DeusExDeco.Skins.AlarmLightTex6'<br>Skin=Texture'DeusExDeco.Skins.AlarmLightTex6'<br>DrawScale=1.500000<br>AmbientGlow=255<br>CollisionRadius=45.200001<br>CollisionHeight=32.000000<br>bBlockPlayers=False<br>LightType=LT_Steady<br>LightBrightness=124<br>LightSaturation=255<br>LightRadius=40</div>
<h3 id="Luminous.ExplodeLum"><a class="headerlink" href="#Luminous.ExplodeLum" title="Permanent link">ExplodeLum</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local SphereEffect sphere;<br>&#9;local ScorchMark s;<br>&#9;local ExplosionLight light;<br>&#9;local int i;<br>&#9;local float explosionDamage;<br>&#9;local float explosionRadius;<br><br><br>&#9;explosionDamage = 100;<br>&#9;explosionRadius = 256;<br><br>&#9;// alert NPCs that I'm exploding<br>&#9;AISendEvent('LoudNoise', EAITYPE_Audio, , explosionRadius*16);<br>&#9;PlaySound(Sound'LargeExplosion1', SLOT_None,,, explosionRadius*16);<br><br>&#9;// draw a pretty explosion<br>&#9;light = Spawn(class'ExplosionLight',,, Location);<br>&#9;if (light != None)<br>&#9;&#9;light.size = 4;<br><br>&#9;Spawn(class'ExplosionSmall',,, Location + 2*VRand()*CollisionRadius);<br>&#9;Spawn(class'ExplosionMedium',,, Location + 2*VRand()*CollisionRadius);<br>&#9;Spawn(class'ExplosionMedium',,, Location + 2*VRand()*CollisionRadius);<br>&#9;Spawn(class'ExplosionLarge',,, Location + 2*VRand()*CollisionRadius);<br><br>&#9;sphere = Spawn(class'SphereEffect',,, Location);<br>&#9;if (sphere != None)<br>&#9;&#9;sphere.size = explosionRadius / 32.0;<br><br>&#9;// spawn a mark<br>&#9;s = spawn(class'ScorchMark', Base,, Location-vect(0,0,1)*CollisionHeight, Rotation+rot(16384,0,0));<br>&#9;if (s != None)<br>&#9;{<br>&#9;&#9;s.DrawScale = FClamp(explosionDamage/30, 0.1, 3.0);<br>&#9;&#9;s.ReattachDecal();<br>&#9;}<br><br>&#9;// spawn some rocks and flesh fragments<br>&#9;for (i=0; i<explosionDamage/6; i++)<br>&#9;{<br>&#9;&#9;if (FRand() < 0.3)<br>&#9;&#9;&#9;spawn(class'Rockchip',,,Location);<br>&#9;&#9;else<br>&#9;&#9;&#9;spawn(class'FleshFragment',,,Location);<br>&#9;}<br><br>&#9;HurtRadius(explosionDamage, explosionRadius, 'Exploded', explosionDamage*100, Location);<br>&#9;Destroy();<br><br></div>
<h3 id="Luminous.Tick"><a class="headerlink" href="#Luminous.Tick" title="Permanent link">Tick</a> (float deltatime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local vector v2;<br><br>&#9;<br>&#9;if (lumOwner != None)<br>&#9;{<br>&#9;&#9;if(lumOwner.Health <= 0)<br>&#9;&#9;&#9;ExplodeLum();<br>&#9;&#9;v2 = lumOwner.Location;<br>&#9;&#9;v2.Z += LumOwner.collisionHeight + 50;<br>&#9;&#9;SetLocation(v2);<br>&#9;}<br>&#9;else<br>&#9;ExplodeLum();<br><br></div>
<br><br><hr>
<a class="headerlink" href="#MM.uc" title="Permanent link"><h2 id="MM.uc">MM.uc (extends DeusExPickup)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var int rechargeAmount;<br>var int mpRechargeAmount;<br>var localized String msgRecharged;<br>var localized String RechargesLabel;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">rechargeAmount=5<br>mpRechargeAmount=10<br>msgRecharged="Recharged %d points"<br>RechargesLabel="Recharges %d Energy Units"<br>maxCopies=20<br>bCanHaveMultipleCopies=True<br>bActivatable=True<br>ItemName="Medical Marijuana"<br>PlayerViewOffset=(X=30.000000,Z=-12.000000)<br>PlayerViewMesh=LodMesh'DeusExItems.Flare'<br>PickupViewMesh=LodMesh'DeusExItems.Flare'<br>ThirdPersonMesh=LodMesh'DeusExItems.Flare'<br>Icon=Texture'DeusExUI.Icons.BeltIconFlare'<br>largeIcon=Texture'DeusExUI.Icons.LargeIconFlare'<br>largeIconWidth=24<br>largeIconHeight=38<br>Description="a spliff m7"<br>beltDescription="MARIJUANA"<br>Texture=Texture'CoreTexPaper.Paper.ClenWhitPaint_A'<br>Skin=Texture'CoreTexPaper.Paper.ClenWhitPaint_A'<br>Mesh=LodMesh'DeusExItems.Flare'<br>MultiSkins(0)=Texture'CoreTexPaper.Paper.ClenWhitPaint_A'<br>CollisionRadius=6.200000<br>CollisionHeight=1.200000<br>Mass=5.000000<br>Buoyancy=4.000000</div>
<h3 id="MM.Activate"><a class="headerlink" href="#MM.Activate" title="Permanent link">Activate</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;// can't turn it off<br>&#9;<br></div>
<h3 id="MM.BeginState"><a class="headerlink" href="#MM.BeginState" title="Permanent link">BeginState</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer player;<br>&#9;local vector loc;<br>&#9;local rotator rot;<br>&#9;local SmokeTrail puff;<br><br>&#9;&#9;Super.BeginState();<br><br>&#9;&#9;player = DeusExPlayer(Owner);<br>&#9;&#9;if (player != None)<br>&#9;&#9;{<br>&#9;&#9;&#9;player.ClientMessage(Sprintf(msgRecharged, rechargeAmount));<br>&#9;<br>&#9;&#9;&#9;player.PlaySound(sound'MaleBurp', SLOT_None,,, 256);<br><br>&#9;&#9;&#9;player.Energy += rechargeAmount;<br>&#9;&#9;&#9;if (player.Energy > player.EnergyMax)<br>&#9;&#9;&#9;&#9;player.Energy = player.EnergyMax;<br>&#9;&#9;&#9;&#9;player.HealPlayer(15, False);<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;loc = Owner.Location;<br>&#9;&#9;&#9;rot = Owner.Rotation;<br>&#9;&#9;&#9;loc += 2.0 * Owner.CollisionRadius * vector(Player.ViewRotation);<br>&#9;&#9;&#9;loc.Z += Owner.CollisionHeight * 0.9;<br>&#9;&#9;&#9;puff = Spawn(class'SmokeTrail', Owner,, loc, rot);<br>&#9;&#9;&#9;if (puff != None)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;puff.DrawScale = 1.0;<br>&#9;&#9;&#9;&#9;puff.origScale = puff.DrawScale;<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;PlaySound(sound'MaleCough');<br>&#9;&#9;}<br><br>&#9;&#9;UseOnce();<br>&#9;<br></div>
<h3 id="MM.PostBeginPlay"><a class="headerlink" href="#MM.PostBeginPlay" title="Permanent link">PostBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   Super.PostBeginPlay();<br>   if (Level.NetMode != NM_Standalone)<br>      rechargeAmount = mpRechargeAmount;<br><br></div>
<h3 id="MM.PreBeginPlay"><a class="headerlink" href="#MM.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;// If this is a netgame, then override defaults<br>&#9;if ( Level.NetMode != NM_StandAlone )<br>&#9;&#9;MaxCopies = 20;<br><br></div>
<h3 id="MM.TestMPBeltSpot"><a class="headerlink" href="#MM.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<br><br><hr>
<a class="headerlink" href="#MPCarcass.uc" title="Permanent link"><h2 id="MPCarcass.uc">MPCarcass.uc (extends DeusExCarcass)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">CollisionRadius=40.000000</div>
<h3 id="MPCarcass.AddInventory"><a class="headerlink" href="#MPCarcass.AddInventory" title="Permanent link">AddInventory</a> (inventory NewItem) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local inventory Inv;<br><br>&#9;// Skip if already in the inventory.<br><br>&#9;for( Inv=Inventory; Inv!=None; Inv=Inv.Inventory )<br>&#9;&#9;if( Inv == NewItem )<br>&#9;&#9;&#9;return false;<br><br>&#9;// The item should not have been destroyed if we get here.<br>&#9;assert(NewItem!=None);<br><br>&#9;// Add to front of inventory chain.<br>&#9;NewItem.SetOwner(Self);<br>&#9;NewItem.Inventory = Inventory;<br>&#9;NewItem.InitialState = 'Idle2';<br>&#9;Inventory = NewItem;<br><br>&#9;return true;<br><br></div>
<h3 id="MPCarcass.AddReceivedItem"><a class="headerlink" href="#MPCarcass.AddReceivedItem" title="Permanent link">AddReceivedItem</a> (DeusExPlayer player, Inventory item, int count)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExWeapon w;<br>&#9;local Inventory altAmmo;<br><br><br>&#9;if (!bSearchMsgPrinted)<br>&#9;{<br>&#9;&#9;player.ClientMessage(msgSearching);<br>&#9;&#9;bSearchMsgPrinted = True;<br>&#9;}<br><br>   DeusExRootWindow(player.rootWindow).hud.receivedItems.AddItem(item, 1);<br><br>&#9;// Make sure the object belt is updated<br>&#9;if (item.IsA('Ammo'))<br>&#9;&#9;player.UpdateAmmoBeltText(Ammo(item));<br>&#9;else<br>&#9;&#9;player.UpdateBeltText(item);<br><br>&#9;// Deny 20mm and WP rockets off of bodies in multiplayer<br>&#9;if ( Level.NetMode != NM_Standalone )<br>&#9;{<br>&#9;&#9;if ( item.IsA('WeaponAssaultGun') || item.IsA('WeaponGEPGun') )<br>&#9;&#9;{<br>&#9;&#9;&#9;w = DeusExWeapon(player.FindInventoryType(item.Class));<br>&#9;&#9;&#9;if (( Ammo20mm(w.AmmoType) != None ) || ( AmmoRocketWP(w.AmmoType) != None ))<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;altAmmo = Spawn( w.AmmoNames[0] );<br>&#9;&#9;&#9;&#9;DeusExAmmo(altAmmo).AmmoAmount = w.PickupAmmoCount;<br>&#9;&#9;&#9;&#9;altAmmo.Frob(player,None);<br>&#9;&#9;&#9;&#9;altAmmo.Destroy();<br>&#9;&#9;&#9;&#9;w.AmmoType.Destroy();<br>&#9;&#9;&#9;&#9;w.LoadAmmo( 0 );<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="MPCarcass.ChunkUp"><a class="headerlink" href="#MPCarcass.ChunkUp" title="Permanent link">ChunkUp</a> (int Damage)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int i;<br>&#9;local float size;<br>&#9;local Vector loc;<br>&#9;local FleshFragment chunk;<br><br><br>&#9;// gib the carcass<br>&#9;size = (CollisionRadius + CollisionHeight) / 2;<br>&#9;if (size > 10.0)<br>&#9;{<br>&#9;&#9;for (i=0; i<size/4.0; i++)<br>&#9;&#9;{<br>&#9;&#9;&#9;loc.X = (1-2*FRand()) * CollisionRadius;<br>&#9;&#9;&#9;loc.Y = (1-2*FRand()) * CollisionRadius;<br>&#9;&#9;&#9;loc.Z = (1-2*FRand()) * CollisionHeight;<br>&#9;&#9;&#9;loc += Location;<br>&#9;&#9;&#9;chunk = spawn(class'FleshFragment', None,, loc);<br>&#9;&#9;&#9;if (chunk != None)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;chunk.DrawScale = size / 25;<br>&#9;&#9;&#9;&#9;chunk.SetCollisionSize(chunk.CollisionRadius / chunk.DrawScale, chunk.CollisionHeight / chunk.DrawScale);<br>&#9;&#9;&#9;&#9;chunk.bFixedRotationDir = True;<br>&#9;&#9;&#9;&#9;chunk.RotationRate = RotRand(False);<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br><br>&#9;Super.ChunkUp(Damage);<br><br></div>
<h3 id="MPCarcass.DeleteInventory"><a class="headerlink" href="#MPCarcass.DeleteInventory" title="Permanent link">DeleteInventory</a> (inventory Item) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local actor Link;<br><br>&#9;// If this item is in our inventory chain, unlink it.<br><br>&#9;for( Link = Self; Link!=None; Link=Link.Inventory )<br>&#9;{<br>&#9;&#9;if( Link.Inventory == Item )<br>&#9;&#9;{<br>&#9;&#9;&#9;Link.Inventory = Item.Inventory;<br>&#9;&#9;&#9;break;<br>&#9;&#9;}<br>&#9;}<br>   Item.SetOwner(None);<br><br></div>
<h3 id="MPCarcass.Destroyed"><a class="headerlink" href="#MPCarcass.Destroyed" title="Permanent link">Destroyed</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if (flyGen != None)<br>&#9;{<br>&#9;&#9;flyGen.StopGenerator();<br>&#9;&#9;flyGen = None;<br>&#9;}<br><br>&#9;Super.Destroyed();<br><br></div>
<h3 id="MPCarcass.Frob"><a class="headerlink" href="#MPCarcass.Frob" title="Permanent link">Frob</a> (Actor Frobber, Inventory frobWith)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Inventory item, nextItem, startItem;<br>&#9;local Pawn P;<br>&#9;local DeusExWeapon W;<br>&#9;local bool bFoundSomething;<br>&#9;local DeusExPlayer player;<br>&#9;local ammo AmmoType;<br>&#9;local bool bPickedItemUp;<br>&#9;local POVCorpse corpse;<br>&#9;local DeusExPickup invItem;<br>&#9;local int itemCount;<br><br><br>//log("DeusExCarcass::Frob()--------------------------------");<br><br>&#9;// Can we assume only the *PLAYER* would actually be frobbing carci?<br>&#9;player = DeusExPlayer(Frobber);<br><br>&#9;// No doublefrobbing in multiplayer.<br>&#9;if (bQueuedDestroy)<br>&#9;&#9;return;<br><br>&#9;// if we've already been searched, let the player pick us up<br>&#9;// don't pick up animal carcii<br>&#9;if (!bAnimalCarcass)<br>&#9;{<br>      // DEUS_EX AMSD Since we don't have animations for carrying corpses, and since it has no real use in multiplayer,<br>      // and since the PutInHand propagation doesn't just work, this is work we don't need to do.<br>      // Were you to do it, you'd need to check the respawning issue, destroy the POVcorpse it creates and point to the<br>      // one in inventory (like I did when giving the player starting inventory).<br>&#9;&#9;if ((Inventory == None) && (player != None) && (player.inHand == None) && (Level.NetMode == NM_Standalone))<br>&#9;&#9;{<br>&#9;&#9;&#9;if (!bInvincible)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;corpse = Spawn(class'POVCorpse');<br>&#9;&#9;&#9;&#9;if (corpse != None)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;// destroy the actual carcass and put the fake one<br>&#9;&#9;&#9;&#9;&#9;// in the player's hands<br>&#9;&#9;&#9;&#9;&#9;corpse.carcClassString = String(Class);<br>&#9;&#9;&#9;&#9;&#9;corpse.KillerAlliance = KillerAlliance;<br>&#9;&#9;&#9;&#9;&#9;corpse.KillerBindName = KillerBindName;<br>&#9;&#9;&#9;&#9;&#9;corpse.Alliance = Alliance;<br>&#9;&#9;&#9;&#9;&#9;corpse.bNotDead = bNotDead;<br>&#9;&#9;&#9;&#9;&#9;corpse.bEmitCarcass = bEmitCarcass;<br>&#9;&#9;&#9;&#9;&#9;corpse.CumulativeDamage = CumulativeDamage;<br>&#9;&#9;&#9;&#9;&#9;corpse.MaxDamage = MaxDamage;<br>&#9;&#9;&#9;&#9;&#9;corpse.CorpseItemName = itemName;<br>&#9;&#9;&#9;&#9;&#9;corpse.CarcassName = CarcassName;<br>&#9;&#9;&#9;&#9;&#9;corpse.Frob(player, None);<br>&#9;&#9;&#9;&#9;&#9;corpse.SetBase(player);<br>&#9;&#9;&#9;&#9;&#9;player.PutInHand(corpse);<br>&#9;&#9;&#9;&#9;&#9;bQueuedDestroy=True;<br>&#9;&#9;&#9;&#9;&#9;Destroy();<br>&#9;&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br><br>&#9;bFoundSomething = False;<br>&#9;bSearchMsgPrinted = False;<br>&#9;P = Pawn(Frobber);<br>&#9;if (P != None)<br>&#9;{<br>&#9;&#9;// Make sure the "Received Items" display is cleared<br>      // DEUS_EX AMSD Don't bother displaying in multiplayer.  For propagation<br>      // reasons it is a lot more of a hassle than it is worth.<br>&#9;&#9;if ( (player != None) && (Level.NetMode == NM_Standalone) )<br>         DeusExRootWindow(player.rootWindow).hud.receivedItems.RemoveItems();<br><br>&#9;&#9;if (Inventory != None)<br>&#9;&#9;{<br><br>&#9;&#9;&#9;item = Inventory;<br>&#9;&#9;&#9;startItem = item;<br><br>&#9;&#9;&#9;do<br>&#9;&#9;&#9;{<br>//&#9;&#9;&#9;&#9;log("===>DeusExCarcass:item="$item );<br><br>&#9;&#9;&#9;&#9;nextItem = item.Inventory;<br><br>&#9;&#9;&#9;&#9;bPickedItemUp = False;<br><br>&#9;&#9;&#9;&#9;if (item.IsA('Ammo'))<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;// Only let the player pick up ammo that's already in a weapon<br>&#9;&#9;&#9;&#9;&#9;DeleteInventory(item);<br>&#9;&#9;&#9;&#9;&#9;item.Destroy();<br>&#9;&#9;&#9;&#9;&#9;item = None;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;else if ( (item.IsA('DeusExWeapon')) )<br>&#9;&#9;&#9;&#9;{<br>               // Any weapons have their ammo set to a random number of rounds (1-4)<br>               // unless it's a grenade, in which case we only want to dole out one.<br>               // DEUS_EX AMSD In multiplayer, give everything away.<br>               W = DeusExWeapon(item);<br>               <br>               // Grenades and LAMs always pickup 1<br>               if (W.IsA('WeaponNanoVirusGrenade') || <br>                  W.IsA('WeaponGasGrenade') || <br>                  W.IsA('WeaponEMPGrenade') ||<br>                  W.IsA('WeaponLAM'))<br>                  W.PickupAmmoCount = 1;<br>               else if (Level.NetMode == NM_Standalone)<br>                  W.PickupAmmoCount = Rand(4) + 1;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;if (item != None)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;bFoundSomething = True;<br><br>&#9;&#9;&#9;&#9;&#9;if (item.IsA('NanoKey'))<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;if (player != None)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;player.PickupNanoKey(NanoKey(item));<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;AddReceivedItem(player, item, 1);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;DeleteInventory(item);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;item.Destroy();<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;item = None;<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;bPickedItemUp = True;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else if (item.IsA('Credits'))&#9;&#9;// I hate special cases<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;if (player != None)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;AddReceivedItem(player, item, Credits(item).numCredits);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;player.Credits += Credits(item).numCredits;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;P.ClientMessage(Sprintf(Credits(item).msgCreditsAdded, Credits(item).numCredits));<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;DeleteInventory(item);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;item.Destroy();<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;item = None;<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;bPickedItemUp = True;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else if (item.IsA('DeusExWeapon'))   // I *really* hate special cases<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;// Okay, check to see if the player already has this weapon.  If so,<br>&#9;&#9;&#9;&#9;&#9;&#9;// then just give the ammo and not the weapon.  Otherwise give<br>&#9;&#9;&#9;&#9;&#9;&#9;// the weapon normally. <br>&#9;&#9;&#9;&#9;&#9;&#9;W = DeusExWeapon(player.FindInventoryType(item.Class));<br><br>&#9;&#9;&#9;&#9;&#9;&#9;// If the player already has this item in his inventory, piece of cake,<br>&#9;&#9;&#9;&#9;&#9;&#9;// we just give him the ammo.  However, if the Weapon is *not* in the <br>&#9;&#9;&#9;&#9;&#9;&#9;// player's inventory, first check to see if there's room for it.  If so,<br>&#9;&#9;&#9;&#9;&#9;&#9;// then we'll give it to him normally.  If there's *NO* room, then we <br>&#9;&#9;&#9;&#9;&#9;&#9;// want to give the player the AMMO only (as if the player already had <br>&#9;&#9;&#9;&#9;&#9;&#9;// the weapon).<br><br>&#9;&#9;&#9;&#9;&#9;&#9;if ((W != None) || ((W == None) && (!player.FindInventorySlot(item, True))))<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;// Don't bother with this is there's no ammo<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if ((Weapon(item).AmmoType != None) && (Weapon(item).AmmoType.AmmoAmount > 0))<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;AmmoType = Ammo(player.FindInventoryType(Weapon(item).AmmoName));<br><br>                        if ((AmmoType != None) && (AmmoType.AmmoAmount < AmmoType.MaxAmmo))<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>                           AmmoType.AddAmmo(Weapon(item).PickupAmmoCount);<br>                           AddReceivedItem(player, AmmoType, Weapon(item).PickupAmmoCount);<br>                           <br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;// Update the ammo display on the object belt<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;player.UpdateAmmoBeltText(AmmoType);<br><br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;// if this is an illegal ammo type, use the weapon name to print the message<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if (AmmoType.PickupViewMesh == Mesh'TestBox')<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;P.ClientMessage(item.PickupMessage @ item.itemArticle @ item.itemName, 'Pickup');<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;P.ClientMessage(AmmoType.PickupMessage @ AmmoType.itemArticle @ AmmoType.itemName, 'Pickup');<br><br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;// Mark it as 0 to prevent it from being added twice<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Weapon(item).AmmoType.AmmoAmount = 0;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br><br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;// Print a message "Cannot pickup blah blah blah" if inventory is full<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;// and the player can't pickup this weapon, so the player at least knows<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;// if he empties some inventory he can get something potentially cooler<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;// than he already has. <br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if ((W == None) && (!player.FindInventorySlot(item, True)))<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;P.ClientMessage(Sprintf(Player.InventoryFull, item.itemName));<br><br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;// Only destroy the weapon if the player already has it.<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if (W != None)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;// Destroy the weapon, baby!<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;DeleteInventory(item);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;item.Destroy();<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;item = None;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br><br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;bPickedItemUp = True;<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br><br>&#9;&#9;&#9;&#9;&#9;else if (item.IsA('DeusExAmmo'))<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;if (DeusExAmmo(item).AmmoAmount == 0)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;bPickedItemUp = True;<br>&#9;&#9;&#9;&#9;&#9;}<br><br>&#9;&#9;&#9;&#9;&#9;if (!bPickedItemUp)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;// Special case if this is a DeusExPickup(), it can have multiple copies<br>&#9;&#9;&#9;&#9;&#9;&#9;// and the player already has it.<br><br>&#9;&#9;&#9;&#9;&#9;&#9;if ((item.IsA('DeusExPickup')) && (DeusExPickup(item).bCanHaveMultipleCopies) && (player.FindInventoryType(item.class) != None))<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;invItem   = DeusExPickup(player.FindInventoryType(item.class));<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;itemCount = DeusExPickup(item).numCopies;<br><br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;// Make sure the player doesn't have too many copies<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if ((invItem.MaxCopies > 0) && (DeusExPickup(item).numCopies + invItem.numCopies > invItem.MaxCopies))<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;// Give the player the max #<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if ((invItem.MaxCopies - invItem.numCopies) > 0)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;itemCount = (invItem.MaxCopies - invItem.numCopies);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;DeusExPickup(item).numCopies -= itemCount;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;invItem.numCopies = invItem.MaxCopies;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;P.ClientMessage(invItem.PickupMessage @ invItem.itemArticle @ invItem.itemName, 'Pickup');<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;AddReceivedItem(player, invItem, itemCount);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;P.ClientMessage(Sprintf(msgCannotPickup, invItem.itemName));<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;invItem.numCopies += itemCount;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;DeleteInventory(item);<br><br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;P.ClientMessage(invItem.PickupMessage @ invItem.itemArticle @ invItem.itemName, 'Pickup');<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;AddReceivedItem(player, invItem, itemCount);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;// check if the pawn is allowed to pick this up<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if ((P.Inventory == None) || (Level.Game.PickupQuery(P, item)))<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;DeusExPlayer(P).FrobTarget = item;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if (DeusExPlayer(P).HandleItemPickup(Item) != False)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>                           DeleteInventory(item);<br><br>                           // DEUS_EX AMSD Belt info isn't always getting cleaned up.  Clean it up.<br>                           item.bInObjectBelt=False;<br>                           item.BeltPos=-1;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;<br>                           item.SpawnCopy(P);<br><br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;// Show the item received in the ReceivedItems window and also <br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;// display a line in the Log<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;AddReceivedItem(player, item, 1);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;P.ClientMessage(Item.PickupMessage @ Item.itemArticle @ Item.itemName, 'Pickup');<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;PlaySound(Item.PickupSound);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;DeleteInventory(item);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;item.Destroy();<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;item = None;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br><br>&#9;&#9;&#9;&#9;item = nextItem;<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;until ((item == None) || (item == startItem));<br>&#9;&#9;}<br><br>//log("  bFoundSomething = " $ bFoundSomething);<br><br>&#9;&#9;if (!bFoundSomething)<br>&#9;&#9;&#9;P.ClientMessage(msgEmpty);<br>&#9;}<br><br>   if ((player != None) && (Level.Netmode != NM_Standalone))<br>   {<br>      player.ClientMessage(Sprintf(msgRecharged, 25));<br>      <br>      PlaySound(sound'BioElectricHiss', SLOT_None,,, 256);<br>      <br>      player.Energy += 25;<br>      if (player.Energy > player.EnergyMax)<br>         player.Energy = player.EnergyMax;<br>   }<br><br>&#9;Super.Frob(Frobber, frobWith);<br><br>   if ((Level.Netmode != NM_Standalone) && (Player != None))   <br>   {<br>&#9;   bQueuedDestroy = true;<br>&#9;   Destroy();&#9;  <br>   }<br><br></div>
<h3 id="MPCarcass.HandleLanding"><a class="headerlink" href="#MPCarcass.HandleLanding" title="Permanent link">HandleLanding</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Vector HitLocation, HitNormal, EndTrace;<br>&#9;local Actor hit;<br>&#9;local BloodPool pool;<br><br><br>&#9;&#9;if (!bNotDead)<br>&#9;&#9;{<br>&#9;&#9;&#9;// trace down about 20 feet if we're not in water<br>&#9;&#9;&#9;if (!Region.Zone.bWaterZone)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;EndTrace = Location - vect(0,0,320);<br>&#9;&#9;&#9;&#9;hit = Trace(HitLocation, HitNormal, EndTrace, Location, False);<br>            if ((DeusExMPGame(Level.Game) != None) && (!DeusExMPGame(Level.Game).bSpawnEffects))<br>            {<br>               pool = None;<br>            }<br>            else<br>            {<br>               pool = spawn(class'BloodPool',,, HitLocation+HitNormal, Rotator(HitNormal));<br>            }<br>&#9;&#9;&#9;&#9;if (pool != None)<br>&#9;&#9;&#9;&#9;&#9;pool.maxDrawScale = CollisionRadius / 40.0;<br>&#9;&#9;&#9;}<br><br>&#9;&#9;&#9;// alert NPCs that I'm food<br>&#9;&#9;&#9;AIStartEvent('Food', EAITYPE_Visual);<br>&#9;&#9;}<br><br>&#9;&#9;// by default, the collision radius is small so there won't be as<br>&#9;&#9;// many problems spawning carcii<br>&#9;&#9;// expand the collision radius back to where it's supposed to be<br>&#9;&#9;// don't change animal carcass collisions<br>&#9;&#9;if (!bAnimalCarcass)<br>&#9;&#9;&#9;SetCollisionSize(40.0, Default.CollisionHeight);<br><br>&#9;&#9;// alert NPCs that I'm really disgusting<br>&#9;&#9;if (bEmitCarcass)<br>&#9;&#9;&#9;AIStartEvent('Carcass', EAITYPE_Visual);<br>&#9;<br></div>
<h3 id="MPCarcass.InitFor"><a class="headerlink" href="#MPCarcass.InitFor" title="Permanent link">InitFor</a> (Actor Other)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if (Other != None)<br>&#9;{<br>&#9;&#9;// set as unconscious or add the pawns name to the description<br>&#9;&#9;if (!bAnimalCarcass)<br>&#9;&#9;{<br>&#9;&#9;&#9;if (bNotDead)<br>&#9;&#9;&#9;&#9;itemName = msgNotDead;<br>&#9;&#9;&#9;else if (Other.IsA('ScriptedPawn'))<br>&#9;&#9;&#9;&#9;itemName = itemName $ " (" $ ScriptedPawn(Other).FamiliarName $ ")";<br>&#9;&#9;}<br><br>&#9;&#9;Mass           = Other.Mass;<br>&#9;&#9;Buoyancy       = Mass * 1.2;<br>&#9;&#9;MaxDamage      = 0.8*Mass;<br>&#9;&#9;if (ScriptedPawn(Other) != None)<br>&#9;&#9;&#9;if (ScriptedPawn(Other).bBurnedToDeath)<br>&#9;&#9;&#9;&#9;CumulativeDamage = MaxDamage-1;<br><br>&#9;&#9;SetScaleGlow();<br><br>&#9;&#9;// Will this carcass spawn flies?<br>&#9;&#9;if (bAnimalCarcass)<br>&#9;&#9;{<br>&#9;&#9;&#9;itemName = msgAnimalCarcass;<br>&#9;&#9;&#9;if (FRand() < 0.2)<br>&#9;&#9;&#9;&#9;bGenerateFlies = true;<br>&#9;&#9;}<br>&#9;&#9;else if (!Other.IsA('Robot') && !bNotDead)<br>&#9;&#9;{<br>&#9;&#9;&#9;if (FRand() < 0.1)<br>&#9;&#9;&#9;&#9;bGenerateFlies = true;<br>&#9;&#9;&#9;bEmitCarcass = true;<br>&#9;&#9;}<br><br>&#9;&#9;if (Other.AnimSequence == 'DeathFront')<br>&#9;&#9;&#9;Mesh = Mesh2;<br><br>&#9;&#9;// set the instigator and tag information<br>&#9;&#9;if (Other.Instigator != None)<br>&#9;&#9;{<br>&#9;&#9;&#9;KillerBindName = Other.Instigator.BindName;<br>&#9;&#9;&#9;KillerAlliance = Other.Instigator.Alliance;<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;{<br>&#9;&#9;&#9;KillerBindName = Other.BindName;<br>&#9;&#9;&#9;KillerAlliance = '';<br>&#9;&#9;}<br>&#9;&#9;Tag = Other.Tag;<br>&#9;&#9;Alliance = Pawn(Other).Alliance;<br>&#9;&#9;CarcassName = Other.Name;<br>&#9;}<br><br></div>
<h3 id="MPCarcass.PostBeginPlay"><a class="headerlink" href="#MPCarcass.PostBeginPlay" title="Permanent link">PostBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int i, j;<br>&#9;local Inventory inv;<br><br><br>&#9;bCollideWorld = true;<br><br>&#9;// Use the carcass name by default<br>&#9;CarcassName = Name;<br><br>&#9;// Add initial inventory items<br>&#9;for (i=0; i<8; i++)<br>&#9;{<br>&#9;&#9;if ((InitialInventory[i].inventory != None) && (InitialInventory[i].count > 0))<br>&#9;&#9;{<br>&#9;&#9;&#9;for (j=0; j<InitialInventory[i].count; j++)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;inv = spawn(InitialInventory[i].inventory, self);<br>&#9;&#9;&#9;&#9;if (inv != None)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;inv.bHidden = True;<br>&#9;&#9;&#9;&#9;&#9;inv.SetPhysics(PHYS_None);<br>&#9;&#9;&#9;&#9;&#9;AddInventory(inv);<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br><br>&#9;// use the correct mesh<br>&#9;if (Region.Zone.bWaterZone)<br>&#9;{<br>&#9;&#9;Mesh = Mesh3;<br>&#9;&#9;bNotDead = False;&#9;&#9;// you will die in water every time<br>&#9;}<br><br>&#9;if (bAnimalCarcass)<br>&#9;&#9;itemName = msgAnimalCarcass;<br><br>&#9;MaxDamage = 0.8*Mass;<br>&#9;SetScaleGlow();<br><br>&#9;SetTimer(30.0, False);<br><br>&#9;Super.PostBeginPlay();<br><br></div>
<h3 id="MPCarcass.SetScaleGlow"><a class="headerlink" href="#MPCarcass.SetScaleGlow" title="Permanent link">SetScaleGlow</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local float pct;<br><br><br>&#9;// scaleglow based on damage<br>&#9;pct = FClamp(1.0-float(CumulativeDamage)/MaxDamage, 0.1, 1.0);<br>&#9;ScaleGlow = pct;<br><br></div>
<h3 id="MPCarcass.TakeDamage"><a class="headerlink" href="#MPCarcass.TakeDamage" title="Permanent link">TakeDamage</a> (int Damage, Pawn instigatedBy, Vector hitLocation, Vector momentum, name damageType)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int i;<br><br><br>&#9;if (bInvincible)<br>&#9;&#9;return;<br><br>&#9;// only take "gib" damage from these damage types<br>&#9;if ((damageType == 'Shot') || (damageType == 'Sabot') || (damageType == 'Exploded') || (damageType == 'Munch') ||<br>&#9;    (damageType == 'Tantalus'))<br>&#9;{<br>&#9;&#9;if ((damageType != 'Munch') && (damageType != 'Tantalus'))<br>&#9;&#9;{<br>         if ((DeusExMPGame(Level.Game) != None) && (!DeusExMPGame(Level.Game).bSpawnEffects))<br>         {<br>         }<br>         else<br>         {<br>            spawn(class'BloodSpurt',,,HitLocation);<br>            spawn(class'BloodDrop',,, HitLocation);<br>            for (i=0; i<Damage; i+=10)<br>               spawn(class'BloodDrop',,, HitLocation);<br>         }<br>&#9;&#9;}<br><br>&#9;&#9;// this section copied from Carcass::TakeDamage() and modified a little<br>&#9;&#9;if (!bDecorative)<br>&#9;&#9;{<br>&#9;&#9;&#9;bBobbing = false;<br>&#9;&#9;&#9;SetPhysics(PHYS_Falling);<br>&#9;&#9;}<br>&#9;&#9;if ((Physics == PHYS_None) && (Momentum.Z < 0))<br>&#9;&#9;&#9;Momentum.Z *= -1;<br>&#9;&#9;Velocity += 3 * momentum/(Mass + 200);<br>&#9;&#9;if (DamageType == 'Shot')<br>&#9;&#9;&#9;Damage *= 0.4;<br>&#9;&#9;CumulativeDamage += Damage;<br>&#9;&#9;if (CumulativeDamage >= MaxDamage)<br>&#9;&#9;&#9;ChunkUp(Damage);<br>&#9;&#9;if (bDecorative)<br>&#9;&#9;&#9;Velocity = vect(0,0,0);<br>&#9;}<br><br>&#9;SetScaleGlow();<br><br></div>
<h3 id="MPCarcass.Tick"><a class="headerlink" href="#MPCarcass.Tick" title="Permanent link">Tick</a> (float deltaSeconds)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if (!bInit)<br>&#9;{<br>&#9;&#9;bInit = true;<br>&#9;&#9;if (bEmitCarcass)<br>&#9;&#9;&#9;AIStartEvent('Carcass', EAITYPE_Visual);<br>&#9;}<br>&#9;Super.Tick(deltaSeconds);<br><br></div>
<h3 id="MPCarcass.Timer"><a class="headerlink" href="#MPCarcass.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if (bGenerateFlies)<br>&#9;{<br>&#9;&#9;flyGen = Spawn(Class'FlyGenerator', , , Location, Rotation);<br>&#9;&#9;if (flyGen != None)<br>&#9;&#9;&#9;flyGen.SetBase(self);<br>&#9;}<br><br></div>
<h3 id="MPCarcass.ZoneChange"><a class="headerlink" href="#MPCarcass.ZoneChange" title="Permanent link">ZoneChange</a> (ZoneInfo NewZone)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.ZoneChange(NewZone);<br><br>&#9;// use the correct mesh for water<br>&#9;if (NewZone.bWaterZone)<br>&#9;&#9;Mesh = Mesh3;<br><br></div>
<br><br><hr>
<a class="headerlink" href="#MPLaserEmitter.uc" title="Permanent link"><h2 id="MPLaserEmitter.uc">MPLaserEmitter.uc (extends Effects)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var LaserSpot spot[2];			// max of 2 reflections<br>var bool bIsOn;<br>var actor HitActor;<br>var bool bFrozen;				// are we out of the player's sight?<br>var bool bRandomBeam;<br>var bool bBlueBeam;				// is this beam blue?<br>var bool bHiddenBeam;			// is this beam hidden?<br>var LaserProxy proxy;<br>var bool bInitialized;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bBlueBeam=True<br>bAlwaysRelevant=True<br>SoundRadius=16<br>AmbientSound=Sound'Ambient.Ambient.Laser'<br>CollisionRadius=40.000000<br>CollisionHeight=40.000000<br>NetUpdateFrequency=15.000000<br>RenderIteratorClass=Class'PartyStuff.MPLaserIterator'</div>
<h3 id="MPLaserEmitter.CalcTrace"><a class="headerlink" href="#MPLaserEmitter.CalcTrace" title="Permanent link">CalcTrace</a> (float deltaTime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local vector StartTrace, EndTrace, HitLocation, HitNormal, Reflection;<br>&#9;local actor target;<br>&#9;local int i, texFlags;<br>&#9;local name texName, texGroup;<br><br><br>&#9;StartTrace = Location;<br>&#9;EndTrace = Location + 5000 * vector(Rotation);<br>&#9;HitActor = None;<br><br>&#9;// trace the path of the reflected beam and draw points at each hit<br>&#9;for (i=0; i<ArrayCount(spot); i++)<br>&#9;{<br>&#9;&#9;foreach TraceTexture(class'Actor', target, texName, texGroup, texFlags, HitLocation, HitNormal, EndTrace, StartTrace)<br>&#9;&#9;{<br>&#9;&#9;&#9;if ((target.DrawType == DT_None) || target.bHidden)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;// do nothing - keep on tracing<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else if ((target == Level) || target.IsA('Mover'))<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;break;<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;HitActor = target;<br>&#9;&#9;&#9;&#9;break;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br><br>        if(spot[i] != none)<br>        {<br>&#9;&#9;    Reflection = MirrorVectorByNormal(Normal(spot[i].location - StartTrace), HitNormal);<br>&#9;&#9;    StartTrace = HitLocation + HitNormal;<br>&#9;&#9;    EndTrace = Reflection * 10000;<br>        }<br><br>        if(Level.NetMode != NM_DedicatedServer)<br>        {<br>            //GetPlayerPawn().ClientMessage("calcing:"@deltaTime);<br>&#9;    &#9;// draw first beam<br>&#9;&#9;&#9;if (i == 0)<br>&#9;&#9;&#9;{<br>&#9;&#9;   &#9;&#9;// log("drawing at rot:"@Rotation);<br>&#9;&#9;&#9;&#9;if (MPLaserIterator(RenderInterface) != None)<br>&#9;&#9;&#9;&#9;    MPLaserIterator(RenderInterface).AddBeam(i, Location, rotator(spot[i].location - Location), VSize(Location - spot[i].location));<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if (MPLaserIterator(RenderInterface) != None)<br>&#9;&#9;&#9;&#9;&#9;MPLaserIterator(RenderInterface).AddBeam(i, StartTrace - HitNormal, Rotator(Reflection), VSize(StartTrace - spot[i].location - HitNormal));<br>&#9;&#9;&#9;}<br>        }<br>        if(level.netmode != NM_Client)<br>        {<br>&#9;&#9;&#9;if (spot[i] == None)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;spot[i] = Spawn(class'LaserSpot', Self, , HitLocation, Rotator(HitNormal));<br>&#9;&#9;&#9;&#9;spot[i].RemoteRole=ROLE_DumbProxy;<br>&#9;&#9;&#9;&#9;spot[i].bAlwaysRelevant=true;<br>&#9;&#9;&#9;&#9;spot[i].NetUpdateFrequency=10;<br>&#9;&#9;&#9;&#9;if (bBlueBeam && (spot[i] != None))<br>&#9;&#9;&#9;&#9;&#9;spot[i].Skin = Texture'LaserSpot2';<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;   // Broadcastmessage("oldloc="$spot[i].location$", newloc="$hitlocation);<br>&#9;&#9;&#9;&#9;spot[i].SetLocation(HitLocation);<br>&#9;&#9;&#9;&#9;spot[i].SetRotation(Rotator(HitNormal));<br>&#9;&#9;&#9;}<br>        }<br>&#9;&#9;// don't reflect any more if we don't hit a mirror<br>&#9;&#9;// 0x08000000 is the PF_Mirrored flag from UnObj.h<br>&#9;&#9;if ((texFlags & 0x08000000) == 0)<br>&#9;&#9;{<br>&#9;&#9;&#9;// kill all of the other spots after this one<br>&#9;&#9;&#9;if (i < ArrayCount(spot)-1)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;do<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;i++;<br>&#9;&#9;&#9;&#9;&#9;if(level.netmode != NM_Client)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;    if (spot[i] != None)<br>&#9;&#9;&#9;&#9;&#9;    {<br>&#9;&#9;&#9;&#9;  &#9;        spot[i].Destroy();<br>&#9;&#9;&#9;&#9;  &#9;        spot[i] = None;<br>&#9;&#9;&#9;&#9;  &#9;    }<br>&#9;&#9;  &#9;        }<br>&#9;&#9;  &#9;        else if(Level.NetMode != NM_DedicatedServer)<br>&#9;&#9;&#9;&#9;&#9;&#9;if (MPLaserIterator(RenderInterface) != None)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;MPLaserIterator(RenderInterface).DeleteBeam(i);<br><br>&#9;&#9;&#9;&#9;} until (i>=ArrayCount(spot)-1);<br>&#9;&#9;&#9;}<br><br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br><br><br>&#9;}<br><br></div>
<h3 id="MPLaserEmitter.Destroyed"><a class="headerlink" href="#MPLaserEmitter.Destroyed" title="Permanent link">Destroyed</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;TurnOff();<br><br>&#9;if (proxy != None)<br>&#9;{<br>&#9;&#9;proxy.Destroy();<br>&#9;&#9;proxy = None;<br>&#9;}<br><br>&#9;Super.Destroyed();<br><br></div>
<h3 id="MPLaserEmitter.PostBeginPlay"><a class="headerlink" href="#MPLaserEmitter.PostBeginPlay" title="Permanent link">PostBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PostBeginPlay();<br>&#9;if (proxy == None && level.netMode != NM_Client)<br>&#9;{<br>&#9;&#9;proxy = Spawn(class'LaserProxy',,, Location, Rotation);<br>&#9;&#9;if(proxy != none)<br>&#9;&#9;{<br>&#9;&#9;    proxy.bAlwaysRelevant=bAlwaysRelevant;<br>&#9;&#9;    proxy.NetUpdateFrequency=NetUpdateFrequency;<br>&#9;&#9;}<br>&#9;&#9;//proxy.Mesh=LodMesh'DeusExItems.NanoSwordPickup';<br>&#9;&#9;if(bBlueBeam)<br>&#9;&#9;  SetBlueBeam();<br>&#9;&#9;//broadcastmessage("postbeginplay server("$level.netmode$").. proxy:"@proxy@"  proxyrot:"@proxy.rotation@"  skin:"@proxy.Skin);<br>    }<br>&#9;if(level.netMode != NM_DedicatedServer)<br>      SetTimer(0.5,false);<br>//    log("pbp");<br><br></div>
<h3 id="MPLaserEmitter.SetBlueBeam"><a class="headerlink" href="#MPLaserEmitter.SetBlueBeam" title="Permanent link">SetBlueBeam</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;bBlueBeam = True;<br>&#9;if (proxy != None)<br>&#9;&#9;proxy.Skin = Texture'LaserBeam2';<br><br></div>
<h3 id="MPLaserEmitter.SetHiddenBeam"><a class="headerlink" href="#MPLaserEmitter.SetHiddenBeam" title="Permanent link">SetHiddenBeam</a> (bool bHide)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;bHiddenBeam = bHide;<br>&#9;if (proxy != None)<br>&#9;&#9;proxy.bHidden = bHide;<br><br></div>
<h3 id="MPLaserEmitter.Tick"><a class="headerlink" href="#MPLaserEmitter.Tick" title="Permanent link">Tick</a> (float deltaTime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer player;<br>&#9;local int i;<br><br><br>&#9;// check for visibility<br>&#9;player = DeusExPlayer(GetPlayerPawn());<br><br>&#9;if (bIsOn)<br>&#9;{<br>&#9;&#9;// if we are a weapon's laser sight, do not freeze us<br>&#9;&#9;if ((Owner != None) && (Owner.IsA('Weapon') || Owner.IsA('ScriptedPawn')))<br>&#9;&#9;&#9;bFrozen = False;<br>&#9;&#9;else if (proxy != None)<br>&#9;&#9;{<br>&#9;&#9;&#9;// if we are close, say 60 feet<br>&#9;&#9;&#9;if (proxy.DistanceFromPlayer < 960)<br>&#9;&#9;&#9;&#9;bFrozen = False;<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;// can the player see the generator?<br>&#9;&#9;&#9;&#9;if (proxy.LastRendered() <= 2.0)<br>&#9;&#9;&#9;&#9;&#9;bFrozen = False;<br>&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;bFrozen = True;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;&#9;bFrozen = True;<br><br>&#9;&#9;if (bFrozen)<br>&#9;&#9;&#9;return;<br><br>&#9;&#9;<br>&#9;&#9;CalcTrace(deltaTime);<br>&#9;}<br><br></div>
<h3 id="MPLaserEmitter.Timer"><a class="headerlink" href="#MPLaserEmitter.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>    if(level.NetMode != NM_DedicatedServer)<br>&#9;{<br>&#9;&#9;//GetPlayerPawn().ClientMessage("timer called clientside("$level.netmode$").. proxy:"@proxy@"  proxyrot:"@proxy.rotation@"  skin:"@proxy.Skin);<br>&#9;&#9;if(Proxy != none)<br>&#9;&#9;{<br>&#9;&#9;&#9;//GetPlayerPawn().ClientMessage("PROXY FOUND - setting old rotation ("$Rotation$") to new rotation:"@proxy.Rotation);<br>&#9;&#9;&#9;SetRotation(proxy.Rotation);<br>&#9;&#9;&#9;//GetPlayerPawn().ClientMessage("NEW ROTATION:"@Rotation);<br>&#9;&#9;&#9;bInitialized=true;<br>&#9;&#9;&#9;<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;&#9;SetTimer(0.5,false);<br>&#9;}<br>//      log("setting rotation to"@owner.Rotation);<br>&#9;// create our proxy laser beam<br><br><br></div>
<h3 id="MPLaserEmitter.TurnOff"><a class="headerlink" href="#MPLaserEmitter.TurnOff" title="Permanent link">TurnOff</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int i;<br><br><br>&#9;if (bIsOn)<br>&#9;{<br>&#9;&#9;for (i=0; i<ArrayCount(spot); i++)<br>&#9;&#9;&#9;if (spot[i] != None)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;spot[i].Destroy();<br>&#9;&#9;&#9;&#9;spot[i] = None;<br>&#9;&#9;&#9;}<br><br>&#9;&#9;HitActor = None;<br>&#9;&#9;bIsOn = False;<br><br>&#9;&#9;if (!bHiddenBeam)<br>&#9;&#9;{<br>&#9;&#9;    proxy.DrawType=DT_None;<br>&#9;&#9;&#9;proxy.bHidden = True;<br>&#9;&#9;}<br>&#9;&#9;SoundVolume = 0;<br>&#9;}<br><br></div>
<h3 id="MPLaserEmitter.TurnOn"><a class="headerlink" href="#MPLaserEmitter.TurnOn" title="Permanent link">TurnOn</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if (!bIsOn)<br>&#9;{<br>&#9;&#9;bIsOn = True;<br>&#9;&#9;HitActor = None;<br>&#9;&#9;//CalcTrace(0.0);<br>&#9;&#9;if (!bHiddenBeam)<br>&#9;&#9;{<br>&#9;&#9;&#9;proxy.DrawType=DT_Mesh;<br>            proxy.bHidden = False;<br>&#9;&#9;}<br>        SoundVolume = 45;<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#MPLaserIterator.uc" title="Permanent link"><h2 id="MPLaserIterator.uc">MPLaserIterator.uc (extends LaserIterator)</h2></a>

<h3 id="MPLaserIterator.Init"><a class="headerlink" href="#MPLaserIterator.Init" title="Permanent link">Init</a> (PlayerPawn Camera)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local MPLaserEmitter Owner;<br>&#9;local int i;<br><br><br>&#9;Owner = MPLaserEmitter(Outer);<br>&#9;if (Owner != None)<br>&#9;{<br>&#9;&#9;MaxItems = 0;<br>&#9;&#9;nextItem = 0;<br>&#9;&#9;prevLoc = Owner.Location;<br>&#9;&#9;prevRand = vect(0,0,0);<br>&#9;&#9;savedLoc = Owner.Location;<br>&#9;&#9;savedRot = Owner.Rotation;<br>&#9;&#9;proxy = Owner.proxy;<br>&#9;&#9;bRandomBeam = Owner.bRandomBeam;<br>&#9;&#9;if (!Owner.bFrozen && !Owner.bHiddenBeam)<br>&#9;&#9;{<br>&#9;&#9;&#9;// set MaxItems based on length of beams<br>&#9;&#9;&#9;for (i=0; i<ArrayCount(Beams); i++)<br>&#9;&#9;&#9;&#9;if (Beams[i].bActive)<br>&#9;&#9;&#9;&#9;&#9;MaxItems += Beams[i].numSegments;<br><br>&#9;&#9;&#9;// make sure we render the last one<br>&#9;&#9;&#9;if (MaxItems > 0)<br>&#9;&#9;&#9;&#9;MaxItems++;<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="MPLaserIterator.getBeam"><a class="headerlink" href="#MPLaserIterator.getBeam" title="Permanent link">getBeam</a> (int i) -> sBeam</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>    return beams[i];<br><br></div>
<br><br><hr>
<a class="headerlink" href="#MPLaserTrigger.uc" title="Permanent link"><h2 id="MPLaserTrigger.uc">MPLaserTrigger.uc (extends Trigger)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var MPLaserEmitter emitter;<br>var() bool bIsOn;<br>var() bool bNoAlarm;			// if True, does NOT sound alarm<br>var actor LastHitActor;<br>var bool bConfused;				// used when hit by EMP<br>var float confusionTimer;		// how long until trigger resumes normal operation<br>var() float confusionDuration;	// how long does EMP hit last?<br>var int HitPoints;<br>var int minDamageThreshold;<br>var float lastAlarmTime;		// last time the alarm was sounded<br>var int alarmTimeout;			// how long before the alarm silences itself<br>var actor triggerActor;			// actor which last triggered the alarm<br>var vector actorLocation;		// last known location of actor that triggered alarm<br>var() bool bDisableAtStart; //Added to provide a way to start the lasers disabled</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bIsOn=True<br>confusionDuration=10.000000<br>HitPoints=50<br>minDamageThreshold=50<br>alarmTimeout=30<br>bHidden=False<br>InitialState=OtherTriggerToggles<br>bDirectional=True<br>Mesh=LodMesh'DeusExDeco.LaserEmitter'<br>CollisionRadius=2.500000<br>CollisionHeight=2.500000</div>
<h3 id="MPLaserTrigger.BeginAlarm"><a class="headerlink" href="#MPLaserTrigger.BeginAlarm" title="Permanent link">BeginAlarm</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;AmbientSound = Sound'Klaxon2';<br>&#9;SoundVolume = 128;<br>&#9;SoundRadius = 64;<br>&#9;lastAlarmTime = Level.TimeSeconds;<br>&#9;AIStartEvent('Alarm', EAITYPE_Audio, SoundVolume/255.0, 25*(SoundRadius+1));<br><br>&#9;// make sure we can't go into stasis while we're alarming<br>&#9;bStasis = False;<br><br></div>
<h3 id="MPLaserTrigger.BeginPlay"><a class="headerlink" href="#MPLaserTrigger.BeginPlay" title="Permanent link">BeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.BeginPlay();<br><br>&#9;LastHitActor = None;<br>&#9;emitter = Spawn(class'MPLaserEmitter',self,,location,rotation);<br><br>&#9;if (emitter != None)<br>&#9;{<br>&#9;&#9;emitter.TurnOn();<br>&#9;&#9;bIsOn = True;<br><br>&#9;&#9;// turn off the sound if we should<br>&#9;&#9;if (SoundVolume == 0)<br>&#9;&#9;&#9;emitter.AmbientSound = None;<br>&#9;}<br>&#9;else<br>&#9;&#9;bIsOn = False;<br>&#9;&#9;<br>&#9;if(bDisableAtStart)<br>&#9;{<br>&#9;&#9;Trigger(None, None);<br>&#9;}<br><br></div>
<h3 id="MPLaserTrigger.Destroyed"><a class="headerlink" href="#MPLaserTrigger.Destroyed" title="Permanent link">Destroyed</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if (emitter != None)<br>&#9;{<br>&#9;&#9;emitter.Destroy();<br>&#9;&#9;emitter = None;<br>&#9;}<br><br>&#9;Super.Destroyed();<br><br></div>
<h3 id="MPLaserTrigger.EndAlarm"><a class="headerlink" href="#MPLaserTrigger.EndAlarm" title="Permanent link">EndAlarm</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;AmbientSound = None;<br>&#9;lastAlarmTime = 0;<br>&#9;AIEndEvent('Alarm', EAITYPE_Audio);<br><br>&#9;// reset our stasis info<br>&#9;bStasis = Default.bStasis;<br><br></div>
<h3 id="MPLaserTrigger.ProcessTriggers"><a class="headerlink" href="#MPLaserTrigger.ProcessTriggers" title="Permanent link">ProcessTriggers</a> (Actor Inst)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Actor A;<br><br>&#9;<br>&#9;foreach AllActors(class'Actor', A, Event)<br>&#9;{<br>&#9;&#9;A.Trigger(Self, Pawn(Inst));<br>&#9;}<br><br></div>
<h3 id="MPLaserTrigger.TakeDamage"><a class="headerlink" href="#MPLaserTrigger.TakeDamage" title="Permanent link">TakeDamage</a> (int Damage, Pawn EventInstigator, vector HitLocation, vector Momentum, name DamageType)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local MetalFragment frag;<br><br><br>&#9;if ((DamageType == 'EMP') || (DamageType == 'Exploded') || (DamageType == 'Shot'))<br>&#9;{<br>&#9;&#9;confusionTimer = 0;<br>&#9;&#9;if (!bConfused)<br>&#9;&#9;{<br>&#9;&#9;&#9;bConfused = True;<br>&#9;&#9;&#9;PlaySound(sound'EMPZap', SLOT_None,,, 1280);<br>&#9;&#9;}<br>&#9;}<br>&#9;/*else if ((DamageType == 'Exploded') || (DamageType == 'Shot'))<br>&#9;{<br>&#9;&#9;if (Damage >= minDamageThreshold)<br>&#9;&#9;&#9;HitPoints -= Damage;<br><br>&#9;&#9;if (HitPoints <= 0)<br>&#9;&#9;{<br>&#9;&#9;&#9;frag = Spawn(class'MetalFragment', Owner);<br>&#9;&#9;&#9;if (frag != None)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;frag.Instigator = EventInstigator;<br>&#9;&#9;&#9;&#9;frag.CalcVelocity(Momentum,0);<br>&#9;&#9;&#9;&#9;frag.DrawScale = 0.5*FRand();<br>&#9;&#9;&#9;&#9;frag.Skin = GetMeshTexture();<br>&#9;&#9;&#9;}<br><br>&#9;&#9;&#9;Destroy();<br>&#9;&#9;}<br>&#9;}*/<br><br></div>
<h3 id="MPLaserTrigger.Tick"><a class="headerlink" href="#MPLaserTrigger.Tick" title="Permanent link">Tick</a> (float deltaTime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Actor A;<br>&#9;local AdaptiveArmor armor;<br>&#9;local bool bTrigger;<br><br><br>&#9;if (emitter != None)<br>&#9;{<br>&#9;&#9;// shut off the alarm if the timeout has expired<br>&#9;&#9;if (lastAlarmTime != 0)<br>&#9;&#9;{<br>&#9;&#9;&#9;if (Level.TimeSeconds - lastAlarmTime >= alarmTimeout)<br>&#9;&#9;&#9;&#9;EndAlarm();<br>&#9;&#9;}<br><br>&#9;&#9;// if we've been EMP'ed, act confused<br>&#9;&#9;if (bConfused && bIsOn)<br>&#9;&#9;{<br>&#9;&#9;&#9;confusionTimer += deltaTime;<br><br>&#9;&#9;&#9;// randomly turn on/off the beam<br>&#9;&#9;&#9;if (FRand() > 0.95)<br>&#9;&#9;&#9;&#9;emitter.TurnOn();<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;emitter.TurnOff();<br><br>&#9;&#9;&#9;if (confusionTimer > confusionDuration)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;bConfused = False;<br>&#9;&#9;&#9;&#9;confusionTimer = 0;<br>&#9;&#9;&#9;&#9;emitter.TurnOn();<br>&#9;&#9;&#9;}<br><br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br><br>&#9;&#9;//emitter.SetLocation(Location);<br>&#9;&#9;//emitter.SetRotation(Rotation);<br><br>&#9;&#9;if (!bNoAlarm)<br>&#9;&#9;{<br>&#9;&#9;&#9;if ((emitter.HitActor != None) && (LastHitActor != emitter.HitActor))<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;// TT_PlayerProximity actually works with decorations, too<br>&#9;&#9;&#9;&#9;if (IsRelevant(emitter.HitActor) ||<br>&#9;&#9;&#9;&#9;&#9;((TriggerType == TT_PlayerProximity) && emitter.HitActor.IsA('Decoration')))<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;bTrigger = True;<br><br>&#9;&#9;&#9;&#9;&#9;if (emitter.HitActor.IsA('DeusExPlayer'))<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;// check for adaptive armor - makes the player invisible<br>&#9;&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'AdaptiveArmor', armor)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if ((armor.Owner == emitter.HitActor) && armor.bActive)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;bTrigger = False;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;break;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br><br>&#9;&#9;&#9;&#9;&#9;if (bTrigger)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;// now, the trigger sounds its own alarm<br>&#9;&#9;&#9;&#9;&#9;&#9;if (AmbientSound == None)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;triggerActor = emitter.HitActor;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;actorLocation = emitter.HitActor.Location - vect(0,0,1)*(emitter.HitActor.CollisionHeight-1);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;BeginAlarm();<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;ProcessTriggers(emitter.HitActor);<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br><br>&#9;&#9;&#9;&#9;&#9;&#9;// play "beam broken" sound<br>&#9;&#9;&#9;&#9;&#9;&#9;PlaySound(sound'Beep2',,,, 1280, 3.0);<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br><br>&#9;&#9;LastHitActor = emitter.HitActor;<br>&#9;}<br><br></div>
<h3 id="MPLaserTrigger.Touch"><a class="headerlink" href="#MPLaserTrigger.Touch" title="Permanent link">Touch</a> (Actor Other)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;// does nothing when touched<br><br></div>
<h3 id="MPLaserTrigger.Trigger"><a class="headerlink" href="#MPLaserTrigger.Trigger" title="Permanent link">Trigger</a> (Actor Other, Pawn Instigator)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if (bConfused)<br>&#9;&#9;return;<br><br>&#9;if (emitter != None)<br>&#9;{<br>&#9;&#9;if (!bIsOn)<br>&#9;&#9;{<br>&#9;&#9;&#9;emitter.TurnOn();<br>&#9;&#9;&#9;bIsOn = True;<br>&#9;&#9;&#9;LastHitActor = None;<br>&#9;&#9;&#9;MultiSkins[1] = Texture'LaserSpot1';<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;{<br>&#9;&#9;&#9;emitter.TurnOff();<br>&#9;&#9;&#9;bIsOn = False;<br>&#9;&#9;&#9;LastHitActor = None;<br>&#9;&#9;&#9;MultiSkins[1] = Texture'BlackMaskTex';<br>&#9;&#9;&#9;EndAlarm();<br>&#9;&#9;}<br>&#9;}<br><br>&#9;Super.Trigger(Other, Instigator);<br><br></div>
<h3 id="MPLaserTrigger.UnTrigger"><a class="headerlink" href="#MPLaserTrigger.UnTrigger" title="Permanent link">UnTrigger</a> (Actor Other, Pawn Instigator)</h3>

<br><br><hr>
<a class="headerlink" href="#MPParticleProxy.uc" title="Permanent link"><h2 id="MPParticleProxy.uc">MPParticleProxy.uc (extends Actor)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var ParticleGenerator pg;<br>var() bool bParticlesUnlit;<br>var() bool bTranslucent;<br>var() float particleDrawScale;<br>var() float checkTime;<br>var() float frequency;<br>var() float riseRate;<br>var() float ejectSpeed;<br>var() float particleLifeSpan;<br>var() bool bRandomEject;<br>var() float numPerSpawn;<br>var() texture particleTexture;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bParticlesUnlit=True<br>bTranslucent=True<br>particleDrawScale=0.050000<br>checkTime=0.250000<br>Frequency=0.800000<br>RiseRate=5.000000<br>ejectSpeed=10.000000<br>particleLifeSpan=2.000000<br>bRandomEject=True<br>numPerSpawn=2.000000<br>particleTexture=FireTexture'Effects.Smoke.SmokePuff1'<br>bHidden=True</div>
<h3 id="MPParticleProxy.Destroyed"><a class="headerlink" href="#MPParticleProxy.Destroyed" title="Permanent link">Destroyed</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if (pg != None)<br>&#9;&#9;pg.DelayedDestroy();<br><br>&#9;Super.Destroyed();<br><br></div>
<h3 id="MPParticleProxy.PostBeginPlay"><a class="headerlink" href="#MPParticleProxy.PostBeginPlay" title="Permanent link">PostBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local ParticleGenerator ToxicDrip;<br><br>&#9;Super.PostBeginPlay();<br><br>&#9;ToxicDrip = Spawn(class'ParticleGenerator', Self,, Location, rot(16384,0,0));<br>&#9;if (ToxicDrip != None)<br>&#9;{<br>&#9;&#9;ToxicDrip.bParticlesUnlit = bParticlesUnlit;<br>&#9;&#9;ToxicDrip.bTranslucent = bTranslucent;<br>&#9;&#9;ToxicDrip.particleDrawScale = particleDrawScale;<br>&#9;&#9;ToxicDrip.checkTime = checkTime;<br>&#9;&#9;ToxicDrip.frequency = frequency;<br>&#9;&#9;ToxicDrip.riseRate = riseRate;<br>&#9;&#9;ToxicDrip.ejectSpeed = ejectSpeed;<br>&#9;&#9;ToxicDrip.particleLifeSpan = particleLifeSpan;<br>&#9;&#9;ToxicDrip.bRandomEject = bRandomEject;<br>&#9;&#9;ToxicDrip.numPerSpawn = numPerSpawn;<br>&#9;&#9;ToxicDrip.particleTexture = particleTexture;<br>&#9;&#9;ToxicDrip.SetBase(Self);<br>&#9;&#9;pg = ToxicDrip;<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#MSGR.uc" title="Permanent link"><h2 id="MSGR.uc">MSGR.uc (extends DeusExDecoration)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var bool bNew, bReturning;<br>var(MSGR) string myMSG, MSGSender, MSGTimestamp;<br>var bool bSentByPlayer;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">myMSG="DEFAULT MSG - REPORT AS BUG"<br>msgsender="NO SENDER DATA"<br>MSGTimestamp="NO:TIME"<br>bInvincible=True<br>ItemName="Player Created Message"<br>bPushable=False<br>Physics=PHYS_None<br>DrawType=DT_Sprite<br>Style=STY_Translucent<br>Sprite=Texture'DeusExUI.UserInterface.LogIcon'<br>Texture=Texture'DeusExUI.UserInterface.LogIcon'<br>Skin=Texture'DeusExUI.UserInterface.LogIcon'<br>CollisionRadius=25.200001<br>CollisionHeight=25.000000<br>bBlockPlayers=False</div>
<h3 id="MSGR.Frob"><a class="headerlink" href="#MSGR.Frob" title="Permanent link">Frob</a> (Actor Frobber, Inventory frobWith)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer P;<br><br><br>&#9;/*if(bNew)<br>&#9;{<br>&#9;&#9;bNew=False;<br>&#9;&#9;LightType=LT_None;<br>&#9;}*/<br>&#9;<br>&#9;P = DeusExPlayer(Frobber);<br>//&#9;P.ClientMessage("|P3"$MSGSender$"|P3 @ "$MSGTimestamp);<br>&#9;if(bSentByPlayer)<br>&#9;{<br>&#9;&#9;P.ClientMessage("|P3["$MSGSender$"|P3 @ "$MSGTimestamp$"]");<br>&#9;&#9;P.ClientMessage("|P1"$myMsg);<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;if(MSGSender != "")<br>&#9;&#9;&#9;P.ClientMessage("|P3["$MSGSender$"|P3]");<br>&#9;&#9;P.ClientMessage("|P1"$myMsg);<br>&#9;}<br>&#9;&#9;<br>&#9;&#9;if(P.bIsCrouching && P.bAdmin && bSentByPlayer)<br>&#9;&#9;{<br>&#9;&#9;&#9;P.ClientMessage("Message deleted.");<br>&#9;&#9;&#9;Destroy();<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;Super.Frob(frobber, frobwith);<br><br></div>
<h3 id="MSGR.Tick"><a class="headerlink" href="#MSGR.Tick" title="Permanent link">Tick</a> (float v)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;/*if(bNew && LightType != LT_Steady)<br>&#9;{<br>&#9;&#9;LightHue=0;<br>&#9;&#9;LightRadius=18;<br>&#9;&#9;LightSaturation=175;<br>&#9;&#9;LightType=LT_Steady;<br>&#9;&#9;LightEffect=LE_NonIncidence;<br>&#9;}*/<br>&#9;&#9;<br>&#9;if(!bReturning)<br>&#9;{<br>&#9;&#9;Drawscale+=0.02;<br>&#9;&#9;if(Drawscale >= 1.5)<br>&#9;&#9;{<br>&#9;&#9;&#9;bReturning=True;<br>&#9;&#9;}<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;Drawscale-=0.02;<br>&#9;&#9;if(Drawscale <= 1.0)<br>&#9;&#9;{<br>&#9;&#9;&#9;bReturning=False;<br>&#9;&#9;}<br>&#9;}<br><br><br></div>
<br><br><hr>
<a class="headerlink" href="#MagicRing.uc" title="Permanent link"><h2 id="MagicRing.uc">MagicRing.uc (extends SizableEffects)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">LifeSpan=1.500000<br>Skin=Texture'PGAssets.Skins.YellowRay'<br>Mesh=LodMesh'DeusExItems.FlatFX'</div>
<br><br><hr>
<a class="headerlink" href="#MenuAlert.uc" title="Permanent link"><h2 id="MenuAlert.uc">MenuAlert.uc (extends MenuUIScreenWindow)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var MenuUIActionButtonWindow SendButton, exitButton;<br>var MenuUIEditWindow editCommand, editPassword;<br>var MenuUIHeaderWindow winText;<br>var localized string exitbuttontext, passwordlabel, sendbuttontext, commandlabel;<br>var DeusExPlayer _windowOwner;<br>var PSComputer Ac;<br>var PSComputerReplicationActor Mastah;<br>var localized string Username;<br>var string Password;<br>var bool bRem;<br>var MenuUIMessageBoxWindow AlertWin;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">exitbuttontext="Exit"<br>PasswordLabel="Password"<br>sendbuttontext="Send <Enter>"<br>commandlabel="Command"<br>ClientWidth=600<br>ClientHeight=150<br>clientTextures(0)=Texture'DeusExUI.UserInterface.MenuMessageBoxBackground_1'<br>clientTextures(1)=Texture'DeusExUI.UserInterface.MenuMessageBoxBackground_2'<br>textureRows=3<br>textureCols=2<br>bUsesHelpWindow=False</div>
<h3 id="MenuAlert.CreateMenuLabelX"><a class="headerlink" href="#MenuAlert.CreateMenuLabelX" title="Permanent link">CreateMenuLabelX</a> (int posX, int posY, String strLabel, Window winParent) -> MenuUILabelWindow</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local MenuUILabelWindow newLabel;<br><br><br>&#9;newLabel = MenuUILabelWindow(winParent.NewChild(Class'MenuUILabelWindow'));<br><br>&#9;newLabel.SetPos(posX, posY);<br>&#9;newLabel.SetText(strLabel);<br>&#9;newLabel.SetWordWrap(True);<br>&#9;newLabel.SetMinWidth(300);<br>&#9;newLabel.SetFont(Font'FontMenuSmall_DS');<br>&#9;return newLabel;<br><br></div>
<h3 id="MenuAlert.CreateTextWindow"><a class="headerlink" href="#MenuAlert.CreateTextWindow" title="Permanent link">CreateTextWindow</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;winText = CreateMenuHeader(21, 13, "", winClient);<br>&#9;winText.SetTextAlignments(HALIGN_Center, VALIGN_Center);<br>&#9;winText.SetFont(Font'FontMenuHeaders_DS');<br>&#9;winText.SetWindowAlignments(HALIGN_Full, VALIGN_Full, 20, 14);<br><br></div>
<h3 id="MenuAlert.Crt"><a class="headerlink" href="#MenuAlert.Crt" title="Permanent link">Crt</a> (string title, string str)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local float i;<br><br>&#9;i = ClientWidth;<br>&#9;i += Len(Str)*10;<br>&#9;SetTitle(title);<br>&#9;CreateMenuLabelX(10, 22, str, winClient);<br>&#9;SetSize(ClientWidth,ClientHeight);<br>&#9;AskParentForReconfigure();<br><br></div>
<h3 id="MenuAlert.InitWindow"><a class="headerlink" href="#MenuAlert.InitWindow" title="Permanent link">InitWindow</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Window W;<br><br><br>   Super.InitWindow();<br>   CreateTextWindow();<br>   //SendButton = winButtonBar.AddButton(sendButtonText, HALIGN_Right);<br>  // exitButton = winButtonBar.AddButton(exitButtonText, HALIGN_Right);<br>&#9;<br>   winClient.SetBackground(Texture'DeusExUI.MaskTexture');<br>   winClient.SetBackgroundStyle(DSTY_Modulated);<br><br>   W = winClient.NewChild(Class'Window');<br>   W.SetSize(ClientWidth, ClientHeight);<br>   W.SetBackground(Texture'DeusExDeco.BlackMaskTex');//(Texture'DeusExUI.MaskTexture');<br>   W.SetBackgroundStyle(DSTY_normal); //modulated<br>   W.Lower();<br><br></div>
<h3 id="MenuAlert.RawKeyPressed"><a class="headerlink" href="#MenuAlert.RawKeyPressed" title="Permanent link">RawKeyPressed</a> (EInputKey key, EInputState iState, bool bRepeat) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if (key == IK_Enter)// &&//(iState == IST_Release))<br>&#9;{<br>&#9;&#9;return False;<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;return false;<br>&#9;}<br><br></div>
<h3 id="MenuAlert.SetMessageText"><a class="headerlink" href="#MenuAlert.SetMessageText" title="Permanent link">SetMessageText</a> (String msgText)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;winText.SetText(msgText);<br><br>&#9;AskParentForReconfigure();<br><br></div>
<h3 id="MenuAlert.VirtualKeyPressed"><a class="headerlink" href="#MenuAlert.VirtualKeyPressed" title="Permanent link">VirtualKeyPressed</a> (EInputKey key, bool bRepeat) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local bool bHandled;<br><br><br>&#9;switch( key )<br>&#9;{<br>&#9;&#9;case IK_Enter:<br>&#9;&#9;&#9;bHandled = True;<br>&#9;&#9;&#9;break;<br>&#9;}<br><br>&#9;return bHandled;<br><br></div>
<br><br><hr>
<a class="headerlink" href="#Mercury.uc" title="Permanent link"><h2 id="Mercury.uc">Mercury.uc (extends OutdoorThings)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bStatic=False<br>Physics=PHYS_Rotating<br>Texture=Texture'DeusExDeco.Skins.DXLogoTex1'<br>Mesh=LodMesh'DeusExDeco.Earth'<br>DrawScale=2.250000<br>bMeshEnviroMap=True<br>CollisionRadius=123.639999<br>CollisionHeight=125.699997<br>bCollideActors=False<br>bCollideWorld=False<br>bBlockActors=False<br>bBlockPlayers=False<br>bFixedRotationDir=True<br>Mass=5000.000000<br>Buoyancy=500.000000<br>RotationRate=(Yaw=8192)</div>
<br><br><hr>
<a class="headerlink" href="#MomsKnife.uc" title="Permanent link"><h2 id="MomsKnife.uc">MomsKnife.uc (extends DeusExProjectile)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var float	mpDamage;<br>var int		mpAccurateRange;<br>var int		mpMaxRange;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">mpDamage=90.000000<br>mpAccurateRange=640<br>mpMaxRange=640<br>bBlood=True<br>bStickToWall=True<br>DamageType=shot<br>AccurateRange=640<br>maxRange=1280<br>bIgnoresNanoDefense=True<br>ItemName="Knife"<br>ItemArticle="Mom's"<br>speed=500.000000<br>MaxSpeed=500.000000<br>Damage=100.000000<br>MomentumTransfer=1000<br>ImpactSound=Sound'DeusExSounds.Generic.BulletHitFlesh'<br>Mesh=LodMesh'DeusExItems.CombatKnifePickup'<br>CollisionRadius=12.650000<br>CollisionHeight=0.800000</div>
<h3 id="MomsKnife.PreBeginPlay"><a class="headerlink" href="#MomsKnife.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;// If this is a netgame, then override defaults<br>&#9;if ( Level.NetMode != NM_StandAlone )<br>&#9;{<br>&#9;&#9;Damage = mpDamage;<br>&#9;&#9;AccurateRange = mpAccurateRange;<br>&#9;&#9;MaxRange = mpMaxRange;<br>&#9;}<br><br></div>
<h3 id="MomsKnife.Tick"><a class="headerlink" href="#MomsKnife.Tick" title="Permanent link">Tick</a> (float deltaTime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Rotator rot;<br><br><br>&#9;if (bStuck)<br>&#9;&#9;return;<br><br>&#9;Super.Tick(deltaTime);<br><br>&#9;if (Level.Netmode != NM_DedicatedServer)<br>&#9;{<br>&#9;&#9;rot = Rotation;<br>&#9;&#9;rot.Roll += 16384;<br>&#9;&#9;rot.Pitch -= 13384;<br>&#9;&#9;SetRotation(rot);<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#MomsKnifeRespawner.uc" title="Permanent link"><h2 id="MomsKnifeRespawner.uc">MomsKnifeRespawner.uc (extends PGActors)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var PlayerPawn Giver;</div>
<h3 id="MomsKnifeRespawner.SilentAdd"><a class="headerlink" href="#MomsKnifeRespawner.SilentAdd" title="Permanent link">SilentAdd</a> (class<inventory> addClass, DeusExPlayer addTarget)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Inventory anItem;<br> <br>&#9;<br>&#9;anItem = Spawn(addClass,,,addTarget.Location); <br>&#9;anItem.SpawnCopy(addTarget);<br>&#9;anItem.Destroy();<br>&#9;/*anItem.Instigator = addTarget; <br>&#9;anItem.GotoState('Idle2'); <br>&#9;anItem.bHeldItem = true; <br>&#9;anItem.bTossedOut = false; <br>&#9;<br>&#9;if(Weapon(anItem) != None) <br>&#9;&#9;Weapon(anItem).GiveAmmo(addTarget); <br>&#9;anItem.GiveTo(addTarget);*/<br><br></div>
<h3 id="MomsKnifeRespawner.Timer"><a class="headerlink" href="#MomsKnifeRespawner.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;SilentAdd(class'WeaponMomsKnife', DeusExPlayer(Giver));<br>destroy();<br><br></div>
<br><br><hr>
<a class="headerlink" href="#MusicBotWindow.uc" title="Permanent link"><h2 id="MusicBotWindow.uc">MusicBotWindow.uc (extends PlayMusicWindow)</h2></a>

<h3 id="MusicBotWindow.DestroyWindow"><a class="headerlink" href="#MusicBotWindow.DestroyWindow" title="Permanent link">DestroyWindow</a></h3>

<h3 id="MusicBotWindow.InitWindow"><a class="headerlink" href="#MusicBotWindow.InitWindow" title="Permanent link">InitWindow</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>Super.InitWindow();<br><br>SetTitle("Radio");<br>EnableWindow(True);<br>Show(True);<br><br></div>
<h3 id="MusicBotWindow.PlaySong"><a class="headerlink" href="#MusicBotWindow.PlaySong" title="Permanent link">PlaySong</a> (int rowID)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local String songName;<br>&#9;local Int songSection;<br><br><br>if (btnAmbient.GetToggle())<br> songSection = 0;<br>else if (btnCombat.GetToggle())<br> songSection = 3;<br>else if (btnConversation.GetToggle())<br> songSection = 4;<br>else if (btnOutro.GetToggle())<br> songSection = 5;<br>else if (btnDying.GetToggle())<br> songSection = 1;<br><br>songName = lstSongs.GetField(rowID, 1);<br>player.ConsoleCommand("Set LevelInfo Song None");<br><br>player.PlayMusic(songName, songSection);<br><br></div>
<br><br><hr>
<a class="headerlink" href="#MusicMemory.uc" title="Permanent link"><h2 id="MusicMemory.uc">MusicMemory.uc (extends PGActors)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var DeusExPlayer Watcher;<br>var music CurrentSong;<br>var bool bMMLocked;</div>
<h3 id="MusicMemory.PostBeginPlay"><a class="headerlink" href="#MusicMemory.PostBeginPlay" title="Permanent link">PostBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;SetTimer(5,True);<br><br></div>
<h3 id="MusicMemory.Timer"><a class="headerlink" href="#MusicMemory.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(Watcher == None)<br>&#9;&#9;Destroy();<br><br></div>
<br><br><hr>
<a class="headerlink" href="#MusicPoint.uc" title="Permanent link"><h2 id="MusicPoint.uc">MusicPoint.uc (extends DeusExDecoration)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var int PlaySlot;<br>var() music myTrackList[10];<br>var() EMusicTransition Transition;<br>var() byte             SongSection;<br>var() byte             CdTrack;<br>var() bool bAffectAllPlayers;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">Transition=MTRAN_Fade<br>CdTrack=255<br>bAffectAllPlayers=True<br>bInvincible=True<br>ItemName="Music Point"<br>bPushable=False<br>DrawType=DT_Sprite<br>Style=STY_Translucent<br>Texture=Texture'DeusExDeco.Skins.AlarmLightTex8'<br>Skin=Texture'DeusExDeco.Skins.AlarmLightTex8'<br>DrawScale=1.500000<br>CollisionRadius=45.200001<br>CollisionHeight=32.000000<br>bBlockPlayers=False</div>
<h3 id="MusicPoint.BeginPlay"><a class="headerlink" href="#MusicPoint.BeginPlay" title="Permanent link">BeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>PlaySlot = 0;<br><br></div>
<h3 id="MusicPoint.Frob"><a class="headerlink" href="#MusicPoint.Frob" title="Permanent link">Frob</a> (Actor Frobber, Inventory frobWith)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer P;<br>&#9;local Pawn A;<br><br><br>&#9;if( bAffectAllPlayers )<br>&#9;{<br>&#9;&#9;PlaySlot++;<br>&#9;&#9;if(myTrackList[PlaySlot] == None || PlaySlot >= Arraycount(myTrackList))<br>&#9;&#9;{ <br>&#9;&#9;&#9;PlaySlot=0;<br>&#9;&#9;}<br>&#9;&#9;BroadcastMessage(DeusExPlayer(Frobber).PlayerReplicationInfo.PlayerName$"("$DeusExPlayer(Frobber).PlayerReplicationInfo.PlayerID$"): Now playing track: "$Left(string(myTrackList[PlaySlot]), InStr(string(myTrackList[PlaySlot]), ".")));<br>&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',P)<br>&#9;&#9;&#9;&#9;if(!mmIsPlaying( myTrackList[PlaySlot], P) && !mmLocked(P))<br>&#9;&#9;&#9;&#9;&#9;MemorizeMusic(myTrackList[PlaySlot], P);<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;//P.ClientSetMusic( myTrackList[PlaySlot], SongSection, CdTrack, Transition );<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;&#9;P = DeusExPlayer(Frobber);<br>&#9;&#9;if( P==None )<br>&#9;&#9;&#9;return;<br>&#9;&#9;PlaySlot++;<br>&#9;&#9;if(myTrackList[PlaySlot] == None || PlaySlot > Arraycount(myTrackList))<br>&#9;&#9;{    //IT DOESNT RESET<br>&#9;&#9;&#9;PlaySlot=0;<br>&#9;&#9;}&#9;&#9;<br>&#9;&#9;// Go to music.<br>&#9;&#9;P.ClientSetMusic( myTrackList[PlaySlot], SongSection, CdTrack, Transition );<br>&#9;&#9;&#9;&#9;if(!mmIsPlaying( myTrackList[PlaySlot], P))<br>&#9;&#9;&#9;&#9;&#9;MemorizeMusic(myTrackList[PlaySlot], P);<br>&#9;&#9;P.ClientMessage("Now playing track: "$Left(string(myTrackList[PlaySlot]), InStr(string(myTrackList[PlaySlot]), ".")));<br>&#9;<br></div>
<h3 id="MusicPoint.MMLocked"><a class="headerlink" href="#MusicPoint.MMLocked" title="Permanent link">MMLocked</a> (DeusExPlayer Them) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local MusicMemory MM;<br><br>&#9;foreach AllActors(class'MusicMemory', MM)<br>&#9;{<br>&#9;&#9;if(MM.Watcher == Them)<br>&#9;&#9;{<br>&#9;&#9;&#9;return MM.bMMLocked;<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="MusicPoint.MemorizeMusic"><a class="headerlink" href="#MusicPoint.MemorizeMusic" title="Permanent link">MemorizeMusic</a> (music This, DeusExPlayer Them)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local MusicMemory MM;<br><br>&#9;foreach AllActors(class'MusicMemory', MM)<br>&#9;{<br>&#9;&#9;if(MM.Watcher == Them)<br>&#9;&#9;{<br>&#9;&#9;&#9;MM.CurrentSong = This;<br>&#9;&#9;&#9;//Log("Track memorized."@This@them.playerreplicationinfo.playername);<br>&#9;&#9;&#9;Them.ClientSetMusic( This, SongSection, CdTrack, Transition );<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="MusicPoint.mmIsPlaying"><a class="headerlink" href="#MusicPoint.mmIsPlaying" title="Permanent link">mmIsPlaying</a> (music This, DeusExPlayer Them) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local MusicMemory MM;<br>&#9;local bool bFound;<br><br><br>&#9;foreach AllActors(class'MusicMemory', MM)<br>&#9;{<br>&#9;&#9;if(MM.Watcher == Them)<br>&#9;&#9;{<br>&#9;&#9;&#9;bFound=True;<br>&#9;&#9;&#9;if(MM.CurrentSong == This)<br>&#9;&#9;&#9;&#9;return true;<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;if(!bFound)<br>&#9;{<br>&#9;&#9;MM = Spawn(class'MusicMemory');<br>&#9;&#9;MM.Watcher=Them;<br>&#9;&#9;Log("New music memory."@This@them.playerreplicationinfo.playername);<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#Nail.uc" title="Permanent link"><h2 id="Nail.uc">Nail.uc (extends DeusExProjectile)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var float mpDamage;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">mpDamage=30.000000<br>bBlood=True<br>bStickToWall=True<br>DamageType=shot<br>bIgnoresNanoDefense=True<br>ItemName="Nail Gun"<br>ItemArticle="a"<br>speed=5000.000000<br>MaxSpeed=7000.000000<br>Damage=15.000000<br>MomentumTransfer=10000<br>ImpactSound=Sound'DeusExSounds.Generic.BulletHitFlesh'<br>Texture=Texture'PGAssets.Skins.NailTex4'<br>Skin=Texture'PGAssets.Skins.NailTex4'<br>Mesh=LodMesh'DeusExItems.Dart'<br>CollisionRadius=3.000000<br>CollisionHeight=0.500000</div>
<h3 id="Nail.PreBeginPlay"><a class="headerlink" href="#Nail.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;if ( Level.NetMode != NM_Standalone )<br>&#9;&#9;Damage = mpDamage;<br><br></div>
<br><br><hr>
<a class="headerlink" href="#Nail2.uc" title="Permanent link"><h2 id="Nail2.uc">Nail2.uc (extends DeusExProjectile)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var float mpDamage;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">mpDamage=3.000000<br>bBlood=True<br>bStickToWall=True<br>DamageType=shot<br>bIgnoresNanoDefense=True<br>ItemName="Nail Gun"<br>ItemArticle="a"<br>speed=5000.000000<br>MaxSpeed=7000.000000<br>Damage=4.000000<br>MomentumTransfer=10000<br>ImpactSound=Sound'DeusExSounds.Generic.BulletHitFlesh'<br>Texture=Texture'PGAssets.Skins.NailTex4'<br>Skin=Texture'PGAssets.Skins.NailTex4'<br>Mesh=LodMesh'DeusExItems.Dart'<br>CollisionRadius=3.000000<br>CollisionHeight=0.500000</div>
<h3 id="Nail2.PreBeginPlay"><a class="headerlink" href="#Nail2.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;if ( Level.NetMode != NM_Standalone )<br>&#9;&#9;Damage = mpDamage;<br><br></div>
<br><br><hr>
<a class="headerlink" href="#Nail3.uc" title="Permanent link"><h2 id="Nail3.uc">Nail3.uc (extends DeusExProjectile)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var float mpDamage;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">mpDamage=30.000000<br>bBlood=True<br>bStickToWall=True<br>DamageType=exploded<br>bIgnoresNanoDefense=True<br>ItemName="Nail Gun"<br>ItemArticle="a"<br>speed=5000.000000<br>MaxSpeed=7000.000000<br>Damage=15.000000<br>MomentumTransfer=10000<br>ImpactSound=Sound'DeusExSounds.Generic.BulletHitFlesh'<br>Texture=Texture'PGAssets.Skins.NailTex3'<br>Skin=Texture'PGAssets.Skins.NailTex3'<br>Mesh=LodMesh'DeusExItems.Dart'<br>DrawScale=2.000000<br>CollisionRadius=3.000000<br>CollisionHeight=0.500000</div>
<h3 id="Nail3.BeginPlay"><a class="headerlink" href="#Nail3.BeginPlay" title="Permanent link">BeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;spawn(class'SmokeTrail',,, Location);<br><br></div>
<h3 id="Nail3.PreBeginPlay"><a class="headerlink" href="#Nail3.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;if ( Level.NetMode != NM_Standalone )<br>&#9;&#9;Damage = mpDamage;<br><br></div>
<br><br><hr>
<a class="headerlink" href="#NanoArmour.uc" title="Permanent link"><h2 id="NanoArmour.uc">NanoArmour.uc (extends PGArmour)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">Dur=10000<br>Def=10<br>ItemName="Nano Armour"<br>beltDescription="NANO"</div>
<h3 id="NanoArmour.TestMPBeltSpot"><a class="headerlink" href="#NanoArmour.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<br><br><hr>
<a class="headerlink" href="#NanoCompactor.uc" title="Permanent link"><h2 id="NanoCompactor.uc">NanoCompactor.uc (extends DeusExWeapon)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var() class<Actor> StoredActor, rstoredactor;<br>var() rotator storedRotation;<br>var bool bRotLock;<br>var string storedstr;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">GoverningSkill=Class'DeusEx.SkillWeaponPistol'<br>NoiseLevel=0.010000<br>ShotTime=0.150000<br>reloadTime=1.500000<br>HitDamage=0<br>maxRange=4800<br>AccurateRange=2400<br>BaseAccuracy=0.800000<br>bCanHaveScope=True<br>ScopeFOV=25<br>bCanHaveLaser=True<br>recoilStrength=0.100000<br>mpBaseAccuracy=0.200000<br>mpAccurateRange=1200<br>mpMaxRange=1200<br>bCanHaveModBaseAccuracy=True<br>bCanHaveModReloadCount=True<br>bCanHaveModAccurateRange=True<br>bCanHaveModReloadTime=True<br>bInstantHit=True<br>FireOffset=(X=-24.000000,Y=10.000000,Z=14.000000)<br>shakemag=50.000000<br>FireSound=Sound'DeusExSounds.Weapons.StealthPistolFire'<br>AltFireSound=Sound'DeusExSounds.Weapons.StealthPistolReloadEnd'<br>CockingSound=Sound'DeusExSounds.Weapons.StealthPistolReload'<br>SelectSound=Sound'DeusExSounds.Weapons.StealthPistolSelect'<br>InventoryGroup=131<br>ItemName="Nano Compactor Gun"<br>PlayerViewOffset=(X=24.000000,Y=-10.000000,Z=-14.000000)<br>PlayerViewMesh=LodMesh'DeusExItems.StealthPistol'<br>PickupViewMesh=LodMesh'DeusExItems.StealthPistolPickup'<br>ThirdPersonMesh=LodMesh'DeusExItems.StealthPistol3rd'<br>Icon=Texture'DeusExUI.Icons.BeltIconStealthPistol'<br>largeIcon=Texture'DeusExUI.Icons.LargeIconStealthPistol'<br>largeIconWidth=47<br>largeIconHeight=37<br>Description="The stealth pistol is a variant of the standard 10mm pistol with a larger clip and integrated silencer designed for wet work at very close ranges."<br>beltDescription="COMPACTOR"<br>Mesh=LodMesh'DeusExItems.StealthPistolPickup'<br>CollisionRadius=8.000000<br>CollisionHeight=0.800000</div>
<h3 id="NanoCompactor.CalculateAccuracy"><a class="headerlink" href="#NanoCompactor.CalculateAccuracy" title="Permanent link">CalculateAccuracy</a> -> float</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;return 0.000000; //Dirty hack to always return dead on accuracy.<br><br></div>
<h3 id="NanoCompactor.GetDisplayString"><a class="headerlink" href="#NanoCompactor.GetDisplayString" title="Permanent link">GetDisplayString</a> (Actor P) -> string</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(P.isA('ScriptedPawn'))<br>&#9;&#9;return ScriptedPawn(P).FamiliarName;<br>&#9;else if(P.isA('DeusExDecoration'))<br>&#9;&#9;return DeusExDecoration(P).ItemName;<br><br></div>
<h3 id="NanoCompactor.LaserToggle"><a class="headerlink" href="#NanoCompactor.LaserToggle" title="Permanent link">LaserToggle</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(StoredActor != None)<br>&#9;{<br>&#9;bRotLock = !bRotLock;<br>&#9;DeusExPlayer(Owner).ClientMessage("rotation Lock: "$bRotLock);<br>&#9;}<br><br></div>
<h3 id="NanoCompactor.PreBeginPlay"><a class="headerlink" href="#NanoCompactor.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;// If this is a netgame, then override defaults<br>&#9;if ( Level.NetMode != NM_StandAlone )<br>&#9;{<br>&#9;&#9;HitDamage = mpHitDamage;<br>&#9;&#9;BaseAccuracy = mpBaseAccuracy;<br>&#9;&#9;ReloadTime = mpReloadTime;<br>&#9;&#9;AccurateRange = mpAccurateRange;<br>&#9;&#9;MaxRange = mpMaxRange;<br>&#9;&#9;ReloadCount = mpReloadCount;<br>&#9;&#9;storedstr = "none";<br>&#9;}<br><br></div>
<h3 id="NanoCompactor.ProcessTraceHit"><a class="headerlink" href="#NanoCompactor.ProcessTraceHit" title="Permanent link">ProcessTraceHit</a> (Actor Other, Vector HitLocation, Vector HitNormal, Vector X, Vector Y, Vector Z)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local float        mult;<br>&#9;local name         damageType;<br>&#9;local DeusExPlayer dxPlayer, DXP;<br>&#9;local Pawn P;<br>&#9;local Actor a;<br><br>&#9;if(StoredActor == None)<br>&#9;{<br>&#9;&#9;if(Other.isa('ScriptedPawn') || Other.isa('Decoration'))<br>&#9;&#9;{<br>&#9;&#9;&#9;if(Other.isa('HackableDevices') || other.isa('Switch1') || other.isa('Switch2'))<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;DeusExPlayer(Owner).ClientMessage("This object can't be moved.");<br>&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;StoredActor = Other.Class;<br>&#9;&#9;&#9;rStoredActor = StoredActor;<br>&#9;&#9;&#9;storedstr = GetDisplayString(Other);<br>&#9;&#9;&#9;StoredRotation = Other.Rotation;<br>&#9;&#9;&#9;DeusExPlayer(Owner).ClientMessage("Stored: "$GetDisplayString(Other));<br>&#9;&#9;&#9;DeusExPlayer(Owner).ClientMessage("Fire now spawns. Laser to toggle rotation.");<br>&#9;&#9;&#9;Other.Destroy();<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;if(bRotLock)<br>&#9;&#9;{<br>&#9;&#9;a = Spawn(StoredActor,,,HitLocation, StoredRotation);<br>&#9;&#9;&#9;if(a!=none)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;DeusExPlayer(Owner).ClientMessage("Object spawned.");<br>&#9;&#9;&#9;&#9;StoredActor=None;<br>&#9;&#9;&#9;&#9;rStoredActor = StoredActor;<br>&#9;&#9;&#9;&#9;storedstr = "NONE";<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;DeusExPlayer(Owner).ClientMessage("|P2Object didn't spawn. Make sure there is enough space for it.");<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;{<br>&#9;&#9;a = Spawn(StoredActor,,,HitLocation, Owner.Rotation);&#9;<br>&#9;&#9;&#9;if(a!=none)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;DeusExPlayer(Owner).ClientMessage("Object spawned.");<br>&#9;&#9;&#9;&#9;StoredActor=None;<br>&#9;&#9;&#9;&#9;rStoredActor = StoredActor;<br>&#9;&#9;&#9;&#9;storedstr = "NONE";<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;DeusExPlayer(Owner).ClientMessage("|P2Object didn't spawn. Make sure there is enough space for it.");<br>&#9;&#9;&#9;}&#9;&#9;<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="NanoCompactor.RenderOverlays"><a class="headerlink" href="#NanoCompactor.RenderOverlays" title="Permanent link">RenderOverlays</a> (canvas Canvas)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer P;<br>&#9;local Actor CrosshairTarget;<br>&#9;local float Scale, Accuracy, Dist;<br>&#9;local vector HitLocation, HitNormal, StartTrace, EndTrace, X,Y,Z;<br>&#9;local vector loc, line;<br>&#9;local String KeyName, Alias, curKeyName;<br>&#9;local int i;<br><br>&#9;Super.RenderOverlays(Canvas);<br>&#9;P = DeusExPlayer(Owner);<br>&#9;if ( P != None ) <br>&#9;{&#9;<br>&#9;&#9;&#9;&#9;bOwnsCrossHair = True; <br>&#9;&#9;&#9;&#9;Scale = Canvas.ClipX/640;<br>&#9;&#9;&#9;&#9;Canvas.SetPos(0.5 * Canvas.ClipX - 16 * Scale, 0.5 * Canvas.ClipY - 16 * Scale );<br>&#9;&#9;&#9;&#9;//Canvas.Style = ERenderStyle.STY_Translucent;<br>&#9;&#9;&#9;&#9;Canvas.DrawColor.R = 255;<br>&#9;&#9;&#9;&#9;Canvas.DrawColor.G = 250;<br>&#9;&#9;&#9;&#9;Canvas.DrawColor.B = 255;<br>&#9;&#9;&#9;&#9;Canvas.Font = Canvas.SmallFont;<br>&#9;&#9;&#9;&#9;curKeyName = "";<br>&#9;&#9;&#9;&#9;for ( i=0; i<255; i++ )<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;KeyName = Owner.ConsoleCommand ( "KEYNAME "$i );<br>&#9;&#9;&#9;&#9;&#9;if ( KeyName != "" )<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;Alias = Owner.ConsoleCommand( "KEYBINDING "$KeyName );<br>&#9;&#9;&#9;&#9;&#9;&#9;if ( Alias ~= "ToggleLaser" )<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;curKeyName = KeyName;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;break;<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;if ( curKeyName ~= "" )<br>&#9;&#9;&#9;&#9;&#9;curKeyName = "NONE";<br>&#9;&#9;&#9;&#9;Canvas.DrawText("       Stored Class: "$storedstr);<br><br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;bOwnsCrossHair = False; // Only for compatibility with HDX50&#9;&#9;<br>&#9;&#9;//<br></div>
<h3 id="NanoCompactor.ScopeToggle"><a class="headerlink" href="#NanoCompactor.ScopeToggle" title="Permanent link">ScopeToggle</a></h3>

<h3 id="NanoCompactor.TestMPBeltSpot"><a class="headerlink" href="#NanoCompactor.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<br><br><hr>
<a class="headerlink" href="#NanoFlowers.uc" title="Permanent link"><h2 id="NanoFlowers.uc">NanoFlowers.uc (extends DeusExDecoration)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">FragType=Class'DeusEx.PlasticFragment'<br>ItemName="Nanite Infused Flowers"<br>Mesh=LodMesh'DeusExDeco.Flowers'<br>CollisionRadius=11.880000<br>CollisionHeight=9.630000<br>Mass=20.000000<br>Buoyancy=10.000000</div>
<h3 id="NanoFlowers.BeginPlay"><a class="headerlink" href="#NanoFlowers.BeginPlay" title="Permanent link">BeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;SetTimer(2,True);<br><br></div>
<h3 id="NanoFlowers.Bump"><a class="headerlink" href="#NanoFlowers.Bump" title="Permanent link">Bump</a> (actor Other)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>//Do nothing.<br><br></div>
<h3 id="NanoFlowers.Rezz"><a class="headerlink" href="#NanoFlowers.Rezz" title="Permanent link">Rezz</a> (deusexcarcass carcian)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local string tempname, carcassname;<br>&#9;local class<scriptedpawn> newpawn;<br><br><br>&#9;TempName = string(carcian.Class);<br><br>&#9;if( InStr(TempName,"Carcass")>=0 )<br>&#9;&#9;CarcassName = Left( TempName, InStr(TempName,"Carcass") );<br><br>&#9;Spawn(class<ScriptedPawn>( DynamicLoadObject(CarcassName, class'Class' ) ),,, carcian.Location);&#9;<br>&#9;carcian.Destroy();<br><br></div>
<h3 id="NanoFlowers.Timer"><a class="headerlink" href="#NanoFlowers.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExDecoration deco;<br>&#9;local DeusExPlayer paw;<br>&#9;local deusexcarcass dec;<br><br><br><br>&#9;foreach VisibleActors(class'DeusExPlayer', paw, 256)<br>&#9;{<br>&#9;&#9;if (paw != None)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(paw.Health < 100)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;paw.HealPlayer(100, True);<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;if(paw.Energy < 100)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;paw.Energy = 100;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;foreach VisibleActors(class'DeusExCarcass', DEC, 256)<br>&#9;{<br>&#9;&#9;if (dec != None)<br>&#9;&#9;{<br>&#9;&#9;&#9;Rezz(dec);<br>&#9;&#9;}<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#OwnedScanner.uc" title="Permanent link"><h2 id="OwnedScanner.uc">OwnedScanner.uc (extends DeusExDecoration)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var DeusExPlayer owner;<br>var bool bOwned;<br>var(Owning) bool bPaytoOwn;<br>var(Owning) int Price;<br>var(Owning) string OwnedAlias;<br>var(Owning) bool bAllowBidding;<br>var(Owning) bool bIncomeGenerator;<br>var(Owning) bool bIncomeSubtractor;<br>var(Owning) int Payoutcreds;<br>var(Owning) int payoutdelay;<br>var bool bConfirm;<br>var int Bid;<br>var bool bPayout;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bInvincible=True<br>ItemName="Ownable Scanner"<br>bPushable=False<br>Physics=PHYS_None<br>Texture=Texture'DeusExItems.Skins.DataCubeTex2'<br>Mesh=LodMesh'DeusExItems.DataCube'<br>CollisionRadius=7.000000<br>CollisionHeight=1.270000<br>Buoyancy=12.000000</div>
<h3 id="OwnedScanner.Frob"><a class="headerlink" href="#OwnedScanner.Frob" title="Permanent link">Frob</a> (Actor Frobber, Inventory frobWith)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer p;<br><br>p = DeusExPlayer(Frobber);<br><br>&#9;if(bOwned)//We are owned, checking if frobber is owner.<br>&#9;{<br>&#9;&#9;if(owner == p)<br>&#9;&#9;{//Check passed.<br>&#9;&#9;p.ClientMessage("You own this object!");<br>&#9;&#9;&#9;super.Frob(frobber, frobWith);<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;{<br>&#9;&#9;&#9;p.ClientMessage("You do not own this object. Currently owned by"@owner.PlayerReplicationInfo.PlayerName);<br>&#9;&#9;&#9;&#9;if(bAllowBidding)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(!bConfirm)<br>&#9;&#9;&#9;&#9;&#9;{&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;p.ClientMessage("Bid "$Price*1.2$" to own "$ownedalias$", press again to confirm? |P1(Current credits: "$P.Credits$")");<br>&#9;&#9;&#9;&#9;&#9;&#9;bConfirm = True;<br>&#9;&#9;&#9;&#9;&#9;&#9;SetTimer(3,False);<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;if(p.Credits >= Price)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;owner.ClientMessage(owner.PlayerReplicationInfo.PlayerName$", you have lost the owned object"@ownedalias);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;Bid = Price*1.2;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;Price = Bid;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;owner = p;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;p.Credits -= Price;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;p.ClientMessage(owner.PlayerReplicationInfo.PlayerName$", you now own the object"@ownedalias$" |P1(New credits: "$P.Credits$")");<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;bConfirm = False;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;bOwned=True;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;bPayout=True;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;SetTimer(PayoutDelay,True);<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;&#9;{p.ClientMessage("You can't afford this purchase.");}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br><br>&#9;&#9;<br></div>
<h3 id="OwnedScanner.Tick"><a class="headerlink" href="#OwnedScanner.Tick" title="Permanent link">Tick</a> (float Deltatime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;//Check Ownage.<br>&#9;if(bOwned)<br>&#9;{<br>&#9;&#9;if(owner.PlayerReplicationInfo.PlayerName == "")<br>&#9;&#9;{<br>&#9;&#9;bOwned=False;<br>&#9;&#9;bPayout=False;<br>&#9;&#9;}<br>&#9;}<br><br>&#9;super.Tick(Deltatime);<br><br></div>
<h3 id="OwnedScanner.Timer"><a class="headerlink" href="#OwnedScanner.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer p;<br><br>&#9;<br>&#9;if(bPayout)<br>&#9;{<br>&#9;&#9;if(bIncomeGenerator)<br>&#9;&#9;{<br>&#9;&#9;&#9;owner.Credits += Payoutcreds;<br>&#9;&#9;&#9;owner.ClientMessage("You have been paid by an object you own, "$OwnedAlias$". Income: "$Payoutcreds$" |P1(New credits: "$P.Credits$")");<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(bIncomeSubtractor)<br>&#9;&#9;{<br>&#9;&#9;&#9;owner.Credits -= Payoutcreds;<br>&#9;&#9;&#9;owner.ClientMessage("You have been charged credits by an object you own, "$OwnedAlias$". Money Taken: "$Payoutcreds$" |P1(New credits: "$P.Credits$")");<br>&#9;&#9;}<br>&#9;&#9;else if(!bIncomeGenerator && !bIncomeSubtractor)<br>&#9;&#9;{<br>&#9;&#9;bPayout=False;<br>&#9;&#9;}<br>&#9;}<br>if(bConfirm)<br>{bConfirm=False;<br></div>
<br><br><hr>
<a class="headerlink" href="#OwnedScanner2.uc" title="Permanent link"><h2 id="OwnedScanner2.uc">OwnedScanner2.uc (extends DeusExDecoration)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var(Owning) bool bPaytoOwn;<br>var(Owning) int Price;<br>var(Owning) string OwnedAlias;<br>var(Owning) int ReadNumber;<br>var OwningController MyController;<br>var bool bConfirm;<br>var int Bid;<br>var bool bPayout;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bInvincible=True<br>ItemName="Ownable Scanner"<br>bPushable=False<br>Physics=PHYS_None<br>Texture=Texture'DeusExItems.Skins.DataCubeTex2'<br>Mesh=LodMesh'DeusExItems.DataCube'<br>CollisionRadius=7.000000<br>CollisionHeight=1.270000<br>Buoyancy=12.000000</div>
<h3 id="OwnedScanner2.Frob"><a class="headerlink" href="#OwnedScanner2.Frob" title="Permanent link">Frob</a> (Actor Frobber, Inventory frobWith)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer p;<br><br>p = DeusExPlayer(Frobber);<br><br>&#9;if(MyController.Owners[readNumber] != "")<br>&#9;{<br>&#9;&#9;if(getName(p) ~= MyController.Owners[readnumber])<br>&#9;&#9;{<br>&#9;&#9;&#9;p.ClientMessage("|P3Passed owner check! Welcome back, Owner #"$ReadNumber$" - "$MyController.Owners[readnumber]);<br>&#9;&#9;&#9;super.Frob(frobber, frobWith);<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;{<br>&#9;&#9;&#9;p.ClientMessage("|P2Failed owner check! Owned by #"$ReadNumber$" - "$MyController.Owners[readnumber]);<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br><br>&#9;&#9;if(bPaytoOwn)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(!bConfirm)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;p.ClientMessage(Price$" to own "$ownedalias$", press again to confirm? |P1(Current credits: "$P.Credits$")");<br>&#9;&#9;&#9;&#9;bConfirm = True;<br>&#9;&#9;&#9;&#9;SetTimer(3,False);<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(p.Credits >= Price)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;myController.Owners[readNumber] = GetName(P);<br>&#9;&#9;&#9;&#9;&#9;myController.SaveConfig();<br>&#9;&#9;&#9;&#9;&#9;p.Credits -= Price;<br>&#9;&#9;&#9;&#9;&#9;p.ClientMessage(GetName(P)$", you now own the object"@ownedalias$" |P1(New credits: "$P.Credits$")");<br>&#9;&#9;&#9;&#9;&#9;bConfirm = False;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;{p.ClientMessage("You can't afford this purchase.");}<br>&#9;&#9;&#9;}<br><br>&#9;&#9;<br></div>
<h3 id="OwnedScanner2.GetName"><a class="headerlink" href="#OwnedScanner2.GetName" title="Permanent link">GetName</a> (deusexplayer P) -> string</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;return P.PlayerReplicationInfo.PlayerName;<br><br></div>
<br><br><hr>
<a class="headerlink" href="#OwningController.uc" title="Permanent link"><h2 id="OwningController.uc">OwningController.uc (extends Mutator)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var config string Owners[30];</div>
<h3 id="OwningController.Mutate"><a class="headerlink" href="#OwningController.Mutate" title="Permanent link">Mutate</a> (string MutateString, PlayerPawn Sender)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Actor hitActor;<br>&#9;local vector loc, line, HitLocation, hitNormal;<br>&#9;local string inputstr;<br>&#9;local int inputint;<br><br>&#9;<br>&#9;<br>&#9;   &#9;super.Mutate(MutateString, Sender);<br>&#9;&#9;<br>&#9;&#9;if(MutateString ~= "sell")<br>&#9;&#9;{<br>&#9;&#9;&#9;loc = Sender.Location;<br>&#9;&#9;&#9;loc.Z += Sender.BaseEyeHeight;<br>&#9;&#9;&#9;line = Vector(Sender.ViewRotation) * 4000;<br>&#9;&#9;&#9;HitActor = Trace(hitLocation, hitNormal, loc+line, loc, true);<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(OwnedScanner2(HitActor) != None && Owners[OwnedScanner2(HitActor).ReadNumber] != "" && Owners[OwnedScanner2(HitActor).ReadNumber] == Sender.PlayerReplicationInfo.PlayerName)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;Owners[OwnedScanner2(HitActor).ReadNumber] = "";<br>&#9;&#9;&#9;&#9;Sender.ClientMessage("Object sold.");<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(Left(MutateString,5) ~= "find ")<br>        {<br>&#9;&#9;   inputint = int(Right(MutateString, Len(MutateString) - 5));<br>&#9;&#9;   Sender.ClientMessage(Owners[inputint]);<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(Left(MutateString,6) ~= "clear ")<br>        {<br>&#9;&#9;   inputint = int(Right(MutateString, Len(MutateString) - 6));<br>&#9;&#9;   if(Sender.bAdmin)<br>&#9;&#9;   {<br>&#9;&#9;&#9;    Sender.ClientMessage("|P2Deleting "$Owners[inputint]);<br>&#9;&#9;&#9;   Owners[inputint] = "";<br>&#9;&#9;   }<br>&#9;&#9;}<br><br></div>
<h3 id="OwningController.PostBeginPlay"><a class="headerlink" href="#OwningController.PostBeginPlay" title="Permanent link">PostBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local OwnedScanner2 OS;<br><br><br>&#9;Log("OwnedScanner mutator enabled.",'TC');<br>&#9;Level.Game.BaseMutator.AddMutator (Self);<br>&#9;<br>&#9;foreach AllActors(class'OwnedScanner2', OS)<br>&#9;{<br>&#9;&#9;OS.myController = Self;<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#PBeam.uc" title="Permanent link"><h2 id="PBeam.uc">PBeam.uc (extends DeusExProjectile)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var ParticleGenerator pGen1;<br>var ParticleGenerator pGen2;<br>var float mpDamage;<br>var float mpBlastRadius;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">mpDamage=25.000000<br>mpBlastRadius=700.000000<br>bExplodes=True<br>bBlood=True<br>bDebris=True<br>blastRadius=128.000000<br>DamageType=Electrified<br>AccurateRange=14400<br>maxRange=54000<br>bIgnoresNanoDefense=True<br>ItemName="Pressure Beam"<br>ItemArticle="a"<br>speed=1500.000000<br>MaxSpeed=1500.000000<br>Damage=40.000000<br>MomentumTransfer=9000<br>ImpactSound=Sound'DeusExSounds.Weapons.PlasmaRifleHit'<br>ExplosionDecal=Class'DeusEx.ScorchMark'<br>Skin=FireTexture'Effects.Fire.flmethrwr_flme'<br>Mesh=LodMesh'DeusExItems.PlasmaBolt'<br>DrawScale=5.000000<br>bUnlit=True<br>LightBrightness=200<br>LightHue=80<br>LightSaturation=128<br>LightRadius=3<br>bFixedRotationDir=True</div>
<h3 id="PBeam.Destroyed"><a class="headerlink" href="#PBeam.Destroyed" title="Permanent link">Destroyed</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if (pGen1 != None)<br>&#9;&#9;pGen1.DelayedDestroy();<br>&#9;if (pGen2 != None)<br>&#9;&#9;pGen2.DelayedDestroy();<br><br>&#9;Super.Destroyed();<br><br></div>
<h3 id="PBeam.DrawExplosionEffects"><a class="headerlink" href="#PBeam.DrawExplosionEffects" title="Permanent link">DrawExplosionEffects</a> (vector HitLocation, vector HitNormal)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local ParticleGenerator gen;<br><br><br>&#9;// create a particle generator shooting out plasma spheres<br>&#9;gen = Spawn(class'ParticleGenerator',,, HitLocation, Rotator(HitNormal));<br>&#9;if (gen != None)<br>&#9;{<br>      gen.RemoteRole = ROLE_None;<br>&#9;&#9;gen.particleDrawScale = 2.3;<br>&#9;&#9;gen.checkTime = 0.10;<br>&#9;&#9;gen.frequency = 3.0;<br>&#9;&#9;gen.ejectSpeed = 400.0;<br>&#9;&#9;gen.bGravity = True;<br>&#9;&#9;gen.bRandomEject = True;<br>&#9;&#9;gen.particleLifeSpan = 6.75;<br>&#9;&#9;gen.particleTexture = Texture'Effects.Fire.Proj_PRifle';<br>&#9;&#9;gen.LifeSpan = 1.3;<br>&#9;}<br><br></div>
<h3 id="PBeam.PostBeginPlay"><a class="headerlink" href="#PBeam.PostBeginPlay" title="Permanent link">PostBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PostBeginPlay();<br><br>   if ((Level.NetMode == NM_Standalone) || (Level.NetMode == NM_ListenServer))<br>      SpawnPlasmaEffects();<br><br></div>
<h3 id="PBeam.PostNetBeginPlay"><a class="headerlink" href="#PBeam.PostNetBeginPlay" title="Permanent link">PostNetBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   if (Role < ROLE_Authority)<br>      SpawnPlasmaEffects();<br><br></div>
<h3 id="PBeam.PreBeginPlay"><a class="headerlink" href="#PBeam.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;Damage = mpDamage;<br>&#9;blastRadius = mpBlastRadius;<br><br></div>
<h3 id="PBeam.SpawnPlasmaEffects"><a class="headerlink" href="#PBeam.SpawnPlasmaEffects" title="Permanent link">SpawnPlasmaEffects</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Rotator rot;<br><br>   rot = Rotation;<br>&#9;rot.Yaw -= 32768;<br><br>   pGen2 = Spawn(class'ParticleGenerator', Self,, Location, rot);<br>&#9;if (pGen2 != None)<br>&#9;{<br>      pGen2.RemoteRole = ROLE_None;<br>&#9;&#9;pGen2.particleTexture = Texture'Effects.Fire.Proj_PRifle';<br>&#9;&#9;pGen2.particleDrawScale = 0.3;<br>&#9;&#9;pGen2.checkTime = 0.04;<br>&#9;&#9;pGen2.riseRate = 0.0;<br>&#9;&#9;pGen2.ejectSpeed = 100.0;<br>&#9;&#9;pGen2.particleLifeSpan = 6.5;<br>&#9;&#9;pGen2.bRandomEject = True;<br>&#9;&#9;pGen2.SetBase(Self);<br>&#9;}<br><br><br></div>
<br><br><hr>
<a class="headerlink" href="#PGArmour.uc" title="Permanent link"><h2 id="PGArmour.uc">PGArmour.uc (extends DeusExPickup)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var() int Dur, Def;<br>var() bool bResistFire, bResistEMP, bResistPoison;<br>var int rDur, rDef;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">Dur=5<br>Def=5<br>ItemName="Basic Armour"<br>ItemArticle="some"<br>PlayerViewOffset=(X=30.000000,Z=-12.000000)<br>PlayerViewMesh=LodMesh'DeusExItems.AdaptiveArmor'<br>PickupViewMesh=LodMesh'DeusExItems.AdaptiveArmor'<br>ThirdPersonMesh=LodMesh'DeusExItems.AdaptiveArmor'<br>Charge=500<br>LandSound=Sound'DeusExSounds.Generic.PaperHit2'<br>Icon=Texture'DeusExUI.Icons.BeltIconArmorAdaptive'<br>largeIcon=Texture'DeusExUI.Icons.LargeIconArmorAdaptive'<br>largeIconWidth=35<br>largeIconHeight=49<br>Description="Integrating woven fiber-optics and an advanced computing system, thermoptic camo can render an agent invisible to both humans and bots by dynamically refracting light and radar waves; however, the high power drain makes it impractial for more than short-term use, after which the circuitry is fused and it becomes useless."<br>beltDescription="ARMOUR"<br>Mesh=LodMesh'DeusExItems.AdaptiveArmor'<br>CollisionRadius=11.500000<br>CollisionHeight=13.810000<br>Mass=30.000000<br>Buoyancy=20.000000</div>
<h3 id="PGArmour.BeginPlay"><a class="headerlink" href="#PGArmour.BeginPlay" title="Permanent link">BeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;rDur = Dur;<br>&#9;rdef = Def;<br><br></div>
<h3 id="PGArmour.RenderOverlays"><a class="headerlink" href="#PGArmour.RenderOverlays" title="Permanent link">RenderOverlays</a> (canvas Canvas)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer P;<br>&#9;local Actor CrosshairTarget;<br>&#9;local float Scale, Accuracy, Dist;<br>&#9;local vector HitLocation, HitNormal, StartTrace, EndTrace, X,Y,Z;<br>&#9;local vector loc, line;<br>&#9;local String KeyName, Alias, curKeyName;<br>&#9;local int i;<br>&#9;local string str;<br><br>&#9;<br>&#9;Super.RenderOverlays(Canvas);<br>&#9;P = DeusExPlayer(Owner);<br>&#9;if ( P != None ) <br>&#9;{&#9;<br>&#9;&#9;&#9;&#9;//bOwnsCrossHair = True; <br>&#9;&#9;&#9;&#9;Scale = Canvas.ClipX/640;<br>&#9;&#9;&#9;&#9;Canvas.SetPos(0.5 * Canvas.ClipX - 16 * Scale, 0.5 * Canvas.ClipY - 16 * Scale );<br>&#9;&#9;&#9;&#9;//Canvas.Style = ERenderStyle.STY_Translucent;<br>&#9;&#9;&#9;&#9;Canvas.DrawColor.R = 255;<br>&#9;&#9;&#9;&#9;Canvas.DrawColor.G = 250;<br>&#9;&#9;&#9;&#9;Canvas.DrawColor.B = 255;<br>&#9;&#9;&#9;&#9;Canvas.Font = Canvas.SmallFont;<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;if(bResistFire)<br>&#9;&#9;&#9;&#9;&#9;str = str@"- Resists Flame";<br>&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;if(bResistPoison)<br>&#9;&#9;&#9;&#9;&#9;str = str@"- Resists Poison";<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;if(bResistEMP)<br>&#9;&#9;&#9;&#9;&#9;str = str@"- Resists EMP";<br>&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;Canvas.DrawText("      Armour: "$rDef$" - Durability: "$rDur$str);<br>&#9;}<br>&#9;&#9;&#9;//else<br>&#9;&#9;&#9;&#9;//bOwnsCrossHair = False; // Only for compatibility with HDX50&#9;&#9;<br><br></div>
<h3 id="PGArmour.TestMPBeltSpot"><a class="headerlink" href="#PGArmour.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<br><br><hr>
<a class="headerlink" href="#PGGames.uc" title="Permanent link"><h2 id="PGGames.uc">PGGames.uc (extends Mutator)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var DeusExPlayer LastSeeker, Seeker, GameMaster, PGPlayerList[16];<br>var int randy, PlayerCount, ScavengerItemCount, HideRound, ScavengerRound, GuessRound, ClueCount, HuntRound, ScoundrelRound, FlagsRound, failedGuesses, Captures, MurderRound, MurderTarget;<br>var bool bHSOn, bSOn, bGOn, bHOn, bScOn, bCOn, bMOn;<br>var bool bHidePhase;<br>var string SavedGuess;<br>var ScoundrelManager SM;<br>var DeusExPlayer Murderer;</div>
<h3 id="PGGames.BeepToAdmins"><a class="headerlink" href="#PGGames.BeepToAdmins" title="Permanent link">BeepToAdmins</a> (string str)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer DXP;<br><br>&#9;<br>&#9;foreach allactors(class'DeusExPlayer',DXP)<br>&#9;{<br>&#9;&#9;if(DXP.bAdmin)<br>&#9;&#9;{<br>&#9;&#9;&#9;DXP.ClientMessage("|P2ADMIN: "$str,'TeamSay');&#9;<br>&#9;&#9;}&#9;<br>&#9;}<br><br></div>
<h3 id="PGGames.BeepToAll"><a class="headerlink" href="#PGGames.BeepToAll" title="Permanent link">BeepToAll</a> (string str)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer DXP;<br><br>&#9;<br>&#9;foreach allactors(class'DeusExPlayer',DXP)<br>&#9;{<br>&#9;&#9;DXP.ClientMessage(str,'Say');<br>&#9;}<br><br></div>
<h3 id="PGGames.GiveMurdererInv"><a class="headerlink" href="#PGGames.GiveMurdererInv" title="Permanent link">GiveMurdererInv</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local inventory inv;<br>&#9;local Pawn APawn;<br><br>&#9;for(APawn = level.PawnList; APawn != none; APawn = APawn.nextPawn)<br>&#9;&#9;if(APawn.bIsPlayer)<br>&#9;&#9;&#9;if(PlayerPawn(APawn) == none || NetConnection(PlayerPawn(APawn).Player) != none)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(DeusExPlayer(APawn) == Murderer)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;HDisarm(DeusExPlayer(APawn));<br>&#9;&#9;&#9;&#9;/*&#9;inv=Spawn(class'WeaponMurderKnife');<br>&#9;&#9;&#9;&#9;&#9;Inv.Frob(DeusExPlayer(APawn),None);&#9;  <br>&#9;&#9;&#9;&#9;&#9;Inventory.bInObjectBelt = True;<br>&#9;&#9;&#9;&#9;&#9;inv.Destroy();<br><br>&#9;&#9;&#9;&#9;&#9;inv=Spawn(class'WeaponMurderPistol');<br>&#9;&#9;&#9;&#9;&#9;Inv.Frob(DeusExPlayer(APawn),None);&#9;  <br>&#9;&#9;&#9;&#9;&#9;Inventory.bInObjectBelt = True;<br>&#9;&#9;&#9;&#9;&#9;inv.Destroy();*/<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br><br></div>
<h3 id="PGGames.GiveSurviveInv"><a class="headerlink" href="#PGGames.GiveSurviveInv" title="Permanent link">GiveSurviveInv</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local inventory inv;<br>&#9;local Pawn APawn;<br><br>&#9;for(APawn = level.PawnList; APawn != none; APawn = APawn.nextPawn)<br>&#9;&#9;if(APawn.bIsPlayer)<br>&#9;&#9;&#9;if(PlayerPawn(APawn) == none || NetConnection(PlayerPawn(APawn).Player) != none)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(DeusExPlayer(APawn) != Murderer)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;/*HDisarm(DeusExPlayer(APawn));<br>&#9;&#9;&#9;&#9;&#9;inv=Spawn(class'WeaponSurviveKnife');<br>&#9;&#9;&#9;&#9;&#9;Inv.Frob(DeusExPlayer(APawn),None);&#9;  <br>&#9;&#9;&#9;&#9;&#9;Inventory.bInObjectBelt = True;<br>&#9;&#9;&#9;&#9;&#9;inv.Destroy();<br><br>&#9;&#9;&#9;&#9;&#9;inv=Spawn(class'WeaponSurvivePistol');<br>&#9;&#9;&#9;&#9;&#9;Inv.Frob(DeusExPlayer(APawn),None);&#9;  <br>&#9;&#9;&#9;&#9;&#9;Inventory.bInObjectBelt = True;<br>&#9;&#9;&#9;&#9;&#9;inv.Destroy();*/<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br><br></div>
<h3 id="PGGames.HDisarm"><a class="headerlink" href="#PGGames.HDisarm" title="Permanent link">HDisarm</a> (DeusExPlayer Other)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExWeapon w;<br><br>  foreach allactors(class'DeusExWeapon',W)<br>&#9;{<br>&#9;&#9;if(W.Owner == Other)<br>&#9;&#9;{<br>&#9;&#9;&#9;W.Destroy();<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="PGGames.ModifyPlayer"><a class="headerlink" href="#PGGames.ModifyPlayer" title="Permanent link">ModifyPlayer</a> (Pawn Other)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int x;<br>&#9;local int k;<br>&#9;local int i;<br>&#9;local int m;<br>&#9;local DeusExPlayer P;<br>&#9;local PGSeeker ccc;<br>&#9;local inventory inv;<br><br>&#9;&#9;P = DeusExPlayer(Other);<br><br>&#9;if(P==Seeker)<br>&#9;{<br>&#9;&#9;inv=Spawn(class'PGSeeker');<br>&#9;&#9;Inv.Frob(Seeker,None);&#9;  <br>&#9;&#9;Inventory.bInObjectBelt = True;<br>&#9;&#9;inv.Destroy();<br>&#9;}<br><br>&#9;   Super.ModifyPlayer(Other);<br><br></div>
<h3 id="PGGames.Mutate"><a class="headerlink" href="#PGGames.Mutate" title="Permanent link">Mutate</a> (String S, PlayerPawn PP)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int ID, JSlot;<br>&#9;local string part, pg;<br>&#9;local Pawn APawn;<br>&#9;local DeusExPlayer DXP;<br>&#9;local Inventory inv;<br>&#9;local PGSItem PGSI;<br>&#9;local int myCount;<br>&#9;local PGSeeker PGS;<br>&#9;local PGHiderActors PGH;<br>&#9;local psRepeater rep;<br>&#9;local CaptureFlag CFlag;<br>&#9;local CaptureFlagSpawner CF;<br><br>&#9;Super.Mutate (S, PP);<br>&#9;<br>&#9;&#9;if(S ~= "GameList")<br>&#9;&#9;{<br>&#9;&#9;BroadcastMessage("|P1GAMES: |P3HIDE|P1, |P3SCAVENGER|P1, |P3GUESS|P1, |P4SCOUNDREL|P1, |P2CAPTURE|P1, |P2HUNT|P1, |P2MURDER|P1.");<br>&#9;&#9;BroadcastMessage("|P2<UNPLAYABLE> |P3<COMPLETE> |P4<EXPERIMENTAL>");<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(S ~= "GameCommands")<br>&#9;&#9;{<br>&#9;&#9;BroadcastMessage("|P4HideStart, GuessStart, Guess, GuessClue, ScoundrelStart, ScavengerStart, MurderStart. MurderEnd");<br>&#9;&#9;BroadcastMessage("|P4HideEnd, GuessEnd, ScoundrelEnd, ScavengerEnd, ScavengerCount, HideCount, GetSeeker, CaptureStart, CaptureEnd");<br>&#9;&#9;BroadcastMessage("|P4Games, GameList");<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(S ~= "Games")<br>&#9;&#9;{<br>&#9;&#9;&#9;if(bGOn)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;BroadcastMessage("Guessing game is active! [Round "$GuessRound$"]");<br>&#9;&#9;&#9;&#9;BeepToAll("Game Starter: "$GameMaster.PlayerReplicationInfo.PlayerName);<br>&#9;&#9;&#9;&#9;pg = left(SavedGuess,ClueCount);<br>&#9;&#9;&#9;&#9;myCount = Len(SavedGuess);<br>&#9;&#9;&#9;&#9;BeepToAll("Current Clue: "$pg);<br>&#9;&#9;&#9;&#9;BroadcastMessage("Failed Guesses:"@failedGuesses);<br>&#9;&#9;&#9;&#9;if(ClueCount >= 3)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;BroadcastMessage(myCount$" characters long.");<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(bHSOn)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;BroadcastMessage("Hide and Seek is active! [Round "$HideRound$"]");<br>&#9;&#9;&#9;&#9;BeepToAll("Seeker: "$Seeker.PlayerReplicationInfo.PlayerName);<br>&#9;&#9;&#9;&#9;myCount=0;<br>&#9;&#9;&#9;&#9;foreach allactors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(!DXP.isinState('Spectating'))<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;myCount++;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;foreach AllActors(class'PGHiderActors',PGH)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;myCount--;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;myCount--; //Negative one for the Seeker<br>&#9;&#9;&#9;&#9;BroadcastMessage(myCount$" hiders remaining.");<br>&#9;&#9;&#9;&#9;if(bHidePhase)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;BroadcastMessage("Currently in hiding phase.");<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(bSOn)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;BeepToAll("Scavenger hunt is active! [Round "$ScavengerRound$"]");<br>&#9;&#9;&#9;&#9;myCount=0;<br>&#9;&#9;&#9;&#9;foreach AllActors(class'PGSItem',PGSI)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;myCount++;<br>&#9;&#9;&#9;&#9;}&#9;&#9;<br>&#9;&#9;&#9;&#9;BroadcastMessage(myCount$" items remaining.");<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(bScOn)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;BeepToAll("Scoundrel hunt is active! [Round "$ScoundrelRound$"]");&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;if(bCOn)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;BeepToAll("Capture is running!");&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;if(bMOn)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;BeepToAll("Murder is running!");&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;}&#9;&#9;&#9;<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(S ~= "ScoundrelStart" && PP.bAdmin) <br>&#9;&#9;{<br>&#9;&#9;&#9;bScOn=True;<br>&#9;&#9;&#9;ScoundrelRound++;<br>&#9;&#9;&#9;BroadcastMessage("Scoundrel starting! [Round "$ScoundrelRound$"]");<br>&#9;&#9;&#9;SM = spawn(class'ScoundrelManager',,,Location,);<br>&#9;&#9;&#9;SM.myRef = Self;<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(S ~= "ScoundrelEnd" && bScOn) <br>&#9;&#9;{<br>&#9;&#9;&#9;bScOn=False;<br>&#9;&#9;&#9;SM.CloseGame();<br>&#9;&#9;}&#9;<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;if(left(S,11) ~= "GuessStart " && !bGOn)<br>        {<br>&#9;&#9;&#9;PG = Right(S, Len(S) - 11);<br>&#9;&#9;&#9;bGOn=True;<br>&#9;&#9;&#9;SavedGuess = PG;<br>&#9;&#9;&#9;GameMaster = DeusExPlayer(PP);<br>&#9;&#9;&#9;ClueCount=0;<br>&#9;&#9;&#9;PP.ClientMessage("CLIENT: "$SavedGuess$" answered locked in.");<br>&#9;&#9;&#9;GuessRound++;<br>&#9;&#9;&#9;BeepToAll("|P2Guessing game has begun. [Round "$GuessRound$"]");<br>&#9;&#9;&#9;BroadcastMessage("|P2"$GameMaster.PlayerReplicationInfo.PlayerName$" has locked in an answer. ["$len(SavedGuess)$" characters]");<br>&#9;&#9;}<br>&#9;<br>&#9;&#9;if(S ~= "GuessEnd" && bGOn && (PP == GameMaster || PP.bAdmin))<br>        {<br>&#9;&#9;&#9;bGOn=False;<br>&#9;&#9;&#9;ClueCount = 0;<br>&#9;&#9;&#9;failedGuesses = 0;<br>&#9;&#9;&#9;SavedGuess = "";<br>&#9;&#9;&#9;GameMaster = None;<br>&#9;&#9;&#9;BeepToAll("|P2Guessing game has ended. [Round "$GuessRound$"]");<br>&#9;&#9;}<br>&#9;<br>&#9;&#9;if(left(S,6) ~= "Guess " && bGOn && PP != GameMaster)<br>        {<br>          //  PG = Right(S, Len(S) - 6),InStr(S," "));<br>&#9;&#9;&#9;PG = Right(S, Len(S) - 6);<br>&#9;&#9;&#9;&#9;if(PG ~= SavedGuess)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;BeepToAll("|P3"$DeusExPlayer(PP).PlayerReplicationInfo.PlayerName$" guessed "$PG$" ["$len(PG)$"]");<br>&#9;&#9;&#9;&#9;&#9;BroadcastMessage(PG$" was correct! ["$failedGuesses$" incorrect guesses this round]");<br>&#9;&#9;&#9;&#9;&#9;DeusExPlayer(PP).PlayerReplicationInfo.Score += 10;<br>&#9;&#9;&#9;&#9;&#9;bGOn=False;<br>&#9;&#9;&#9;&#9;&#9;ClueCount = 0;<br>&#9;&#9;&#9;&#9;&#9;failedGuesses = 0;<br>&#9;&#9;&#9;&#9;&#9;SavedGuess = "";<br>&#9;&#9;&#9;&#9;&#9;GameMaster = None;<br>&#9;&#9;&#9;&#9;&#9;BroadcastMessage("|P2Guessing game has ended. [Round "$GuessRound$"]");&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;BroadcastMessage("|P2"$DeusExPlayer(PP).PlayerReplicationInfo.PlayerName$" guessed "$PG$". ["$len(PG)$"]");<br>&#9;&#9;&#9;&#9;&#9;BeepToAll(PG$" was incorrect!");<br>&#9;&#9;&#9;&#9;&#9;failedGuesses++;<br>&#9;&#9;&#9;&#9;&#9;DeusExPlayer(PP).PlayerReplicationInfo.Score -= 1;<br>&#9;&#9;&#9;&#9;&#9;if(failedGuesses == 2 || failedGuesses == 5 || failedGuesses == 10 || failedGuesses == 20 || failedGuesses == 30)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;ClueCount++;<br>&#9;&#9;&#9;&#9;&#9;&#9;pg = left(SavedGuess,ClueCount);<br>&#9;&#9;&#9;&#9;&#9;&#9;myCount = Len(SavedGuess);<br>&#9;&#9;&#9;&#9;&#9;&#9;BroadcastMessage("Clue was given: "$pg);<br>&#9;&#9;&#9;&#9;&#9;&#9;if(ClueCount >= 3)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;BroadcastMessage(myCount$" characters long.");<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br><br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(S ~= "GuessClue" && bGOn && PP == GameMaster)<br>        {<br>&#9;&#9;&#9;ClueCount++;<br>&#9;&#9;&#9;pg = left(SavedGuess,ClueCount);<br>&#9;&#9;&#9;myCount = Len(SavedGuess);<br>&#9;&#9;&#9;BeepToAll("Clue was given: "$pg);<br>&#9;&#9;&#9;if(ClueCount >= 3)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;BroadcastMessage(myCount$" characters long.");<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(S ~= "HideStart" && !bHSOn  ) <br>&#9;&#9;{<br>&#9;&#9;&#9;bHSOn=True;<br><br>&#9;&#9;&#9;Seeker = DeusExPlayer(PP);<br><br>&#9;&#9;&#9;foreach allactors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(!DXP.isinState('Spectating'))<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;DXP.bHidden=True;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;Seeker.bHidden=False;<br>&#9;&#9;&#9;Seeker.SetPhysics(PHYS_None);<br>&#9;&#9;&#9;HideRound++;<br>&#9;&#9;&#9;BeepToAll("|P2Hide and Seek game has begun. [Round "$HideRound$"]");<br>&#9;&#9;&#9;BroadcastMessage(Seeker.PlayerReplicationInfo.PlayerName$" is now a Seeker.");<br>&#9;&#9;&#9;BroadcastMessage("HIDE PHASE: Players are invisible, seeker is locked in position.");<br>&#9;&#9;&#9;bHidePhase=True;<br>&#9;&#9;&#9;SetTimer(60,False);<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(S ~= "GetSeeker" && bHSOn && DeusExPlayer(PP) == Seeker)<br>&#9;&#9;{&#9;&#9;<br>&#9;&#9;&#9;inv=Spawn(class'PGSeeker');<br>&#9;&#9;&#9;Inv.Frob(Seeker,None);&#9;  <br>&#9;&#9;&#9;Inventory.bInObjectBelt = True;<br>&#9;&#9;&#9;inv.Destroy();&#9;<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(S ~= "HideEnd" && bHSOn && DeusExPlayer(PP).bAdmin)<br>&#9;&#9;{<br>&#9;&#9;bHSOn=False;<br>&#9;&#9;LastSeeker = Seeker;<br>&#9;&#9;Seeker = None;<br>&#9;&#9;&#9;foreach allactors(class'PGSeeker',PGS)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;PGS.Destroy();<br>&#9;&#9;&#9;}&#9;&#9;&#9;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;foreach allactors(class'PGHiderActors',PGH)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;PGH.Destroy();<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;foreach allactors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(!DXP.isinState('Spectating'))<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;DXP.bHidden=False;<br>&#9;&#9;&#9;&#9;&#9;DXP.SetPhysics(PHYS_Falling);&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;BeepToAll("|P3Hide and Seek round "$HideRound$" has ended.");<br>&#9;&#9;}<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;if(S ~= "ScavengerStart" && !bSOn && DeusExPlayer(PP).bAdmin)<br>&#9;&#9;{<br>&#9;&#9;&#9;//ResetScores();<br>&#9;&#9;&#9;ScavengerItemCount=0;<br>&#9;&#9;&#9;foreach AllActors(class'PGSItem',PGSI)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;ScavengerItemCount++;<br>&#9;&#9;&#9;&#9;PGSI.bActive=True;<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;if(ScavengerItemCount == 0)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;BroadcastMessage("Scavenger Hunt could not begin! :: No Items Placed.");<br>&#9;&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;bSOn=True;<br>&#9;&#9;&#9;ScavengerRound++;<br>&#9;&#9;&#9;BeepToAll("|P2Scavenger Hunt game has begun. [Round "$ScavengerRound$"]");<br>&#9;&#9;&#9;BroadcastMessage(ScavengerItemCount$" items to find.");<br>&#9;&#9;&#9;SetTimer(2,False);<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(S ~= "ScavengerEnd" && bSOn && DeusExPlayer(PP).bAdmin)<br>&#9;&#9;{<br>&#9;&#9;&#9;bSOn=False;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;foreach AllActors(class'PGSItem',PGSI)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;PGSI.Destroy();<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;BroadcastMessage("|P2Scavenger Hunt round "$ScavengerRound$" has ended.");<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(S ~= "ScavengerCount" && bSOn) <br>&#9;&#9;{<br><br>&#9;&#9;&#9;myCount=0;<br>&#9;&#9;&#9;foreach AllActors(class'PGSItem',PGSI)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;myCount++;<br>&#9;&#9;&#9;}&#9;&#9;<br>&#9;&#9;&#9;BroadcastMessage(myCount$" items remaining.");<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(S ~= "HideCount" && bHSOn)<br>&#9;&#9;{<br>&#9;&#9;&#9;myCount=0;<br>&#9;&#9;&#9;foreach allactors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(!DXP.isinState('Spectating'))<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;myCount++;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;foreach AllActors(class'PGHiderActors',PGH)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;myCount--;<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;myCount--; //Negative one for the Seeker<br>&#9;&#9;&#9;BroadcastMessage(myCount$" hiders remaining.");<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(S ~= "MurderStart" && !bMOn && !bHSOn)<br>&#9;&#9;{<br>&#9;&#9;&#9;BroadcastMessage("There's a murderer among you...");<br>&#9;&#9;&#9;SelectMurderer();<br>&#9;&#9;&#9;bMOn=True;<br>&#9;&#9;&#9;MurderRound++;<br>&#9;&#9;}<br><br>&#9;&#9;if(S ~= "MurderEnd" && bMOn)<br>&#9;&#9;{<br>&#9;&#9;<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(S ~= "CaptureStart" && !bCOn)<br>&#9;&#9;{<br>&#9;&#9;&#9;Captures++;<br>&#9;&#9;&#9;BroadcastMessage("Starting Capture. [Round "$Captures$"]");<br>&#9;&#9;&#9;bCOn=True;<br>&#9;&#9;&#9;foreach AllActors(class'CaptureFlagSpawner',CF)<br>&#9;&#9;&#9;&#9;CF.SetTimer(10,False);<br>&#9;&#9;}<br><br>&#9;&#9;if(S ~= "CaptureEnd" && bCOn)<br>&#9;&#9;{<br>&#9;&#9;&#9;bCOn=False;<br>&#9;&#9;&#9;foreach AllActors(class'CaptureFlag',CFlag)<br>&#9;&#9;&#9;&#9;CFlag.Destroy();<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if( DeusExPlayer(PP).bAdmin && S ~= "ClearScore"  && !bHSOn  && !bSOn && !bGOn && !bScOn && !bMOn )<br>&#9;&#9;{<br>&#9;&#9;&#9;BeepToAll("Scoreboard reset.");<br>&#9;&#9;&#9;ResetScores();<br>&#9;&#9;}<br><br></div>
<h3 id="PGGames.PostBeginPlay"><a class="headerlink" href="#PGGames.PostBeginPlay" title="Permanent link">PostBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Level.Game.BaseMutator.AddMutator (Self);<br>&#9;bHSOn=False;<br>&#9;bSOn=False;<br>&#9;bGOn=False;<br>&#9;bHOn=False;<br>&#9;bScOn=False;<br>&#9;bCOn=False;<br>&#9;bMOn=False;<br>&#9;HideRound = 0;<br>&#9;ScavengerRound = 0;<br>&#9;GuessRound = 0;<br>&#9;ScoundrelRound = 0;<br>&#9;FlagsRound = 0;<br>&#9;HuntRound = 0;<br>&#9;ClueCount = 0;<br>&#9;failedGuesses = 0;<br>&#9;Captures=0;<br>&#9;MurderRound=0;<br>&#9;SavedGuess = "";<br>&#9;//super.PostBeginPlay();<br><br></div>
<h3 id="PGGames.ResetScores"><a class="headerlink" href="#PGGames.ResetScores" title="Permanent link">ResetScores</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local PlayerReplicationInfo PRI;<br><br>&#9;foreach allactors(class'PlayerReplicationInfo',PRI)<br>&#9;{<br>&#9;&#9;PRI.Score = 0;<br>&#9;&#9;PRI.Deaths = 0;<br>&#9;&#9;PRI.Streak = 0;<br>&#9;}<br><br></div>
<h3 id="PGGames.SelectMurderer"><a class="headerlink" href="#PGGames.SelectMurderer" title="Permanent link">SelectMurderer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int i, u, k;<br>&#9;local Pawn APawn;<br><br>//Pass one, count the player numbers<br>&#9;for(APawn = level.PawnList; APawn != none; APawn = APawn.nextPawn)<br>        if(APawn.bIsPlayer && !APawn.IsInState('Spectating'))<br>            if(PlayerPawn(APawn) == none || NetConnection(PlayerPawn(APawn).Player) != none)<br>&#9;&#9;&#9;&#9;i++;<br>&#9;&#9;&#9;&#9;<br>&#9;BeepToAll(i$" players. Randomizing selection.");<br>&#9;k = Rand(i);<br>&#9;BeepToAll(string(k));<br>&#9;<br>&#9;for(APawn = level.PawnList; APawn != none; APawn = APawn.nextPawn)<br>        if(APawn.bIsPlayer && !APawn.IsInState('Spectating'))<br>            if(PlayerPawn(APawn) == none || NetConnection(PlayerPawn(APawn).Player) != none)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(u == k)<br>&#9;&#9;&#9;&#9;{&#9;<br>&#9;&#9;&#9;&#9;&#9;Murderer = DeusExPlayer(APawn);<br>&#9;&#9;&#9;&#9;&#9;BeepToAll("Selection process ended.");<br>&#9;&#9;&#9;&#9;&#9;SetTimer(10,False);<br>&#9;&#9;&#9;&#9;&#9;MurderTarget=i;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;u++;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br><br></div>
<h3 id="PGGames.Tick"><a class="headerlink" href="#PGGames.Tick" title="Permanent link">Tick</a> (float deltatime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local PGSItem PGSI;<br>&#9;local int myCount;<br>&#9;local DeusExPlayer DXP;<br>&#9;local PGSeeker PGS;<br>&#9;local PGHiderActors PGH;<br>&#9;local inventory inv;<br>&#9;local HideFailActor Fail;<br><br><br>&#9;if(bScOn)<br>&#9;{<br>&#9;&#9;if(SM == None)<br>&#9;&#9;{<br>&#9;&#9;&#9;BroadcastMessage("ScoundrelManager not in play, disabling.");<br>&#9;&#9;&#9;bScOn=False;&#9;&#9;<br>&#9;&#9;}<br><br>&#9;}<br>&#9;<br>&#9;foreach AllActors(class'HideFailActor',Fail)<br>&#9;{<br>&#9;&#9;if(Fail != None)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(Fail.BadPlayer == Seeker)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;bHSOn=False;<br>&#9;&#9;&#9;&#9;LastSeeker = Seeker;<br>&#9;&#9;&#9;&#9;Seeker = None;<br>&#9;&#9;&#9;&#9;Fail.Destroy();<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;foreach allactors(class'PGSeeker',PGS)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;PGS.Destroy();<br>&#9;&#9;&#9;&#9;}&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;foreach allactors(class'PGHiderActors',PGH)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;PGH.Destroy();<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;foreach allactors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(!DXP.isinState('Spectating'))<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;DXP.bHidden=False;<br>&#9;&#9;&#9;&#9;&#9;&#9;DXP.SetPhysics(PHYS_Falling);&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;BeepToAll("|P3Hide and Seek round "$HideRound$" has ended due to seeker failure.");&#9;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="PGGames.Timer"><a class="headerlink" href="#PGGames.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local PGSItem PGSI;<br>&#9;local int myCount;<br>&#9;local DeusExPlayer DXP;<br>&#9;local PGSeeker PGS;<br>&#9;local PGHiderActors PGH;<br>&#9;local inventory inv;<br><br><br>&#9;if(bHSOn && bHidePhase)<br>&#9;{<br>&#9;&#9;bHidePhase=False;<br>&#9;&#9;BeepToAll("Hiding phase is over.");<br>&#9;&#9;<br>&#9;&#9;foreach allactors(class'DeusExPlayer',DXP)<br>&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(!DXP.isinState('Spectating'))<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;DXP.bHidden=False;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;inv=Spawn(class'PGSeeker');<br>&#9;&#9;Inv.Frob(Seeker,None);&#9;  <br>&#9;&#9;Inventory.bInObjectBelt = True;<br>&#9;&#9;inv.Destroy();<br>&#9;&#9;Seeker.SetPhysics(PHYS_Falling);<br>&#9;&#9;SetTimer(2,False);<br>&#9;}<br>&#9;<br>&#9;if(bHSOn && !bHidePhase)<br>&#9;{<br>&#9;&#9;myCount=0;<br>&#9;&#9;foreach allactors(class'DeusExPlayer',DXP)<br>&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(!DXP.isinState('Spectating'))<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;myCount++;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;foreach AllActors(class'PGHiderActors',PGH)<br>&#9;&#9;{<br>&#9;&#9;&#9;myCount--;<br>&#9;&#9;}<br>&#9;&#9;myCount--; //Negative one for the Seeker<br>&#9;&#9;<br>&#9;&#9;if(myCount <= 0)<br>&#9;&#9;{<br>&#9;&#9;&#9;bHSOn=False;<br>&#9;&#9;&#9;LastSeeker = Seeker;<br>&#9;&#9;&#9;Seeker = None;<br>&#9;&#9;&#9;foreach allactors(class'PGSeeker',PGS)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;PGS.Destroy();<br>&#9;&#9;&#9;}&#9;&#9;&#9;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;foreach allactors(class'PGHiderActors',PGH)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;PGH.Destroy();<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;BeepToAll("|P3Hide and Seek round "$HideRound$" has ended.");<br>&#9;&#9;}<br>&#9;&#9;else if(myCount >= 1)<br>&#9;&#9;{<br>&#9;&#9;&#9;SetTimer(2,False);<br>&#9;&#9;}&#9;<br>&#9;}<br>&#9;<br>&#9;if(bSOn)<br>&#9;{<br>&#9;&#9;myCount=0;<br>&#9;&#9;foreach AllActors(class'PGSItem',PGSI)<br>&#9;&#9;{<br>&#9;&#9;&#9;myCount++;<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(myCount == 0)<br>&#9;&#9;{<br>&#9;&#9;&#9;bSOn=False;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;foreach AllActors(class'PGSItem',PGSI)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;PGSI.Destroy();<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;BeepToAll("|P2Scavenger Hunt round "$ScavengerRound$" has ended.");&#9;<br>&#9;&#9;}<br>&#9;&#9;else if(myCount >= 1)<br>&#9;&#9;{<br>&#9;&#9;&#9;SetTimer(2,False);<br>&#9;&#9;}&#9;<br>&#9;}<br><br>&#9;if(bMOn)<br>&#9;{<br>&#9;&#9;GiveMurdererInv();<br>&#9;&#9;GiveSurviveInv();<br>&#9;&#9;BeepToAll("Begin the hunt.");<br>&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer', DXP)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(Murderer == DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;DXP.ClientMessage("|P2You are the murderer. "$MurderTarget$" kills to win.");<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#PGHiderActors.uc" title="Permanent link"><h2 id="PGHiderActors.uc">PGHiderActors.uc (extends PGActors)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var DeusExPlayer Hider;<br>var string SavedName;</div>
<br><br><hr>
<a class="headerlink" href="#PGMutator.uc" title="Permanent link"><h2 id="PGMutator.uc">PGMutator.uc (extends Mutator)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var config bool bSuperGore;<br>var config bool bSpydroneMod;<br>var config bool bAllowPlay;<br>var config bool bAllowPlayAll;<br>var config bool bGiveAutoMed;<br>var config bool bAntiCheatKill;<br>var config bool bCrits;<br>var config bool bPersistZones;<br>var config int SaveTimer;<br>var config string PersistMap;<br>var config bool bLoadPersistance;<br>var config bool bGivePSCC;<br>var config bool bClearSpawnInventory;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bSuperGore=True<br>bSpydroneMod=True<br>bAllowPlay=True<br>bAllowPlayAll=True<br>bGiveAutoMed=True<br>bGivePSCC=True</div>
<h3 id="PGMutator.DrawAdminShield"><a class="headerlink" href="#PGMutator.DrawAdminShield" title="Permanent link">DrawAdminShield</a> (pawn Victim)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local AdminArmourEffect shield;<br><br><br>    shield = Spawn(class'AdminArmourEffect', Victim,, Victim.Location, Victim.Rotation);<br>    if (shield != None)<br>    {<br>        Shield.DrawScale = Victim.Drawscale;<br>        shield.SetBase(Victim);<br>    }<br><br></div>
<h3 id="PGMutator.DrawProtShield"><a class="headerlink" href="#PGMutator.DrawProtShield" title="Permanent link">DrawProtShield</a> (pawn Victim)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local ProtEffect shield;<br><br><br>    shield = Spawn(class'ProtEffect', Victim,, Victim.Location, Victim.Rotation);<br>    if (shield != None)<br>    {<br>        Shield.DrawScale = Victim.Drawscale;<br>        shield.SetBase(Victim);<br>    }<br><br></div>
<h3 id="PGMutator.DrawReturnShield"><a class="headerlink" href="#PGMutator.DrawReturnShield" title="Permanent link">DrawReturnShield</a> (pawn Victim)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local ReturnArmourEffect shield;<br><br><br>    shield = Spawn(class'ReturnArmourEffect', Victim,, Victim.Location, Victim.Rotation);<br>    if (shield != None)<br>    {<br>        Shield.DrawScale = Victim.Drawscale;<br>        shield.SetBase(Victim);<br>    }<br><br></div>
<h3 id="PGMutator.GetLink"><a class="headerlink" href="#PGMutator.GetLink" title="Permanent link">GetLink</a> (playerpawn check) -> DXScriptedPawn</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DXScriptedPawn DXS;<br><br>    <br>    foreach AllActors(class'DXScriptedPawn', DXS)<br>        if(DXS.LinkedPlayer == check)<br>            return DXS;<br><br></div>
<h3 id="PGMutator.GetPADef"><a class="headerlink" href="#PGMutator.GetPADef" title="Permanent link">GetPADef</a> (PlayerPawn PP) -> int</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local PGArmour AA;<br><br><br>    foreach AllActors(class'PGArmour', AA)<br>        if(AA.Owner == PP)<br>            return AA.Def;<br><br></div>
<h3 id="PGMutator.GetPADur"><a class="headerlink" href="#PGMutator.GetPADur" title="Permanent link">GetPADur</a> (PlayerPawn PP) -> int</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local PGArmour AA;<br><br><br>    foreach AllActors(class'PGArmour', AA)<br>        if(AA.Owner == PP)<br>            return AA.Dur;<br><br></div>
<h3 id="PGMutator.HasAA"><a class="headerlink" href="#PGMutator.HasAA" title="Permanent link">HasAA</a> (PlayerPawn PP) -> AdminArmour</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local AdminArmour AA;<br><br><br>    foreach AllActors(class'AdminArmour', AA)<br>        if(AA.Owner == PP)<br>            return AA;<br><br></div>
<h3 id="PGMutator.HasPA"><a class="headerlink" href="#PGMutator.HasPA" title="Permanent link">HasPA</a> (PlayerPawn PP) -> PGArmour</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local PGArmour AA;<br><br><br>    foreach AllActors(class'PGArmour', AA)<br>        if(AA.Owner == PP)<br>            return AA;<br><br></div>
<h3 id="PGMutator.HasRA"><a class="headerlink" href="#PGMutator.HasRA" title="Permanent link">HasRA</a> (PlayerPawn PP) -> ReturnArmour</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local ReturnArmour AA;<br><br><br>    foreach AllActors(class'ReturnArmour', AA)<br>        if(AA.Owner == PP)<br>            return AA;<br><br></div>
<h3 id="PGMutator.HasVG"><a class="headerlink" href="#PGMutator.HasVG" title="Permanent link">HasVG</a> (PlayerPawn PP) -> Vialgrow</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Vialgrow AA;<br><br><br>    foreach AllActors(class'Vialgrow', AA)<br>        if(AA.Owner == PP && AA.bOn)<br>            return AA;<br><br></div>
<h3 id="PGMutator.HitPA"><a class="headerlink" href="#PGMutator.HitPA" title="Permanent link">HitPA</a> (PlayerPawn PP, int i)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local PGArmour AA;<br><br><br>    foreach AllActors(class'PGArmour', AA)<br>        if(AA.Owner == PP)<br>        {<br>            AA.Dur -= i;<br>            AA.rDur = AA.Dur;<br>        }<br><br></div>
<h3 id="PGMutator.ModifyPlayer"><a class="headerlink" href="#PGMutator.ModifyPlayer" title="Permanent link">ModifyPlayer</a> (Pawn Other)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int x;<br>&#9;local int k;<br>&#9;local int i;<br>&#9;local int m;<br>&#9;local DeusExPlayer P;<br>&#9;local PSCreditCard ccc;<br>&#9;local inventory inv;<br><br>        P = DeusExPlayer(Other);<br><br>    if(P != None)<br>        P.MaxRegenPoint = 0;<br>    <br>    if(bClearSpawnInventory)<br>    {<br>        foreach AllActors(class'Inventory',inv)<br>        {<br>            if(Inv.Owner == Other)<br>            {<br>                if(Inv.IsA('Medkit'))<br>                    Inv.Destroy();<br>                if(Inv.IsA('Lockpick'))<br>                    Inv.Destroy();<br>                if(Inv.IsA('Multitool'))<br>                    Inv.Destroy();<br>            }<br>        }<br>    }<br><br>        //p.Credits = 200;<br><br>    p.Credits = 50;<br>    <br>    if(P!=None && bGiveAutomed)<br>    {<br>        inv=Spawn(class'Automed');<br>        Inv.Frob(P,None);&#9;  <br>        Inventory.bInObjectBelt = True;<br>        inv.Destroy();<br>    }<br>    <br>    if(P!=None && bGivePSCC)<br>    {<br>        ccc = Spawn(class'PSCreditCard');<br>        ccc.Frob(p,None);<br>        ccc.Destroy();<br>    }<br>    Super.ModifyPlayer(Other);<br><br></div>
<h3 id="PGMutator.Mutate"><a class="headerlink" href="#PGMutator.Mutate" title="Permanent link">Mutate</a> (String S, PlayerPawn PP)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int a, i, j, ID, amount;<br>&#9;local string IP, AName, Part, noobCommand, bm, Others, _tmpString, Message;<br>&#9;local DeusExPlayer SP;<br>&#9;local Box PC;<br>&#9;local int JSlot;<br>&#9;local Pawn APawn;<br>&#9;local string msgs;<br>&#9;local MSGR msobj;<br>&#9;local string formattedmin;<br>&#9;local sound pgSound;<br>&#9;local DeusExPlayer DXP;<br>&#9;local string oldmsgs, msgs2;<br>&#9;local bool bAutoPackage;<br>&#9;local float Pitch;<br>&#9;local Actor hitActor;<br>&#9;local vector loc, line, HitLocation, hitNormal;<br>&#9;local Decal Dec;<br>&#9;local JobScanner JS;<br><br>    <br>    Super.Mutate (S, PP);<br>    <br>        if(left(S,5) ~= "MSGR ")<br>        {<br>            msgs = Right(S, Len(S) - 5);<br>            msobj = Spawn(Class'MSGR',,,PP.Location + (PP.CollisionRadius+Default.CollisionRadius+30) * Vector(PP.ViewRotation) + vect(0,0,1) * 30 );<br>            msobj.MSGSender = PP.PlayerReplicationInfo.PlayerName;<br>                if(level.minute <= 9)<br>                {<br>                    formattedmin = "0"$level.minute;<br>                }<br>                else<br>                {<br>                    formattedmin = string(level.minute);<br>                }<br>            msobj.MSGTimestamp = level.hour$":"$formattedmin;<br>            msobj.myMSG = msgs;<br>            msobj.bSentByPlayer=True;<br>            PP.ClientMessage("Message created.");<br>        }<br>        <br>        if(left(S,7) ~= "setplay" && PP.bAdmin)<br>        {<br>            msgs = Right(S, Len(S) - 7);<br>            if(msgs ~= "allon")<br>            {<br>                bAllowPlayAll=True;<br>            }<br>            if(msgs ~= "alloff")<br>            {<br>                bAllowPlayAll=False;<br>            }<br>            if(msgs ~= "on")<br>            {<br>                bAllowPlay=True;<br>            }<br>            if(msgs ~= "off")<br>            {<br>                bAllowPlay=false;<br>            }<br>            SaveConfig();<br>            BroadcastMessage("PLAY SETTINGS: bAllowPlay"@bAllowPlay@": bAllowPlayAll"@bAllowPlayAll);<br>        }<br>        <br>        if(left(S,5) ~= "play " && bAllowPlay)<br>        {<br>            msgs = Right(S, Len(S) - 5);<br>            pitch = 1;<br>                if(instr(caps(msgs), caps(" ")) != -1) //Assuming theres other words after<br>                {<br>                    msgs2 = Right(msgs, Len(msgs)-instr(msgs," ")-Len(" "));<br>                    msgs = Left(msgs, InStr(msgs," "));<br><br>                    if(msgs2 != "")<br>                    {<br>                        j = int(msgs2);<br>                        pitch = (j*0.15)+0.5;<br>                    }<br>                    pitch = FClamp(pitch, 0.5, 2.0);<br>                    //Log("OUT:"$msgs@msgs2@pitch);<br>                }<br><br>            <br><br>            oldmsgs = msgs;<br>            if ( InStr(msgs,".") == -1 )//No package specified, passing through to the auto-namer to see if anything matches.<br>            {<br>                bAutoPackage=True;<br>                msgs="DeusExSounds." $ msgs;<br>                pgSound = Sound(DynamicLoadObject(msgs, class'Sound', true));<br>                    if (pgSound == None) //Nothing found in Deus Ex, now checking PartySoundPack, but if it IS found, move along to the sound<br>                    {<br>                        msgs = oldmsgs; //Resetting for pass two, assuming PartySoundPack<br>                            msgs="PartySoundPack." $ msgs;<br>                            pgSound = Sound(DynamicLoadObject(msgs, class'Sound', true));<br>                            if (pgSound == None) //Nothing found, erroring<br>                            {<br>                            DeusExPlayer(PP).ClientMessage("|P2ERROR: DynamicLoadObject failed or no package specified. (DynamicLoadObject could not find " $ oldmsgs $ ")");<br>                            return;<br>                            }<br>                    }<br>            }<br>            <br>            if(!bAutoPackage)<br>                pgSound = Sound(DynamicLoadObject(msgs, class'Sound', true));<br>            //if(j == 0)<br>            //&#9;j = DefaultPitch;<br>                <br>            if (pgSound != None)<br>                PP.PlaySound(pgSound, SLOT_Talk,2,,1024,pitch);<br>            else<br>                DeusExPlayer(PP).ClientMessage("|P2ERROR: Audio file not found.");<br><br>        }<br>        <br>        if(left(S,8) ~= "playall " && bAllowPlayAll)<br>        {<br>            msgs = Right(S, Len(S) - 8);<br>            pitch=1;<br>                if(instr(caps(msgs), caps(" ")) != -1) //Assuming theres other words after<br>                {<br>                    msgs2 = Right(msgs, Len(msgs)-instr(msgs," ")-Len(" "));<br>                    msgs = Left(msgs, InStr(msgs," "));<br><br>                    if(msgs2 != "")<br>                    {<br>                        j = int(msgs2);<br>                        pitch = (j*0.15)+0.5;<br>                    }<br>                    pitch = FClamp(pitch, 0.5, 2.0);<br>                    //Log("OUT:"$msgs@msgs2@pitch);<br>                }<br><br>                        oldmsgs = msgs;<br>            if ( InStr(msgs,".") == -1 )//No package specified, passing through to the auto-namer to see if anything matches.<br>            {<br>                bAutoPackage=True;<br>                msgs="DeusExSounds." $ msgs;<br>                pgSound = Sound(DynamicLoadObject(msgs, class'Sound', true));<br>                    if (pgSound == None) //Nothing found in Deus Ex, now checking PartySoundPack, but if it IS found, move along to the sound<br>                    {<br>                        msgs = oldmsgs; //Resetting for pass two, assuming PartySoundPack<br>                            msgs="PartySoundPack." $ msgs;<br>                            pgSound = Sound(DynamicLoadObject(msgs, class'Sound', true));<br>                            if (pgSound == None) //Nothing found, erroring<br>                            {<br>                            DeusExPlayer(PP).ClientMessage("|P2ERROR: DynamicLoadObject failed or no package specified. (DynamicLoadObject could not find "$oldmsgs$")");<br>                            return;<br>                            }<br>                    }<br>            }<br>            <br>            if(!bAutoPackage)<br>                pgSound = Sound(DynamicLoadObject(msgs, class'Sound', true));<br>            <br>                <br>            if (pgSound != None)<br>            {<br>                foreach AllActors(class'DeusExPlayer',DXP)<br>                {<br>                DXP.PlaySound(pgSound, SLOT_Talk,2,,1024,pitch);<br>                }<br>            }<br>            else<br>            {<br>                DeusExPlayer(PP).ClientMessage("|P2ERROR: Audio file not found.");<br>            }<br><br>        }<br>        else if(S ~= "DroneRiding" || S ~= "DR")<br>        {<br>            if(PP.bAdmin)<br>            {<br>                if(bSpydroneMod)<br>                {//Turning off spydrone riding<br>                    bSpydroneMod = False;<br>                    BroadcastMessage("|P3Spydrone riding has been enabled by "$PP.PlayerReplicationInfo.Playername);<br>                }<br>                else<br>                {//Turning on spydrone riding<br>                    bSpydroneMod = True;<br>                    BroadcastMessage("|P3Spydrone riding has been disabled by "$PP.PlayerReplicationInfo.Playername);<br>                }<br>            <br></div>
<h3 id="PGMutator.PostBeginPlay"><a class="headerlink" href="#PGMutator.PostBeginPlay" title="Permanent link">PostBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local PGMutator R;<br>&#9;local bool bMutatorFound;<br>&#9;local ProjectileGenerator PG;<br>&#9;local ScriptedPawn SP;<br>&#9;local BreakableGlass BG;<br>&#9;local Actor A;<br>&#9;local SecurityCamera SC;<br>&#9;local PSZoneInfo psz;<br>&#9;local Persist p;<br><br>    //Super.PostBeginPlay ();<br>    Level.Game.BaseMutator.AddMutator (Self);<br>    Level.Game.RegisterDamageMutator (Self);<br>    <br>    if(bPersistZones)<br>    {<br>        if(InStr(string(Level), PersistMap) != -1)<br>        {<br>            log("Enabling Actor Persist");<br>            p = spawn(class'Persist');<br>            if(bLoadPersistance)<br>                p.Load();<br>            p.SetTimer(SaveTimer,True);<br>        }<br>    }<br>    foreach AllActors(class'SecurityCamera', SC)<br>    {<br>        SC.bActive=False; //NO CAM GIRLS<br>    }<br>    foreach AllActors(class'Actor', A)<br>    {&#9;&#9;  <br>        if(string(a.class) ~= "DXMTL152b1.CBPAmmocrate") <br>        {<br>            Spawn(class'acrate',,,A.Location);<br>            a.Destroy();<br>        }<br>    }<br>    <br>    if(Left(string(Level), InStr(string(Level), ".")) ~= "DXMP_RPGCity")<br>    {<br>        foreach AllActors(class'ScriptedPawn',SP)<br>        {<br>            SP.Destroy();<br>        }<br>        foreach AllActors(class'BreakableGlass',BG)<br>        {<br>            BG.bBreakable = False;<br>        }<br>    }<br><br></div>
<h3 id="PGMutator.ShowMessage"><a class="headerlink" href="#PGMutator.ShowMessage" title="Permanent link">ShowMessage</a> (DeusExPlayer Player, string Message)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local HUDMissionStartTextDisplay    HUD;<br><br>if ((Player.RootWindow != None) && (DeusExRootWindow(Player.RootWindow).HUD != None))<br>{<br>    HUD = DeusExRootWindow(Player.RootWindow).HUD.startDisplay;<br>}<br>if(HUD != None)<br>{<br>    HUD.shadowDist = 0;<br>    //HUD.setFont(Font'FontMenuTitle');<br>    HUD.fontText = Font'FontMenuExtraLarge';<br>    HUD.Message = "";<br>    HUD.charIndex = 0;<br>    HUD.winText.SetText("");<br>    HUD.winTextShadow.SetText("");<br>    HUD.displayTime = 5.50;<br>    HUD.perCharDelay = 0.01;<br>    HUD.AddMessage(Message);<br>    HUD.StartMessage();<br>}<br><br></div>
<h3 id="PGMutator.SpawnExplosion"><a class="headerlink" href="#PGMutator.SpawnExplosion" title="Permanent link">SpawnExplosion</a> (Pawn victim, Pawn Instigator)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local ShockRing s1, s2, s3;<br>&#9;local int r;<br>&#9;local DeusExPlayer player;<br><br>    s1 = spawn(class'ShockRing',,,Victim.Location,rot(16384,0,0));<br>    s1.Lifespan = 2.5;<br>    s2 = spawn(class'ShockRing',,,Victim.Location,rot(0,16384,0));<br>    s2.Lifespan = 2.5;<br>    s3 = spawn(class'ShockRing',,,Victim.Location,rot(0,0,16384));<br>    S3.Lifespan = 2.5;<br>    <br>    r = Rand(100);<br>    if(r < 10)<br>    {<br>        foreach VisibleActors(class'DeusExPlayer', player, 250)<br>        {<br>            if (player != None)<br>            {<br>                player.TakeDamage(100, Instigator, player.Location, vect(0,0,0), 'Flamed');<br>                DeusExPlayer(Instigator).HealPlayer(50, True);<br>                DeusExPlayer(Instigator).StopPoison();<br>                DeusExPlayer(Instigator).ExtinguishFire();<br>                DeusExPlayer(Instigator).drugEffectTimer = 0;<br>                DeusExPlayer(Instigator).Energy += 25;<br>                if (DeusExPlayer(Instigator).Energy > DeusExPlayer(Instigator).EnergyMax)<br>                    DeusExPlayer(Instigator).Energy = DeusExPlayer(Instigator).EnergyMax;<br>            }<br>        }<br>    }<br><br></div>
<h3 id="PGMutator.SwapLoc"><a class="headerlink" href="#PGMutator.SwapLoc" title="Permanent link">SwapLoc</a> (pawn Sender, Pawn Sender2)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local vector Temp1, Temp2;<br><br>    <br>    Temp1 = Sender.Location;<br>    Temp2 = Sender2.Location;<br>    <br>    Sender2.SetCollision(false, false, false);<br>    Sender2.bCollideWorld = true;<br>    Sender2.GotoState('PlayerWalking');<br>    Sender2.SetLocation(Temp1);<br>    Sender2.SetCollision(true, true , true);<br>    Sender2.SetPhysics(PHYS_Walking);<br>    Sender2.bCollideWorld = true;<br>    Sender2.GotoState('PlayerWalking');<br>    Sender2.ClientReStart();<br>        <br>    Sender.SetCollision(false, false, false);<br>    Sender.bCollideWorld = true;<br>    Sender.GotoState('PlayerWalking');<br>    Sender.SetLocation(Temp2);<br>    Sender.SetCollision(true, true , true);<br>    Sender.SetPhysics(PHYS_Walking);<br>    Sender.bCollideWorld = true;<br>    Sender.GotoState('PlayerWalking');<br>    Sender.ClientReStart();&#9;<br><br></div>
<h3 id="PGMutator.Tick"><a class="headerlink" href="#PGMutator.Tick" title="Permanent link">Tick</a> (float deltatime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Spydrone SD;<br>&#9;local FleshFragment F;<br>&#9;local int Random;<br><br><br>if(bSuperGore)<br>{<br>    Random = Rand(100);<br><br>    ForEach AllActors(class'FleshFragment', F)<br>    {<br>            F.Velocity   = vect(10, 10, 1000);<br>            F.Fatness    = F.Default.Fatness + Random;<br>            F.elasticity = 1.0;<br>        }<br>    }<br>    <br>    if(bSpydroneMod)<br>    {<br>        foreach AllActors(class'SpyDrone',SD)<br>        {<br>            if(SD != None)<br>            {<br>                SD.bBlockPlayers = True;<br>                SD.DamageType = 'None';<br>                SD.Damage = 0;<br>                SD.MaxSpeed = 700;<br>                ConsoleCommand("Set Augdrone ReconstructTime 1");<br>            }<br>        }<br>    }<br><br></div>
<br><br><hr>
<a class="headerlink" href="#PGSItem.uc" title="Permanent link"><h2 id="PGSItem.uc">PGSItem.uc (extends DeusExDecoration)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var bool bActive;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bInvincible=True<br>bCanBeBase=True<br>ItemName="Scavenger Item"<br>bPushable=False<br>bBlockSight=True<br>Mesh=LodMesh'DeusExItems.VialAmbrosia'<br>MultiSkins(1)=FireTexture'Effects.liquid.Virus_SFX'<br>CollisionRadius=2.200000<br>CollisionHeight=4.890000<br>Mass=200.000000<br>Buoyancy=40.000000</div>
<h3 id="PGSItem.Frob"><a class="headerlink" href="#PGSItem.Frob" title="Permanent link">Frob</a> (Actor Frobber, Inventory frobWith)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local PGSItem PGSI;<br>&#9;local int myCount;<br><br>&#9;if(bActive)<br>&#9;{<br>&#9;bActive=False;<br>&#9;DeusExPlayer(Frobber).PlayerReplicationInfo.Score += 3;<br>&#9;BroadcastMessage(DeusExPlayer(Frobber).PlayerReplicationInfo.PlayerName$" has found an item.");<br>&#9;myCount = 0;<br>&#9;&#9;foreach AllActors(class'PGSItem',PGSI)<br>&#9;&#9;{<br>&#9;&#9;&#9;myCount++;<br>&#9;&#9;}<br>&#9;&#9;myCount -= 1; //Count out THIS one<br>&#9;BroadcastMessage(myCount$" remaining.");<br>&#9;destroy();<br>&#9;return;&#9;<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#PGSeeker.uc" title="Permanent link"><h2 id="PGSeeker.uc">PGSeeker.uc (extends DeusExWeapon)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var bool bFailure;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">GoverningSkill=Class'DeusEx.SkillWeaponPistol'<br>NoiseLevel=0.010000<br>ShotTime=0.150000<br>reloadTime=1.500000<br>HitDamage=0<br>maxRange=4800<br>AccurateRange=2400<br>BaseAccuracy=0.800000<br>bCanHaveScope=True<br>ScopeFOV=25<br>bCanHaveLaser=True<br>recoilStrength=0.100000<br>mpBaseAccuracy=0.200000<br>mpAccurateRange=1200<br>mpMaxRange=1200<br>bCanHaveModBaseAccuracy=True<br>bCanHaveModReloadCount=True<br>bCanHaveModAccurateRange=True<br>bCanHaveModReloadTime=True<br>bInstantHit=True<br>FireOffset=(X=-24.000000,Y=10.000000,Z=14.000000)<br>shakemag=50.000000<br>FireSound=Sound'DeusExSounds.Weapons.StealthPistolFire'<br>AltFireSound=Sound'DeusExSounds.Weapons.StealthPistolReloadEnd'<br>CockingSound=Sound'DeusExSounds.Weapons.StealthPistolReload'<br>SelectSound=Sound'DeusExSounds.Weapons.StealthPistolSelect'<br>InventoryGroup=128<br>ItemName="Seeker Gun"<br>PlayerViewOffset=(X=24.000000,Y=-10.000000,Z=-14.000000)<br>PlayerViewMesh=LodMesh'DeusExItems.StealthPistol'<br>PickupViewMesh=LodMesh'DeusExItems.StealthPistolPickup'<br>ThirdPersonMesh=LodMesh'DeusExItems.StealthPistol3rd'<br>Icon=Texture'DeusExUI.Icons.BeltIconStealthPistol'<br>largeIcon=Texture'DeusExUI.Icons.LargeIconStealthPistol'<br>largeIconWidth=47<br>largeIconHeight=37<br>Description="The stealth pistol is a variant of the standard 10mm pistol with a larger clip and integrated silencer designed for wet work at very close ranges."<br>beltDescription="SEEKER"<br>Mesh=LodMesh'DeusExItems.StealthPistolPickup'<br>CollisionRadius=8.000000<br>CollisionHeight=0.800000</div>
<h3 id="PGSeeker.CalculateAccuracy"><a class="headerlink" href="#PGSeeker.CalculateAccuracy" title="Permanent link">CalculateAccuracy</a> -> float</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;return 0.000000; //Dirty hack to always return dead on accuracy.<br><br></div>
<h3 id="PGSeeker.GetName"><a class="headerlink" href="#PGSeeker.GetName" title="Permanent link">GetName</a> (DeusExPlayer P) -> string</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;return p.PlayerReplicationInfo.PlayerName;<br><br></div>
<h3 id="PGSeeker.LaserToggle"><a class="headerlink" href="#PGSeeker.LaserToggle" title="Permanent link">LaserToggle</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local PGHiderActors PG;<br><br>&#9;<br>&#9;broadcastmessage("FOUND PLAYERS");<br>&#9;foreach allactors(class'PGHiderActors',PG)<br>&#9;{<br>&#9;&#9;BroadcastMessage(PG.SavedName);<br>&#9;}<br><br></div>
<h3 id="PGSeeker.PreBeginPlay"><a class="headerlink" href="#PGSeeker.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;// If this is a netgame, then override defaults<br>&#9;if ( Level.NetMode != NM_StandAlone )<br>&#9;{<br>&#9;&#9;HitDamage = mpHitDamage;<br>&#9;&#9;BaseAccuracy = mpBaseAccuracy;<br>&#9;&#9;ReloadTime = mpReloadTime;<br>&#9;&#9;AccurateRange = mpAccurateRange;<br>&#9;&#9;MaxRange = mpMaxRange;<br>&#9;&#9;ReloadCount = mpReloadCount;<br>&#9;}<br><br></div>
<h3 id="PGSeeker.ProcessTraceHit"><a class="headerlink" href="#PGSeeker.ProcessTraceHit" title="Permanent link">ProcessTraceHit</a> (Actor Other, Vector HitLocation, Vector HitNormal, Vector X, Vector Y, Vector Z)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local float        mult;<br>&#9;local name         damageType;<br>&#9;local DeusExPlayer dxPlayer, DXP;<br>&#9;local Pawn P;<br>&#9;local int myCount;<br>&#9;local PGHiderActors PGH;<br>&#9;local PGGames PGG;<br>&#9;local Inventory inv;<br>&#9;local bool bHurtMe;<br>&#9;local HideFailActor HFA;<br><br>&#9;<br>&#9;bHurtMe=False;<br>&#9;if(Other.isa('DeusExPlayer'))<br>&#9;{<br>&#9;&#9;foreach AllActors(class'PGHiderActors',PGH)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(PGH.Hider == DeusExPlayer(Other))<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;DeusExPlayer(Owner).ClientMessage("|P2Player already found.");<br>&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;foreach AllActors(class'PGGames',PGG)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(DeusExPlayer(Other) == PGG.Seeker)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;DeusExPlayer(Owner).ClientMessage("|P2Can not tag the primary seeker.");<br>&#9;&#9;&#9;&#9;return;&#9;&#9;&#9;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;PGH = Spawn(class'PGHiderActors');<br>&#9;&#9;PGH.Hider = DeusExPlayer(Other);<br>&#9;&#9;PGH.SavedName = GetName(DeusExPlayer(Other));<br>&#9;&#9;DeusExPlayer(Owner).PlayerReplicationInfo.Score += 3;<br>&#9;&#9;BroadcastMessage(GetName(DeusExPlayer(Other))$" has been found!");<br>&#9;&#9;<br>&#9;&#9;inv=Spawn(class'PGSeeker');<br>&#9;&#9;Inv.Frob(DeusExPlayer(Other),None);&#9;  <br>&#9;&#9;Inventory.bInObjectBelt = True;<br>&#9;&#9;inv.Destroy();<br>&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;myCount=0;<br>&#9;&#9;foreach allactors(class'DeusExPlayer',DXP)<br>&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(!DXP.isinState('Spectating'))<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;myCount++;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;foreach AllActors(class'PGHiderActors',PGH)<br>&#9;&#9;{<br>&#9;&#9;&#9;myCount--;<br>&#9;&#9;}<br>&#9;&#9;myCount--; //Negative one for the Seeker<br>&#9;&#9;BroadcastMessage(myCount$" hiders remaining.");<br>&#9;&#9;return;<br>&#9;}<br>&#9;&#9;DeusExPlayer(Owner).TakeDamage(20, DeusExPlayer(Owner), Owner.Location, vect(0,0,1),'Shot');<br>&#9;&#9;if(DeusExPlayer(Owner).Health <= 0)<br>&#9;&#9;{<br>&#9;&#9;&#9;HFA = Spawn(class'HideFailActor');<br>&#9;&#9;&#9;HFA.BadPlayer = DeusExPlayer(Owner);<br>&#9;&#9;}<br><br></div>
<h3 id="PGSeeker.ScopeToggle"><a class="headerlink" href="#PGSeeker.ScopeToggle" title="Permanent link">ScopeToggle</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;DeusExPlayer(Owner).ConsoleCommand("Mutate rcon.tp");<br><br></div>
<h3 id="PGSeeker.TestMPBeltSpot"><a class="headerlink" href="#PGSeeker.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<br><br><hr>
<a class="headerlink" href="#PRING.uc" title="Permanent link"><h2 id="PRING.uc">PRING.uc (extends SphereEffect)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var float blastRadius;<br>var float size;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">size=5.000000<br>LifeSpan=4.750000<br>Skin=FireTexture'Effects.liquid.Virus_SFX'</div>
<h3 id="PRING.Tick"><a class="headerlink" href="#PRING.Tick" title="Permanent link">Tick</a> (float deltaTime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br><br> Super.Tick(DeltaTime);<br><br> DrawScale = 3.0 * size * (Default.LifeSpan - LifeSpan) / Default.LifeSpan;<br> ScaleGlow = 0.75 * (LifeSpan / Default.Lifespan);<br><br>    <br></div>
<br><br><hr>
<a class="headerlink" href="#PSAfterEffect.uc" title="Permanent link"><h2 id="PSAfterEffect.uc">PSAfterEffect.uc (extends Actor)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var bool bStartFade;</div>
<h3 id="PSAfterEffect.AttachToPlayer"><a class="headerlink" href="#PSAfterEffect.AttachToPlayer" title="Permanent link">AttachToPlayer</a> (DeusExPlayer target)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int i;<br><br>&#9;<br>&#9;if(Target != None)<br>&#9;{<br>&#9;&#9;Style=STY_Translucent;<br>&#9;&#9;Drawtype = target.DrawType;<br>&#9;&#9;SetLocation(target.Location);<br>&#9;&#9;Drawscale = target.Drawscale;<br>&#9;&#9;Mesh = target.Mesh;<br>&#9;&#9;SetRotation(target.Rotation);<br>&#9;&#9;for(i=0;i<8;i++)<br>&#9;&#9;&#9;Multiskins[i] = target.Multiskins[i];<br>&#9;&#9;<br>&#9;&#9;bStartFade=True;<br>&#9;}<br><br></div>
<h3 id="PSAfterEffect.Tick"><a class="headerlink" href="#PSAfterEffect.Tick" title="Permanent link">Tick</a> (float v)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Scaleglow-=0.02;<br>&#9;if(Scaleglow<0.01)<br>&#9;&#9;Destroy();<br>&#9;<br><br></div>
<br><br><hr>
<a class="headerlink" href="#PSArenaEntrySwitch.uc" title="Permanent link"><h2 id="PSArenaEntrySwitch.uc">PSArenaEntrySwitch.uc (extends Switch2)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var() name SpawnTag;<br>var bool bPSActive;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bPSActive=True<br>ItemName="Enter the arena!"</div>
<h3 id="PSArenaEntrySwitch.Frob"><a class="headerlink" href="#PSArenaEntrySwitch.Frob" title="Permanent link">Frob</a> (Actor Frobber, Inventory frobWith)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local PSArenaSpawner PSA;<br>&#9;local deusexplayer dxp;<br><br>&#9;dxp = DeusExPlayer(Frobber);<br>&#9;<br>&#9;if(!bPSActive)<br>&#9;{<br>&#9;&#9;dxp.ClientMessage("Not allowed to enter.");<br>&#9;&#9;return;<br>&#9;}<br>&#9;foreach AllActors(class'PSArenaSpawner', PSA)<br>&#9;{<br>&#9;&#9;if(PSA.Tag == SpawnTag)<br>&#9;&#9;{<br>&#9;&#9;&#9;&#9;DXP.SetCollision(false, false, false);<br>&#9;&#9;&#9;&#9;DXP.bCollideWorld = true;<br>&#9;&#9;&#9;&#9;DXP.GotoState('PlayerWalking');<br>&#9;&#9;&#9;&#9;DXP.SetLocation(PSA.location);<br>&#9;&#9;&#9;&#9;DXP.SetCollision(true, true , true);<br>&#9;&#9;&#9;&#9;DXP.SetPhysics(PHYS_Walking);<br>&#9;&#9;&#9;&#9;DXP.bCollideWorld = true;<br>&#9;&#9;&#9;&#9;DXP.GotoState('PlayerWalking');<br>&#9;&#9;&#9;&#9;DXP.ClientReStart();&#9;<br>&#9;&#9;}<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#PSArenaExit.uc" title="Permanent link"><h2 id="PSArenaExit.uc">PSArenaExit.uc (extends Actor)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bHidden=True</div>
<br><br><hr>
<a class="headerlink" href="#PSArenaExitSwitch.uc" title="Permanent link"><h2 id="PSArenaExitSwitch.uc">PSArenaExitSwitch.uc (extends Switch2)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var() name SpawnTag;<br>var bool bPSActive;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bPSActive=True<br>ItemName="Exit the arena!"</div>
<h3 id="PSArenaExitSwitch.Frob"><a class="headerlink" href="#PSArenaExitSwitch.Frob" title="Permanent link">Frob</a> (Actor Frobber, Inventory frobWith)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local PSArenaExit PSA;<br>&#9;local deusexplayer dxp;<br><br>&#9;dxp = DeusExPlayer(Frobber);<br>&#9;<br>&#9;if(!bPSActive)<br>&#9;{<br>&#9;&#9;dxp.ClientMessage("Not allowed to leave.");<br>&#9;&#9;return;<br>&#9;}<br>&#9;<br>&#9;foreach AllActors(class'PSArenaExit', PSA)<br>&#9;{<br>&#9;&#9;if(PSA.Tag == SpawnTag)<br>&#9;&#9;{<br>&#9;&#9;&#9;&#9;DXP.SetCollision(false, false, false);<br>&#9;&#9;&#9;&#9;DXP.bCollideWorld = true;<br>&#9;&#9;&#9;&#9;DXP.GotoState('PlayerWalking');<br>&#9;&#9;&#9;&#9;DXP.SetLocation(PSA.location);<br>&#9;&#9;&#9;&#9;DXP.SetCollision(true, true , true);<br>&#9;&#9;&#9;&#9;DXP.SetPhysics(PHYS_Walking);<br>&#9;&#9;&#9;&#9;DXP.bCollideWorld = true;<br>&#9;&#9;&#9;&#9;DXP.GotoState('PlayerWalking');<br>&#9;&#9;&#9;&#9;DXP.ClientReStart();&#9;<br>&#9;&#9;}<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#PSArenaSpawner.uc" title="Permanent link"><h2 id="PSArenaSpawner.uc">PSArenaSpawner.uc (extends PGSpawnPoints)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bHidden=True</div>
<br><br><hr>
<a class="headerlink" href="#PSArenaStartSwitch.uc" title="Permanent link"><h2 id="PSArenaStartSwitch.uc">PSArenaStartSwitch.uc (extends Switch2)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var() name SpawnTag, ArenaZoneTag;<br>var bool bPSActive;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bPSActive=True<br>ItemName="Begin the battle!"</div>
<h3 id="PSArenaStartSwitch.Frob"><a class="headerlink" href="#PSArenaStartSwitch.Frob" title="Permanent link">Frob</a> (Actor Frobber, Inventory frobWith)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local PSArenaZone PZ;<br>&#9;local deusexplayer dxp;<br><br>&#9;dxp = DeusExPlayer(Frobber);<br>&#9;<br>&#9;if(!bPSActive)<br>&#9;{<br>&#9;&#9;dxp.ClientMessage("Button disabled..");<br>&#9;&#9;return;<br>&#9;}<br>&#9;<br>&#9;foreach AllActors(class'PSArenaZone', PZ)<br>&#9;{<br>&#9;&#9;if(PZ.Tag == ArenaZoneTag)<br>&#9;&#9;{<br>&#9;&#9;&#9;PZ.BeginMatch();<br>&#9;&#9;&#9;bPSActive=False;<br>&#9;&#9;}<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#PSArenaTimer.uc" title="Permanent link"><h2 id="PSArenaTimer.uc">PSArenaTimer.uc (extends PGActors)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var PSArenaZone Zoney;</div>
<h3 id="PSArenaTimer.Tick"><a class="headerlink" href="#PSArenaTimer.Tick" title="Permanent link">Tick</a> (float deltatime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer DXP;<br>&#9;local DXEnemy Enemies;<br><br>&#9;<br>&#9;if(Zoney == None)<br>&#9;&#9;Destroy();<br>&#9;&#9;<br>&#9;if(Zoney.bRunning && Zoney.CountPlayers() == 0)<br>&#9;&#9;Zoney.EndMatch(false);<br>&#9;if(Zoney.bRunning && Zoney.CountEnemy() == 0)<br>&#9;&#9;Zoney.EndMatch(True);<br><br></div>
<h3 id="PSArenaTimer.Timer"><a class="headerlink" href="#PSArenaTimer.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Zoney.Kombat();<br><br></div>
<br><br><hr>
<a class="headerlink" href="#PSArenaZone.uc" title="Permanent link"><h2 id="PSArenaZone.uc">PSArenaZone.uc (extends ZoneInfo)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var() int Payout;<br>var() bool bRunning;<br>var() music myTrack;<br>var() EMusicTransition Transition;<br>var() byte             SongSection;<br>var() byte             CdTrack;<br>var() name PSATags[10];<br>var() class<DXEnemy> EnemiesGroupOne[10];<br>var() class<DXEnemy> EnemiesGroupTwo[10];<br>var() class<DXEnemy> EnemiesGroupThree[10];<br>var() class<DXEnemy> EnemiesGroupFour[10];<br>var() class<DXEnemy> EnemiesGroupFive[10];<br>var() name EntryButtonTag, ExitButtonTag, StartButtonTag;<br>var PSArenaTimer PST;</div>
<h3 id="PSArenaZone.BeginMatch"><a class="headerlink" href="#PSArenaZone.BeginMatch" title="Permanent link">BeginMatch</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local PSArenaExitSwitch PSAEx;<br>&#9;local PSArenaEntrySwitch PSAEn;<br><br><br>&#9;BroadcastMessage("Beginning match with "$CountPlayers()$" players!");<br>&#9;PST = Spawn(class'PSArenaTimer');<br>&#9;PST.SetTimer(5,False);<br>&#9;PST.Zoney = Self;<br>&#9;&#9;<br>&#9;foreach AllActors(class'PSArenaExitswitch', PSAEx)<br>&#9;&#9;if(PSAEx.Tag == ExitButtonTag)<br>&#9;&#9;&#9;PSAEx.bPSActive=False;<br>&#9;foreach AllActors(class'PSArenaEntryswitch', PSAEn)<br>&#9;&#9;if(PSAEn.Tag == EntryButtonTag)<br>&#9;&#9;&#9;PSAEn.bPSActive=False;&#9;<br><br><br></div>
<h3 id="PSArenaZone.CountEnemy"><a class="headerlink" href="#PSArenaZone.CountEnemy" title="Permanent link">CountEnemy</a> -> int</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int i;<br>&#9;local DXEnemy DXP;<br><br>&#9;foreach ZoneActors(class'DXEnemy', DXP)<br>&#9;&#9;i++;<br>&#9;&#9;<br>&#9;return i;<br><br></div>
<h3 id="PSArenaZone.CountPlayers"><a class="headerlink" href="#PSArenaZone.CountPlayers" title="Permanent link">CountPlayers</a> -> int</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int i;<br>&#9;local DeusExPlayer DXP;<br><br>&#9;foreach ZoneActors(class'DeusExPlayer', DXP)<br>&#9;&#9;if(!DXP.IsInState('Spectating'))<br>&#9;&#9;&#9;i++;<br>&#9;&#9;<br>&#9;return i;<br><br></div>
<h3 id="PSArenaZone.EndMatch"><a class="headerlink" href="#PSArenaZone.EndMatch" title="Permanent link">EndMatch</a> (bool bWon)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local PSArenaExit AE;<br>&#9;local DeusExPlayer DXP;<br>&#9;local DXEnemy DXE;<br>&#9;local PSArenaExitSwitch PSAEx;<br>&#9;local PSArenaEntrySwitch PSAEn;<br>&#9;local PSArenaStartSwitch PSAEs;<br>&#9;local int realpay;<br><br>&#9;<br>&#9;realpay = payout / countplayers();<br>&#9;if(bWon)<br>&#9;{<br>&#9;&#9;BroadcastMessage("Match over! Players win! "$payout$" credits split among the players. ("$realpay$" each)");<br>&#9;&#9;foreach ZoneActors(class'DeusExPlayer', DXP)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(!DXP.IsInState('Spectating'))<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;DXP.Credits += realpay;<br>&#9;&#9;&#9;&#9;foreach AllActors(class'PSArenaExit', AE)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;DXP.SetCollision(false, false, false);<br>&#9;&#9;&#9;&#9;&#9;DXP.bCollideWorld = true;<br>&#9;&#9;&#9;&#9;&#9;DXP.GotoState('PlayerWalking');<br>&#9;&#9;&#9;&#9;&#9;DXP.SetLocation(AE.location);<br>&#9;&#9;&#9;&#9;&#9;DXP.SetCollision(true, true , true);<br>&#9;&#9;&#9;&#9;&#9;DXP.SetPhysics(PHYS_Walking);<br>&#9;&#9;&#9;&#9;&#9;DXP.bCollideWorld = true;<br>&#9;&#9;&#9;&#9;&#9;DXP.GotoState('PlayerWalking');<br>&#9;&#9;&#9;&#9;&#9;DXP.ClientReStart();&#9;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;BroadcastMessage("Match over! Players defeated.");<br>&#9;&#9;foreach ZoneActors(class'DXEnemy', DXE)<br>&#9;&#9;&#9;DXE.Destroy();<br>&#9;&#9;<br>&#9;}<br>&#9;<br>&#9;PST.Destroy();<br>&#9;bRunning=False;<br>&#9;foreach AllActors(class'PSArenaExitswitch', PSAEx)<br>&#9;&#9;if(PSAEx.Tag == ExitButtonTag)<br>&#9;&#9;&#9;PSAEx.bPSActive=True;<br>&#9;foreach AllActors(class'PSArenaEntryswitch', PSAEn)<br>&#9;&#9;if(PSAEn.Tag == EntryButtonTag)<br>&#9;&#9;&#9;PSAEn.bPSActive=True;&#9;<br>&#9;foreach AllActors(class'PSArenaStartswitch', PSAEs)<br>&#9;&#9;if(PSAEs.Tag == StartButtonTag)<br>&#9;&#9;&#9;PSAEs.bPSActive=True;<br><br></div>
<h3 id="PSArenaZone.Kombat"><a class="headerlink" href="#PSArenaZone.Kombat" title="Permanent link">Kombat</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int i;<br>&#9;local PSArenaSpawner PSA;<br>&#9;local DeusExPlayer DXP;<br>&#9;local int p;<br><br>&#9;p = Rand(5);<br>&#9;<br>&#9;foreach ZoneActors(class'DeusExPlayer', DXP)<br>&#9;&#9;DXP.ClientSetMusic( myTrack, SongSection, CdTrack, Transition );<br>&#9;if(p == 0)<br>&#9;&#9;for(i=0;i<10;i++)<br>&#9;&#9;&#9;foreach AllActors(class'PSArenaSpawner', PSA)<br>&#9;&#9;&#9;&#9;if(PSA.Tag == PSATags[i])<br>&#9;&#9;&#9;&#9;&#9;Spawn(EnemiesGroupOne[i],,,PSA.Location);<br>&#9;if(p == 1)<br>&#9;&#9;for(i=0;i<10;i++)<br>&#9;&#9;&#9;foreach AllActors(class'PSArenaSpawner', PSA)<br>&#9;&#9;&#9;&#9;if(PSA.Tag == PSATags[i])<br>&#9;&#9;&#9;&#9;&#9;Spawn(EnemiesGroupTwo[i],,,PSA.Location);<br><br>&#9;if(p == 2)<br>&#9;&#9;for(i=0;i<10;i++)<br>&#9;&#9;&#9;foreach AllActors(class'PSArenaSpawner', PSA)<br>&#9;&#9;&#9;&#9;if(PSA.Tag == PSATags[i])<br>&#9;&#9;&#9;&#9;&#9;Spawn(EnemiesGroupThree[i],,,PSA.Location);<br>&#9;&#9;&#9;&#9;&#9;<br>&#9;if(p == 3)<br>&#9;&#9;for(i=0;i<10;i++)<br>&#9;&#9;&#9;foreach AllActors(class'PSArenaSpawner', PSA)<br>&#9;&#9;&#9;&#9;if(PSA.Tag == PSATags[i])<br>&#9;&#9;&#9;&#9;&#9;Spawn(EnemiesGroupFour[i],,,PSA.Location);<br>&#9;&#9;&#9;&#9;&#9;<br>&#9;if(p == 4)<br>&#9;&#9;for(i=0;i<10;i++)<br>&#9;&#9;&#9;foreach AllActors(class'PSArenaSpawner', PSA)<br>&#9;&#9;&#9;&#9;if(PSA.Tag == PSATags[i])<br>&#9;&#9;&#9;&#9;&#9;Spawn(EnemiesGroupFive[i],,,PSA.Location);<br>&#9;<br>&#9;&#9;bRunning=True;<br><br></div>
<br><br><hr>
<a class="headerlink" href="#PSComputer.uc" title="Permanent link"><h2 id="PSComputer.uc">PSComputer.uc (extends DeusExDecoration)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var() string Username, Password;<br>var() string Messages[250];<br>var() string Notifications[250];<br>var() name ZoneTag;<br>var() bool bDebug;<br>var() string Group;<br>var() string InfoProp[16];<br>var class<inventory> StoredInv[10];<br>var() config string EventAlias;<br>var() config name EventName;<br>var(Accounts) config EvStr pEvents[25];<br>var vector StoredLocation[10]; //Used for mark/recall<br>var int StoredCredits; //Used for the banking feature.<br>var DeusExPlayer pgUser; //Used to define the owner.<br>var PSComputerHandheld PSC; //Allow remote access, its a usable item that calls the functions from this, it executes frob for the player?<br>var string PrevCommand;<br>var float prevdist;<br>var Actor PrevpingA;<br>var() bool bCodebreakerEnabled;<br>var string Hax0rs[25];<br>var Actor Hax0rObj;<br>var int Hax0rStep;<br>var string generatedCode;<br>var() bool bOverdriver;<br>var string LastWord;<br>var int Stage;<br>var actor ODActor;<br>var() bool bFileManager;<br>var string CurFilePath;<br>var Actor FileActor;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">userName="DEFAULT"<br>Password="DEFAULT"<br>InfoProp(0)="Health"<br>InfoProp(1)="Energy"<br>InfoProp(2)="ReducedDamageType"<br>InfoProp(3)="bAdmin"<br>bInvincible=True<br>ItemName="Personal Computer Terminal"<br>bPushable=False<br>Mesh=LodMesh'DeusExDeco.ComputerPersonal'<br>CollisionRadius=36.000000<br>CollisionHeight=7.400000</div>
<h3 id="PSComputer.AddMail"><a class="headerlink" href="#PSComputer.AddMail" title="Permanent link">AddMail</a> (string User, string Msg)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int i;<br><br>&#9;<br>&#9;if(pgUser != None)<br>&#9;&#9;xAlert("Mail","|P3You have mail!");<br>&#9;for(i=0;i<250;i++)<br>&#9;{<br>&#9;&#9;if(Messages[i] == "")<br>&#9;&#9;{<br>&#9;&#9;&#9;Messages[i] = User$": "$Msg;<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="PSComputer.Bump"><a class="headerlink" href="#PSComputer.Bump" title="Permanent link">Bump</a> (actor Other)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int i;<br><br>&#9;<br>&#9;if(Inventory(Other) != None)<br>&#9;{<br>&#9;&#9;for(i=0;i<10;i++)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(StoredInv[i] == None)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;xAlert("Alert",Inventory(Other).itemName$" stored in slot "$i);<br>&#9;&#9;&#9;&#9;StoredInv[i] = Inventory(Other).class;<br>&#9;&#9;&#9;&#9;Other.Destroy();<br>&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br><br><br></div>
<h3 id="PSComputer.ClearMail"><a class="headerlink" href="#PSComputer.ClearMail" title="Permanent link">ClearMail</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int i, k;<br><br><br>&#9;for(i=0;i<250;i++)<br>&#9;{<br>&#9;&#9;if(Messages[i] != "")<br>&#9;&#9;{<br>&#9;&#9;&#9;k++;<br>&#9;&#9;&#9;Messages[i] = "";<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;xAlert("Mail",k$" messages deleted.");<br><br></div>
<h3 id="PSComputer.CountMail"><a class="headerlink" href="#PSComputer.CountMail" title="Permanent link">CountMail</a> (optional bool bUnreadOnly) -> int</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int i, k;<br><br><br>&#9;if(!bUnreadOnly)<br>&#9;{<br>&#9;&#9;for(i=0;i<250;i++)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(Messages[i] != "")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(instr(caps(Messages[i]), caps("[X]")) == -1)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;k++;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;for(i=0;i<250;i++)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(Messages[i] != "")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;k++;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br>&#9;return k;<br><br></div>
<h3 id="PSComputer.CountNotif"><a class="headerlink" href="#PSComputer.CountNotif" title="Permanent link">CountNotif</a> -> int</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int i, k;<br><br><br>&#9;&#9;for(i=0;i<250;i++)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(Notifications[i] != "")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;k++;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;return k;<br><br></div>
<h3 id="PSComputer.DelMail"><a class="headerlink" href="#PSComputer.DelMail" title="Permanent link">DelMail</a> (int i)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(bDebug)<br>&#9;&#9;Log(i);<br>&#9;if(Messages[i] != "")<br>&#9;{<br>&#9;&#9;xAlert("Mail","Deleted message ["$Messages[i]$"]");<br>&#9;&#9;Messages[i] = "";<br>&#9;}<br>&#9;else<br>&#9;&#9;xAlert("Mail","Error: Message is already empty.");<br><br></div>
<h3 id="PSComputer.EndHack"><a class="headerlink" href="#PSComputer.EndHack" title="Permanent link">EndHack</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int i;<br><br>&#9;<br>&#9;Hax0rObj = None;<br>&#9;Hax0rStep = 0;<br>&#9;for(i=0;i<25;i++)<br>&#9;&#9;Hax0rs[i] = "";<br>&#9;<br><br></div>
<h3 id="PSComputer.FailHack"><a class="headerlink" href="#PSComputer.FailHack" title="Permanent link">FailHack</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int i;<br><br>&#9;<br>&#9;pgUser.TakeDamage(100, Pawn(Owner), Owner.Location, Vect(0,0,0), 'EMP');<br>&#9;Hax0rObj = None;<br>&#9;Hax0rStep = 0;<br>&#9;for(i=0;i<25;i++)<br>&#9;&#9;Hax0rs[i] = "";<br><br></div>
<h3 id="PSComputer.Frob"><a class="headerlink" href="#PSComputer.Frob" title="Permanent link">Frob</a> (actor frobber, inventory frobwith)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer P;<br>&#9;local PSComputerReplicationactor newlogin, f;<br>&#9;local bool bFound, bRemembered;<br>&#9;local string str;<br><br>&#9;<br>&#9;P = DeusExPlayer(frobber);<br>&#9;P.PlaySound(sound'Find',,,, 256);<br>&#9;if(pgUser == P)<br>&#9;{<br>&#9;&#9;bRemembered=True;<br>&#9;&#9;pgUser.ClientMessage("|P4Recognized user; Password not required. You may just enter commands.");<br>&#9;&#9;if(CountMail(True) > 0)<br>&#9;&#9;&#9;str = "You have "$CountMail(True)$" unread messages.|n";<br>&#9;&#9;if(CountNotif() > 0)<br>&#9;&#9;&#9;str = str$"You have "$CountNotif()$" notifications! (Command <chk> reads)";<br>&#9;&#9;<br>&#9;&#9;if(str != "")<br>&#9;&#9;&#9;xAlert("Alert",str);<br>&#9;}<br>&#9;if(bdebug)<br>&#9;&#9;log("Computer: "$bRemembered@password);<br>&#9;foreach AllActors(class'PSComputerReplicationactor', f)<br>&#9;&#9;if(f.Flagger == P)<br>&#9;&#9;{<br>&#9;&#9;&#9;f.Flagger = P;<br>&#9;&#9;&#9;f.ac = self;<br>&#9;&#9;&#9;f.SetTimer(0.5,false);<br>&#9;&#9;&#9;f.Username = Username;<br>&#9;&#9;&#9;f.bRem=bRemembered;<br>&#9;&#9;&#9;f.Password = Password;<br>&#9;&#9;&#9;bFound=True;<br>&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;if(!bFound)<br>&#9;{<br>&#9;&#9;newlogin = Spawn(class'PSComputerReplicationactor');<br>&#9;&#9;newlogin.Flagger = P;<br>&#9;&#9;newlogin.ac = self;<br>&#9;&#9;newlogin.Username = Username;<br>&#9;&#9;newlogin.SetTimer(0.5,false);<br>&#9;}<br><br></div>
<h3 id="PSComputer.GiveTool"><a class="headerlink" href="#PSComputer.GiveTool" title="Permanent link">GiveTool</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local PSComputerHandheld anItem;<br> <br>&#9;<br>&#9;anItem = Spawn(class'PSComputerHandheld',,,pgUser.Location);<br>&#9;anItem.SpawnCopy(pgUser);<br>&#9;anItem.Destroy();<br><br></div>
<h3 id="PSComputer.GroupMail"><a class="headerlink" href="#PSComputer.GroupMail" title="Permanent link">GroupMail</a> (string mailstring)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local string sendstring, msg, target;<br>&#9;local PSComputer PSComp;<br>&#9;local bool bFound;<br>&#9;local int k;<br><br>&#9;<br>&#9;pgUser.PlaySound(sound'Send',,,, 256);<br><br>&#9;<br>&#9;foreach AllActors(class'PSComputer', PSComp)<br>&#9;{<br>&#9;&#9;if(PSComp.Group ~= Group)<br>&#9;&#9;{<br>&#9;&#9;&#9;//pgUser.ClientMessage("|P3Message sent!");<br>&#9;&#9;&#9;//pgUser.ClientMessage(Username$": "$Msg);<br>&#9;&#9;&#9;k++;<br>&#9;&#9;&#9;Log(Username$" sent mail to "$PSComp.Username$" via group "$group$". ("$mailstring$")");<br>&#9;&#9;&#9;PSComp.AddMail(Username$" ("$Group$")", mailstring);<br>&#9;&#9;}<br>&#9;}<br>&#9;if(!bFound)<br>&#9;{<br>&#9;&#9;xAlert("Error", "|P3Message error: Group is empty.");<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;xAlert("Mail","|P4Mail sent to group "$k$" users in "$Group$" group.|P1|n"$mailstring);<br>&#9;}<br><br></div>
<h3 id="PSComputer.InfoChk"><a class="headerlink" href="#PSComputer.InfoChk" title="Permanent link">InfoChk</a> -> string</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local string str;<br>&#9;local int k;<br><br>&#9;str = "INFO";<br>&#9;for(k=0;k<16;k++)<br>&#9;{<br>&#9;&#9;if(InfoProp[k] != "")<br>&#9;&#9;{<br>&#9;&#9;&#9;if(k==4 || k==8)<br>&#9;&#9;&#9;&#9;str = str$", "$InfoProp[k]$"="$pgUser.GetPropertyText(InfoProp[k])$"|n";<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;str = str$", "$InfoProp[k]$"="$pgUser.GetPropertyText(InfoProp[k]);<br>&#9;&#9;}<br>&#9;}<br>&#9;return str;<br><br></div>
<h3 id="PSComputer.ListComps"><a class="headerlink" href="#PSComputer.ListComps" title="Permanent link">ListComps</a> (optional bool bMyGroup)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int k;<br>&#9;local string str, inf;<br>&#9;local PSComputer PSComp;<br><br>&#9;<br>&#9;if(!bMyGroup)<br>&#9;{<br>&#9;&#9;inf = "[GLOBAL]";<br>&#9;&#9;foreach AllActors(class'PSComputer',PSComp)<br>&#9;&#9;{<br>&#9;&#9;&#9;k++;<br>&#9;&#9;&#9;if(k==6 || k==9)<br>&#9;&#9;&#9;&#9;str = str$", "$PSComp.Username$"|n";<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;str = str$", "$PSComp.Username;<br>&#9;&#9;}<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;if(Group != "")<br>&#9;&#9;{<br>&#9;&#9;&#9;inf = "["$Group$"]";<br>&#9;&#9;&#9;foreach AllActors(class'PSComputer',PSComp)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(PSComp.Group ~= Group)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;k++;<br>&#9;&#9;&#9;&#9;&#9;if(k==6 || k==9)<br>&#9;&#9;&#9;&#9;&#9;&#9;str = str$", "$PSComp.Username$"|n";<br>&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;&#9;str = str$", "$PSComp.Username;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;{<br>&#9;&#9;&#9;inf = "[NO GROUP]";<br>&#9;&#9;}<br>&#9;}<br>&#9;xAlert(k$" computers",inf@str$" [END]");<br><br></div>
<h3 id="PSComputer.ListInv"><a class="headerlink" href="#PSComputer.ListInv" title="Permanent link">ListInv</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int i, k;<br>&#9;local string str;<br><br>&#9;for(i=0;i<10;i++)<br>&#9;{<br>&#9;&#9;if(StoredInv[i] != None)<br>&#9;&#9;{<br>&#9;&#9;&#9;k++;<br>&#9;&#9;&#9;if(k==3)<br>&#9;&#9;&#9;&#9;str = str$"["$i$"] "$StoredInv[i]$"|n";<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;str = str$"["$i$"] "$StoredInv[i]$", ";<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;xAlert(k$" items",str$" [END]");<br><br></div>
<h3 id="PSComputer.ListLocs"><a class="headerlink" href="#PSComputer.ListLocs" title="Permanent link">ListLocs</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int i, k;<br>&#9;local string str;<br><br>&#9;for(i=0;i<10;i++)<br>&#9;{<br>&#9;&#9;if(StoredLocation[i] != vect(0,0,0))<br>&#9;&#9;{<br>&#9;&#9;&#9;str = str$"["$i$"] Yes, ";<br>&#9;&#9;}<br>&#9;//&#9;else<br>&#9;&#9;//{<br>&#9;&#9;//&#9;str = str$"["$i$"] No, ";<br>&#9;//&#9;}<br>&#9;<br></div>
<h3 id="PSComputer.ListMail"><a class="headerlink" href="#PSComputer.ListMail" title="Permanent link">ListMail</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int i, k;<br>&#9;local string str;<br><br>&#9;for(i=0;i<250;i++)<br>&#9;{<br>&#9;&#9;if(Messages[i] != "")<br>&#9;&#9;{<br>&#9;&#9;&#9;k++;<br>&#9;&#9;&#9;str = str$Messages[i]$"|n";<br>&#9;&#9;&#9;if(instr(caps(Messages[i]), caps("[X]")) == -1)<br>&#9;&#9;&#9;&#9;Messages[i] = "[X]"$Messages[i];<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;xAlert(k$" messages",str$" [END]");<br><br></div>
<h3 id="PSComputer.ListNotif"><a class="headerlink" href="#PSComputer.ListNotif" title="Permanent link">ListNotif</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int i, k;<br>&#9;local string str;<br><br>&#9;<br>&#9;for(i=0;i<250;i++)<br>&#9;{<br>&#9;&#9;if(Notifications[i] != "")<br>&#9;&#9;{<br>&#9;&#9;&#9;while(k < 6)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;k++;<br>&#9;&#9;&#9;&#9;str = str$Notifications[i]$"|n";<br>&#9;&#9;&#9;&#9;Notifications[i] = "";<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br><br>&#9;<br>&#9;xAlert(k$" notifications",str$" [END]");<br><br></div>
<h3 id="PSComputer.Notif"><a class="headerlink" href="#PSComputer.Notif" title="Permanent link">Notif</a> (string Msg)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int i;<br><br>&#9;<br>&#9;if(pgUser != None)<br>&#9;&#9;xAlert("Alert","|P3You have new notifications!");<br>&#9;for(i=0;i<250;i++)<br>&#9;{<br>&#9;&#9;if(Notifications[i] == "")<br>&#9;&#9;{<br>&#9;&#9;&#9;Notifications[i] = Msg;<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="PSComputer.ParseCommand"><a class="headerlink" href="#PSComputer.ParseCommand" title="Permanent link">ParseCommand</a> (deusexplayer p, string inputPassword, string Command) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local string mailstring, sendstring, target, msg;<br>&#9;local int mailint,i, b;<br>&#9;local bool bPassedCommand, bPassedMail, bFound;<br>&#9;local actor a;<br>&#9;local bool bSkipPass;<br>&#9;local PSComputerReplicationActor f;<br>&#9;local MenuUIMessageBoxWindow mes;<br>&#9;local PSComputerHandheld toolz;<br>&#9;local PSComputer PSComp;<br>&#9;local Actor hitActor;<br>&#9;local vector loc, line, HitLocation, hitNormal;<br>&#9;local string redcode;<br><br>&#9;<br>&#9;if(bDebug)<br>&#9;{<br>&#9;&#9;Log(p.playerreplicationinfo.playername@username@inputpassword@command);<br>&#9;&#9;P.ClientMessage(p.playerreplicationinfo.playername@username@inputpassword@command);<br>&#9;}<br>&#9;<br>&#9;if(pgUser == P)<br>&#9;{<br>&#9;&#9;bSkipPass=True;<br>&#9;}<br>&#9;&#9;<br>&#9;if(!bSkipPass && inputPassword != Password)<br>&#9;{<br>&#9;&#9;xAlert("Alert","ERROR: Incorrect password.", p);<br>&#9;&#9;return false;<br>&#9;}<br>&#9;<br>&#9;if(pgUser != P)<br>&#9;{<br>&#9;&#9;P.PlaySound(sound'Auth',,,, 256);<br>&#9;&#9;pgUser = P;<br>&#9;&#9;P.ClientMessage("Synced to computer.");<br>&#9;}<br>&#9;<br>&#9;if(Command == "" && PrevCommand != "")<br>&#9;{<br>&#9;&#9;ParseCommand(pgUser, Password, PrevCommand);<br>&#9;&#9;return true;<br>&#9;}<br>&#9;&#9;<br>&#9;PrevCommand = Command;<br>&#9;<br>&#9;if(Left(command,7) ~= "redeem ")<br>&#9;{<br>&#9;&#9;mailstring = Right(command, Len(command)-instr(command,"redeem ")-Len("redeem "));<br>&#9;&#9;if(mailstring == "wtfhax0rftw" && !bCodebreakerEnabled)<br>&#9;&#9;{<br>&#9;&#9;&#9;bCodebreakerEnabled = True;<br>&#9;&#9;&#9;redcode = "_codebreaker (script.dat)|n [WARNING: This package is in testing and may not function properly.|nFunctionality may also change over time.] ";<br>&#9;&#9;&#9;<br>&#9;&#9;}<br><br>&#9;&#9;if(mailstring == "overdose" && !bOverdriver)<br>&#9;&#9;{<br>&#9;&#9;&#9;bOverdriver = True;<br>&#9;&#9;&#9;redcode = "_overdriver (overdriver.dat)|n [WARNING: This package is in testing and may not function properly.|nFunctionality may also change over time.] ";<br>&#9;&#9;&#9;<br>&#9;&#9;}<br><br>&#9;&#9;if(mailstring == "boxx" && !bFileManager)<br>&#9;&#9;{<br>&#9;&#9;&#9;bFileManager = True;<br>&#9;&#9;&#9;redcode = "_fileman (files.dat)|n [WARNING: This package is in testing and may not function properly.|nFunctionality may also change over time.] ";<br>&#9;&#9;&#9;<br>&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;if(redcode != "")<br>&#9;&#9;&#9;xAlert("Redeemer", "Code redeemed successfully.|nThis code has activated the following system: "$redcode$"|nUse Help to access the info for the newly activated packages.");<br>&#9;&#9;else<br>&#9;&#9;xAlert("Error", "Code invalid or already redeemed.");<br>&#9;&#9;bPassedCommand=True;<br>&#9;&#9;return true;<br>&#9;}<br>&#9;<br>&#9;if(command ~= "script")<br>&#9;{<br>&#9;&#9;if(bCodebreakerEnabled)<br>&#9;&#9;{<br>&#9;&#9;&#9;pgUser.PlaySound(sound'PhoneVoice3');<br>&#9;&#9;&#9;&#9;loc = pgUser.Location;<br>&#9;&#9;&#9;&#9;loc.Z += pgUser.BaseEyeHeight;<br>&#9;&#9;&#9;&#9;line = Vector(pgUser.ViewRotation) * 4000;<br>&#9;&#9;&#9;&#9;hitActor = Trace(hitLocation, hitNormal, loc+line, loc, true);<br>&#9;&#9;&#9;&#9;if(Hax0rObj == hitActor && !hitActor.isA('LevelInfo')) //Resuming?<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;xHack();<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;else if(hitActor != None && !hitActor.isA('LevelInfo')) //NewHack<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;Hax0rStep=0;<br>&#9;&#9;&#9;&#9;&#9;for(i=0;i<25;i++)<br>&#9;&#9;&#9;&#9;&#9;&#9;Hax0rs[i] = "";<br>&#9;&#9;&#9;&#9;&#9;xHack();<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;xAlert("ERROR", "Script failed, no object found.");<br>&#9;&#9;}<br>&#9;&#9;else xAlert("Error", "Your computer does not have the relevant access or software to perform this task.|nContact an administrator for assistance.");<br>&#9;&#9;<br>&#9;&#9;bPassedCommand=True;<br>&#9;&#9;return true;<br>&#9;}<br><br>&#9;if(command ~= "overdriver")<br>&#9;{<br>&#9;&#9;if(bOverdriver)<br>&#9;&#9;{<br>&#9;&#9;&#9;pgUser.PlaySound(sound'PhoneVoice3');<br>&#9;&#9;&#9;&#9;loc = pgUser.Location;<br>&#9;&#9;&#9;&#9;loc.Z += pgUser.BaseEyeHeight;<br>&#9;&#9;&#9;&#9;line = Vector(pgUser.ViewRotation) * 4000;<br>&#9;&#9;&#9;&#9;hitActor = Trace(hitLocation, hitNormal, loc+line, loc, true);<br><br>&#9;&#9;&#9;&#9;if(hitActor != None && !hitActor.isA('LevelInfo')) //NewHack<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;LastWord = "";<br>&#9;&#9;&#9;&#9;&#9;ODActor = hitActor;<br>&#9;&#9;&#9;&#9;&#9;xOD();<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;xAlert("ERROR", "Script failed, no object found.");<br>&#9;&#9;}<br>&#9;&#9;else xAlert("Error", "Your computer does not have the relevant access or software to perform this task.|nContact an administrator for assistance.");<br>&#9;}<br><br>&#9;if(command ~= "files")<br>&#9;{<br>&#9;&#9;if(bFileManager)<br>&#9;&#9;{<br>&#9;&#9;&#9;pgUser.PlaySound(sound'PhoneVoice3');<br>&#9;&#9;&#9;&#9;loc = pgUser.Location;<br>&#9;&#9;&#9;&#9;loc.Z += pgUser.BaseEyeHeight;<br>&#9;&#9;&#9;&#9;line = Vector(pgUser.ViewRotation) * 4000;<br>&#9;&#9;&#9;&#9;hitActor = Trace(hitLocation, hitNormal, loc+line, loc, true);<br>&#9;&#9;&#9;&#9;if(FileActor == hitActor && !hitActor.isA('LevelInfo')) //Resuming?<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;xFileMan();<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;else if(hitActor != None && !hitActor.isA('LevelInfo')) //NewHack<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;FileActor=hitActor;<br>&#9;&#9;&#9;&#9;&#9;CurFilePath="/";<br>&#9;&#9;&#9;&#9;&#9;xFileMan();<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;xAlert("ERROR", "Script failed, no object found.");<br>&#9;&#9;}<br>&#9;&#9;else xAlert("Error", "Your computer does not have the relevant access or software to perform this task.|nContact an administrator for assistance.");<br>&#9;}<br>&#9;&#9;<br>&#9;if(command ~= "me")<br>&#9;{<br>&#9;&#9;xAlert(Username,myData());<br>&#9;&#9;bPassedCommand=True;<br>&#9;&#9;return true;<br>&#9;}<br>&#9;if(Left(command,6) ~= "group ")<br>&#9;{<br>&#9;&#9;mailstring = Right(command, Len(command)-instr(command,"group ")-Len("group "));<br>&#9;&#9;SetGroup(mailstring);<br>&#9;&#9;bPassedCommand=True;<br>&#9;&#9;return true;<br>&#9;}<br>&#9;<br>&#9;if(Left(command,5) ~= "group")<br>&#9;{<br>&#9;&#9;ListComps(True);<br>&#9;&#9;bPassedCommand=True;<br>&#9;&#9;return true;<br>&#9;}<br>&#9;&#9;<br>&#9;if(Left(command,4) ~= "info")<br>&#9;{<br>&#9;&#9;xAlert(pgUser.PlayerReplicationInfo.PlayerName$" info", InfoChk());<br>&#9;&#9;bPassedCommand=True;<br>&#9;&#9;return true;<br>&#9;}<br>&#9;<br>&#9;if(Left(command,5) ~= "ping ")<br>&#9;{<br>&#9;&#9;mailstring = Right(command, Len(command)-instr(command,"ping ")-Len("ping "));<br>&#9;&#9;PingLoc(mailstring);<br>&#9;&#9;bPassedCommand=True;<br>&#9;&#9;return true;<br>&#9;}<br>&#9;&#9;<br>&#9;if(Left(command,3) ~= "chk")<br>&#9;{<br>&#9;&#9;ListNotif();<br>&#9;&#9;bPassedCommand=True;<br>&#9;&#9;return true;<br>&#9;}<br>&#9;<br>&#9;if(Left(command,5) ~= "help ")<br>&#9;{<br>&#9;&#9;bPassedCommand=True;<br>&#9;&#9;mailstring = Right(command, Len(command)-instr(command,"help ")-Len("help "));<br>&#9;&#9;if(mailstring ~= "handheld")<br>&#9;&#9;&#9;xAlert("Help", "Gives the Handheld Computer item which allows you to remotely access this computer.");<br>&#9;&#9;else if(mailstring ~= "recall")<br>&#9;&#9;&#9;xAlert("Help", "|P1Format: recall <number referring to the slot number>|n|P2Teleports you to that location.");<br>&#9;&#9;else if(mailstring ~= "mark")<br>&#9;&#9;&#9;xAlert("Help", "|P1Format: mark <number referring to the slot number>|n|P2Saves your current location in the slot number which is called by the recall command.|n|P7Best used from the handheld computer.");<br>&#9;&#9;else if(mailstring ~= "dbg")<br>&#9;&#9;&#9;xAlert("Help", "Toggles debugging messages.");<br>&#9;&#9;else if(mailstring ~= "togglesec")<br>&#9;&#9;&#9;xAlert("Help", "Toggles the Drone Security system.|n|P7Requires the Zone to be configured.");<br>&#9;&#9;else if(mailstring ~= "togglealert")<br>&#9;&#9;&#9;xAlert("Help", "Toggles the Drone Security system notifications, which alerts you if someone enters..|n|P7Requires the Zone to be configured.");<br>&#9;&#9;else if(mailstring ~= "cred+")<br>&#9;&#9;&#9;xAlert("Help", "|P1Format: cred+<number referring to the amount of credits>|n|P2Deposits credits in to the computer.");<br>&#9;&#9;else if(mailstring ~= "cred-")<br>&#9;&#9;&#9;xAlert("Help", "|P1Format: cred-<number referring to the amount of credits>|n|P2Withdraws credits from the computer.");<br>&#9;&#9;else if(mailstring ~= "give")<br>&#9;&#9;&#9;xAlert("Help", "|P1Format: give <number referring to the slot the object is in>|n|P2Withdraws the item from the computer.|n|P7Items are stored by throwing them at the computer.|nThe alert tells you which slot it saves to.|nThe item is not deleted. Refer to Clearitem.");<br>&#9;&#9;else if(mailstring ~= "clearitem")<br>&#9;&#9;&#9;xAlert("Help", "|P1Format: clearitem <number referring to the slot the object is in>|n|P2Removes the item from the computer.|n|P7Items are stored by throwing them at the computer.|nThe alert tells you which slot it saves to.");<br>&#9;&#9;else if(mailstring ~= "setusername")<br>&#9;&#9;&#9;xAlert("Help", "|P1Format: setusername <new username>|n|P2Sets this computers username.");<br>&#9;&#9;else if(mailstring ~= "setpass")<br>&#9;&#9;&#9;xAlert("Help", "|P1Format: setpass <new password>|n|P2Sets this computers password.");<br>&#9;&#9;else if(mailstring ~= "alert")<br>&#9;&#9;&#9;xAlert("Help", "|P1Format: alert <string>|n|P2Prints a message on screen.");<br>&#9;&#9;else if(mailstring ~= "exec")<br>&#9;&#9;&#9;xAlert("Help", "|P1Format: exec <string related to the alias stored>|n|P2Executes the command stored in the memory. |nUse getexec cmmand to show the list of current commands.");<br>&#9;&#9;else if(mailstring ~= "mail")<br>&#9;&#9;&#9;xAlert("Help", "|P1Format: mailsend <username> <message>: |P2Sends email to the computer labeled that username.|nmailread <number>: Reads mail in that slot.|nmaildel <number>: Deletes mail in that slot.|nmailclear, maillist, mailcount.|nmailgroup sends to your group.");<br>&#9;&#9;else if(mailstring ~= "me")<br>&#9;&#9;&#9;xAlert("Help", "|P1Format: me: |P2Shows basic computer information.");<br>&#9;&#9;else if(mailstring ~= "ping")<br>&#9;&#9;&#9;xAlert("Help", "|P1Format: ping <tag>: |P2Gives location to X object.");<br>&#9;&#9;else if(mailstring ~= "script" && bCodebreakerEnabled)<br>&#9;&#9;&#9;xAlert("Help", "|P1Format: script: |P2Enables script input for targetted object. [WIP]");<br>&#9;&#9;else if(mailstring ~= "overdriver" && bOverdriver)<br>&#9;&#9;&#9;xAlert("Help", "|P1Format: overdriver: |P2Dictionary override input for targetted object. [WIP]|nOverloads the target objects by brute forcing passwords.|nGives one word, enter another word that's first letter is the last words last letter.|ne.g. worm -> master -> rekked");<br>&#9;&#9;else if(mailstring ~= "files" && bFileManager)<br>&#9;&#9;&#9;xAlert("Help", "|P1Format: files: |P2Enables file manager for targetted object. [WIP]|nBrowser is command-line based.|nBrowser starts at ROOT:/|nCommands: list, cd, open");<br>&#9;&#9;else xAlert("Help", "Could not find searched command.");<br>&#9;&#9;return true;<br>&#9;&#9;<br>&#9;}&#9;<br>&#9;<br>&#9;if(Left(command,4) ~= "help")<br>&#9;{<br>&#9;&#9;if(bCodebreakerEnabled)<br>&#9;&#9;&#9;redcode = redcode$" script";<br>&#9;&#9;if(bFileManager)<br>&#9;&#9;&#9;redcode = redcode$" files";<br>&#9;&#9;if(bOverdriver)<br>&#9;&#9;&#9;redcode = redcode$" overdriver";<br>&#9;&#9;<br>&#9;&#9;if(redcode == "")<br>&#9;&#9;&#9;redcode = "NONE";<br>&#9;&#9;&#9;<br>&#9;&#9;xAlert("Help Topics","handheld, recall, mark, dbg, togglesec, togglealert, cred+, cred-|n give, clearitem, setusername, setpass, alert, exec, mail, invs, locs, comps, group|nme, ping|n|P4EXTRA PACKAGES: "$redcode);<br>&#9;&#9;bPassedCommand=True;<br>&#9;&#9;return true;<br>&#9;}<br>&#9;&#9;<br>&#9;if(Left(command,8) ~= "handheld")<br>&#9;{<br>&#9;&#9;GiveTool();<br>&#9;&#9;xAlert("Alert","Given the Handheld tool.");<br>&#9;&#9;bPassedCommand=True;<br>&#9;&#9;return true;<br>&#9;}<br><br>&#9;if(Left(command,7) ~= "recall ")<br>&#9;{<br>&#9;&#9;mailint = int(Right(command, Len(command)-instr(command,"recall ")-Len("recall ")));<br>&#9;&#9;if(StoredLocation[mailint] != vect(0,0,0))<br>&#9;&#9;{<br>&#9;&#9;&#9;&#9;pgUser.SetCollision(false, false, false);<br>&#9;&#9;&#9;&#9;pgUser.bCollideWorld = true;<br>&#9;&#9;&#9;&#9;pgUser.GotoState('PlayerWalking');<br>&#9;&#9;&#9;&#9;pgUser.SetLocation(StoredLocation[mailint]);<br>&#9;&#9;&#9;&#9;pgUser.SetCollision(true, true , true);<br>&#9;&#9;&#9;&#9;pgUser.SetPhysics(PHYS_Walking);<br>&#9;&#9;&#9;&#9;pgUser.bCollideWorld = true;<br>&#9;&#9;&#9;&#9;pgUser.GotoState('PlayerWalking');<br>&#9;&#9;&#9;&#9;pgUser.ClientReStart();<br>&#9;&#9;&#9;&#9;xAlert("Alert","Sent to location.");<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;bPassedCommand=True;<br>&#9;&#9;return true;<br>&#9;}<br>&#9;<br>&#9;if(Left(command,5) ~= "mark ")<br>&#9;{&#9;<br>&#9;&#9;mailint = int(Right(command, Len(command)-instr(command,"mark ")-Len("mark ")));<br>&#9;&#9;<br>&#9;&#9;StoredLocation[mailint] = pgUser.Location;<br>&#9;&#9;xAlert("Alert","Marked location.");<br>&#9;&#9;bPassedCommand=True;<br>&#9;&#9;return true;<br>&#9;}<br>&#9;<br>&#9;if(Left(command,3) ~= "dbg")<br>&#9;{<br>&#9;&#9;bDebug = !bDebug;<br>&#9;&#9;xAlert("Alert","Debug is now "$bDebug$".");<br>&#9;&#9;bPassedCommand=True;<br>&#9;&#9;return true;<br>&#9;}<br>&#9;<br>&#9;if(Left(command,4) ~= "test")<br>&#9;{<br>&#9;&#9;xAlert("Alert","Tested.");<br>&#9;&#9;bPassedCommand=True;<br>&#9;&#9;return true;<br>&#9;}<br>&#9;<br>&#9;if(Left(command,5) ~= "comps")<br>&#9;{<br>&#9;&#9;ListComps();<br>&#9;&#9;bPassedCommand=True;<br>&#9;&#9;return true;<br>&#9;}<br>&#9;<br>&#9;if(Left(command,4) ~= "locs")<br>&#9;{<br>&#9;&#9;ListLocs();<br>&#9;&#9;bPassedCommand=True;<br>&#9;&#9;return true;<br>&#9;}<br>&#9;<br>&#9;if(Left(command,4) ~= "invs")<br>&#9;{<br>&#9;&#9;ListInv();<br>&#9;&#9;bPassedCommand=True;<br>&#9;&#9;return true;<br>&#9;}&#9;<br>&#9;<br>&#9;if(Left(command,9) ~= "togglesec")<br>&#9;{<br>&#9;&#9;ToggleSecurity(P);<br>&#9;&#9;bPassedCommand=True;<br>&#9;&#9;return true;<br>&#9;}<br>&#9;<br>&#9;if(Left(command,11) ~= "togglealert")<br>&#9;{<br>&#9;&#9;ToggleAlert(P);<br>&#9;&#9;bPassedCommand=True;<br>&#9;&#9;return true;<br>&#9;}<br>&#9;<br>&#9;if(Left(command,5) ~= "cred+")<br>&#9;{<br>&#9;&#9;mailint = int(Right(command, Len(command)-instr(command,"cred+")-Len("cred+")));<br>&#9;&#9;bPassedCommand=True;<br>&#9;&#9;<br>&#9;&#9;if(mailint == -1)<br>&#9;&#9;{<br>&#9;&#9;&#9;StoredCredits += pgUser.Credits;<br>&#9;&#9;&#9;pgUser.Credits = 0;<br>&#9;&#9;&#9;xalert("Alert", "All credits deposited.|n"$StoredCredits$" currently stored.");<br>&#9;&#9;}<br>&#9;&#9;if(pgUser.Credits >= mailint)<br>&#9;&#9;{<br>&#9;&#9;&#9;pgUser.Credits -= mailint;<br>&#9;&#9;&#9;StoredCredits += mailint;<br>&#9;&#9;&#9;xalert("Alert", mailint$" credits deposited.|n"$StoredCredits$" currently stored.");<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;&#9;xalert("Alert", "You don't have enough.");<br>&#9;&#9;return true;<br>&#9;}<br>&#9;<br>&#9;if(Left(command,5) ~= "cred-")<br>&#9;{<br>&#9;&#9;mailint = int(Right(command, Len(command)-instr(command,"cred-")-Len("cred-")));<br>&#9;&#9;bPassedCommand=True;<br>&#9;&#9;<br>&#9;&#9;if(mailint == -1)<br>&#9;&#9;{<br>&#9;&#9;&#9;pgUser.Credits += StoredCredits;<br>&#9;&#9;&#9;StoredCredits = 0;<br>&#9;&#9;&#9;xalert("Alert", "All credits withdrawn.|n"$pgUser.Credits$" currently held.");<br>&#9;&#9;}<br>&#9;&#9;if(StoredCredits >= mailint)<br>&#9;&#9;{<br>&#9;&#9;&#9;StoredCredits -= mailint;<br>&#9;&#9;&#9;pgUser.Credits += mailint;<br>&#9;&#9;&#9;xalert("Alert", mailint$" credits withdrawn.|n"$pgUser.Credits$" currently held.");<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;&#9;xalert("Alert", "You don't have enough.");<br>&#9;&#9;return true;<br>&#9;}&#9;<br>&#9;<br>&#9;if(Left(command,5) ~= "give ")<br>&#9;{<br>&#9;&#9;mailint = int(Right(command, Len(command)-instr(command,"give ")-Len("give ")));<br>&#9;&#9;bPassedCommand=True;<br>&#9;&#9;if(StoredInv[mailint] != None)<br>&#9;&#9;{<br>&#9;&#9;&#9;SilentAdd(StoredInv[mailint],pgUser);<br>&#9;&#9;&#9;bFound=True;<br>&#9;&#9;}<br><br>&#9;&#9;if(bFound)<br>&#9;&#9;&#9;xalert("Alert", mailint@StoredInv[mailint]$" withdrawn.");<br>&#9;&#9;else<br>&#9;&#9;&#9;xalert("Alert", "Slot is empty.");<br>&#9;&#9;return true;<br>&#9;}<br>&#9;<br>&#9;if(Left(command,10) ~= "clearitem ")<br>&#9;{<br>&#9;&#9;mailint = int(Right(command, Len(command)-instr(command,"clearitem ")-Len("clearitem ")));<br>&#9;&#9;bPassedCommand=True;<br>&#9;&#9;if(StoredInv[mailint] != None)<br>&#9;&#9;{<br>&#9;&#9;&#9;SilentAdd(StoredInv[mailint],pgUser);<br>&#9;&#9;&#9;bFound=True;<br>&#9;&#9;}<br><br>&#9;&#9;if(bFound)<br>&#9;&#9;&#9;xalert("Alert", mailint$" cleared.");<br>&#9;&#9;else<br>&#9;&#9;&#9;xalert("Alert", "Slot is already empty.");<br>&#9;&#9;return true;<br>&#9;}&#9;<br>&#9;<br>&#9;if(Left(command,6) ~= "alarm ")<br>&#9;{<br>&#9;&#9;bPassedCommand=True;<br>&#9;&#9;mailstring = Right(command, Len(command)-instr(command,"alarm ")-Len("alarm "));<br>&#9;&#9;if(bDebug)<br>&#9;&#9;&#9;log("alarm:"@mailstring);<br>&#9;&#9;&#9;<br>&#9;&#9;if(instr(caps(mailstring), caps(":")) != -1)<br>&#9;&#9;{<br>&#9;&#9;&#9;xAlert("Alarm","[Unfinished command, doesnt yet function]|nSetting alarm for"@mailstring);<br>&#9;&#9;&#9;//SetAlarm(mailstring);<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;{<br>&#9;&#9;&#9;xAlert("Alarm","Alarm string is badly formatted. Accepted format is HOUR:MINUTE.");<br>&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;}<br>&#9;<br>&#9;if(Left(command,12) ~= "setusername ")<br>&#9;{<br>&#9;&#9;bPassedCommand=True;<br>&#9;&#9;mailstring = Right(command, Len(command)-instr(command,"setusername ")-Len("setusername "));<br>&#9;&#9;if(bDebug)<br>&#9;&#9;&#9;log("setuser:"@mailstring);<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;foreach AllActors(class'PSComputer',PSComp)<br>&#9;&#9;&#9;&#9;PSComp.Notif(username$" changed their username to "$mailstring);<br>&#9;&#9;&#9;xAlert("Info", "Setting username...|nPrevious: "$Username$"|nNew: "$mailstring);<br>&#9;&#9;&#9;Username = mailstring;<br>&#9;&#9;&#9;<br>&#9;}<br>&#9;<br>&#9;if(Left(command,8) ~= "setpass ")<br>&#9;{<br>&#9;&#9;bPassedCommand=True;<br>&#9;&#9;mailstring = Right(command, Len(command)-instr(command,"setpass ")-Len("setpass "));<br>&#9;&#9;if(bDebug)<br>&#9;&#9;&#9;log("setpass:"@mailstring);<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;xAlert("Info", "Setting Password...|nPrevious: "$Password$"|nNew: "$mailstring);<br>&#9;&#9;&#9;Password = mailstring;<br>&#9;&#9;&#9;<br>&#9;}<br>&#9;&#9;<br>&#9;if(Left(command,6) ~= "alert ")<br>&#9;{<br>&#9;&#9;bPassedCommand=True;<br>&#9;&#9;mailstring = Right(command, Len(command)-instr(command,"alert ")-Len("alert "));<br>&#9;&#9;if(bDebug)<br>&#9;&#9;&#9;log("alert:"@mailstring);<br><br>&#9;&#9;&#9;xAlert("Test", mailstring);<br>&#9;&#9;&#9;<br>&#9;}<br>&#9;<br>&#9;if(Left(command,5) ~= "exec ")<br>&#9;{<br>&#9;&#9;bPassedCommand=True;<br>&#9;&#9;mailstring = Right(command, Len(command)-instr(command,"exec ")-Len("exec "));<br>&#9;&#9;if(bDebug)<br>&#9;&#9;&#9;log("exec:"@mailstring);<br>&#9;&#9;<br>&#9;&#9;for(i=0;i<25;i++)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(mailstring ~= pEvents[i].EventAlias)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'Actor', A)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(A.Tag == pEvents[i].EventName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;b++;<br>&#9;&#9;&#9;&#9;&#9;&#9;A.Trigger(self,pgUser);<br>&#9;&#9;&#9;&#9;&#9;&#9;//pgUser.ClientMessage(pEvents[i].EventAlias$" triggered.");<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;xAlert("Alert",b$" events triggered for "$mailstring);<br>&#9;}<br>&#9;<br>&#9;if(Left(command,4) ~= "mail") //Add list to show all, and count to show how many<br>&#9;{<br>&#9;&#9;bPassedCommand=True;<br>&#9;&#9;//mailstring is everything after mail, format mailsend x, mailread x<br>&#9;&#9;mailstring = Right(command, Len(command)-instr(command,"mail")-Len("mail"));<br>&#9;&#9;if(bDebug)<br>&#9;&#9;&#9;log("mailer"@mailstring);<br>&#9;&#9;if(Left(mailstring,6) ~= "group ")<br>&#9;&#9;{<br>&#9;&#9;&#9;//sendstring is everything after send, mailsend xxxxx<br>&#9;&#9;&#9;msg = Right(mailstring, Len(mailstring)-instr(mailstring,"group ")-Len("group "));<br>&#9;&#9;&#9;bPassedMail=True;<br>&#9;&#9;&#9;GroupMail(msg);<br>&#9;&#9;&#9;return true;<br>&#9;&#9;}<br>&#9;&#9;if(Left(mailstring,5) ~= "send ")<br>&#9;&#9;{<br>&#9;&#9;&#9;//sendstring is everything after send, mailsend xxxxx<br>&#9;&#9;&#9;msg = Right(mailstring, Len(mailstring)-instr(mailstring,"send ")-Len("send "));<br>&#9;&#9;&#9;bPassedMail=True;<br>&#9;&#9;&#9;SendMail(msg);<br>&#9;&#9;&#9;return true;<br>&#9;&#9;}<br>&#9;&#9;if(Left(mailstring,5) ~= "read ")<br>&#9;&#9;{<br>&#9;&#9;&#9;mailint = int(Right(mailstring, Len(mailstring)-instr(mailstring,"read ")-Len("read ")));<br>&#9;&#9;&#9;bPassedMail=True;<br>&#9;&#9;&#9;//p.clientmessage(ReadMail(mailint));<br>&#9;&#9;&#9;xalert("Mail", readmail(mailint));<br>&#9;&#9;&#9;return true;<br>&#9;&#9;}<br>&#9;&#9;if(Left(mailstring,4) ~= "del ")<br>&#9;&#9;{<br>&#9;&#9;&#9;mailint = int(Right(mailstring, Len(mailstring)-instr(mailstring,"del ")-Len("del ")));<br>&#9;&#9;&#9;bPassedMail=True;<br>&#9;&#9;&#9;DelMail(mailint);<br>&#9;&#9;&#9;return true;<br>&#9;&#9;}<br>&#9;&#9;if(Left(mailstring,5) ~= "clear")<br>&#9;&#9;{<br>&#9;&#9;&#9;ClearMail();<br>&#9;&#9;&#9;bPassedMail=True;<br>&#9;&#9;&#9;return true;<br>&#9;&#9;}<br>&#9;&#9;if(Left(mailstring,4) ~= "list")<br>&#9;&#9;{<br>&#9;&#9;&#9;ListMail();<br>&#9;&#9;&#9;bPassedMail=True;<br>&#9;&#9;&#9;return true;<br>&#9;&#9;}&#9;<br>&#9;<br>&#9;&#9;if(!bPassedMail)<br>&#9;&#9;&#9;xalert("Mail", "Mailer function not recognized.");<br>&#9;}<br>&#9;if(!bPassedCommand)<br>&#9;xalert("Error", "Command not recognized.");<br><br></div>
<h3 id="PSComputer.ParseHack"><a class="headerlink" href="#PSComputer.ParseHack" title="Permanent link">ParseHack</a> (string Command) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Actor hitActor;<br>&#9;local vector loc, line, HitLocation, hitNormal;<br>&#9;local DeusExMover      hitMover;<br>&#9;local DeusExDecoration hitDecoration;<br>&#9;local ScriptedPawn&#9;&#9;hitPawn;<br>&#9;local DeusExPlayer&#9;hitPlayer;<br><br><br>&#9;&#9;if(Hax0rObj != None)<br>&#9;&#9;{<br>&#9;&#9;&#9;hitMover = DeusExMover(Hax0rObj);<br>&#9;&#9;&#9;hitPawn = ScriptedPawn(Hax0rObj);<br>&#9;&#9;&#9;hitDecoration = DeusExDecoration(Hax0rObj);<br>&#9;&#9;&#9;hitPlayer = DeusExPlayer(Hax0rObj);<br>&#9;&#9;&#9;if (hitMover != None)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(Hax0rStep == 0)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(Command ~= "debug()")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;Hax0rStep=1;<br>&#9;&#9;&#9;&#9;&#9;&#9;xAlert("Door", "event<<rundebug()|ncout>>'Debug mode enabled.'|n|nAny incorrect commands will end the session.|nhelp() for assistance.|nexit() to end session. (Menu will not close, must be closed manually.)");<br>&#9;&#9;&#9;&#9;&#9;&#9;return true;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else if(Command ~= "exit()")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;EndHack();<br>&#9;&#9;&#9;&#9;&#9;&#9;return true;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;&#9;FailHack();<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;if(Hax0rStep == 1)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(Command ~= "help()")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;xAlert("Door", ">>> ELECTRONIC_DOOR (DEBUG)|ndebug() override() dumpcodes() exit()");<br>&#9;&#9;&#9;&#9;&#9;&#9;return true;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else if(Command ~= "debug()")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;xAlert("Door", ">>> ELECTRONIC_DOOR (DEBUG)|nDebug mode already active.|n<<ERROR");<br>&#9;&#9;&#9;&#9;&#9;&#9;return true;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else if(Command ~= "Override()")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;xAlert("Door", ">>> ELECTRONIC_DOOR (DEBUG)|nActivating override mode.|n>>cancel() to return to debug menu|n>>ELSE Input override code.");<br>&#9;&#9;&#9;&#9;&#9;&#9;Hax0rStep = 2;<br>&#9;&#9;&#9;&#9;&#9;&#9;return true;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else if(Command ~= "exit()")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;EndHack();<br>&#9;&#9;&#9;&#9;&#9;&#9;return true;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;&#9;FailHack();<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;if(Hax0rStep == 2)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(Command ~= "cancel()")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;xAlert("Door", ">>>Returning to debugging.");<br>&#9;&#9;&#9;&#9;&#9;&#9;Hax0rStep = 1;<br>&#9;&#9;&#9;&#9;&#9;&#9;return true;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else if(Command ~= generatedCode)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;xAlert("Door", ">>> ELECTRONIC_DOOR (DEBUG)|nCode accepted.|nOverride mode enabled.|nEnter properties to modify.|nexit() to quit.");<br>&#9;&#9;&#9;&#9;&#9;&#9;Hax0rStep = 3;<br>&#9;&#9;&#9;&#9;&#9;&#9;return true;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else FailHack();<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;if(Hax0rStep == 3)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(Command ~= "exit()")<br>&#9;&#9;&#9;&#9;&#9;&#9;EndHack();<br>&#9;&#9;&#9;&#9;&#9;else if(Command ~= "open()")<br>&#9;&#9;&#9;&#9;&#9;&#9;hitMover.Trigger(pgUser, pgUser);<br>&#9;&#9;&#9;&#9;&#9;/*else if( hitMover.GetPropertyText(caps(Command)) != "")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;Hax0rStep=4;<br>&#9;&#9;&#9;&#9;&#9;}*/<br>&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;xAlert("Door", "Error in property...");<br>&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else if (hitPawn != None)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(Hax0rStep == 0)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(Command ~= "debug()")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;Hax0rStep++;<br>&#9;&#9;&#9;&#9;&#9;&#9;pgUser.ClientMessage("event>>rundebug()");<br>&#9;&#9;&#9;&#9;&#9;&#9;return true;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;&#9;FailHack();<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else if (hitDecoration != None)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(Hax0rStep == 0)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(Command ~= "debug()")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;Hax0rStep++;<br>&#9;&#9;&#9;&#9;&#9;&#9;pgUser.ClientMessage("event>>rundebug()");<br>&#9;&#9;&#9;&#9;&#9;&#9;return true;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;&#9;FailHack();<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else if (hitPlayer != None)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(Hax0rStep == 0)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(Command ~= "debug()")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;Hax0rStep++;<br>&#9;&#9;&#9;&#9;&#9;&#9;pgUser.ClientMessage("event>>rundebug()");<br>&#9;&#9;&#9;&#9;&#9;&#9;return true;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;&#9;FailHack();<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;&#9;xAlert("ERROR", "Script failed... No object");<br><br></div>
<h3 id="PSComputer.PingLoc"><a class="headerlink" href="#PSComputer.PingLoc" title="Permanent link">PingLoc</a> (string ident)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local PSComputer PST;<br>&#9;local int k;<br>&#9;local string str;<br>&#9;local float dist;<br>&#9;local string disttype;<br>&#9;local Actor A;<br><br>&#9;<br>&#9;&#9;foreach AllActors(class'Actor',A)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(string(a.Tag) ~= ident)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(PrevPingA == A) //Repinging same actor<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;dist = VSize(a.Location - pgUser.Location);<br>&#9;&#9;&#9;&#9;&#9;if(PrevDist != 0)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;if(PrevDist > dist)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;disttype="("$dist$" - Closer than before)";<br>&#9;&#9;&#9;&#9;&#9;&#9;else if(PrevDist < dist)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;disttype="("$dist$" - Further than before)";<br>&#9;&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;disttype="("$dist$" - Same as before)";<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;disttype="("$dist$")";<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;PrevDist = dist;<br>&#9;&#9;&#9;&#9;&#9;xAlert("Ping",GRNFT(ident)@disttype);<br>&#9;&#9;&#9;&#9;&#9;PrevDist = dist;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;PrevPingA = A;<br>&#9;&#9;&#9;&#9;&#9;PrevDist = VSize(a.Location - pgUser.Location);<br>&#9;&#9;&#9;&#9;&#9;xAlert("Ping", GRNFT(ident)@PrevDist);<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;<br><br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;}<br>&#9;&#9;}&#9;<br><br></div>
<h3 id="PSComputer.ReadMail"><a class="headerlink" href="#PSComputer.ReadMail" title="Permanent link">ReadMail</a> (int i) -> string</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local string str;<br><br>&#9;if(bDebug)<br>&#9;&#9;Log(i);<br>&#9;if(Messages[i] != "")<br>&#9;{<br>&#9;&#9;str = Messages[i];<br>&#9;&#9;if(instr(caps(Messages[i]), caps("[X]")) == -1)<br>&#9;&#9;&#9;&#9;Messages[i] = "[X]"$Messages[i];<br>&#9;&#9;return str;<br>&#9;}<br>&#9;else<br>&#9;&#9;return "Error: Message is empty.";<br><br></div>
<h3 id="PSComputer.SendMail"><a class="headerlink" href="#PSComputer.SendMail" title="Permanent link">SendMail</a> (string mailstring)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local string sendstring, msg, target;<br>&#9;local PSComputer PSC;<br>&#9;local bool bFound;<br><br>&#9;pgUser.PlaySound(sound'Send',,,, 256);<br>&#9;//msg is everything after the first space in sendstring, or everything to the right of it<br>&#9;msg = Right(mailstring, Len(mailstring)-instr(mailstring," ")-Len(" "));<br>&#9;//Target is everything to the left of the first space, to be the username<br>&#9;target = Left(Right(mailstring, Len(mailstring)),InStr(mailstring," "));<br>&#9;//target = Left(sendstring, Len(sendstring)-instr(sendstring," "));<br>&#9;if(bDebug)<br>&#9;{<br>&#9;&#9;log("mailstring:"@mailstring);<br>&#9;&#9;log("Target:"@target);<br>&#9;&#9;log("MSG:"@msg);<br>&#9;}<br>&#9;foreach AllActors(class'PSComputer', PSC)<br>&#9;{<br>&#9;&#9;if(PSC.Username ~= Target)<br>&#9;&#9;{<br>&#9;&#9;&#9;//pgUser.ClientMessage("|P3Message sent!");<br>&#9;&#9;&#9;//pgUser.ClientMessage(Username$": "$Msg);<br>&#9;&#9;&#9;xAlert("Mail","|P4Mail sent to "$Target$".|P1|n"$msg);<br>&#9;&#9;&#9;Log(Username$" sent mail to "$Target$". ("$MSG$")");<br>&#9;&#9;&#9;PSC.AddMail(Username, MSG);<br>&#9;&#9;&#9;bFound=True;<br>&#9;&#9;}<br>&#9;}<br>&#9;if(!bFound)<br>&#9;{<br>&#9;&#9;xAlert("Error", "|P3Message error: No computer found for that username. ["$Target$"]");<br>&#9;}<br><br></div>
<h3 id="PSComputer.SetGroup"><a class="headerlink" href="#PSComputer.SetGroup" title="Permanent link">SetGroup</a> (string newgroup)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local string sendstring, msg, target, str;<br>&#9;local PSComputer PSComp;<br>&#9;local bool bFound;<br>&#9;local int k;<br><br>&#9;<br>&#9;foreach AllActors(class'PSComputer', PSComp)<br>&#9;&#9;if(PSComp.Group ~= Group && Group != "" && PSComp != Self)<br>&#9;&#9;&#9;PSComp.Notif(username$" left your group! ("$group$")");<br><br>&#9;Group = newgroup;<br>&#9;<br>&#9;foreach AllActors(class'PSComputer', PSComp)<br>&#9;{<br>&#9;&#9;if(PSComp.Group ~= Group && PSComp.Group != "" && PSComp != Self)<br>&#9;&#9;{<br>&#9;&#9;&#9;k++;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(k==6 || k==9)<br>&#9;&#9;&#9;&#9;str = str$", "$PSComp.Username$"|n";<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;str = str$", "$PSComp.Username;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;PSComp.Notif(username$" joined your group! ("$group$")");<br>&#9;&#9;}<br>&#9;}<br>&#9;xAlert("Group","Joined "$Group$".|n"$str);<br><br></div>
<h3 id="PSComputer.SilentAdd"><a class="headerlink" href="#PSComputer.SilentAdd" title="Permanent link">SilentAdd</a> (class<inventory> addClass, optional DeusExPlayer addTarget)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Inventory anItem;<br> <br>&#9;<br>&#9;anItem = Spawn(addClass,,,addTarget.Location); <br>&#9;anItem.SpawnCopy(addTarget);<br>&#9;anItem.Destroy();<br><br></div>
<h3 id="PSComputer.ToggleAlert"><a class="headerlink" href="#PSComputer.ToggleAlert" title="Permanent link">ToggleAlert</a> (deusexplayer p)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local PSZoneInfo PSZ;<br><br>&#9;<br>&#9;P.PlaySound(sound'Send',,,, 256);<br>&#9;<br>&#9;if(ZoneTag == 'None')<br>&#9;{<br>&#9;&#9;xAlert("Error","Security system not configured...");<br>&#9;&#9;return;<br>&#9;}<br>&#9;foreach AllActors(class'PSZoneInfo',PSZ)<br>&#9;{<br>&#9;&#9;if(PSZ.Tag == ZoneTag)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(PSZ.NotifPlayer != None)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;PSZ.NotifPlayer = None;<br>&#9;&#9;&#9;&#9;xAlert("Alert","Cancelled zone alerts.");<br>&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;PSZ.NotifPlayer = P;<br>&#9;&#9;&#9;&#9;xAlert("Alert","Registered for zone alerts.");<br>&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="PSComputer.ToggleSecurity"><a class="headerlink" href="#PSComputer.ToggleSecurity" title="Permanent link">ToggleSecurity</a> (deusexplayer p)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local PSZoneInfo PSZ;<br><br>&#9;<br>&#9;P.PlaySound(sound'Send',,,, 256);<br>&#9;<br>&#9;if(ZoneTag == 'None')<br>&#9;{<br>&#9;&#9;xAlert("Error","Security system not configured...");<br>&#9;&#9;return;<br>&#9;}<br>&#9;foreach AllActors(class'PSZoneInfo',PSZ)<br>&#9;{<br>&#9;&#9;if(PSZ.Tag == ZoneTag)<br>&#9;&#9;{<br>&#9;&#9;&#9;PSZ.bRestrictedZone = !PSZ.bRestrictedZone;<br>&#9;&#9;&#9;if(PSZ.bRestrictedZone)<br>&#9;&#9;&#9;&#9;xAlert("Alert","Security system enabled");<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;xAlert("Alert","Security system disabled");<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="PSComputer.myData"><a class="headerlink" href="#PSComputer.myData" title="Permanent link">myData</a> -> string</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;return "Notifications: "$CountNotif()$"|nMail: "$CountMail(True)$"/"$CountMail()$"|nCredits "$StoredCredits;<br><br></div>
<h3 id="PSComputer.xAlert"><a class="headerlink" href="#PSComputer.xAlert" title="Permanent link">xAlert</a> (string title, string msg, optional DeusExPlayer Target)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local PSComputerReplicationactor f;<br><br><br>&#9;foreach AllActors(class'PSComputerReplicationactor', f)<br>&#9;{<br>&#9;&#9;if(Target == None)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(f.Flagger == pgUser)<br>&#9;&#9;&#9;&#9;f.cAlert(title, msg);<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;{<br>&#9;&#9;&#9;if(f.Flagger == Target)<br>&#9;&#9;&#9;&#9;f.cAlert(title, msg);<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="PSComputer.xFileMan"><a class="headerlink" href="#PSComputer.xFileMan" title="Permanent link">xFileMan</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local PSComputerReplicationactor f;<br><br><br>&#9;//foreach AllActors(class'PSComputerReplicationactor', f)<br>&#9;&#9;&#9;//if(f.Flagger == pgUser)<br>&#9;&#9;&#9;//&#9;f.cMenuFiles();<br><br></div>
<h3 id="PSComputer.xHack"><a class="headerlink" href="#PSComputer.xHack" title="Permanent link">xHack</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local PSComputerReplicationactor f;<br><br><br>&#9;foreach AllActors(class'PSComputerReplicationactor', f)<br>&#9;{<br>&#9;&#9;&#9;if(f.Flagger == pgUser)<br>&#9;&#9;&#9;&#9;f.cMenuHack();<br>&#9;}<br><br></div>
<h3 id="PSComputer.xOD"><a class="headerlink" href="#PSComputer.xOD" title="Permanent link">xOD</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local PSComputerReplicationactor f;<br><br><br>&#9;//foreach AllActors(class'PSComputerReplicationactor', f)<br>&#9;&#9;&#9;//if(f.Flagger == pgUser)<br>&#9;&#9;&#9;&#9;//f.cMenuOD();<br><br></div>
<br><br><hr>
<a class="headerlink" href="#PSComputerHandheld.uc" title="Permanent link"><h2 id="PSComputerHandheld.uc">PSComputerHandheld.uc (extends DeusExPickup)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">maxCopies=1<br>bActivatable=True<br>ItemName="Handheld Computer"<br>PlayerViewOffset=(X=20.000000,Y=10.000000,Z=-16.000000)<br>PlayerViewMesh=LodMesh'DeusExItems.MultitoolPOV'<br>PickupViewMesh=LodMesh'DeusExItems.Multitool'<br>ThirdPersonMesh=LodMesh'DeusExItems.Multitool3rd'<br>LandSound=Sound'DeusExSounds.Generic.PlasticHit2'<br>Icon=Texture'DeusExUI.Icons.BeltIconMultitool'<br>M_Activated=" connecting to network..."<br>largeIcon=Texture'DeusExUI.Icons.LargeIconMultitool'<br>largeIconWidth=28<br>largeIconHeight=46<br>Description=""<br>beltDescription="COMPUTER"<br>Mesh=LodMesh'DeusExItems.Multitool'<br>CollisionRadius=4.800000<br>CollisionHeight=0.860000<br>Mass=20.000000<br>Buoyancy=10.000000</div>
<h3 id="PSComputerHandheld.Activate"><a class="headerlink" href="#PSComputerHandheld.Activate" title="Permanent link">Activate</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;// can't turn it off<br>&#9;<br></div>
<h3 id="PSComputerHandheld.BeginState"><a class="headerlink" href="#PSComputerHandheld.BeginState" title="Permanent link">BeginState</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer player, hitplayer;<br>&#9;local scriptedpawn hitpawn;<br>&#9;local dxScriptedPawn hitpawn2;<br>&#9;local Actor       hitActor;<br>&#9;local Vector      hitLocation, hitNormal;<br>&#9;local Vector      position, line;<br>&#9;local float Dist;<br>&#9;local PSComputer psc;<br>&#9;local bool bFound;<br><br>&#9;&#9;<br>&#9;&#9;Super.BeginState();<br>&#9;&#9;player = DeusExPlayer(Owner);<br>&#9;&#9;<br>&#9;&#9;foreach AllActors(class'PSComputer',psc)<br>&#9;&#9;&#9;if(PSC.pgUser == player)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;bFound=True;<br>&#9;&#9;&#9;&#9;PSC.Frob(player, Self);<br>&#9;&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(!bFound)&#9;<br>&#9;&#9;&#9;player.clientmessage("No computer found... Be sure to successfully login to one to register it.");<br>&#9;&#9;GotoState('DeActivated');<br>&#9;<br></div>
<h3 id="PSComputerHandheld.PreBeginPlay"><a class="headerlink" href="#PSComputerHandheld.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;// If this is a netgame, then override defaults<br>&#9;if ( Level.NetMode != NM_StandAlone )<br>&#9;&#9;MaxCopies = 1;<br><br></div>
<h3 id="PSComputerHandheld.TestMPBeltSpot"><a class="headerlink" href="#PSComputerHandheld.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<br><br><hr>
<a class="headerlink" href="#PSComputerMenu.uc" title="Permanent link"><h2 id="PSComputerMenu.uc">PSComputerMenu.uc (extends MenuUIScreenWindow)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var MenuUIActionButtonWindow SendButton, exitButton;<br>var MenuUIEditWindow editCommand, editPassword;<br>var MenuUIHeaderWindow winText;<br>var localized string exitbuttontext, passwordlabel, sendbuttontext, commandlabel;<br>var DeusExPlayer _windowOwner;<br>var PSComputer Ac;<br>var PSComputerReplicationActor Mastah;<br>var localized string Username;<br>var string Password;<br>var bool bRem;<br>var MenuUIMessageBoxWindow AlertWin;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">exitbuttontext="Exit"<br>PasswordLabel="Password"<br>sendbuttontext="Send <Enter>"<br>commandlabel="Command"<br>ClientWidth=300<br>ClientHeight=75<br>textureRows=3<br>textureCols=2<br>bUsesHelpWindow=False</div>
<h3 id="PSComputerMenu.AddUserTitle"><a class="headerlink" href="#PSComputerMenu.AddUserTitle" title="Permanent link">AddUserTitle</a> (string str)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;SetTitle("["$str$"] playgroundOS v0.8");<br><br></div>
<h3 id="PSComputerMenu.ButtonActivated"><a class="headerlink" href="#PSComputerMenu.ButtonActivated" title="Permanent link">ButtonActivated</a> (Window buttonPressed) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local bool bHandled;<br>&#9;local string GetCom, GetPass;<br><br>&#9;bHandled = True;<br><br>&#9;Super.ButtonActivated(buttonPressed);<br><br>&#9;switch( buttonPressed )<br>&#9;{<br>&#9;&#9;case SendButton:<br>&#9;&#9;&#9;GetCom = editCommand.GetText();<br>&#9;&#9;&#9;GetPass = editPassword.GetText();<br>&#9;&#9;&#9;&#9;if(Mastah.ParseCommand(_windowOwner, getPass, getCom))<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;//_windowOwner.ClientMessage("Sending login"@_windowowner.playerreplicationinfo.playername@getuser@getpass);<br>&#9;&#9;&#9;&#9;&#9;root.PopWindow();<br>&#9;&#9;&#9;&#9;&#9;bHandled = True;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;//&#9;}<br>&#9;&#9;&#9;break;<br>&#9;&#9;&#9;<br>&#9;&#9;case exitButton:<br>&#9;&#9;&#9;root.PopWindow();<br>&#9;&#9;&#9;bHandled = True;<br>&#9;&#9;&#9;break;<br><br>&#9;&#9;default:<br>&#9;&#9;&#9;bHandled = False;<br>&#9;&#9;&#9;break;<br>&#9;<br></div>
<h3 id="PSComputerMenu.CreateTextWindow"><a class="headerlink" href="#PSComputerMenu.CreateTextWindow" title="Permanent link">CreateTextWindow</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;winText = CreateMenuHeader(21, 13, "", winClient);<br>&#9;winText.SetTextAlignments(HALIGN_Center, VALIGN_Center);<br>&#9;winText.SetFont(Font'FontMenuHeaders_DS');<br>&#9;winText.SetWindowAlignments(HALIGN_Full, VALIGN_Full, 20, 14);<br><br></div>
<h3 id="PSComputerMenu.InitWindow"><a class="headerlink" href="#PSComputerMenu.InitWindow" title="Permanent link">InitWindow</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Window W;<br><br><br>   Super.InitWindow();<br>   CreateTextWindow();<br>   SendButton = winButtonBar.AddButton(sendButtonText, HALIGN_Right);<br>   exitButton = winButtonBar.AddButton(exitButtonText, HALIGN_Right);<br>  <br>&#9;CreateMenuLabel(10, 22, CommandLabel, winClient);<br>&#9;CreateMenuLabel(10, 55, PasswordLabel, winClient);<br>&#9;editPassword = CreateMenuEditWindow(105, 54, 143, 20, winClient);<br>&#9;EditCommand = CreateMenuEditWindow(105, 20, 143, 20, winClient);<br>&#9;EditCommand.SetMaxSize(70); //cap said to fit the window as best as possible until the word wrap can be figured out..<br>&#9;<br>   winClient.SetBackground(Texture'DeusExUI.MaskTexture');<br>   winClient.SetBackgroundStyle(DSTY_Modulated);<br><br>   W = winClient.NewChild(Class'Window');<br>   W.SetSize(ClientWidth, ClientHeight);<br>   W.SetBackground(Texture'DeusExUI.MaskTexture');<br>   W.SetBackgroundStyle(DSTY_Modulated);<br>   W.Lower();<br>&#9;<br>   SetTitle("playgroundOS v0.8");<br><br></div>
<h3 id="PSComputerMenu.RawKeyPressed"><a class="headerlink" href="#PSComputerMenu.RawKeyPressed" title="Permanent link">RawKeyPressed</a> (EInputKey key, EInputState iState, bool bRepeat) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if (key == IK_Enter)// &&//(iState == IST_Release))<br>&#9;{<br>&#9;&#9;&#9;&#9;if(Mastah.ParseCommand(_windowOwner, editPassword.GetText(), editCommand.GetText()))<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;root.PopWindow();<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;return True;<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;return false;<br>&#9;}<br><br></div>
<h3 id="PSComputerMenu.SetMessageText"><a class="headerlink" href="#PSComputerMenu.SetMessageText" title="Permanent link">SetMessageText</a> (String msgText)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;winText.SetText(msgText);<br><br>&#9;AskParentForReconfigure();<br><br></div>
<h3 id="PSComputerMenu.VirtualKeyPressed"><a class="headerlink" href="#PSComputerMenu.VirtualKeyPressed" title="Permanent link">VirtualKeyPressed</a> (EInputKey key, bool bRepeat) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local bool bHandled;<br><br><br>&#9;switch( key )<br>&#9;{<br>&#9;&#9;case IK_Enter:<br>&#9;&#9;&#9;&#9;if(Mastah.ParseCommand(_windowOwner, editPassword.GetText(), editCommand.GetText()))<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;root.PopWindow();<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;bHandled = True;<br>&#9;&#9;&#9;break;<br>&#9;}<br><br>&#9;return bHandled;<br><br></div>
<br><br><hr>
<a class="headerlink" href="#PSComputerMenuHack.uc" title="Permanent link"><h2 id="PSComputerMenuHack.uc">PSComputerMenuHack.uc (extends MenuUIScreenWindow)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var MenuUIActionButtonWindow SendButton, exitButton;<br>var MenuUIEditWindow editCommand, editPassword;<br>var MenuUIHeaderWindow winText;<br>var localized string exitbuttontext, passwordlabel, sendbuttontext, commandlabel;<br>var DeusExPlayer _windowOwner;<br>var PSComputer Ac;<br>var PSComputerReplicationActor Mastah;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">exitbuttontext="Exit"<br>PasswordLabel="Password"<br>sendbuttontext="Send <Enter>"<br>commandlabel="Command"<br>ClientWidth=300<br>ClientHeight=75<br>textureRows=3<br>textureCols=2<br>bUsesHelpWindow=False</div>
<h3 id="PSComputerMenuHack.ButtonActivated"><a class="headerlink" href="#PSComputerMenuHack.ButtonActivated" title="Permanent link">ButtonActivated</a> (Window buttonPressed) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local bool bHandled;<br>&#9;local string GetCom, GetPass;<br><br>&#9;bHandled = True;<br><br>&#9;Super.ButtonActivated(buttonPressed);<br><br>&#9;switch( buttonPressed )<br>&#9;{<br>&#9;&#9;case SendButton:<br>&#9;&#9;&#9;GetCom = editCommand.GetText();<br>&#9;&#9;&#9;&#9;if(Mastah.ParseHack(getCom))<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;//_windowOwner.ClientMessage("Sending login"@_windowowner.playerreplicationinfo.playername@getuser@getpass);<br>&#9;&#9;&#9;&#9;&#9;root.PopWindow();<br>&#9;&#9;&#9;&#9;&#9;bHandled = True;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;//&#9;}<br>&#9;&#9;&#9;break;<br>&#9;&#9;&#9;<br>&#9;&#9;case exitButton:<br>&#9;&#9;&#9;root.PopWindow();<br>&#9;&#9;&#9;bHandled = True;<br>&#9;&#9;&#9;break;<br><br>&#9;&#9;default:<br>&#9;&#9;&#9;bHandled = False;<br>&#9;&#9;&#9;break;<br>&#9;<br></div>
<h3 id="PSComputerMenuHack.CreateTextWindow"><a class="headerlink" href="#PSComputerMenuHack.CreateTextWindow" title="Permanent link">CreateTextWindow</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;winText = CreateMenuHeader(21, 13, "", winClient);<br>&#9;winText.SetTextAlignments(HALIGN_Center, VALIGN_Center);<br>&#9;winText.SetFont(Font'FontMenuHeaders_DS');<br>&#9;winText.SetWindowAlignments(HALIGN_Full, VALIGN_Full, 20, 14);<br><br></div>
<h3 id="PSComputerMenuHack.InitWindow"><a class="headerlink" href="#PSComputerMenuHack.InitWindow" title="Permanent link">InitWindow</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Window W;<br><br><br>   Super.InitWindow();<br>   CreateTextWindow();<br>   SendButton = winButtonBar.AddButton(sendButtonText, HALIGN_Right);<br>   exitButton = winButtonBar.AddButton(exitButtonText, HALIGN_Right);<br>  <br>&#9;CreateMenuLabel(10, 22, CommandLabel, winClient);<br>&#9;EditCommand = CreateMenuEditWindow(105, 20, 143, 20, winClient);<br>&#9;EditCommand.SetMaxSize(255); //cap said to fit the window as best as possible until the word wrap can be figured out..<br>&#9;<br>   winClient.SetBackground(Texture'DeusExUI.MaskTexture');<br>   winClient.SetBackgroundStyle(DSTY_Modulated);<br><br>   W = winClient.NewChild(Class'Window');<br>   W.SetSize(ClientWidth, ClientHeight);<br>   W.SetBackground(Texture'DeusExUI.MaskTexture');<br>   W.SetBackgroundStyle(DSTY_Modulated);<br>   W.Lower();<br>&#9;<br>   SetTitle("playgroundScripter v0.8");<br><br></div>
<h3 id="PSComputerMenuHack.RawKeyPressed"><a class="headerlink" href="#PSComputerMenuHack.RawKeyPressed" title="Permanent link">RawKeyPressed</a> (EInputKey key, EInputState iState, bool bRepeat) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if (key == IK_Enter)// &&//(iState == IST_Release))<br>&#9;{<br>&#9;&#9;&#9;&#9;if(Mastah.ParseHack(editCommand.GetText()))<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;root.PopWindow();<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;return True;<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;return false;<br>&#9;}<br><br></div>
<h3 id="PSComputerMenuHack.SetMessageText"><a class="headerlink" href="#PSComputerMenuHack.SetMessageText" title="Permanent link">SetMessageText</a> (String msgText)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;winText.SetText(msgText);<br><br>&#9;AskParentForReconfigure();<br><br></div>
<h3 id="PSComputerMenuHack.VirtualKeyPressed"><a class="headerlink" href="#PSComputerMenuHack.VirtualKeyPressed" title="Permanent link">VirtualKeyPressed</a> (EInputKey key, bool bRepeat) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local bool bHandled;<br><br><br>&#9;switch( key )<br>&#9;{<br>&#9;&#9;case IK_Enter:<br>&#9;&#9;&#9;&#9;if(Mastah.ParseHack(editCommand.GetText()))<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;root.PopWindow();<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;bHandled = True;<br>&#9;&#9;&#9;break;<br>&#9;}<br><br>&#9;return bHandled;<br><br></div>
<br><br><hr>
<a class="headerlink" href="#PSComputerReplicationActor.uc" title="Permanent link"><h2 id="PSComputerReplicationActor.uc">PSComputerReplicationActor.uc (extends PGActors)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var PlayerPawn Flagger;<br>var PSComputer Ac;<br>var string Username, Password;<br>var bool bRem;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">NetPriority=1.500000</div>
<h3 id="PSComputerReplicationActor.ParseCommand"><a class="headerlink" href="#PSComputerReplicationActor.ParseCommand" title="Permanent link">ParseCommand</a> (deusexplayer p, string Password, string Command) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;return ac.ParseCommand(p, Password,Command);<br><br></div>
<h3 id="PSComputerReplicationActor.ParseHack"><a class="headerlink" href="#PSComputerReplicationActor.ParseHack" title="Permanent link">ParseHack</a> (string Command) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;return ac.ParseHack(Command);<br><br></div>
<h3 id="PSComputerReplicationActor.cAlert"><a class="headerlink" href="#PSComputerReplicationActor.cAlert" title="Permanent link">cAlert</a> (string title, string msg)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer _Player;<br>&#9;local DeusExRootWindow _root;<br>&#9;local MenuAlert _boxWindow;<br><br>&#9;_Player = DeusExPlayer(Owner);<br>&#9;//log("Called cMenuLogin for"@_Player.playerreplicationinfo.playername );<br>&#9;if(_Player != None)<br>&#9;{<br>&#9;&#9;//_Player.InitRootWindow();<br>&#9;&#9;_root = DeusExRootWindow(_Player.rootWindow);<br>&#9;&#9;if(_root != None)<br>&#9;&#9;{<br>&#9;&#9;&#9;_boxWindow = MenuAlert(_root.InvokeUIScreen(Class'MenuAlert', True));<br>&#9;&#9;&#9;if(_boxWindow != None)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;_boxWindow._windowOwner = _Player;<br>&#9;&#9;&#9;&#9;_boxWindow.Ac = Ac;<br>&#9;&#9;&#9;&#9;_boxWindow.Mastah = Self;<br>&#9;&#9;&#9;&#9;_boxWindow.crt(title, msg);<br>&#9;&#9;&#9;//&#9;_boxWindow.ClientWidth = len(msg);<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="PSComputerReplicationActor.cMenuHack"><a class="headerlink" href="#PSComputerReplicationActor.cMenuHack" title="Permanent link">cMenuHack</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer _Player;<br>&#9;local DeusExRootWindow _root;<br>&#9;local PSComputerMenu _boxWindow;<br><br>&#9;_Player = DeusExPlayer(Owner);<br>&#9;//log("Called cMenuLogin for"@_Player.playerreplicationinfo.playername );<br>&#9;if(_Player != None)<br>&#9;{<br>&#9;&#9;//_Player.InitRootWindow();<br>&#9;&#9;_root = DeusExRootWindow(_Player.rootWindow);<br>&#9;&#9;if(_root != None)<br>&#9;&#9;{<br>&#9;&#9;&#9;_boxWindow = PSComputerMenu(_root.InvokeUIScreen(Class'PSComputerMenuHack', True));<br>&#9;&#9;&#9;if(_boxWindow != None)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;_boxWindow._windowOwner = _Player;<br>&#9;&#9;&#9;&#9;_boxWindow.Ac = Ac;<br>&#9;&#9;&#9;&#9;_boxWindow.Mastah = Self;<br>&#9;&#9;&#9;&#9;//_boxWindow.AddUserTitle(Username);<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="PSComputerReplicationActor.cMenuLogin"><a class="headerlink" href="#PSComputerReplicationActor.cMenuLogin" title="Permanent link">cMenuLogin</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer _Player;<br>&#9;local DeusExRootWindow _root;<br>&#9;local PSComputerMenu _boxWindow;<br><br>&#9;_Player = DeusExPlayer(Owner);<br>&#9;//log("Called cMenuLogin for"@_Player.playerreplicationinfo.playername );<br>&#9;if(_Player != None)<br>&#9;{<br>&#9;&#9;//_Player.InitRootWindow();<br>&#9;&#9;_root = DeusExRootWindow(_Player.rootWindow);<br>&#9;&#9;if(_root != None)<br>&#9;&#9;{<br>&#9;&#9;&#9;_boxWindow = PSComputerMenu(_root.InvokeUIScreen(Class'PSComputerMenu', True));<br>&#9;&#9;&#9;if(_boxWindow != None)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;_boxWindow._windowOwner = _Player;<br>&#9;&#9;&#9;&#9;_boxWindow.Ac = Ac;<br>&#9;&#9;&#9;&#9;_boxWindow.Mastah = Self;<br>&#9;&#9;&#9;&#9;_boxWindow.Username = Username;<br>&#9;&#9;&#9;&#9;_boxWindow.Password = Password;<br>&#9;&#9;&#9;&#9;_boxWindow.bRem = bRem;<br>&#9;&#9;&#9;&#9;//_boxWindow.AddUserTitle(Username);<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="PSComputerReplicationActor.timer"><a class="headerlink" href="#PSComputerReplicationActor.timer" title="Permanent link">timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;SetOwner(flagger);<br>&#9;&#9;cMenuLogin();<br><br></div>
<br><br><hr>
<a class="headerlink" href="#PSCreditCard.uc" title="Permanent link"><h2 id="PSCreditCard.uc">PSCreditCard.uc (extends DeusExWeapon)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var int mode;<br>var string Job;<br>var int Fitness, Strength, Intellect, CrimLevel;<br>var bool bDeposit;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">Mode=10<br>AmmoName=Class'PartyStuff.AmmoCredits'<br>ReloadCount=1<br>PickupAmmoCount=120<br>InventoryGroup=80<br>ItemName="Citizen card"<br>PlayerViewOffset=(Z=-12.000000)<br>PlayerViewMesh=LodMesh'DeusExItems.Credits'<br>PickupViewMesh=LodMesh'DeusExItems.Credits'<br>ThirdPersonMesh=LodMesh'DeusExItems.Credits'<br>LandSound=Sound'DeusExSounds.Generic.PlasticHit1'<br>Icon=Texture'DeusExUI.Icons.BeltIconCredits'<br>beltDescription="CITIZEN"<br>Mesh=LodMesh'DeusExItems.Credits'<br>CollisionRadius=7.000000<br>CollisionHeight=0.550000<br>Mass=2.000000<br>Buoyancy=3.000000</div>
<h3 id="PSCreditCard.BecomePickup"><a class="headerlink" href="#PSCreditCard.BecomePickup" title="Permanent link">BecomePickup</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   Super(Inventory).BecomePickup();<br>   lifespan=0;<br>   SetDisplayProperties(Default.Style, Default.Texture, Default.bUnlit, Default.bMeshEnviromap );<br><br></div>
<h3 id="PSCreditCard.CycleAmmo"><a class="headerlink" href="#PSCreditCard.CycleAmmo" title="Permanent link">CycleAmmo</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(bDeposit == False)<br>&#9;{<br>&#9;&#9;bDeposit = True;<br>&#9;&#9;DeusExPlayer(Owner).ClientMessage("|p7ATM deposit mode selected.");<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;bDeposit = False;<br>&#9;&#9;DeusExPlayer(Owner).ClientMessage("|p7ATM withdrawl mode selected.");<br>&#9;}<br><br></div>
<h3 id="PSCreditCard.DropFrom"><a class="headerlink" href="#PSCreditCard.DropFrom" title="Permanent link">DropFrom</a> (vector StartLocation)</h3>

<h3 id="PSCreditCard.Fire"><a class="headerlink" href="#PSCreditCard.Fire" title="Permanent link">Fire</a> (float Value)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer P;<br>&#9;local vector loc;<br>&#9;local rotator rot;<br><br>&#9;<br>&#9;P=DeusExPlayer(Owner);<br><br>&#9;loc = Owner.Location;<br>&#9;rot = Owner.Rotation;<br>&#9;loc += 2.0 * Owner.CollisionRadius * vector(P.ViewRotation);<br>&#9;loc.Z += Owner.CollisionHeight * 0.9;<br><br>&#9;if(mode==10)<br>&#9;{<br>&#9;&#9;if(P.Credits>=10)<br>&#9;&#9;{<br>&#9;&#9;&#9;P.Credits-=10;<br>&#9;&#9;<br>&#9;&#9;&#9;Spawn(class'Cred10', Owner,, loc, rot);<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br><br>&#9;if(mode==100)<br>&#9;{<br>&#9;&#9;if(P.Credits>=100)<br>&#9;&#9;{<br>&#9;&#9;&#9;P.Credits-=100;<br>&#9;&#9;&#9;Spawn(class'Cred100', Owner,, loc, rot);<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br><br>&#9;if(mode==500)<br>&#9;{<br>&#9;&#9;if(P.Credits>=500)<br>&#9;&#9;{<br>&#9;&#9;&#9;P.Credits-=500;<br>&#9;&#9;&#9;Spawn(class'Cred500', Owner,, loc, rot);<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="PSCreditCard.ScopeToggle"><a class="headerlink" href="#PSCreditCard.ScopeToggle" title="Permanent link">ScopeToggle</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"> <br>&#9;if(mode == 500)<br>&#9;{<br>&#9;&#9;mode = 10;<br>&#9;&#9;DeusExPlayer(Owner).ClientMessage("10 Credit mode selected.");<br>&#9;&#9;return;<br>&#9;}<br><br>&#9;if(mode == 100)<br>&#9;{<br>&#9;&#9;mode = 500;<br>&#9;&#9;DeusExPlayer(Owner).ClientMessage("500 Credit mode selected.");<br>&#9;&#9;return;<br>&#9;}<br><br>&#9;if(mode == 10)<br>&#9;{<br>&#9;&#9;mode = 100;<br>&#9;&#9;DeusExPlayer(Owner).ClientMessage("100 Credit mode selected.");<br>&#9;&#9;return;<br>&#9;}<br><br></div>
<h3 id="PSCreditCard.TestMPBeltSpot"><a class="headerlink" href="#PSCreditCard.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) || (BeltSpot == 0) );<br><br></div>
<h3 id="PSCreditCard.Tick"><a class="headerlink" href="#PSCreditCard.Tick" title="Permanent link">Tick</a> (float deltatime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(Owner!=None)<br>&#9;{<br>&#9;&#9;if(Owner.IsA('Human'))<br>&#9;&#9;{<br>&#9;&#9;&#9;if(Human(Owner).Health > 0)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;AmmoType.AmmoAmount = DeusExPlayer(Owner).Credits;<br>&#9;<br>&#9;&#9;&#9;&#9;if(AmmoType.AmmoAmount > 10)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;//AmmoType.beltDescription = "|p7C"$DeusExPlayer(Owner).Credits;<br>&#9;&#9;&#9;&#9;&#9;DeusExRootWindow(DeusExPlayer(Owner).rootWindow).hud.belt.Objects[0].ItemText = "|p3C "$DeusExPlayer(Owner).Credits;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;//AmmoType.beltDescription = "|p2C"$DeusEXPlayer(Owner).Credits;<br>&#9;&#9;&#9;&#9;&#9;DeusExRootWindow(DeusExPlayer(Owner).rootWindow).hud.belt.Objects[0].ItemText = "|p2C "$DeusExPlayer(Owner).Credits;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#PSFattener.uc" title="Permanent link"><h2 id="PSFattener.uc">PSFattener.uc (extends PGActors)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var Actor Fattener;</div>
<h3 id="PSFattener.Explode"><a class="headerlink" href="#PSFattener.Explode" title="Permanent link">Explode</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local SphereEffect sphere;<br>&#9;local ScorchMark s;<br>&#9;local ExplosionLight light;<br>&#9;local int i;<br>&#9;local float explosionDamage;<br>&#9;local float explosionRadius;<br><br><br>&#9;explosionDamage = 600;<br>&#9;explosionRadius = 100;<br><br>&#9;// alert NPCs that I'm exploding<br>&#9;AISendEvent('LoudNoise', EAITYPE_Audio, , explosionRadius*16);<br>&#9;PlaySound(Sound'LargeExplosion1', SLOT_None,,, explosionRadius*16);<br><br>&#9;// draw a pretty explosion<br>&#9;light = Spawn(class'ExplosionLight',,, Location);<br>&#9;if (light != None)<br>&#9;&#9;light.size = 4;<br><br>&#9;Spawn(class'ExplosionSmall',,, Location + 2*VRand()*CollisionRadius);<br>&#9;Spawn(class'ExplosionMedium',,, Location + 2*VRand()*CollisionRadius);<br>&#9;Spawn(class'ExplosionMedium',,, Location + 2*VRand()*CollisionRadius);<br>&#9;Spawn(class'ExplosionLarge',,, Location + 2*VRand()*CollisionRadius);<br><br>&#9;sphere = Spawn(class'SphereEffect',,, Location);<br>&#9;if (sphere != None)<br>&#9;&#9;sphere.size = explosionRadius / 32.0;<br><br>&#9;// spawn a mark<br>&#9;s = spawn(class'ScorchMark', Base,, Location-vect(0,0,1)*CollisionHeight, Rotation+rot(16384,0,0));<br>&#9;if (s != None)<br>&#9;{<br>&#9;&#9;s.DrawScale = FClamp(explosionDamage/30, 0.1, 3.0);<br>&#9;&#9;s.ReattachDecal();<br>&#9;}<br><br>&#9;// spawn some rocks and flesh fragments<br>&#9;for (i=0; i<explosionDamage/6; i++)<br>&#9;{<br>&#9;&#9;if (FRand() < 0.3)<br>&#9;&#9;&#9;spawn(class'Rockchip',,,Location);<br>&#9;}<br><br>&#9;HurtRadius(explosionDamage, explosionRadius, 'Exploded', explosionDamage*100, Location);<br><br></div>
<h3 id="PSFattener.GetDisplayString"><a class="headerlink" href="#PSFattener.GetDisplayString" title="Permanent link">GetDisplayString</a> (Actor P) -> string</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(P.isA('DeusExPlayer'))<br>&#9;&#9;return DeusExPlayer(p).PlayerReplicationInfo.PlayerName;<br>&#9;else if(P.isA('ScriptedPawn'))<br>&#9;&#9;return ScriptedPawn(P).FamiliarName;<br>&#9;else if(P.isA('DeusExDecoration'))<br>&#9;&#9;return DeusExDecoration(P).ItemName;<br><br></div>
<h3 id="PSFattener.Tick"><a class="headerlink" href="#PSFattener.Tick" title="Permanent link">Tick</a> (float deltatime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(Fattener == None)<br>&#9;{<br>&#9;&#9;Destroy();<br>&#9;&#9;Log("NO PLAYER ATTACHED, DESTROYING",'Fattener');<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;SetLocation(Fattener.Location);<br>&#9;&#9;Fattener.Fatness += 1;<br>&#9;&#9;if(Fattener.Fatness >= 255)<br>&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;BroadcastMessage(GetDisplayString(Fattener)$" grew too fat and exploded.");<br>&#9;&#9;&#9;DeusExPlayer(Fattener).ReducedDamageType = '';<br>&#9;&#9;&#9;ScriptedPawn(Fattener).bInvincible=False;<br>&#9;&#9;&#9;DeusExDecoration(Fattener).bInvincible=False;<br>&#9;&#9;&#9;Fattener.TakeDamage(200,None,vect(0,0,0),vect(0,0,1),'Exploded');<br>&#9;&#9;&#9;Explode();<br>&#9;&#9;&#9;Fattener.Fatness = Fattener.Default.Fatness;<br>&#9;&#9;&#9;Destroy();<br>&#9;&#9;}<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#PSFireworkRocket.uc" title="Permanent link"><h2 id="PSFireworkRocket.uc">PSFireworkRocket.uc (extends DeusExProjectile)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var ParticleGenerator pGen1;<br>var ParticleGenerator pGen2;<br>var float mpDamage;<br>var float mpBlastRadius;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">mpBlastRadius=300.000000<br>bExplodes=True<br>blastRadius=128.000000<br>DamageType=Burned<br>AccurateRange=14400<br>maxRange=24000<br>bIgnoresNanoDefense=True<br>ItemName="Firework"<br>ItemArticle="a"<br>speed=1000.000000<br>MaxSpeed=1100.000000<br>MomentumTransfer=3000<br>ImpactSound=Sound'DeusExSounds.Generic.MediumExplosion1'<br>ExplosionDecal=Class'DeusEx.ScorchMark'<br>Style=STY_Modulated<br>Skin=FireTexture'Effects.Fire.flmethrwr_fire'<br>Mesh=LodMesh'DeusExItems.PlasmaBolt'<br>DrawScale=2.000000<br>Fatness=88<br>bUnlit=True<br>LightType=LT_Steady<br>LightEffect=LE_NonIncidence<br>LightBrightness=200<br>LightHue=1<br>LightSaturation=128<br>LightRadius=3<br>bFixedRotationDir=True</div>
<h3 id="PSFireworkRocket.Destroyed"><a class="headerlink" href="#PSFireworkRocket.Destroyed" title="Permanent link">Destroyed</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if (pGen1 != None)<br>&#9;&#9;pGen1.DelayedDestroy();<br>&#9;if (pGen2 != None)<br>&#9;&#9;pGen2.DelayedDestroy();<br><br>&#9;Super.Destroyed();<br><br></div>
<h3 id="PSFireworkRocket.DrawExplosionEffects"><a class="headerlink" href="#PSFireworkRocket.DrawExplosionEffects" title="Permanent link">DrawExplosionEffects</a> (vector HitLocation, vector HitNormal)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local ParticleGenerator gen;<br>&#9;local pring sphere;<br>&#9;local ProjectileGenerator Projy;<br><br>&#9;<br>&#9;projy = Spawn(class'ProjectileGenerator',,,HitLocation);<br>&#9;projy.Lifespan=5;<br>&#9;projy.EjectSpeed=250;<br>&#9;projy.Checktime=0.01;<br>&#9;projy.bRandomEject = True;<br>&#9;projy.ProjectileClass=class'PSFireworkfx';<br>&#9;projy.NumPerSpawn=3;<br>&#9;// create a particle generator shooting out plasma spheres<br>&#9;gen = Spawn(class'ParticleGenerator',,, HitLocation, Rotator(HitNormal));<br>&#9;if (gen != None)<br>&#9;{<br>      //gen.RemoteRole = ROLE_None;<br>&#9;&#9;gen.particleDrawScale = 1.0;<br>&#9;&#9;gen.checkTime = 0.10;<br>&#9;&#9;gen.frequency = 1.0;<br>&#9;&#9;gen.ejectSpeed = 200.0;<br>&#9;&#9;gen.bGravity = True;<br>&#9;&#9;gen.bRandomEject = True;<br>&#9;&#9;gen.particleLifeSpan = 0.75;<br>&#9;&#9;gen.particleTexture = Texture'sparkfx1';<br>&#9;&#9;gen.LifeSpan = 1.3;<br>&#9;}<br>&#9;sphere = Spawn(class'pring',,, HitLocation);<br>&#9;if (sphere != None)<br>&#9;{<br>&#9;sphere.size = blastradius / 32;<br>&#9;Sphere.MultiSkins[0]=Texture'radattack';<br>&#9;}<br><br></div>
<h3 id="PSFireworkRocket.PreBeginPlay"><a class="headerlink" href="#PSFireworkRocket.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;Damage = mpDamage;<br>&#9;blastRadius = mpBlastRadius;<br><br></div>
<br><br><hr>
<a class="headerlink" href="#PSFireworkRocket2.uc" title="Permanent link"><h2 id="PSFireworkRocket2.uc">PSFireworkRocket2.uc (extends DeusExProjectile)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var ParticleGenerator pGen1;<br>var ParticleGenerator pGen2;<br>var float mpDamage;<br>var float mpBlastRadius;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">mpBlastRadius=300.000000<br>bExplodes=True<br>blastRadius=128.000000<br>DamageType=Burned<br>AccurateRange=14400<br>maxRange=24000<br>bIgnoresNanoDefense=True<br>ItemName="Firework"<br>ItemArticle="a"<br>speed=1000.000000<br>MaxSpeed=1100.000000<br>MomentumTransfer=3000<br>ImpactSound=Sound'DeusExSounds.Generic.MediumExplosion1'<br>ExplosionDecal=Class'DeusEx.ScorchMark'<br>Style=STY_Modulated<br>Skin=FireTexture'Effects.Fire.flmethrwr_fire'<br>Mesh=LodMesh'DeusExItems.PlasmaBolt'<br>DrawScale=2.000000<br>Fatness=88<br>bUnlit=True<br>LightType=LT_Steady<br>LightEffect=LE_NonIncidence<br>LightBrightness=200<br>LightHue=1<br>LightSaturation=128<br>LightRadius=3<br>bFixedRotationDir=True</div>
<h3 id="PSFireworkRocket2.Destroyed"><a class="headerlink" href="#PSFireworkRocket2.Destroyed" title="Permanent link">Destroyed</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if (pGen1 != None)<br>&#9;&#9;pGen1.DelayedDestroy();<br>&#9;if (pGen2 != None)<br>&#9;&#9;pGen2.DelayedDestroy();<br><br>&#9;Super.Destroyed();<br><br></div>
<h3 id="PSFireworkRocket2.DrawExplosionEffects"><a class="headerlink" href="#PSFireworkRocket2.DrawExplosionEffects" title="Permanent link">DrawExplosionEffects</a> (vector HitLocation, vector HitNormal)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local ParticleGenerator gen;<br>&#9;local pring sphere;<br>&#9;local ProjectileGenerator Projy;<br><br>&#9;<br>&#9;projy = Spawn(class'ProjectileGenerator',,,HitLocation);<br>&#9;projy.Lifespan=5;<br>&#9;projy.EjectSpeed=250;<br>&#9;projy.Checktime=0.01;<br>&#9;projy.bRandomEject = True;<br>&#9;projy.ProjectileClass=class'PSFireworkfx2';<br>&#9;projy.NumPerSpawn=3;<br>&#9;// create a particle generator shooting out plasma spheres<br>&#9;gen = Spawn(class'ParticleGenerator',,, HitLocation, Rotator(HitNormal));<br>&#9;if (gen != None)<br>&#9;{<br>      //gen.RemoteRole = ROLE_None;<br>&#9;&#9;gen.particleDrawScale = 1.0;<br>&#9;&#9;gen.checkTime = 0.10;<br>&#9;&#9;gen.frequency = 1.0;<br>&#9;&#9;gen.ejectSpeed = 200.0;<br>&#9;&#9;gen.bGravity = True;<br>&#9;&#9;gen.bRandomEject = True;<br>&#9;&#9;gen.particleLifeSpan = 0.75;<br>&#9;&#9;gen.particleTexture = Texture'sparkfx1';<br>&#9;&#9;gen.LifeSpan = 1.3;<br>&#9;}<br>&#9;sphere = Spawn(class'pring',,, HitLocation);<br>&#9;if (sphere != None)<br>&#9;{<br>&#9;sphere.size = blastradius / 32;<br>&#9;Sphere.MultiSkins[0]=Texture'radattack';<br>&#9;}<br><br></div>
<h3 id="PSFireworkRocket2.PreBeginPlay"><a class="headerlink" href="#PSFireworkRocket2.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;Damage = mpDamage;<br>&#9;blastRadius = mpBlastRadius;<br><br></div>
<br><br><hr>
<a class="headerlink" href="#PSFireworkfx.uc" title="Permanent link"><h2 id="PSFireworkfx.uc">PSFireworkfx.uc (extends DeusExProjectile)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">AccurateRange=300<br>maxRange=450<br>bIgnoresNanoDefense=True<br>speed=600.000000<br>MaxSpeed=800.000000<br>MomentumTransfer=400<br>Style=STY_Translucent<br>Mesh=LodMesh'DeusExItems.GreaselSpit'</div>
<h3 id="PSFireworkfx.PreBeginPlay"><a class="headerlink" href="#PSFireworkfx.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;super.PreBeginPlay();<br>&#9;<br>&#9;if(FRand() < 0.2)<br>&#9;Multiskins[1] = Texture'DeusExDeco.Skins.AlarmLightTex3';<br>&#9;else if(FRand() >= 0.2 && FRand() < 0.4)<br>&#9;Multiskins[1] = Texture'DeusExDeco.Skins.AlarmLightTex5';<br>&#9;else if(FRand() >= 0.4 && FRand() < 0.7)<br>&#9;Multiskins[1] = Texture'DeusExDeco.Skins.AlarmLightTex7';<br>&#9;else if(FRand() >= 0.7)<br>&#9;Multiskins[1] = Texture'DeusExDeco.Skins.AlarmLightTex9';<br><br></div>
<br><br><hr>
<a class="headerlink" href="#PSFireworkfx2.uc" title="Permanent link"><h2 id="PSFireworkfx2.uc">PSFireworkfx2.uc (extends DeusExProjectile)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bExplodes=True<br>blastRadius=40.000000<br>AccurateRange=300<br>maxRange=450<br>bIgnoresNanoDefense=True<br>speed=600.000000<br>MaxSpeed=800.000000<br>Damage=50.000000<br>MomentumTransfer=400<br>Style=STY_Translucent<br>Mesh=LodMesh'DeusExItems.GreaselSpit'</div>
<h3 id="PSFireworkfx2.PreBeginPlay"><a class="headerlink" href="#PSFireworkfx2.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;super.PreBeginPlay();<br>&#9;<br>&#9;if(FRand() < 0.2)<br>&#9;Multiskins[1] = Texture'DeusExDeco.Skins.AlarmLightTex3';<br>&#9;else if(FRand() >= 0.2 && FRand() < 0.4)<br>&#9;Multiskins[1] = Texture'DeusExDeco.Skins.AlarmLightTex5';<br>&#9;else if(FRand() >= 0.4 && FRand() < 0.7)<br>&#9;Multiskins[1] = Texture'DeusExDeco.Skins.AlarmLightTex7';<br>&#9;else if(FRand() >= 0.7)<br>&#9;Multiskins[1] = Texture'DeusExDeco.Skins.AlarmLightTex9';<br><br></div>
<br><br><hr>
<a class="headerlink" href="#PSFlagCA.uc" title="Permanent link"><h2 id="PSFlagCA.uc">PSFlagCA.uc (extends DeusExDecoration)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bInvincible=True<br>FragType=Class'DeusEx.WoodFragment'<br>ItemName="Flag Pole"<br>bPushable=False<br>Skin=Texture'PGAssets.Skins.flagpoletex9'<br>Mesh=LodMesh'DeusExDeco.FlagPole'<br>CollisionRadius=17.000000<br>CollisionHeight=56.389999<br>Mass=40.000000<br>Buoyancy=30.000000</div>
<br><br><hr>
<a class="headerlink" href="#PSFlagPole.uc" title="Permanent link"><h2 id="PSFlagPole.uc">PSFlagPole.uc (extends DeusExDecoration)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var() bool bLocked;<br>var() travel ESkinColor SkinColor;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bInvincible=True<br>FragType=Class'DeusEx.WoodFragment'<br>ItemName="Flag Pole"<br>bPushable=False<br>Mesh=LodMesh'DeusExDeco.FlagPole'<br>CollisionRadius=17.000000<br>CollisionHeight=56.389999<br>Mass=40.000000<br>Buoyancy=30.000000</div>
<h3 id="PSFlagPole.BeginPlay"><a class="headerlink" href="#PSFlagPole.BeginPlay" title="Permanent link">BeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.BeginPlay();<br><br>&#9;SetSkin();<br><br></div>
<h3 id="PSFlagPole.Frob"><a class="headerlink" href="#PSFlagPole.Frob" title="Permanent link">Frob</a> (Actor Frobber, Inventory frobWith)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.Frob(Frobber, frobWith);<br>&#9;SetOwner(Frobber);<br>&#9;<br>&#9;if(bLocked)<br>&#9;return;<br>&#9;if(Skincolor == SC_China)<br>&#9;{<br>&#9;&#9;SkinColor = SC_France;<br>&#9;&#9;Skin = Texture'FlagPoleTex2'; return;<br>&#9;}<br>&#9;&#9;if(Skincolor == SC_France)<br>&#9;{<br>&#9;&#9;SkinColor = SC_President;<br>&#9;&#9;Skin = Texture'FlagPoleTex3'; return;<br>&#9;}<br>&#9;if(Skincolor == SC_President)<br>&#9;{<br>&#9;&#9;SkinColor = SC_UNATCO;<br>&#9;&#9;Skin = Texture'FlagPoleTex4'; return;<br>&#9;}<br>&#9;if(Skincolor == SC_UNATCO)<br>&#9;{<br>&#9;&#9;SkinColor = SC_USA;<br>&#9;&#9;Skin = Texture'FlagPoleTex5'; return;<br>&#9;}<br>&#9;if(Skincolor == SC_USA)<br>&#9;{<br>&#9;&#9;SkinColor = SC_Serb;<br>&#9;&#9;Skin = Texture'FlagPoleTex6'; return;<br>&#9;}<br>&#9;if(Skincolor == SC_Serb)<br>&#9;{<br>&#9;&#9;SkinColor = SC_Serbi;<br>&#9;&#9;Skin = Texture'FlagPoleTex7'; return;<br>&#9;}&#9;<br>&#9;if(Skincolor == SC_Serbi)<br>&#9;{<br>&#9;&#9;SkinColor = SC_England;<br>&#9;&#9;Skin = Texture'FlagPoleTex8'; return;<br>&#9;}<br>&#9;if(Skincolor == SC_England)<br>&#9;{<br>&#9;&#9;SkinColor = SC_Canada;<br>&#9;&#9;Skin = Texture'FlagPoleTex9'; return;<br>&#9;}<br>&#9;if(Skincolor == SC_Canada)<br>&#9;{<br>&#9;&#9;SkinColor = SC_China;<br>&#9;&#9;Skin = Texture'FlagPoleTex1'; return;<br>&#9;}<br><br></div>
<h3 id="PSFlagPole.SetSkin"><a class="headerlink" href="#PSFlagPole.SetSkin" title="Permanent link">SetSkin</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;switch (SkinColor)<br>&#9;{<br>&#9;&#9;case SC_China:&#9;&#9;Skin = Texture'FlagPoleTex1'; break;<br>&#9;&#9;case SC_France:&#9;&#9;Skin = Texture'FlagPoleTex2'; break;<br>&#9;&#9;case SC_President:&#9;Skin = Texture'FlagPoleTex3'; break;<br>&#9;&#9;case SC_UNATCO:&#9;&#9;Skin = Texture'FlagPoleTex4'; break;<br>&#9;&#9;case SC_USA:&#9;&#9;Skin = Texture'FlagPoleTex5'; break;<br>&#9;&#9;case SC_Serb:&#9;&#9;Skin = Texture'FlagPoleTex6'; break;<br>&#9;&#9;case SC_Serbi:&#9;&#9;Skin = Texture'FlagPoleTex7'; break;<br>&#9;&#9;case SC_England:&#9;&#9;Skin = Texture'FlagPoleTex8'; break;<br>&#9;&#9;case SC_Canada:&#9;&#9;Skin = Texture'FlagPoleTex9'; break;<br>&#9;}<br><br></div>
<h3 id="PSFlagPole.TravelPostAccept"><a class="headerlink" href="#PSFlagPole.TravelPostAccept" title="Permanent link">TravelPostAccept</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.TravelPostAccept();<br><br>&#9;SetSkin();<br><br></div>
<br><br><hr>
<a class="headerlink" href="#PSFlagUK.uc" title="Permanent link"><h2 id="PSFlagUK.uc">PSFlagUK.uc (extends DeusExDecoration)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bInvincible=True<br>FragType=Class'DeusEx.WoodFragment'<br>ItemName="Flag Pole"<br>bPushable=False<br>Skin=Texture'PGAssets.Skins.flagpoletex8'<br>Mesh=LodMesh'DeusExDeco.FlagPole'<br>CollisionRadius=17.000000<br>CollisionHeight=56.389999<br>Mass=40.000000<br>Buoyancy=30.000000</div>
<br><br><hr>
<a class="headerlink" href="#PSKM.uc" title="Permanent link"><h2 id="PSKM.uc">PSKM.uc (extends MenuUIScreenWindow)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var MenuUIActionButtonWindow SendButton, exitButton;<br>var MenuUIEditWindow editCommand, editPassword;<br>var MenuUIHeaderWindow winText;<br>var localized string exitbuttontext, passwordlabel, sendbuttontext, commandlabel;<br>var DeusExPlayer _windowOwner;<br>var PSKeypad Ac;<br>var PSKR Mastah;<br>var MenuUIMessageBoxWindow AlertWin;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">exitbuttontext="Exit"<br>PasswordLabel="Password"<br>sendbuttontext="Send <Enter>"<br>commandlabel="Command"<br>ClientWidth=300<br>ClientHeight=75<br>textureRows=3<br>textureCols=2<br>bUsesHelpWindow=False</div>
<h3 id="PSKM.ButtonActivated"><a class="headerlink" href="#PSKM.ButtonActivated" title="Permanent link">ButtonActivated</a> (Window buttonPressed) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local bool bHandled;<br>&#9;local string GetCom, GetPass;<br><br>&#9;bHandled = True;<br><br>&#9;Super.ButtonActivated(buttonPressed);<br><br>&#9;switch( buttonPressed )<br>&#9;{<br>&#9;&#9;case SendButton:<br>&#9;&#9;&#9;//GetCom = editCommand.GetText();<br>&#9;&#9;&#9;GetPass = editPassword.GetText();<br>&#9;&#9;&#9;&#9;if(Mastah.ChkPass(_windowOwner, getPass))<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;//_windowOwner.ClientMessage("Sending login"@_windowowner.playerreplicationinfo.playername@getuser@getpass);<br>&#9;&#9;&#9;&#9;&#9;root.PopWindow();<br>&#9;&#9;&#9;&#9;&#9;bHandled = True;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;//&#9;}<br>&#9;&#9;&#9;break;<br>&#9;&#9;&#9;<br>&#9;&#9;case exitButton:<br>&#9;&#9;&#9;root.PopWindow();<br>&#9;&#9;&#9;bHandled = True;<br>&#9;&#9;&#9;break;<br><br>&#9;&#9;default:<br>&#9;&#9;&#9;bHandled = False;<br>&#9;&#9;&#9;break;<br>&#9;<br></div>
<h3 id="PSKM.CreateTextWindow"><a class="headerlink" href="#PSKM.CreateTextWindow" title="Permanent link">CreateTextWindow</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;winText = CreateMenuHeader(21, 13, "", winClient);<br>&#9;winText.SetTextAlignments(HALIGN_Center, VALIGN_Center);<br>&#9;winText.SetFont(Font'FontMenuHeaders_DS');<br>&#9;winText.SetWindowAlignments(HALIGN_Full, VALIGN_Full, 20, 14);<br><br></div>
<h3 id="PSKM.InitWindow"><a class="headerlink" href="#PSKM.InitWindow" title="Permanent link">InitWindow</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Window W;<br><br><br>   Super.InitWindow();<br>   CreateTextWindow();<br>   SendButton = winButtonBar.AddButton(sendButtonText, HALIGN_Right);<br>   exitButton = winButtonBar.AddButton(exitButtonText, HALIGN_Right);<br>  <br>//&#9;CreateMenuLabel(10, 55, CommandLabel, winClient);<br>&#9;CreateMenuLabel(10, 22, PasswordLabel, winClient);<br>&#9;editPassword = CreateMenuEditWindow(105, 20, 143, 20, winClient);<br>&#9;//EditCommand = CreateMenuEditWindow(105, 54, 143, 20, winClient);<br>&#9;//EditCommand.SetMaxSize(70); //cap said to fit the window as best as possible until the word wrap can be figured out..<br>&#9;<br>   winClient.SetBackground(Texture'DeusExUI.MaskTexture');<br>   winClient.SetBackgroundStyle(DSTY_Modulated);<br><br>   W = winClient.NewChild(Class'Window');<br>   W.SetSize(ClientWidth, ClientHeight);<br>   W.SetBackground(Texture'DeusExUI.MaskTexture');<br>   W.SetBackgroundStyle(DSTY_Modulated);<br>   W.Lower();<br>&#9;<br>   SetTitle("Password Entry");<br><br></div>
<h3 id="PSKM.RawKeyPressed"><a class="headerlink" href="#PSKM.RawKeyPressed" title="Permanent link">RawKeyPressed</a> (EInputKey key, EInputState iState, bool bRepeat) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if (key == IK_Enter)// &&//(iState == IST_Release))<br>&#9;{<br>&#9;&#9;&#9;&#9;if(Mastah.ChkPass(_windowOwner, editPassword.GetText()))<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;root.PopWindow();<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;return True;<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;return false;<br>&#9;}<br><br></div>
<h3 id="PSKM.SetMessageText"><a class="headerlink" href="#PSKM.SetMessageText" title="Permanent link">SetMessageText</a> (String msgText)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;winText.SetText(msgText);<br><br>&#9;AskParentForReconfigure();<br><br></div>
<h3 id="PSKM.VirtualKeyPressed"><a class="headerlink" href="#PSKM.VirtualKeyPressed" title="Permanent link">VirtualKeyPressed</a> (EInputKey key, bool bRepeat) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local bool bHandled;<br><br><br>&#9;switch( key )<br>&#9;{<br>&#9;&#9;case IK_Enter:<br>&#9;&#9;&#9;&#9;if(Mastah.ChkPass(_windowOwner, editPassword.GetText()))<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;root.PopWindow();<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;bHandled = True;<br>&#9;&#9;&#9;break;<br>&#9;}<br><br>&#9;return bHandled;<br><br></div>
<br><br><hr>
<a class="headerlink" href="#PSKR.uc" title="Permanent link"><h2 id="PSKR.uc">PSKR.uc (extends PGActors)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var PlayerPawn Flagger;<br>var PSKeypad Ac;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">NetPriority=1.500000</div>
<h3 id="PSKR.ChkPass"><a class="headerlink" href="#PSKR.ChkPass" title="Permanent link">ChkPass</a> (deusexplayer p, string Password) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;return ac.ChkPass(p, Password);<br><br></div>
<h3 id="PSKR.cAlert"><a class="headerlink" href="#PSKR.cAlert" title="Permanent link">cAlert</a> (string title, string msg)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer _Player;<br>&#9;local DeusExRootWindow _root;<br>&#9;local MenuAlert _boxWindow;<br><br>&#9;_Player = DeusExPlayer(Owner);<br>&#9;//log("Called cMenuLogin for"@_Player.playerreplicationinfo.playername );<br>&#9;if(_Player != None)<br>&#9;{<br>&#9;&#9;//_Player.InitRootWindow();<br>&#9;&#9;_root = DeusExRootWindow(_Player.rootWindow);<br>&#9;&#9;if(_root != None)<br>&#9;&#9;{<br>&#9;&#9;&#9;_boxWindow = MenuAlert(_root.InvokeUIScreen(Class'MenuAlert', True));<br>&#9;&#9;&#9;if(_boxWindow != None)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;_boxWindow._windowOwner = _Player;<br>&#9;&#9;&#9;&#9;_boxWindow.crt(title, msg);<br>&#9;&#9;&#9;//&#9;_boxWindow.ClientWidth = len(msg);<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="PSKR.cMenuLogin"><a class="headerlink" href="#PSKR.cMenuLogin" title="Permanent link">cMenuLogin</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer _Player;<br>&#9;local DeusExRootWindow _root;<br>&#9;local PSKM _boxWindow;<br><br>&#9;_Player = DeusExPlayer(Owner);<br>&#9;//log("Called cMenuLogin for"@_Player.playerreplicationinfo.playername );<br>&#9;if(_Player != None)<br>&#9;{<br>&#9;&#9;//_Player.InitRootWindow();<br>&#9;&#9;_root = DeusExRootWindow(_Player.rootWindow);<br>&#9;&#9;if(_root != None)<br>&#9;&#9;{<br>&#9;&#9;&#9;_boxWindow = PSKM(_root.InvokeUIScreen(Class'PSKM', True));<br>&#9;&#9;&#9;if(_boxWindow != None)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;_boxWindow._windowOwner = _Player;<br>&#9;&#9;&#9;&#9;_boxWindow.Ac = Ac;<br>&#9;&#9;&#9;&#9;_boxWindow.Mastah = Self;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="PSKR.timer"><a class="headerlink" href="#PSKR.timer" title="Permanent link">timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;SetOwner(flagger);<br>&#9;&#9;cMenuLogin();<br><br></div>
<br><br><hr>
<a class="headerlink" href="#PSKeypad.uc" title="Permanent link"><h2 id="PSKeypad.uc">PSKeypad.uc (extends DeusExDecoration)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var() string Password;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bInvincible=True<br>ItemName="Password Entry Device"<br>bPushable=False<br>Physics=PHYS_None<br>Mesh=LodMesh'DeusExDeco.TAD'<br>CollisionRadius=7.400000<br>CollisionHeight=2.130000</div>
<h3 id="PSKeypad.ChkPass"><a class="headerlink" href="#PSKeypad.ChkPass" title="Permanent link">ChkPass</a> (deusexplayer p, string inputPassword) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local string mailstring, sendstring, target, msg;<br>&#9;local int mailint,i, b;<br>&#9;local actor a;<br>&#9;local bool bSkipPass;<br>&#9;local PSKR f;<br><br>&#9;&#9;<br>&#9;if(inputPassword != Password)<br>&#9;{<br>&#9;&#9;xAlert(p, "Alert","Access denied.");<br>&#9;&#9;return false;<br>&#9;}<br>&#9;<br>&#9;if (Event != '')<br>&#9;&#9;&#9;foreach AllActors(class 'Actor', A, Event)<br>&#9;&#9;&#9;&#9;A.Trigger(Self, P);<br>&#9;<br>&#9;xAlert(p, "Alert","|P3Access granted.");<br>&#9;<br><br></div>
<h3 id="PSKeypad.Frob"><a class="headerlink" href="#PSKeypad.Frob" title="Permanent link">Frob</a> (actor frobber, inventory frobwith)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer P;<br>&#9;local PSKR newlogin, f;<br>&#9;local bool bFound;<br><br>&#9;<br>&#9;P = DeusExPlayer(frobber);<br>&#9;P.PlaySound(sound'Auth',,,, 256);<br>&#9;<br>&#9;foreach AllActors(class'PSKR', f)<br>&#9;&#9;if(f.Flagger == P)<br>&#9;&#9;{<br>&#9;&#9;&#9;f.Flagger = P;<br>&#9;&#9;&#9;f.ac = self;<br>&#9;&#9;&#9;f.SetTimer(0.5,false);<br>&#9;&#9;&#9;bFound=True;<br>&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;if(!bFound)<br>&#9;{<br>&#9;&#9;newlogin = Spawn(class'PSKR');<br>&#9;&#9;newlogin.Flagger = P;<br>&#9;&#9;newlogin.ac = self;<br>&#9;&#9;newlogin.SetTimer(0.5,false);<br>&#9;}<br><br></div>
<h3 id="PSKeypad.xAlert"><a class="headerlink" href="#PSKeypad.xAlert" title="Permanent link">xAlert</a> (deusexplayer p, string title, string msg)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local PSKR f;<br><br>&#9;foreach AllActors(class'PSKR', f)<br>&#9;&#9;&#9;&#9;if(f.Flagger == p)<br>&#9;&#9;&#9;&#9;&#9;f.cAlert(title, msg);<br><br></div>
<br><br><hr>
<a class="headerlink" href="#PSRespawner.uc" title="Permanent link"><h2 id="PSRespawner.uc">PSRespawner.uc (extends Actor)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var() class<ScriptedPawn> Respawn;<br>var() name respawnOrders, respawnState;<br>var() float respawnDelay;<br>var() bool bForceState, bForceOrders;<br>var() bool bForceCrim, bForceSteal;<br>var() sound sScanning[5], sTargetAcquired[3], sTargetLost[3], sCriticalDamage[3], sAreaSecure[3], sBossArmourDown, sBossArmourBack, sMedkitUsed, sCallingBackup[3], sRespondBackup[3], sHunting[3];<br>var bool bLimitSpawning;<br>var int MinPlayers, PercentageChanceOfSpawn;<br>var bool bRespawning;<br>var scriptedpawn CurrentPawn;<br>var bool bInit;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">respawnDelay=250.000000<br>bHidden=True</div>
<h3 id="PSRespawner.PostBeginPlay"><a class="headerlink" href="#PSRespawner.PostBeginPlay" title="Permanent link">PostBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int f;<br><br>&#9;<br>&#9;CurrentPawn = Spawn(Respawn,,,location);<br>&#9;/*if(bForceState)<br>&#9;&#9;CurrentPawn.SetNextState(respawnState);*/<br>&#9;<br>&#9;if(bForceOrders)<br>&#9;&#9;CurrentPawn.setOrders(respawnOrders,,False);<br>&#9;<br>&#9;if(bForceCrim && DXScriptedPawn(CurrentPawn) != None)<br>&#9;&#9;DXScriptedPawn(CurrentPawn).bEnableCrim=True;<br>&#9;&#9;<br>&#9;if(bForceSteal && DXScriptedPawn(CurrentPawn) != None)<br>&#9;&#9;DXScriptedPawn(CurrentPawn).bSteal=True;<br>&#9;<br>&#9;if(DXScriptedPawn(CurrentPawn) != None)<br>&#9;{<br>&#9;&#9;bLimitSpawning = DXScriptedPawn(CurrentPawn).bLimitSpawning;<br>&#9;&#9;MinPlayers = DXScriptedPawn(CurrentPawn).MinPlayers;<br>&#9;&#9;PercentageChanceOfSpawn = DXScriptedPawn(CurrentPawn).PercentageChanceOfSpawn;<br>&#9;&#9;if(DXScriptedPawn(CurrentPawn).bLimitSpawning)<br>&#9;&#9;{<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Rand(100) > DXScriptedPawn(CurrentPawn).PercentageChanceOfSpawn)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;Log("Respawner will not trigger. (Disabled due to pawns Chance of Appearance) ["$DXScriptedPawn(CurrentPawn)$"]");<br>&#9;&#9;&#9;&#9;Destroy();<br>&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;}<br><br>&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;for(f=0;f<5;f++)<br>&#9;&#9;&#9;DXScriptedPawn(CurrentPawn).sScanning[f] = sScanning[f];<br>&#9;&#9;<br>&#9;&#9;for(f=0;f<3;f++)<br>&#9;&#9;{<br>&#9;&#9;&#9;DXScriptedPawn(CurrentPawn).sTargetAcquired[f] = sTargetAcquired[f];<br>&#9;&#9;&#9;DXScriptedPawn(CurrentPawn).sTargetLost[f] = sTargetLost[f];<br>&#9;&#9;&#9;DXScriptedPawn(CurrentPawn).sCriticalDamage[f] = sCriticalDamage[f];<br>&#9;&#9;&#9;DXScriptedPawn(CurrentPawn).sAreaSecure[f] = sAreaSecure[f];<br>&#9;&#9;&#9;DXScriptedPawn(CurrentPawn).sCallingBackup[f] = sCallingBackup[f];<br>&#9;&#9;&#9;DXScriptedPawn(CurrentPawn).sRespondBackup[f] = sRespondBackup[f];<br>&#9;&#9;&#9;DXScriptedPawn(CurrentPawn).sHunting[f] = sHunting[f];<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;DXScriptedPawn(CurrentPawn).sBossArmourDown = sBossArmourDown;<br>&#9;&#9;DXScriptedPawn(CurrentPawn).sBossArmourBack = sBossArmourBack;<br>&#9;&#9;DXScriptedPawn(CurrentPawn).sMedkitUsed = sMedkitUsed;<br>&#9;}<br>&#9;//CurrentPawn.InitializePawn();<br>&#9;Log(CurrentPawn$" spawned. ("$bForceOrders$respawnOrders$") ("$bForceState$respawnState$")");<br>&#9;bRespawning=False;<br><br></div>
<h3 id="PSRespawner.Tick"><a class="headerlink" href="#PSRespawner.Tick" title="Permanent link">Tick</a> (float deltatime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(!bInit)<br>&#9;{<br>&#9;&#9;if(CurrentPawn == None && !bRespawning)<br>&#9;&#9;{<br>&#9;&#9;&#9;SetTimer(3,False);<br>&#9;&#9;&#9;bRespawning=True;<br>&#9;&#9;}<br>&#9;&#9;if(CurrentPawn != None)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(CurrentPawn.IsInState('Dying') && !bRespawning)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;SetTimer(3,False);<br>&#9;&#9;&#9;&#9;bRespawning=True;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;bInit=True;<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;if(CurrentPawn == None && !bRespawning)<br>&#9;&#9;{<br>&#9;&#9;&#9;SetTimer(respawnDelay,False);<br>&#9;&#9;&#9;bRespawning=True;<br>&#9;&#9;}<br>&#9;&#9;if(CurrentPawn != None)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(CurrentPawn.IsInState('Dying') && !bRespawning)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;SetTimer(respawnDelay,False);<br>&#9;&#9;&#9;&#9;bRespawning=True;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="PSRespawner.Timer"><a class="headerlink" href="#PSRespawner.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int f;<br><br>&#9;<br>&#9;CurrentPawn = Spawn(Respawn,,,location);<br>&#9;/*if(bForceState)<br>&#9;&#9;CurrentPawn.SetNextState(respawnState);*/<br>&#9;&#9;<br>&#9;if(bForceOrders)<br>&#9;&#9;CurrentPawn.setOrders(respawnOrders,,False);<br>&#9;<br>&#9;if(bForceCrim && DXScriptedPawn(CurrentPawn) != None)<br>&#9;&#9;DXScriptedPawn(CurrentPawn).bEnableCrim=True;<br>&#9;&#9;<br>&#9;if(bForceSteal && DXScriptedPawn(CurrentPawn) != None)<br>&#9;&#9;DXScriptedPawn(CurrentPawn).bSteal=True;<br>&#9;<br>&#9;if(DXScriptedPawn(CurrentPawn) != None)<br>&#9;{<br>&#9;&#9;<br>&#9;&#9;&#9;DXScriptedPawn(CurrentPawn).bLimitSpawning = bLimitSpawning;<br>&#9;&#9;&#9;DXScriptedPawn(CurrentPawn).MinPlayers = MinPlayers;<br>&#9;&#9;&#9;DXScriptedPawn(CurrentPawn).PercentageChanceOfSpawn = PercentageChanceOfSpawn;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;for(f=0;f<5;f++)<br>&#9;&#9;&#9;&#9;DXScriptedPawn(CurrentPawn).sScanning[f] = sScanning[f];<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;for(f=0;f<3;f++)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;DXScriptedPawn(CurrentPawn).sTargetAcquired[f] = sTargetAcquired[f];<br>&#9;&#9;&#9;&#9;DXScriptedPawn(CurrentPawn).sTargetLost[f] = sTargetLost[f];<br>&#9;&#9;&#9;&#9;DXScriptedPawn(CurrentPawn).sCriticalDamage[f] = sCriticalDamage[f];<br>&#9;&#9;&#9;&#9;DXScriptedPawn(CurrentPawn).sAreaSecure[f] = sAreaSecure[f];<br>&#9;&#9;&#9;&#9;DXScriptedPawn(CurrentPawn).sCallingBackup[f] = sCallingBackup[f];<br>&#9;&#9;&#9;&#9;DXScriptedPawn(CurrentPawn).sRespondBackup[f] = sRespondBackup[f];<br>&#9;&#9;&#9;&#9;DXScriptedPawn(CurrentPawn).sHunting[f] = sHunting[f];<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;DXScriptedPawn(CurrentPawn).sBossArmourDown = sBossArmourDown;<br>&#9;&#9;&#9;DXScriptedPawn(CurrentPawn).sBossArmourBack = sBossArmourBack;<br>&#9;&#9;&#9;DXScriptedPawn(CurrentPawn).sMedkitUsed = sMedkitUsed;<br>&#9;}<br>&#9;//CurrentPawn.InitializePawn();<br>&#9;Log(CurrentPawn$" spawned. ("$bForceOrders$respawnOrders$") ("$bForceState$respawnState$")");<br>&#9;bRespawning=False;<br><br></div>
<br><br><hr>
<a class="headerlink" href="#PSRespawner2.uc" title="Permanent link"><h2 id="PSRespawner2.uc">PSRespawner2.uc (extends Actor)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var() name RespawnTag;<br>var() float respawnDelay;<br>var rotator OrigRotation;<br>var vector OrigLocation;<br>var bool bRespawning;<br>var scriptedpawn CurrentPawn;<br>var name OrigOrders, OrigState;<br>var class<scriptedpawn> respawn;<br>var bool bOrigCrim, bOrigSteal;<br>var bool bOrigUseChatList;<br>var string OrigSaymsg;<br>var bool bOrigRandomList;<br>var string OrigListMSGs[5];<br>var sound sScanning[5], sTargetAcquired[3], sTargetLost[3], sCriticalDamage[3], sAreaSecure[3], sBossArmourDown, sBossArmourBack, sMedkitUsed, sCallingBackup[3], sRespondBackup[3], sHunting[3];<br>var bool bLimitSpawning;<br>var int MinPlayers, PercentageChanceOfSpawn;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">respawnDelay=250.000000<br>bHidden=True</div>
<h3 id="PSRespawner2.PostBeginPlay"><a class="headerlink" href="#PSRespawner2.PostBeginPlay" title="Permanent link">PostBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local ScriptedPawn SP;<br>&#9;local DXScriptedPawn DSP;<br>&#9;local int i, f;<br><br>&#9;<br>&#9;foreach Allactors(class'ScriptedPawn', SP)<br>&#9;&#9;if(SP.tag == respawntag)<br>&#9;&#9;&#9;CurrentPawn = SP;<br><br>&#9;if(CurrentPawn == None)<br>&#9;{<br>&#9;&#9;Log("ERROR: No pawn found. "$RespawnTag);<br>&#9;&#9;Destroy();<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;respawn = CurrentPawn.class;<br>&#9;&#9;OrigLocation = CurrentPawn.Location;<br>&#9;&#9;OrigRotation = CurrentPawn.Rotation;<br>&#9;&#9;OrigOrders = CurrentPawn.Orders;<br>&#9;&#9;OrigState = CurrentPawn.InitialState;<br>&#9;&#9;if(DXScriptedPawn(CurrentPawn) != None)<br>&#9;&#9;{<br>&#9;&#9;&#9;bLimitSpawning = DXScriptedPawn(CurrentPawn).bLimitSpawning;<br>&#9;&#9;&#9;MinPlayers = DXScriptedPawn(CurrentPawn).MinPlayers;<br>&#9;&#9;&#9;PercentageChanceOfSpawn = DXScriptedPawn(CurrentPawn).PercentageChanceOfSpawn;<br>&#9;&#9;&#9;if(DXScriptedPawn(CurrentPawn).bLimitSpawning)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(Rand(100) > DXScriptedPawn(CurrentPawn).PercentageChanceOfSpawn)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;Log("Respawner2 will not trigger. (Disabled due to pawns Chance of Appearance) ["$DXScriptedPawn(CurrentPawn)$"]");<br>&#9;&#9;&#9;&#9;&#9;CurrentPawn.Destroy();<br>&#9;&#9;&#9;&#9;&#9;Destroy();<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;bOrigUseChatList=DXScriptedPawn(CurrentPawn).bUseChatList;<br>&#9;&#9;&#9;bOrigRandomList=DXScriptedPawn(CurrentPawn).bRandomList;<br>&#9;&#9;&#9;OrigSaymsg=DXScriptedPawn(CurrentPawn).Saymsg;<br>&#9;&#9;&#9;bOrigCrim=DXScriptedPawn(CurrentPawn).bEnableCrim;<br>&#9;&#9;&#9;bOrigSteal=DXScriptedPawn(CurrentPawn).bSteal;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;for(f=0;f<5;f++)<br>&#9;&#9;&#9;&#9;sScanning[f] = DXScriptedPawn(CurrentPawn).sScanning[f];<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;for(f=0;f<3;f++)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;sTargetAcquired[f] = DXScriptedPawn(CurrentPawn).sTargetAcquired[f];<br>&#9;&#9;&#9;&#9;sTargetLost[f] = DXScriptedPawn(CurrentPawn).sTargetLost[f];<br>&#9;&#9;&#9;&#9;sCriticalDamage[f] = DXScriptedPawn(CurrentPawn).sCriticalDamage[f];<br>&#9;&#9;&#9;&#9;sAreaSecure[f] = DXScriptedPawn(CurrentPawn).sAreaSecure[f];<br>&#9;&#9;&#9;&#9;sCallingBackup[f] = DXScriptedPawn(CurrentPawn).sCallingBackup[f];<br>&#9;&#9;&#9;&#9;sRespondBackup[f] = DXScriptedPawn(CurrentPawn).sRespondBackup[f];<br>&#9;&#9;&#9;&#9;sHunting[f] = DXScriptedPawn(CurrentPawn).sHunting[f];<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;sBossArmourDown = DXScriptedPawn(CurrentPawn).sBossArmourDown;<br>&#9;&#9;&#9;sBossArmourBack = DXScriptedPawn(CurrentPawn).sBossArmourBack;<br>&#9;&#9;&#9;sMedkitUsed = DXScriptedPawn(CurrentPawn).sMedkitUsed;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;for (i=0;i<5;i++)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;OrigListMSGs[i] = DXScriptedPawn(CurrentPawn).ListMSGs[i];<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="PSRespawner2.Tick"><a class="headerlink" href="#PSRespawner2.Tick" title="Permanent link">Tick</a> (float deltatime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(CurrentPawn == None && !bRespawning)<br>&#9;{<br>&#9;&#9;SetTimer(respawnDelay,False);<br>&#9;&#9;bRespawning=True;<br>&#9;}<br>&#9;if(CurrentPawn != None)<br>&#9;{<br>&#9;&#9;if(CurrentPawn.IsInState('Dying') && !bRespawning)<br>&#9;&#9;{<br>&#9;&#9;&#9;SetTimer(respawnDelay,False);<br>&#9;&#9;&#9;bRespawning=True;<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="PSRespawner2.Timer"><a class="headerlink" href="#PSRespawner2.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int i, f;<br><br><br>&#9;CurrentPawn = Spawn(Respawn,,,Origlocation, OrigRotation);<br>&#9;if(OrigOrders != 'None')<br>&#9;&#9;CurrentPawn.SetOrders(OrigOrders,,False);<br>&#9;//if(OrigState != 'None')<br>&#9;//&#9;CurrentPawn.SetNextState(Origstate);<br>&#9;&#9;if(DXScriptedPawn(CurrentPawn) != None)<br>&#9;&#9;{<br>&#9;&#9;&#9;DXScriptedPawn(CurrentPawn).bLimitSpawning = bLimitSpawning;<br>&#9;&#9;&#9;DXScriptedPawn(CurrentPawn).MinPlayers = MinPlayers;<br>&#9;&#9;&#9;DXScriptedPawn(CurrentPawn).PercentageChanceOfSpawn = PercentageChanceOfSpawn;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;DXScriptedPawn(CurrentPawn).bEnableCrim    = bOrigCrim;<br>&#9;&#9;&#9;DXScriptedPawn(CurrentPawn).bSteal         = bOrigSteal;<br>&#9;&#9;&#9;DXScriptedPawn(CurrentPawn).bUseChatList   = bOrigUseChatList;<br>&#9;&#9;&#9;DXScriptedPawn(CurrentPawn).bRandomList    = bOrigRandomList;<br>&#9;&#9;&#9;DXScriptedPawn(CurrentPawn).Saymsg         = OrigSaymsg;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;for(f=0;f<5;f++)<br>&#9;&#9;&#9;&#9;DXScriptedPawn(CurrentPawn).sScanning[f] = sScanning[f];<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;for(f=0;f<3;f++)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;DXScriptedPawn(CurrentPawn).sTargetAcquired[f] = sTargetAcquired[f];<br>&#9;&#9;&#9;&#9;DXScriptedPawn(CurrentPawn).sTargetLost[f] = sTargetLost[f];<br>&#9;&#9;&#9;&#9;DXScriptedPawn(CurrentPawn).sCriticalDamage[f] = sCriticalDamage[f];<br>&#9;&#9;&#9;&#9;DXScriptedPawn(CurrentPawn).sAreaSecure[f] = sAreaSecure[f];<br>&#9;&#9;&#9;&#9;DXScriptedPawn(CurrentPawn).sCallingBackup[f] = sCallingBackup[f];<br>&#9;&#9;&#9;&#9;DXScriptedPawn(CurrentPawn).sRespondBackup[f] = sRespondBackup[f];<br>&#9;&#9;&#9;&#9;DXScriptedPawn(CurrentPawn).sHunting[f] = sHunting[f];<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;DXScriptedPawn(CurrentPawn).sBossArmourDown = sBossArmourDown;<br>&#9;&#9;&#9;DXScriptedPawn(CurrentPawn).sBossArmourBack = sBossArmourBack;<br>&#9;&#9;&#9;DXScriptedPawn(CurrentPawn).sMedkitUsed = sMedkitUsed;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;for (i=0;i<5;i++)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;DXScriptedPawn(CurrentPawn).ListMSGs[i]= OrigListMSGs[i];<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;CurrentPawn.InitializePawn();<br>&#9;Log(CurrentPawn$" spawned.");<br>&#9;bRespawning=False;<br><br></div>
<br><br><hr>
<a class="headerlink" href="#PSSing.uc" title="Permanent link"><h2 id="PSSing.uc">PSSing.uc (extends PGActors)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var Actor Fattener;<br>var bool bReturning;</div>
<h3 id="PSSing.Explode"><a class="headerlink" href="#PSSing.Explode" title="Permanent link">Explode</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local SphereEffect sphere;<br>&#9;local ScorchMark s;<br>&#9;local ExplosionLight light;<br>&#9;local int i;<br>&#9;local float explosionDamage;<br>&#9;local float explosionRadius;<br><br><br>&#9;explosionDamage = 600;<br>&#9;explosionRadius = 100;<br><br>&#9;// alert NPCs that I'm exploding<br>&#9;AISendEvent('LoudNoise', EAITYPE_Audio, , explosionRadius*16);<br>&#9;PlaySound(Sound'LargeExplosion1', SLOT_None,,, explosionRadius*16);<br><br>&#9;// draw a pretty explosion<br>&#9;light = Spawn(class'ExplosionLight',,, Location);<br>&#9;if (light != None)<br>&#9;&#9;light.size = 4;<br><br>&#9;Spawn(class'ExplosionSmall',,, Location + 2*VRand()*CollisionRadius);<br>&#9;Spawn(class'ExplosionMedium',,, Location + 2*VRand()*CollisionRadius);<br>&#9;Spawn(class'ExplosionMedium',,, Location + 2*VRand()*CollisionRadius);<br>&#9;Spawn(class'ExplosionLarge',,, Location + 2*VRand()*CollisionRadius);<br><br>&#9;sphere = Spawn(class'SphereEffect',,, Location);<br>&#9;if (sphere != None)<br>&#9;&#9;sphere.size = explosionRadius / 32.0;<br><br>&#9;// spawn a mark<br>&#9;s = spawn(class'ScorchMark', Base,, Location-vect(0,0,1)*CollisionHeight, Rotation+rot(16384,0,0));<br>&#9;if (s != None)<br>&#9;{<br>&#9;&#9;s.DrawScale = FClamp(explosionDamage/30, 0.1, 3.0);<br>&#9;&#9;s.ReattachDecal();<br>&#9;}<br><br>&#9;// spawn some rocks and flesh fragments<br>&#9;for (i=0; i<explosionDamage/6; i++)<br>&#9;{<br>&#9;&#9;if (FRand() < 0.3)<br>&#9;&#9;&#9;spawn(class'Rockchip',,,Location);<br>&#9;}<br><br>&#9;HurtRadius(explosionDamage, explosionRadius, 'Exploded', explosionDamage*100, Location);<br><br></div>
<h3 id="PSSing.GetDisplayString"><a class="headerlink" href="#PSSing.GetDisplayString" title="Permanent link">GetDisplayString</a> (Actor P) -> string</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(P.isA('DeusExPlayer'))<br>&#9;&#9;return DeusExPlayer(p).PlayerReplicationInfo.PlayerName;<br>&#9;else if(P.isA('ScriptedPawn'))<br>&#9;&#9;return ScriptedPawn(P).FamiliarName;<br>&#9;else if(P.isA('DeusExDecoration'))<br>&#9;&#9;return DeusExDecoration(P).ItemName;<br><br></div>
<h3 id="PSSing.Tick"><a class="headerlink" href="#PSSing.Tick" title="Permanent link">Tick</a> (float deltatime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(Fattener == None)<br>&#9;{<br>&#9;&#9;Destroy();<br>&#9;&#9;Log("NO PLAYER ATTACHED, DESTROYING",'Singularity');<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;&#9;SetLocation(Fattener.Location);<br>&#9;&#9;if(!bReturning)<br>&#9;&#9;{<br>&#9;&#9;&#9;Fattener.DrawScale -= 0.1;<br>&#9;&#9;&#9;if(Fattener.Drawscale <= -1)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;bReturning=True;<br>&#9;&#9;&#9;}&#9;&#9;<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;{<br>&#9;&#9;&#9;Fattener.DrawScale += 0.1;<br>&#9;&#9;&#9;if(Fattener.Drawscale >= 0)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;BroadcastMessage(GetDisplayString(Fattener)$" imploded.");<br>&#9;&#9;&#9;DeusExPlayer(Fattener).ReducedDamageType = '';<br>&#9;&#9;&#9;ScriptedPawn(Fattener).bInvincible=False;<br>&#9;&#9;&#9;DeusExDecoration(Fattener).bInvincible=False;<br>&#9;&#9;&#9;DeusExDecoration(Fattener).HitPoints = 1;<br>&#9;&#9;&#9;&#9;Fattener.TakeDamage(200,None,vect(0,0,0),vect(0,0,1),'Exploded');<br>&#9;&#9;&#9;&#9;Explode();<br><br>&#9;&#9;&#9;&#9;Fattener.DrawScale=Fattener.Default.DrawScale;<br>&#9;&#9;&#9;&#9;Destroy();<br>&#9;&#9;&#9;}&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;}<br><br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#PSTeleSwitch.uc" title="Permanent link"><h2 id="PSTeleSwitch.uc">PSTeleSwitch.uc (extends Switch2)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var() name TeleporterTag;<br>var() string DisableString;<br>var() bool bAdmins;<br>var() bool bUseFX;<br>var() enum eChk</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">ItemName="Teleporter"</div>
<h3 id="PSTeleSwitch.DoTP"><a class="headerlink" href="#PSTeleSwitch.DoTP" title="Permanent link">DoTP</a> (DeusExPlayer DXP)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Teleporter TP;<br>&#9;local inventory inv;<br>&#9;local bool bFound;<br>&#9;local PSAfterEffect PSAE;<br><br>&#9;<br>&#9;if(!bUseFX)<br>&#9;{<br>&#9;&#9;foreach AllActors(class'Teleporter', TP)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(TP.Tag == TeleporterTag)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;PSAE = Spawn(class'PSAfterEffect');<br>&#9;&#9;&#9;&#9;PSAE.AttachToPlayer(dxp);<br>&#9;&#9;&#9;&#9;DXP.SetCollision(false, false, false);<br>&#9;&#9;&#9;&#9;DXP.bCollideWorld = true;<br>&#9;&#9;&#9;&#9;DXP.GotoState('PlayerWalking');<br>&#9;&#9;&#9;&#9;DXP.SetLocation(TP.Location);<br>&#9;&#9;&#9;&#9;DXP.SetCollision(true, true , true);<br>&#9;&#9;&#9;&#9;DXP.SetPhysics(PHYS_Walking);<br>&#9;&#9;&#9;&#9;DXP.bCollideWorld = true;<br>&#9;&#9;&#9;&#9;DXP.GotoState('PlayerWalking');<br>&#9;&#9;&#9;&#9;DXP.ClientReStart();&#9;<br>&#9;&#9;&#9;&#9;//TeleportFX(DXP, TP.Location);<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;foreach AllActors(class'Teleporter', TP)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(TP.Tag == TeleporterTag)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;TeleportFX(DXP, TP.Location);<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;}<br><br></div>
<h3 id="PSTeleSwitch.Frob"><a class="headerlink" href="#PSTeleSwitch.Frob" title="Permanent link">Frob</a> (Actor Frobber, Inventory frobWith)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local deusexplayer dxp;<br>&#9;local inventory inv;<br>&#9;local bool bFound;<br><br>&#9;<br>&#9;dxp = DeusExPlayer(Frobber);<br>&#9;<br>&#9;if(DisableString != "")<br>&#9;{<br>&#9;&#9;dxp.ClientMessage(disableString);<br>&#9;&#9;return;<br>&#9;}<br>&#9;<br>&#9;if(bAdmins && dxp.bAdmin)<br>&#9;{<br>&#9;&#9;PlaySound(sound'LogNoteAdded');<br>&#9;&#9;dxp.ClientMessage("|P3Admin confirmed!");<br>&#9;&#9;bFound=True;<br>&#9;&#9;DoTP(DXP);<br>&#9;}<br>&#9;if(!bFound && CheckClass == CH_Admin)<br>&#9;{<br>&#9;&#9;foreach AllActors(class'Inventory', Inv)<br>&#9;&#9;{<br>&#9;&#9;&#9;if (Inv.Owner == dxp)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if (Inv.IsA('AdminCard')) <br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;  PlaySound(sound'LogNoteAdded');<br>&#9;&#9;&#9;&#9;&#9;  dxp.ClientMessage("|P3Admin confirmed!");<br>&#9;&#9;&#9;&#9;&#9;  bFound=True;<br>&#9;&#9;&#9;&#9;&#9;  DoTP(DXP);<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;if(!bFound && CheckClass == CH_Staff)<br>&#9;{<br>&#9;&#9;foreach AllActors(class'Inventory', Inv)<br>&#9;&#9;{<br>&#9;&#9;&#9;if (Inv.Owner == dxp)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if (Inv.IsA('AdminCard')) <br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;  PlaySound(sound'LogNoteAdded');<br>&#9;&#9;&#9;&#9;&#9;  dxp.ClientMessage("|P3Admin confirmed!");<br>&#9;&#9;&#9;&#9;&#9;  bFound=True;<br>&#9;&#9;&#9;&#9;&#9;  DoTP(DXP);<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;if (Inv.IsA('StaffCard')) <br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;  PlaySound(sound'LogNoteAdded');<br>&#9;&#9;&#9;&#9;&#9;  dxp.ClientMessage("|P3Staff confirmed!");<br>&#9;&#9;&#9;&#9;&#9;  bFound=True;<br>&#9;&#9;&#9;&#9;&#9;  DoTP(DXP);<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br>&#9;if(!bFound && CheckClass == CH_VIP)<br>&#9;{<br>&#9;&#9;foreach AllActors(class'Inventory', Inv)<br>&#9;&#9;{<br>&#9;&#9;&#9;if (Inv.Owner == dxp)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if (Inv.IsA('AdminCard')) <br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;  PlaySound(sound'LogNoteAdded');<br>&#9;&#9;&#9;&#9;&#9;  dxp.ClientMessage("|P3Admin confirmed!");<br>&#9;&#9;&#9;&#9;&#9;  bFound=True;<br>&#9;&#9;&#9;&#9;&#9;  DoTP(DXP);<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;if (Inv.IsA('StaffCard')) <br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;  PlaySound(sound'LogNoteAdded');<br>&#9;&#9;&#9;&#9;&#9;  dxp.ClientMessage("|P3Staff confirmed!");<br>&#9;&#9;&#9;&#9;&#9;  bFound=True;<br>&#9;&#9;&#9;&#9;&#9;  DoTP(DXP);<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;if (Inv.IsA('VIPCard')) <br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;  PlaySound(sound'LogNoteAdded');<br>&#9;&#9;&#9;&#9;&#9;  dxp.ClientMessage("|P3VIP confirmed!");<br>&#9;&#9;&#9;&#9;&#9;  bFound=True;<br>&#9;&#9;&#9;&#9;&#9;  DoTP(DXP);<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;if(!bFound && CheckClass != CH_None)<br>&#9;{<br>&#9;&#9;DXP.ClientMessage("Access denied.");<br>&#9;}<br>&#9;<br>&#9;if(CheckClass == CH_None)<br>&#9;{<br>&#9;&#9;DoTP(DXP);<br>&#9;}<br><br></div>
<h3 id="PSTeleSwitch.TeleportFX"><a class="headerlink" href="#PSTeleSwitch.TeleportFX" title="Permanent link">TeleportFX</a> (DeusExPlayer TPGuy, vector Loc)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local psTeleRing1 TR, TROther;<br><br>&#9;<br>&#9;TPGuy.bMovable=False;<br>&#9;TR = Spawn(class'psTeleRing1',,,TPGuy.Location);<br>&#9;TR.Target = TPGuy;<br>&#9;TR.TPLoc = Loc;<br>&#9;<br>&#9;TROther = Spawn(class'psTeleRing1',,,Loc);<br>&#9;TROther.OriginLoc = Loc;<br><br></div>
<br><br><hr>
<a class="headerlink" href="#PSTrashbag.uc" title="Permanent link"><h2 id="PSTrashbag.uc">PSTrashbag.uc (extends Containers)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bGenerateTrash=True<br>HitPoints=10<br>bInvincible=True<br>FragType=Class'DeusEx.PaperFragment'<br>bGenerateFlies=True<br>ItemName="Trashbag that can eat anything"<br>Mesh=LodMesh'DeusExDeco.Trashbag'<br>CollisionRadius=26.360001<br>CollisionHeight=26.760000<br>Mass=30.000000<br>Buoyancy=40.000000</div>
<h3 id="PSTrashbag.Bump"><a class="headerlink" href="#PSTrashbag.Bump" title="Permanent link">Bump</a> (actor Other)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(Inventory(Other) != None)<br>&#9;&#9;Other.Destroy();<br>&#9;if(DeusExDecoration(Other) != None)<br>&#9;&#9;Other.Destroy();<br><br></div>
<br><br><hr>
<a class="headerlink" href="#PSTurret.uc" title="Permanent link"><h2 id="PSTurret.uc">PSTurret.uc (extends DeusExDecoration)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var bool bDisb;<br>var() int TurretHealth;<br>var() string PTurretTeam;<br>var() bool bIgnoreAdmins;<br>var() bool bIgnoreScriptedPawns;<br>var() bool bIgnorePlayers;<br>var AutoTurretGun gun;<br>var() localized String titleString;		// So we can name specific turrets in multiplayer<br>var() bool bTrackPawnsOnly;<br>var() bool bTrackPlayersOnly;<br>var() bool bActive;<br>var() int maxRange;<br>var() float fireRate;<br>var() float gunAccuracy;<br>var() int gunDamage;<br>var() int ammoAmount;<br>var Actor curTarget;<br>var Actor prevTarget;         // target we had last tick.<br>var Pawn safeTarget;          // in multiplayer, this actor is strictly off-limits<br>var float fireTimer;<br>var bool bConfused;				// used when hit by EMP<br>var float confusionTimer;		// how long until turret resumes normal operation<br>var float confusionDuration;	// how long does an EMP hit last?<br>var Actor LastTarget;			// what was our last target?<br>var float pitchLimit;			// what's the maximum pitch?<br>var Rotator origRot;			// original rotation<br>var bool bPreAlarmActiveState;	// was I previously awake or not?<br>var bool bDisabled;				// have I been hacked or shut down by computers?<br>var float TargetRefreshTime;      // used for multiplayer to reduce rate of checking for targets.<br>var() float Thick;<br>var() float PawnThick;<br>var() int team;						// Keep track of team the turrets on<br>var int mpTurretDamage;			// Settings for multiplayer<br>var int mpTurretRange;<br>var bool bComputerReset;			// Keep track of if computer has been reset so we avoid all actors checks<br>var bool bSwitching;<br>var float SwitchTime, beepTime;<br>var Pawn savedTarget;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">TurretHealth=100<br>PTurretTeam="DEFAULT"<br>bIgnoreAdmins=True<br>titleString="AutoTurret"<br>bTrackPlayersOnly=True<br>bActive=True<br>maxRange=512<br>fireRate=0.250000<br>gunAccuracy=0.500000<br>gunDamage=5<br>AmmoAmount=1000<br>confusionDuration=120.000000<br>pitchLimit=11000.000000<br>Team=500<br>mpTurretDamage=20<br>mpTurretRange=1024<br>HitPoints=100<br>minDamageThreshold=100<br>bHighlight=False<br>ItemName="Turret Base"<br>bPushable=False<br>Mesh=LodMesh'DeusExDeco.AutoTurretBase'<br>SoundRadius=48<br>SoundVolume=192<br>AmbientSound=Sound'DeusExSounds.Generic.AutoTurretHum'<br>CollisionRadius=14.000000<br>CollisionHeight=20.200001<br>Mass=50.000000<br>Buoyancy=10.000000<br>bVisionImportant=True</div>
<h3 id="PSTurret.AcquireMultiplayerTarget"><a class="headerlink" href="#PSTurret.AcquireMultiplayerTarget" title="Permanent link">AcquireMultiplayerTarget</a> -> Actor</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Pawn apawn;<br>&#9;local DeusExPlayer aplayer;<br>&#9;local Vector dist;<br>&#9;local Actor noActor;<br><br><br>&#9;if ( bSwitching )<br>&#9;{<br>&#9;&#9;noActor = None;<br>&#9;&#9;return noActor;<br>&#9;}<br><br>&#9;apawn = gun.Level.PawnList;<br><br>&#9;while ( apawn != None )<br>&#9;{<br>&#9;&#9;//if (apawn.bDetectable && !apawn.bIgnore && apawn.IsA('DeusExPlayer'))<br>&#9;&#9;if (apawn.bDetectable && !apawn.bIgnore)<br>&#9;&#9;{<br>&#9;&#9;&#9;aplayer = DeusExPlayer(apawn);<br><br>&#9;&#9;&#9;dist = apawn.Location - gun.Location; //apawn was aplayer<br><br>&#9;&#9;&#9;if ( VSize(dist) < maxRange )<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;// Only players we can see<br>&#9;&#9;&#9;&#9;if ( apawn.FastTrace( apawn.Location, gun.Location ))//apawn was aplayer<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(!PSOwners(apawn))<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;if(curTarget == None)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(scriptedpawn(apawn) != None)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;scriptedpawn(apawn).bInvincible=False;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(deusexplayer(apawn) != None)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;deusexplayer(apawn).ReducedDamageType = '';<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;curTarget = apawn;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;break;<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;apawn = apawn.nextPawn;<br>&#9;}<br>&#9;return curtarget;<br><br></div>
<h3 id="PSTurret.Destroyed"><a class="headerlink" href="#PSTurret.Destroyed" title="Permanent link">Destroyed</a></h3>

<h3 id="PSTurret.Fire"><a class="headerlink" href="#PSTurret.Fire" title="Permanent link">Fire</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Vector HitLocation, HitNormal, StartTrace, EndTrace, X, Y, Z;<br>&#9;local Rotator rot;<br>&#9;local Actor hit;<br>&#9;local ShellCasing shell;<br>&#9;local Spark spark;<br>&#9;local Pawn attacker;<br><br><br>&#9;if (!gun.IsAnimating())<br>&#9;&#9;gun.LoopAnim('Fire');<br><br>&#9;// CNN - give turrets infinite ammo<br>//&#9;if (ammoAmount > 0)<br>//&#9;{<br>//&#9;&#9;ammoAmount--;<br>&#9;&#9;GetAxes(gun.Rotation, X, Y, Z);<br>&#9;&#9;StartTrace = gun.Location;<br>&#9;&#9;EndTrace = StartTrace + gunAccuracy * (FRand()-0.5)*Y*1000 + gunAccuracy * (FRand()-0.5)*Z*1000 ;<br>&#9;&#9;EndTrace += 10000 * X;<br>&#9;&#9;hit = Trace(HitLocation, HitNormal, EndTrace, StartTrace, True);<br><br>&#9;&#9;// spawn some effects<br>      if ((DeusExMPGame(Level.Game) != None) && (!DeusExMPGame(Level.Game).bSpawnEffects))<br>      {<br>         shell = None;<br>      }<br>      else<br>      {<br>         shell = Spawn(class'ShellCasing',,, gun.Location);<br>      }<br>&#9;&#9;if (shell != None)<br>&#9;&#9;&#9;shell.Velocity = Vector(gun.Rotation - rot(0,16384,0)) * 100 + VRand() * 30;<br><br>&#9;&#9;MakeNoise(1.0);<br>&#9;&#9;PlaySound(sound'PistolFire', SLOT_None);<br>&#9;&#9;AISendEvent('LoudNoise', EAITYPE_Audio);<br><br>&#9;&#9;// muzzle flash<br>&#9;&#9;gun.LightType = LT_Steady;<br>&#9;&#9;gun.MultiSkins[2] = Texture'FlatFXTex34';<br>&#9;&#9;SetTimer(0.1, False);<br><br>&#9;&#9;// randomly draw a tracer<br>&#9;&#9;if (FRand() < 0.5)<br>&#9;&#9;{<br>&#9;&#9;&#9;if (VSize(HitLocation - StartTrace) > 250)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;rot = Rotator(EndTrace - StartTrace);<br>&#9;&#9;&#9;&#9;Spawn(class'Tracer',,, StartTrace + 96 * Vector(rot), rot);<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br><br>&#9;&#9;if (hit != None)<br>&#9;&#9;{<br>         if ((DeusExMPGame(Level.Game) != None) && (!DeusExMPGame(Level.Game).bSpawnEffects))<br>         {<br>            spark = None;<br>         }<br>         else<br>         {<br>            // spawn a little spark and make a ricochet sound if we hit something<br>            spark = spawn(class'Spark',,,HitLocation+HitNormal, Rotator(HitNormal));<br>         }<br><br>&#9;&#9;&#9;if (spark != None)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;spark.DrawScale = 0.05;<br>&#9;&#9;&#9;&#9;PlayHitSound(spark, hit);<br>&#9;&#9;&#9;}<br><br>&#9;&#9;&#9;attacker = None;<br>&#9;&#9;&#9;if ((curTarget == hit) && !curTarget.IsA('PlayerPawn'))<br>&#9;&#9;&#9;&#9;attacker = GetPlayerPawn();<br>         if (Level.NetMode != NM_Standalone)<br>            attacker = safetarget;<br>&#9;&#9;&#9;if ( hit.IsA('DeusExPlayer') && ( Level.NetMode != NM_Standalone ))<br>&#9;&#9;&#9;&#9;DeusExPlayer(hit).myTurretKiller = Self;<br>&#9;&#9;&#9;hit.TakeDamage(gunDamage, attacker, HitLocation, 1000.0*X, 'AutoShot');<br><br>&#9;&#9;&#9;if (hit.IsA('Pawn') && !hit.IsA('Robot'))<br>&#9;&#9;&#9;&#9;SpawnBlood(HitLocation, HitNormal);<br>&#9;&#9;&#9;else if ((hit == Level) || hit.IsA('Mover'))<br>&#9;&#9;&#9;&#9;SpawnEffects(HitLocation, HitNormal, hit);<br>&#9;&#9;}<br>//&#9;<br></div>
<h3 id="PSTurret.GetWallMaterial"><a class="headerlink" href="#PSTurret.GetWallMaterial" title="Permanent link">GetWallMaterial</a> (vector HitLocation, vector HitNormal) -> name</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local vector EndTrace, StartTrace;<br>&#9;local actor newtarget;<br>&#9;local int texFlags;<br>&#9;local name texName, texGroup;<br><br><br>&#9;StartTrace = HitLocation + HitNormal*16;&#9;&#9;// make sure we start far enough out<br>&#9;EndTrace = HitLocation - HitNormal;<br><br>&#9;foreach TraceTexture(class'Actor', newtarget, texName, texGroup, texFlags, StartTrace, HitNormal, EndTrace)<br>&#9;&#9;if ((newtarget == Level) || newtarget.IsA('Mover'))<br>&#9;&#9;&#9;break;<br><br>&#9;return texGroup;<br><br></div>
<h3 id="PSTurret.PSOwners"><a class="headerlink" href="#PSTurret.PSOwners" title="Permanent link">PSOwners</a> (Pawn P) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local PSTurretController PSTC;<br><br><br>&#9;if(DeusExPlayer(P) != None)<br>&#9;{<br>&#9;&#9;if(DeusExPlayer(P).bAdmin && bIgnoreAdmins)<br>&#9;&#9;&#9;return True;<br>&#9;&#9;<br>&#9;&#9;if(bIgnorePlayers)<br>&#9;&#9;&#9;return True;<br>&#9;}<br>&#9;&#9;<br>&#9;if(ScriptedPawn(P) != None)<br>&#9;{<br>&#9;&#9;if(bIgnoreScriptedPawns)<br>&#9;&#9;&#9;return true;<br>&#9;&#9;<br>&#9;&#9;if(ScriptedPawn(P).IsA('Pets') || ScriptedPawn(P).IsA('RadarDrone'))<br>&#9;&#9;&#9;return true;<br>&#9;}<br>&#9;&#9;&#9;<br>&#9;foreach AllActors(class'PSTurretController', PSTC)<br>&#9;{<br>&#9;&#9;if(PSTC.PTurretTeam ~= PTurretTeam)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(PSTC.myOwner == P)<br>&#9;&#9;&#9;&#9;return True;<br>&#9;&#9;}<br>&#9;}<br>&#9;return False;<br><br></div>
<h3 id="PSTurret.PlayHitSound"><a class="headerlink" href="#PSTurret.PlayHitSound" title="Permanent link">PlayHitSound</a> (actor destActor, Actor hitActor)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local float rnd;<br>&#9;local sound snd;<br><br><br>&#9;rnd = FRand();<br><br>&#9;if (rnd < 0.25)<br>&#9;&#9;snd = sound'Ricochet1';<br>&#9;else if (rnd < 0.5)<br>&#9;&#9;snd = sound'Ricochet2';<br>&#9;else if (rnd < 0.75)<br>&#9;&#9;snd = sound'Ricochet3';<br>&#9;else<br>&#9;&#9;snd = sound'Ricochet4';<br><br>&#9;// play a different ricochet sound if the object isn't damaged by normal bullets<br>&#9;if (hitActor != None) <br>&#9;{<br>&#9;&#9;if (hitActor.IsA('DeusExDecoration') && (DeusExDecoration(hitActor).minDamageThreshold > 10))<br>&#9;&#9;&#9;snd = sound'ArmorRicochet';<br>&#9;&#9;else if (hitActor.IsA('Robot'))<br>&#9;&#9;&#9;snd = sound'ArmorRicochet';<br>&#9;}<br><br>&#9;if (destActor != None)<br>&#9;&#9;destActor.PlaySound(snd, SLOT_None,,, 1024, 1.1 - 0.2*FRand());<br><br></div>
<h3 id="PSTurret.PostBeginPlay"><a class="headerlink" href="#PSTurret.PostBeginPlay" title="Permanent link">PostBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   safeTarget = None;<br>   prevTarget = None;<br>   TargetRefreshTime = 0;<br>   Super.PostBeginPlay();<br><br></div>
<h3 id="PSTurret.PreBeginPlay"><a class="headerlink" href="#PSTurret.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Vector v1, v2;<br>&#9;local class<AutoTurretGun> gunClass;<br>&#9;local Rotator rot;<br><br><br>&#9;Super.PreBeginPlay();<br><br>&#9;if (IsA('AutoTurretSmall'))<br>&#9;&#9;gunClass = class'AutoTurretGunSmall';<br>&#9;else<br>&#9;&#9;gunClass = class'AutoTurretGun';<br><br>&#9;rot = Rotation;<br>&#9;rot.Pitch = 0;<br>&#9;rot.Roll = 0;<br>&#9;origRot = rot;<br>&#9;gun = Spawn(gunClass, Self,, Location, rot);<br>&#9;if (gun != None)<br>&#9;{<br>&#9;&#9;v1.X = 0;<br>&#9;&#9;v1.Y = 0;<br>&#9;&#9;v1.Z = CollisionHeight + gun.Default.CollisionHeight;<br>&#9;&#9;v2 = v1 >> Rotation;<br>&#9;&#9;v2 += Location;<br>&#9;&#9;gun.bHackable=False;<br>&#9;&#9;gun.SetLocation(v2);<br>&#9;&#9;gun.SetBase(Self);<br>&#9;}<br><br>&#9;// set up the alarm listeners<br>&#9;//AISetEventCallback('Alarm', 'AlarmHeard');<br><br>&#9;maxRange = mpTurretRange;<br>&#9;gunDamage = mpTurretDamage;<br>&#9;bDisabled = !bActive;<br><br></div>
<h3 id="PSTurret.SpawnBlood"><a class="headerlink" href="#PSTurret.SpawnBlood" title="Permanent link">SpawnBlood</a> (Vector HitLocation, Vector HitNormal)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local rotator rot;<br><br><br>&#9;rot = Rotator(Location - HitLocation);<br>&#9;rot.Pitch = 0;<br>&#9;rot.Roll = 0;<br><br>   if ((DeusExMPGame(Level.Game) != None) && (!DeusExMPGame(Level.Game).bSpawnEffects))<br>      return;<br><br>&#9;spawn(class'BloodSpurt',,,HitLocation+HitNormal, rot);<br>&#9;spawn(class'BloodDrop',,,HitLocation+HitNormal);<br>&#9;if (FRand() < 0.5)<br>&#9;&#9;spawn(class'BloodDrop',,,HitLocation+HitNormal);<br><br></div>
<h3 id="PSTurret.SpawnEffects"><a class="headerlink" href="#PSTurret.SpawnEffects" title="Permanent link">SpawnEffects</a> (Vector HitLocation, Vector HitNormal, Actor Other)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local SmokeTrail puff;<br>&#9;local int i;<br>&#9;local BulletHole hole;<br>&#9;local Rotator rot;<br><br><br>   if ((DeusExMPGame(Level.Game) != None) && (!DeusExMPGame(Level.Game).bSpawnEffects))<br>      return;<br><br>   if (FRand() < 0.5)<br>&#9;{<br>&#9;&#9;puff = spawn(class'SmokeTrail',,,HitLocation+HitNormal, Rotator(HitNormal));<br>&#9;&#9;if (puff != None)<br>&#9;&#9;{<br>&#9;&#9;&#9;puff.DrawScale *= 0.3;<br>&#9;&#9;&#9;puff.OrigScale = puff.DrawScale;<br>&#9;&#9;&#9;puff.LifeSpan = 0.25;<br>&#9;&#9;&#9;puff.OrigLifeSpan = puff.LifeSpan;<br>&#9;&#9;}<br>&#9;}<br><br>&#9;if (!Other.IsA('BreakableGlass'))<br>&#9;&#9;for (i=0; i<2; i++)<br>&#9;&#9;&#9;if (FRand() < 0.8)<br>&#9;&#9;&#9;&#9;spawn(class'Rockchip',,,HitLocation+HitNormal);<br><br>&#9;hole = spawn(class'BulletHole', Other,, HitLocation, Rotator(HitNormal));<br><br>&#9;// should we crack glass?<br>&#9;if (GetWallMaterial(HitLocation, HitNormal) == 'Glass')<br>&#9;{<br>&#9;&#9;if (FRand() < 0.5)<br>&#9;&#9;&#9;hole.Texture = Texture'FlatFXTex29';<br>&#9;&#9;else<br>&#9;&#9;&#9;hole.Texture = Texture'FlatFXTex30';<br><br>&#9;&#9;hole.DrawScale = 0.1;<br>&#9;&#9;hole.ReattachDecal();<br>&#9;}<br><br></div>
<h3 id="PSTurret.TakeDamage"><a class="headerlink" href="#PSTurret.TakeDamage" title="Permanent link">TakeDamage</a> (int Damage, Pawn EventInstigator, vector HitLocation, vector Momentum, name DamageType)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Human dxp;<br>&#9;local float mindmg;<br><br><br>&#9;&#9;if (DamageType == 'EMP')<br>&#9;&#9;{<br>&#9;&#9;&#9;return; //Nulled function, IMMUNE TO EMP.<br>&#9;&#9;}<br><br>&#9;&#9;TurretHealth -= Damage; //Edited this in to avoid some things.<br><br>&#9;&#9;if(bDisb == False)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(TurretHealth <= 0)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;<br></div>
<h3 id="PSTurret.Tick"><a class="headerlink" href="#PSTurret.Tick" title="Permanent link">Tick</a> (float deltaTime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Pawn pawn;<br>&#9;local ScriptedPawn sp;<br>&#9;local DeusExDecoration deco;<br>&#9;local float near;<br>&#9;local Rotator destRot;<br>&#9;local bool bSwitched;<br><br><br>&#9;Super.Tick(deltaTime);<br><br>&#9;bSwitched = False;<br><br>&#9;if ( bSwitching )<br>&#9;{<br>&#9;&#9;UpdateSwitch();<br>&#9;&#9;return;<br>&#9;}<br><br>&#9;if (bActive && !bDisabled)<br>&#9;{<br>&#9;&#9;curTarget = None;<br><br>&#9;&#9;if ( !bConfused )<br>&#9;&#9;{<br>&#9;&#9;&#9;if (TargetRefreshTime < 0)<br>&#9;&#9;&#9;TargetRefreshTime = 0;<br>         <br>&#9;&#9;&#9;TargetRefreshTime = TargetRefreshTime + deltaTime;<br><br>&#9;&#9;&#9;if (TargetRefreshTime >= 0.3)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;TargetRefreshTime = 0;<br>&#9;&#9;&#9;&#9;curTarget = AcquireMultiplayerTarget();<br><br>//&#9;&#9;&#9;&#9;if ( curTarget == None )<br>//&#9;&#9;&#9;&#9;PlaySound(Sound'TurretUnlocked', SLOT_Interact, 1.0,, maxRange );<br>//&#9;&#9;&#9;&#9;prevtarget = curtarget;&#9;&#9;<br>&#9;&#9;&#9;}<br><br>&#9;&#9;&#9;&#9;&#9;foreach gun.VisibleActors(class'Pawn', pawn, maxRange, gun.Location)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;if (pawn.bDetectable && !pawn.bIgnore)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(curTarget == None)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(!PSOwners(Pawn))<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;curTarget = Pawn;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;break;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br><br>&#9;&#9;&#9;// if we have a target, rotate to face it<br>&#9;&#9;&#9;if (curTarget != None)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;destRot = Rotator(curTarget.Location - gun.Location);<br>&#9;&#9;&#9;&#9;gun.DesiredRotation = destRot;<br>&#9;&#9;&#9;&#9;near = pitchLimit / 2;<br>&#9;&#9;&#9;&#9;gun.DesiredRotation.Pitch = FClamp(gun.DesiredRotation.Pitch, origRot.Pitch - near, origRot.Pitch + near);<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;gun.DesiredRotation = origRot;<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;if ( !bConfused )<br>&#9;&#9;&#9;gun.DesiredRotation = origRot;<br>&#9;}<br><br>&#9;near = (Abs(gun.Rotation.Pitch - gun.DesiredRotation.Pitch)) % 65536;<br>&#9;near += (Abs(gun.Rotation.Yaw - gun.DesiredRotation.Yaw)) % 65536;<br><br>&#9;if (bActive && !bDisabled)<br>&#9;{<br>&#9;&#9;// play an alert sound and light up<br>&#9;&#9;if ((curTarget != None) && (curTarget != LastTarget))<br>&#9;&#9;&#9;PlaySound(Sound'Beep6',,,, 1280);<br><br>&#9;&#9;// if we're aiming close enough to our target<br>&#9;&#9;if (curTarget != None)<br>&#9;&#9;{<br>&#9;&#9;&#9;gun.MultiSkins[1] = Texture'RedLightTex';<br>&#9;&#9;&#9;if ((near < 4096) && (((Abs(gun.Rotation.Pitch - destRot.Pitch)) % 65536) < 8192))<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if (fireTimer > fireRate)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;Fire();<br>&#9;&#9;&#9;&#9;&#9;fireTimer = 0;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;{<br>&#9;&#9;&#9;if (gun.IsAnimating())<br>&#9;&#9;&#9;&#9;gun.PlayAnim('Still', 10.0, 0.001);<br><br>&#9;&#9;&#9;if (bConfused)<br>&#9;&#9;&#9;&#9;gun.MultiSkins[1] = Texture'YellowLightTex';<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;gun.MultiSkins[1] = Texture'GreenLightTex';<br>&#9;&#9;}<br><br>&#9;&#9;fireTimer += deltaTime;<br>&#9;&#9;LastTarget = curTarget;<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;if (gun.IsAnimating())<br>&#9;&#9;&#9;gun.PlayAnim('Still', 10.0, 0.001);<br>&#9;&#9;gun.MultiSkins[1] = None;<br>&#9;}<br><br>&#9;// make noise if we're still moving<br>&#9;if (near > 64)<br>&#9;{<br>&#9;&#9;gun.AmbientSound = Sound'AutoTurretMove';<br>&#9;&#9;if (bConfused)<br>&#9;&#9;&#9;gun.SoundPitch = 128;<br>&#9;&#9;else<br>&#9;&#9;&#9;gun.SoundPitch = 64;<br>&#9;}<br>&#9;else<br>&#9;&#9;gun.AmbientSound = None;<br><br></div>
<h3 id="PSTurret.Timer"><a class="headerlink" href="#PSTurret.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;gun.LightType = LT_None;<br>&#9;gun.MultiSkins[2] = None;<br><br></div>
<h3 id="PSTurret.UpdateSwitch"><a class="headerlink" href="#PSTurret.UpdateSwitch" title="Permanent link">UpdateSwitch</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if ( Level.Timeseconds > SwitchTime )<br>&#9;{<br>&#9;&#9;bSwitching = False;<br>&#9;&#9;//safeTarget = savedTarget;<br>&#9;&#9;SwitchTime = 0;<br>&#9;&#9;beepTime = 0;<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;if ( Level.Timeseconds > beepTime )<br>&#9;&#9;{<br>&#9;&#9;&#9;PlaySound(Sound'TurretSwitch', SLOT_Interact, 1.0,, maxRange );<br>&#9;&#9;&#9;beepTime = Level.Timeseconds + 0.75;<br>&#9;&#9;}<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#PSTurretController.uc" title="Permanent link"><h2 id="PSTurretController.uc">PSTurretController.uc (extends DeusExDecoration)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var Pawn myOwner;<br>var() string PTurretTeam;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">PTurretTeam="DEFAULT"<br>bCanBeBase=True<br>ItemName="Turret Dominator"<br>bPushable=False<br>Texture=Texture'DeusExItems.Skins.DataCubeTex2'<br>Mesh=LodMesh'DeusExItems.DataCube'<br>CollisionRadius=7.000000<br>CollisionHeight=1.270000<br>Mass=10.000000</div>
<h3 id="PSTurretController.Frob"><a class="headerlink" href="#PSTurretController.Frob" title="Permanent link">Frob</a> (Actor Frobber, Inventory frobWith)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;DeusExPlayer(Frobber).ClientMessage(myOwner.PlayerReplicationInfo.PlayerName@PTurretTeam);<br>&#9;if(Pawn(Frobber) == myOwner)<br>&#9;{<br>&#9;&#9;myOwner = None;<br>&#9;&#9;&#9;DeusExPlayer(Frobber).ClientMessage("Removed from Turret Safe List for group"@PTurretTeam);<br>&#9;&#9;&#9;return;<br>&#9;}<br>&#9;<br>&#9;if(myOwner == None)<br>&#9;{<br>&#9;&#9;myOwner = Pawn(Frobber);<br>&#9;&#9;DeusExPlayer(Frobber).ClientMessage("Added to Turret Safe List for group"@PTurretTeam);<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#PSVoteZone.uc" title="Permanent link"><h2 id="PSVoteZone.uc">PSVoteZone.uc (extends ZoneInfo)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var() string MapURL;<br>var() float MinPercentage;<br>var float VoteTimer;<br>var DeusExPlayer Voters[16];<br>var() bool bDebug;</div>
<h3 id="PSVoteZone.ActorEntered"><a class="headerlink" href="#PSVoteZone.ActorEntered" title="Permanent link">ActorEntered</a> (actor Other)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int i, f, Players, VoteCount;<br>&#9;local DeusExPlayer DXP, P;<br>&#9;local bool bVoted;<br>&#9;<br><br>&#9;P = DeusExPlayer(other);<br>&#9;<br>&#9;if(P == None)<br>&#9;&#9;return;<br>&#9;&#9;<br>&#9;foreach AllActors(class'DeusExPlayer', DXP)<br>&#9;&#9;Players++;<br>&#9;<br>&#9;for(i=0;i<16;i++)<br>&#9;&#9;if(Voters[i] != None)<br>&#9;&#9;&#9;VoteCount++;<br>&#9;<br>&#9;for(i=0;i<16;i++)<br>&#9;&#9;if(Voters[i] == P)<br>&#9;&#9;&#9;bVoted=True;<br>&#9;&#9;&#9;&#9;<br>&#9;if(!bVoted)<br>&#9;{<br>&#9;&#9;for(i=0;i<16;i++)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(Voters[i] == None)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;BroadcastMessage("Vote Statistics: "$VoteCount+1$" out of "$Players$" players voted for "$MapURL$". "$(VoteCount+1 / Players) * 100$"% - Requires "$MinPercentage$"%");<br>&#9;&#9;&#9;&#9;Voters[i] = P;<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;if( ( (VoteCount+1 / Players) * 100 ) >= MinPercentage )<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(bDebug)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;BroadcastMessage("Vote passed.");<br>&#9;&#9;&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;Level.Servertravel( MapURL ,false);<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;P.ClientMessage("Vote Statistics: "$VoteCount$" out of "$Players$" players voted for "$MapURL$". "$(VoteCount / Players) * 100$"% - Requires "$MinPercentage$"%");<br>&#9;<br><br>&#9;Super.ActorEntered(Other);<br><br></div>
<h3 id="PSVoteZone.ActorLeaving"><a class="headerlink" href="#PSVoteZone.ActorLeaving" title="Permanent link">ActorLeaving</a> (actor Other)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int i, VoteCount, Players;<br>&#9;local DeusExPlayer P, DXP;<br>&#9;local bool bVoted;<br><br>&#9;<br>&#9;P = DeusExPlayer(other);<br>&#9;if(P == None)<br>&#9;&#9;return;<br>&#9;for(i=0;i<16;i++)<br>&#9;&#9;if(Voters[i] == P)<br>&#9;&#9;&#9;bVoted=True;<br>&#9;&#9;&#9;<br>&#9;for(i=0;i<16;i++)<br>&#9;&#9;if(Voters[i] != None)<br>&#9;&#9;&#9;VoteCount++;<br>&#9;<br>&#9;foreach AllActors(class'DeusExPlayer', DXP)<br>&#9;&#9;Players++;&#9;&#9;<br>&#9;if(bVoted)<br>&#9;{<br>&#9;&#9;for(i=0;i<16;i++)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(Voters[i] == P)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;Voters[i] = None;<br>&#9;&#9;&#9;&#9;BroadcastMessage("[Voter leave] Vote Statistics: "$VoteCount-1$" out of "$Players$" players voted for "$MapURL$". "$(VoteCount-1 / Players) * 100$"% - Requires "$MinPercentage$"%");<br>&#9;&#9;&#9;&#9;//Voters[i] = P;<br>&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}&#9;<br>&#9;super.ActorLeaving(Other);<br><br></div>
<br><br><hr>
<a class="headerlink" href="#PSZoneInfo.uc" title="Permanent link"><h2 id="PSZoneInfo.uc">PSZoneInfo.uc (extends ZoneInfo)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var() string EnterString, LeaveString, ProjDestroyedString;<br>var() music myTrack;<br>var() EMusicTransition Transition;<br>var() byte             SongSection;<br>var() byte             CdTrack;<br>var() bool bSafeZone;<br>var() bool bMusicZone;<br>var() bool bHealZone;<br>var() bool bInventoryKillZone;<br>var() bool bNoBoxZone;<br>var() sound EntrySound, ExitSound;<br>var(Restrictions) bool bRestrictedZone;<br>var(Restrictions) bool bAllowAdmins;<br>var(Restrictions) string EntryMsg, ExitMsg;<br>var(Restrictions) int rTimer;<br>var() bool bDisableDynMusic;<br>var() bool bEnableSaving;<br>var deusexplayer NotifPlayer;<br>var(Events) name mySkyboxTag;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">EntryMsg="You are entering restricted area. Please leave, or you will be terminated in 15 seconds."<br>ExitMsg="Have a nice day"<br>rTimer=15</div>
<h3 id="PSZoneInfo.ActorEntered"><a class="headerlink" href="#PSZoneInfo.ActorEntered" title="Permanent link">ActorEntered</a> (actor Other)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local float avg;<br>&#9;local SecDrone PD;<br><br>&#9;<br>&#9;Super.ActorEntered(Other);<br>&#9;if(DynMusicActor(Other) != None && bDisableDynMusic)<br>&#9;&#9;DynMusicActor(Other).bPSZDisabled = True;<br>&#9;&#9;<br>&#9;if(DeusExPlayer(Other) != None)<br>&#9;{<br>&#9;&#9;if(bRestrictedZone)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(ShouldRestrict(DeusExPlayer(Other)))<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;PD = Spawn(class'SecDrone',,,Other.Location);<br>&#9;&#9;&#9;&#9;PD.SetTimer(rTimer,false);<br>&#9;&#9;&#9;&#9;PD.AttachPlayer = DeusExPlayer(Other);<br>&#9;&#9;&#9;&#9;PD.gotostate('following');<br>&#9;&#9;&#9;&#9;Spawn(class'SphereEffect',,,PD.Location);<br>&#9;&#9;&#9;&#9;DeusExPlayer(Other).ClientMessage("Security Drone: "$EntryMsg, 'TeamSay');<br>&#9;&#9;&#9;&#9;if(NotifPlayer != None)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;NotifPlayer.ClientMessage(DeusExPlayer(Other).PlayerReplicationInfo.PlayerName$" entered your restricted zone.");<br>&#9;&#9;&#9;&#9;&#9;PD.NotifPlayer = NotifPlayer;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;if(EntrySound != None)<br>&#9;&#9;&#9;DeusExPlayer(Other).PlaySound(EntrySound,,,, 256);<br>&#9;&#9;&#9;<br>&#9;&#9;if(bMusicZone)<br>&#9;&#9;{&#9;<br>&#9;&#9;&#9;if(!mmIsPlaying(myTrack, deusExPlayer(Other)) && !MMLocked(DeusExPlayer(Other)))<br>&#9;&#9;&#9;&#9;MemorizeMusic(myTrack,DeusExPlayer(Other));<br>&#9;&#9;}&#9;<br>&#9;&#9;if(EnterString != "")<br>&#9;&#9;&#9;DeusExPlayer(Other).ClientMessage(EnterString);<br>&#9;&#9;&#9;<br>&#9;&#9;if(bHealZone)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(DeusExPlayer(Other).Health < 100)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;DeusExPlayer(Other).HealPlayer(100, True);<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(DeusExPlayer(Other).Energy < 100)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;DeusExPlayer(Other).Energy = 100;<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;DeusExPlayer(Other).StopPoison();<br>&#9;&#9;&#9;DeusExPlayer(Other).ExtinguishFire();<br>&#9;&#9;&#9;DeusExPlayer(Other).drugEffectTimer = 0;<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(bSafeZone)<br>&#9;&#9;{<br>&#9;&#9;&#9;DeusExPlayer(Other).ReducedDamageType = 'All';<br>&#9;&#9;}<br>&#9;}<br>&#9;if(bNoBoxZone)<br>&#9;{<br>&#9;&#9;if (Other.IsA('Box'))<br>&#9;&#9;{<br>&#9;&#9;&#9;avg = (DeusExDecoration(Other).CollisionRadius + DeusExDecoration(Other).CollisionHeight) / 2;<br>&#9;&#9;&#9;DeusExDecoration(Other).Frag(DeusExDecoration(Other).fragType, vect(20,20,20), avg/20.0, avg/5 + 1);<br>&#9;&#9;&#9;Other.Destroy();<br>&#9;&#9;}<br>&#9;}<br>&#9;if(bSafeZone)<br>&#9;{<br>&#9;&#9;if (Other.IsA('ScriptedPawn'))<br>&#9;&#9;{<br>&#9;&#9;&#9;ScriptedPawn(Other).bInvincible=true;<br>&#9;&#9;}<br>&#9;&#9;else if (Other.IsA('DeusExDecoration'))<br>&#9;&#9;{<br>&#9;&#9;&#9;DeusExDecoration(Other).bInvincible=True;<br>&#9;&#9;}<br>&#9;&#9;else if (Other.IsA('SpyDrone') && !SpyDrone(Other).bDisabled)<br>&#9;&#9;{<br>&#9;&#9;&#9;DeusExPlayer(SpyDrone(Other).Owner).ForceDroneOff();<br>&#9;&#9;&#9;DeusExPlayer(SpyDrone(Other).Owner).ClientMessage(ProjDestroyedString);<br>&#9;&#9;&#9;SpyDrone(Other).bDisabled = True;<br>&#9;&#9;&#9;SpyDrone(Other).SetPhysics(PHYS_Falling);<br>&#9;&#9;&#9;SpyDrone(Other).bBounce = True;<br>&#9;&#9;&#9;SpyDrone(Other).LifeSpan = 10.0;<br>&#9;&#9;&#9;SpyDrone(Other).Spawn(class'SmokeTrail',,, Other.Location);<br>&#9;&#9;&#9;Other.Spawn(class'SphereEffect',,, Other.Location);<br>&#9;&#9;}<br>&#9;&#9;else if (Other.IsA('ThrownProjectile') && !Other.IsA('BasketballMP'))<br>&#9;&#9;{<br>&#9;&#9;&#9;&#9;DeusExPlayer(ThrownProjectile(Other).Owner).ClientMessage(ProjDestroyedString);<br>&#9;&#9;&#9;Other.TakeDamage(15, None, Other.Location, vect(0,0,0), 'EMP');<br>&#9;&#9;&#9;&#9;&#9;Other.PlaySound(sound'ProdFire', SLOT_None,,,, 2.0);<br>&#9;&#9;&#9;Other.Spawn(class'SphereEffect',,, Other.Location);<br>&#9;&#9;&#9;&#9;&#9;Other.Spawn(class'SmokeTrail',,, Other.Location);<br>&#9;&#9;&#9;Other.LifeSpan = 10.0;<br>&#9;&#9;}<br>&#9;&#9;else if (Other.IsA('RocketLAW') || Other.IsA('HECannister20mm') || Other.isA('Rocket') || Other.isA('RocketWP')) <br>&#9;&#9;{<br>&#9;&#9;&#9;DeusExPlayer(Other.Owner).ClientMessage(ProjDestroyedString);<br>&#9;&#9;&#9;Other.PlaySound(sound'ProdFire', SLOT_None,,,, 2.0);<br>&#9;&#9;&#9;Other.Spawn(class'SmokeTrail',,, Other.Location);<br>&#9;&#9;&#9;Other.Spawn(class'SphereEffect',,, Other.Location);<br>&#9;&#9;&#9;DeusExProjectile(Other).Destroy();<br>&#9;&#9;}<br>&#9;&#9;else if (Other.IsA('DeusExProjectile') && !Other.IsA('BasketballMP'))<br>&#9;&#9;{<br>&#9;&#9;&#9;DeusExPlayer(Other.Owner).ClientMessage(ProjDestroyedString);<br>&#9;&#9;&#9;Other.PlaySound(sound'ProdFire', SLOT_None,,,, 2.0);<br>&#9;&#9;&#9;Other.Spawn(class'SphereEffect',,, Other.Location);<br>&#9;&#9;&#9;DeusExProjectile(Other).Destroy();<br>&#9;&#9;}<br>&#9;&#9;else if (Other.IsA('ProjectileGenerator'))<br>&#9;&#9;{<br>&#9;&#9;&#9;ProjectileGenerator(Other).Destroy();<br>&#9;&#9;}<br>&#9;&#9;else if(Other.IsA('BasketballMP'))<br>&#9;&#9;{<br>&#9;&#9;&#9;if (BasketballMP(Other).bDoomedToDestroy)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;BasketballMP(Other).bDoomedToDestroy = False;<br>&#9;&#9;&#9;&#9;BasketballMP(Other).Style = STY_Normal;<br>&#9;&#9;&#9;&#9;BasketballMP(Other).SetTimer(0,False);<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br>&#9;if(bInventoryKillZone)<br>&#9;{<br>&#9;&#9;if(Other.IsA('Inventory'))<br>&#9;&#9;&#9;Other.Destroy(); <br>&#9;}<br><br></div>
<h3 id="PSZoneInfo.ActorLeaving"><a class="headerlink" href="#PSZoneInfo.ActorLeaving" title="Permanent link">ActorLeaving</a> (actor Other)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local SecDrone PD;<br><br>&#9;<br>&#9;super.ActorLeaving(Other);<br>&#9;&#9;<br>&#9;if(DynMusicActor(Other) != None)<br>&#9;&#9;DynMusicActor(Other).bPSZDisabled = False;<br>&#9;&#9;<br>&#9;&#9;if(bRestrictedZone)<br>&#9;&#9;{<br>&#9;&#9;&#9;foreach AllActors(class'SecDrone', PD)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(PD.AttachPlayer == DeusExPlayer(Other))<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;DeusExPlayer(Other).ClientMessage("Security Drone: "$ExitMsg, 'TeamSay');<br>&#9;&#9;&#9;&#9;&#9;Spawn(class'sphereEffect',,,pD.Location);<br>&#9;&#9;&#9;&#9;&#9;PD.Destroy();<br>&#9;&#9;&#9;&#9;&#9;if(NotifPlayer != None)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;NotifPlayer.ClientMessage(DeusExPlayer(Other).PlayerReplicationInfo.PlayerName$" left your restricted zone.");<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;if(LeaveString != "" && DeusExPlayer(Other) != None)<br>&#9;&#9;&#9;DeusExPlayer(Other).ClientMessage(LeaveString);<br>&#9;&#9;&#9;<br>&#9;&#9;if(ExitSound != None && DeusExPlayer(Other) != None)<br>&#9;&#9;&#9;DeusExPlayer(Other).PlaySound(ExitSound,,,, 256);<br>&#9;&#9;&#9;<br>&#9;&#9;if(bSafeZone)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(DeusExPlayer(Other) != None)<br>&#9;&#9;&#9;&#9;DeusExPlayer(Other).ReducedDamageType = '';<br>&#9;&#9;&#9;if(DeusExDecoration(Other) != None)<br>&#9;&#9;&#9;&#9;DeusExDecoration(Other).bInvincible = DeusExDecoration(Other).default.bInvincible;<br>&#9;&#9;&#9;if (Other.IsA('ScriptedPawn'))<br>&#9;&#9;&#9;&#9;ScriptedPawn(Other).bInvincible=ScriptedPawn(Other).default.bInvincible;<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Other.IsA('BasketballMP'))<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;BasketballMP(Other).Style = STY_Translucent;<br>&#9;&#9;&#9;&#9;BasketballMP(Other).bDoomedToDestroy = True;<br>&#9;&#9;&#9;&#9;BasketballMP(Other).SetTimer(15, False);<br>&#9;&#9;&#9;&#9;Other.PlaySound(sound'ProdFire', SLOT_None,,,, 2.0);<br>&#9;&#9;&#9;&#9;Other.Spawn(class'SmokeTrail',,, Other.Location);<br>&#9;&#9;&#9;&#9;Other.Spawn(class'SphereEffect',,, Other.Location);<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;if(Other.IsA('BasketballMP4Player'))<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;Other.PlaySound(sound'ProdFire', SLOT_None,,,, 2.0);<br>&#9;&#9;&#9;&#9;Other.Spawn(class'SmokeTrail',,, Other.Location);<br>&#9;&#9;&#9;&#9;Other.Spawn(class'SphereEffect',,, Other.Location);<br>&#9;&#9;&#9;&#9;Other.Destroy();<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br><br></div>
<h3 id="PSZoneInfo.LinkToSkybox"><a class="headerlink" href="#PSZoneInfo.LinkToSkybox" title="Permanent link">LinkToSkybox</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local skyzoneinfo TempSkyZone;<br><br><br>&#9;if(mySkyboxTag == 'None')<br>&#9;{<br>&#9;&#9;super.LinkToSkybox();<br>&#9;&#9;return;<br>&#9;}<br>&#9;// SkyZone.<br>&#9;foreach AllActors( class 'SkyZoneInfo', TempSkyZone, '' )<br>&#9;{<br>&#9;&#9;if(TempSkyZone.Tag == mySkyboxTag)<br>&#9;&#9;{<br>&#9;&#9;&#9;SkyZone = TempSkyZone;<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;foreach AllActors( class 'SkyZoneInfo', TempSkyZone, '' )<br>&#9;{<br>&#9;&#9;if( TempSkyZone.bHighDetail == Level.bHighDetailMode )<br>&#9;&#9;{<br>&#9;&#9;&#9;if(TempSkyZone.Tag == mySkyboxTag)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;SkyZone = TempSkyZone;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="PSZoneInfo.MMLocked"><a class="headerlink" href="#PSZoneInfo.MMLocked" title="Permanent link">MMLocked</a> (DeusExPlayer Them) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local MusicMemory MM;<br><br>&#9;foreach AllActors(class'MusicMemory', MM)<br>&#9;{<br>&#9;&#9;if(MM.Watcher == Them)<br>&#9;&#9;{<br>&#9;&#9;&#9;return MM.bMMLocked;<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="PSZoneInfo.MemorizeMusic"><a class="headerlink" href="#PSZoneInfo.MemorizeMusic" title="Permanent link">MemorizeMusic</a> (music This, DeusExPlayer Them)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local MusicMemory MM;<br><br>&#9;foreach AllActors(class'MusicMemory', MM)<br>&#9;{<br>&#9;&#9;if(MM.Watcher == Them)<br>&#9;&#9;{<br>&#9;&#9;&#9;MM.CurrentSong = This;<br>&#9;&#9;&#9;//Log("Track memorized."@This@them.playerreplicationinfo.playername);<br>&#9;&#9;&#9;Them.ClientSetMusic( This, SongSection, CdTrack, Transition );<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="PSZoneInfo.ShouldRestrict"><a class="headerlink" href="#PSZoneInfo.ShouldRestrict" title="Permanent link">ShouldRestrict</a> (deusexplayer Check) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local SecDrone PD;<br><br>&#9;<br>&#9;foreach AllActors(class'SecDrone', PD)<br>&#9;&#9;if(PD.AttachPlayer == Check)<br>&#9;&#9;&#9;return false;<br>&#9;&#9;&#9;<br>&#9;if(bAllowAdmins)<br>&#9;&#9;if(Check.bAdmin)<br>&#9;&#9;&#9;return False;<br>&#9;&#9;<br>&#9;return True;<br><br></div>
<h3 id="PSZoneInfo.mmIsPlaying"><a class="headerlink" href="#PSZoneInfo.mmIsPlaying" title="Permanent link">mmIsPlaying</a> (music This, DeusExPlayer Them) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local MusicMemory MM;<br>&#9;local bool bFound;<br><br><br>&#9;foreach AllActors(class'MusicMemory', MM)<br>&#9;{<br>&#9;&#9;if(MM.Watcher == Them)<br>&#9;&#9;{<br>&#9;&#9;&#9;bFound=True;<br>&#9;&#9;&#9;if(MM.CurrentSong == This)<br>&#9;&#9;&#9;&#9;return true;<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;if(!bFound)<br>&#9;{<br>&#9;&#9;MM = Spawn(class'MusicMemory');<br>&#9;&#9;MM.Watcher=Them;<br>&#9;&#9;Log("New music memory."@This@them.playerreplicationinfo.playername);<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#PartyBox.uc" title="Permanent link"><h2 id="PartyBox.uc">PartyBox.uc (extends Containers)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">HitPoints=10<br>FragType=Class'DeusEx.WoodFragment'<br>ItemName="Party Battle Weapon Box!"<br>bBlockSight=True<br>Skin=Texture'PGAssets.Skins.PartyBox'<br>Mesh=LodMesh'DeusExDeco.CrateBreakableMed'<br>CollisionRadius=34.000000<br>CollisionHeight=24.000000<br>Mass=50.000000<br>Buoyancy=60.000000</div>
<h3 id="PartyBox.Destroyed"><a class="headerlink" href="#PartyBox.Destroyed" title="Permanent link">Destroyed</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local actor dropped;<br>&#9;local class<actor> tempClass;<br>&#9;local int i;<br>&#9;local Rotator rot;<br>&#9;local Vector loc;<br>&#9;local TrashPaper trash;<br>&#9;local Rat vermin;<br>&#9;local int randy, randy2, randy3;<br><br>&#9;// trace down to see if we are sitting on the ground<br>&#9;loc = vect(0,0,0);<br>&#9;loc.Z -= CollisionHeight + 8.0;<br>&#9;loc += Location;<br><br>&#9;if( (Pawn(Base) != None) && (Pawn(Base).CarriedDecoration == self) )<br>&#9;&#9;Pawn(Base).DropDecoration();<br>&#9;&#9;Randy = Rand(35);<br>&#9;&#9;if(Randy == 1)<br>&#9;&#9;{<br>&#9;&#9;&#9;Contents=class'WeaponBioRifle';<br>&#9;&#9;}<br>&#9;&#9;if(Randy == 2)<br>&#9;&#9;{<br>&#9;&#9;&#9;Contents=class'WeaponEnergyAssault';<br>&#9;&#9;}&#9;<br>&#9;&#9;if(Randy == 3)<br>&#9;&#9;{<br>&#9;&#9;&#9;Contents=class'WeaponLaserAssault';<br>&#9;&#9;}&#9;&#9;<br>&#9;&#9;if(Randy == 4)<br>&#9;&#9;{<br>&#9;&#9;&#9;Contents=class'WeaponNeedler';<br>&#9;&#9;}<br>&#9;&#9;if(Randy == 5)<br>&#9;&#9;{<br>&#9;&#9;&#9;Contents=class'WeaponNeedler2';<br>&#9;&#9;}<br>&#9;&#9;if(Randy == 6)<br>&#9;&#9;{<br>&#9;&#9;&#9;Contents=class'WeaponPlasmaAssault';<br>&#9;&#9;}&#9;<br>&#9;&#9;if(Randy == 7)<br>&#9;&#9;{<br>&#9;&#9;&#9;Contents=class'WeaponSpitRifle';<br>&#9;&#9;}&#9;<br>&#9;<br>&#9;&#9;if(Randy == 8)<br>&#9;&#9;{<br>&#9;&#9;&#9;Contents=class'WeaponDildo';<br>&#9;&#9;}<br>&#9;&#9;if(Randy == 9)<br>&#9;&#9;{<br>&#9;&#9;&#9;Contents=class'WeaponDragonsClaw';<br>&#9;&#9;}&#9;<br>&#9;&#9;if(Randy == 10)<br>&#9;&#9;{<br>&#9;&#9;&#9;Contents=class'WeaponHeavyBeamSword';<br>&#9;&#9;}&#9;&#9;<br>&#9;&#9;if(Randy == 11)<br>&#9;&#9;{<br>&#9;&#9;&#9;Contents=class'WeaponInflatableSword';<br>&#9;&#9;}<br>&#9;&#9;if(Randy == 12)<br>&#9;&#9;{<br>&#9;&#9;&#9;Contents=class'WeaponPlasmaSword';<br>&#9;&#9;}<br>&#9;&#9;if(Randy == 13)<br>&#9;&#9;{<br>&#9;&#9;&#9;Contents=class'WeaponThinSword';<br>&#9;&#9;}<br>&#9;&#9;if(Randy == 14)<br>&#9;&#9;{<br>&#9;&#9;&#9;Contents=class'WeaponBurnRifle';<br>&#9;&#9;}&#9;&#9;<br>&#9;&#9;if(Randy == 15)<br>&#9;&#9;{<br>&#9;&#9;&#9;Contents=class'WeaponMomsKnife';<br>&#9;&#9;}<br>&#9;&#9;if(Randy == 16)<br>&#9;&#9;{<br>&#9;&#9;&#9;Contents=class'WeaponWPGrenade';<br>&#9;&#9;}<br>&#9;&#9;if(Randy == 17)<br>&#9;&#9;{<br>&#9;&#9;&#9;Contents=class'WeaponStealthShotgun';<br>&#9;&#9;}<br>&#9;&#9;if(Randy == 18)<br>&#9;&#9;{<br>&#9;&#9;&#9;Contents=class'MM';<br>&#9;&#9;}<br>&#9;&#9;if(Randy == 19)<br>&#9;&#9;{<br>&#9;&#9;&#9;Contents=class'WeaponSkullGun';<br>&#9;&#9;}<br>&#9;&#9;if(Randy == 20)<br>&#9;&#9;{<br>&#9;&#9;&#9;Contents=class'WeaponPhatRifle';<br>&#9;&#9;}<br>&#9;&#9;if(Randy == 21)<br>&#9;&#9;{<br>&#9;&#9;&#9;Contents=class'WeaponMagnum';<br>&#9;&#9;}<br>&#9;&#9;if(Randy == 22)<br>&#9;&#9;{<br>&#9;&#9;&#9;Contents=class'WeaponRailgun';<br>&#9;&#9;}<br>&#9;&#9;if(Randy == 23)<br>&#9;&#9;{<br>&#9;&#9;&#9;Contents=class'WeaponClaymore';<br>&#9;&#9;}<br>&#9;&#9;if(Randy == 24)<br>&#9;&#9;{<br>&#9;&#9;&#9;Contents=class'WeaponLightshow';<br>&#9;&#9;}<br>&#9;&#9;if(Randy == 25)<br>&#9;&#9;{<br>&#9;&#9;&#9;Contents=class'WeaponKnifeBomb';<br>&#9;&#9;}<br>&#9;&#9;if(Randy == 26)<br>&#9;&#9;{<br>&#9;&#9;&#9;Contents=class'WeaponNailgun';<br>&#9;&#9;}<br>&#9;&#9;if(Randy == 27)<br>&#9;&#9;{<br>&#9;&#9;&#9;Contents=class'WeaponBoxGun';<br>&#9;&#9;}<br>&#9;&#9;if(Randy == 28)<br>&#9;&#9;{<br>&#9;&#9;&#9;Contents=class'WeaponDePressurizer';<br>&#9;&#9;}<br>&#9;&#9;if(Randy >= 29)<br>&#9;&#9;{<br>&#9;&#9;&#9;TrollExplode();<br>&#9;&#9;}<br>&#9;&#9;tempClass = Contents;&#9;<br><br>&#9;&#9;&#9;loc = Location+VRand()*CollisionRadius;<br>&#9;&#9;&#9;loc.Z = Location.Z;<br>&#9;&#9;&#9;rot = rot(0,0,0);<br>&#9;&#9;&#9;rot.Yaw = FRand() * 65535;<br>&#9;&#9;&#9;dropped = Spawn(tempClass,,, loc, rot);<br>&#9;&#9;&#9;if (dropped != None)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;dropped.RemoteRole = ROLE_DumbProxy;<br>&#9;&#9;&#9;&#9;dropped.SetPhysics(PHYS_Falling);<br>&#9;&#9;&#9;&#9;dropped.bCollideWorld = true;<br>&#9;&#9;&#9;&#9;dropped.Velocity = VRand() * 50;<br>&#9;&#9;&#9;&#9;if ( inventory(dropped) != None )<br>&#9;&#9;&#9;&#9;&#9;inventory(dropped).GotoState('Pickup', 'Dropped');<br>&#9;&#9;&#9;}<br><br></div>
<h3 id="PartyBox.TrollExplode"><a class="headerlink" href="#PartyBox.TrollExplode" title="Permanent link">TrollExplode</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local SphereEffect sphere;<br>&#9;local ScorchMark s;<br>&#9;local ExplosionLight light;<br>&#9;local int i;<br>&#9;local float explosionDamage;<br>&#9;local float explosionRadius;<br><br><br>&#9;explosionDamage = 600;<br>&#9;explosionRadius = 100;<br><br>&#9;// alert NPCs that I'm exploding<br>&#9;AISendEvent('LoudNoise', EAITYPE_Audio, , explosionRadius*16);<br>&#9;PlaySound(Sound'LargeExplosion1', SLOT_None,,, explosionRadius*16);<br><br>&#9;// draw a pretty explosion<br>&#9;light = Spawn(class'ExplosionLight',,, Location);<br>&#9;if (light != None)<br>&#9;&#9;light.size = 4;<br><br>&#9;Spawn(class'ExplosionSmall',,, Location + 2*VRand()*CollisionRadius);<br>&#9;Spawn(class'ExplosionMedium',,, Location + 2*VRand()*CollisionRadius);<br>&#9;Spawn(class'ExplosionMedium',,, Location + 2*VRand()*CollisionRadius);<br>&#9;Spawn(class'ExplosionLarge',,, Location + 2*VRand()*CollisionRadius);<br><br>&#9;sphere = Spawn(class'SphereEffect',,, Location);<br>&#9;if (sphere != None)<br>&#9;&#9;sphere.size = explosionRadius / 32.0;<br><br>&#9;// spawn a mark<br>&#9;s = spawn(class'ScorchMark', Base,, Location-vect(0,0,1)*CollisionHeight, Rotation+rot(16384,0,0));<br>&#9;if (s != None)<br>&#9;{<br>&#9;&#9;s.DrawScale = FClamp(explosionDamage/30, 0.1, 3.0);<br>&#9;&#9;s.ReattachDecal();<br>&#9;}<br><br>&#9;// spawn some rocks and flesh fragments<br>&#9;for (i=0; i<explosionDamage/6; i++)<br>&#9;{<br>&#9;&#9;if (FRand() < 0.3)<br>&#9;&#9;&#9;spawn(class'Rockchip',,,Location);<br>&#9;}<br><br>&#9;HurtRadius(explosionDamage, explosionRadius, 'Exploded', explosionDamage*100, Location);<br><br></div>
<br><br><hr>
<a class="headerlink" href="#Persist.uc" title="Permanent link"><h2 id="Persist.uc">Persist.uc (extends PGActors)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var() config class<DeusExDecoration> ClassName;<br>var() config rotator ClassRotation;<br>var() config vector ClassLocation;<br>var() config SavedX ClassesX[250];</div>
<h3 id="Persist.Load"><a class="headerlink" href="#Persist.Load" title="Permanent link">Load</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int j, c;<br>&#9;local DeusExDecoration sp;<br><br><br>&#9;&#9;for(j=0;j<250;j++)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(ClassesX[j].ClassName != None)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;sp = Spawn(ClassesX[j].ClassName,,,ClassesX[j].ClassLocation);<br>&#9;&#9;&#9;&#9;sp.SetRotation(ClassesX[j].ClassRotation);<br>&#9;&#9;&#9;&#9;//sp.SetPhysics(name(ClassesX[j].ClassPhysics));<br>&#9;&#9;&#9;&#9;c++;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;Log("Persisted actors spawned, total: "$c$".",'Persist');<br>&#9;BroadcastMessage("Persisted actors spawned, total: "$c$".");<br><br></div>
<h3 id="Persist.Save"><a class="headerlink" href="#Persist.Save" title="Permanent link">Save</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local PSZoneInfo PSZ;<br>&#9;local DeusExDecoration deco;<br>&#9;local int j, c;<br><br><br>&#9;for(j=0;j<250;j++)<br>&#9;{<br>&#9;&#9;ClassesX[j].ClassName = None;<br>&#9;}<br>&#9;Log("Config cleared of all entries.",'Persist');<br>&#9;<br>&#9;foreach AllActors(class'PSZoneInfo',PSZ)<br>&#9;{<br>&#9;&#9;if(PSZ.bEnableSaving)<br>&#9;&#9;{<br>&#9;&#9;&#9;foreach PSZ.ZoneActors(class'DeusExDecoration',deco)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(!deco.isa('Lightswitch') || !deco.isa('Switch2'))<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;for(j=0;j<250;j++)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;if(ClassesX[j].ClassName == None)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;ClassesX[j].ClassName = deco.class;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;ClassesX[j].ClassRotation = deco.Rotation;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;ClassesX[j].ClassLocation = deco.Location;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;//ClassesX[j].ClassPhysics = deco.Physics;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;c++;<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br>&#9;SaveConfig();<br>&#9;Log("Config entries added, total: "$c$".",'Persist');<br>&#9;BroadcastMessage("Config entries added, total: "$c$".");<br><br></div>
<h3 id="Persist.Timer"><a class="headerlink" href="#Persist.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local PSZoneInfo PSZ;<br>&#9;local DeusExDecoration deco;<br>&#9;local int j, c;<br><br><br>&#9;for(j=0;j<250;j++)<br>&#9;{<br>&#9;&#9;ClassesX[j].ClassName = None;<br>&#9;}<br>&#9;Log("Config cleared of all entries.",'Persist');<br>&#9;<br>&#9;foreach AllActors(class'PSZoneInfo',PSZ)<br>&#9;{<br>&#9;&#9;if(PSZ.bEnableSaving)<br>&#9;&#9;{<br>&#9;&#9;&#9;foreach PSZ.ZoneActors(class'DeusExDecoration',deco)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(!deco.isa('Lightswitch') && !deco.isa('Switch2') && !deco.isa('Gem'))<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;for(j=0;j<250;j++)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;if(ClassesX[j].ClassName == None)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;ClassesX[j].ClassName = deco.class;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;ClassesX[j].ClassRotation = deco.Rotation;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;ClassesX[j].ClassLocation = deco.Location;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;//ClassesX[j].ClassPhysics = string(deco.Physics);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;c++;<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br>&#9;SaveConfig();<br>&#9;Log("Config entries added, total: "$c$".",'Persist');<br>&#9;BroadcastMessage("Map saved to server. ("$c$")");<br><br></div>
<br><br><hr>
<a class="headerlink" href="#PlasmaSword.uc" title="Permanent link"><h2 id="PlasmaSword.uc">PlasmaSword.uc (extends WeaponNanoSword)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var Name WeaponDamageType;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">WeaponDamageType=exploded<br>InventoryGroup=111<br>ItemName="Plasma Sword"<br>Description="A strange, ancient triad weapon. You would be hard pressed finding out anything else about it."<br>beltDescription="PLASMA"<br>MultiSkins(1)=FireTexture'Effects.Fire.OneFlame_G'<br>MultiSkins(2)=FireTexture'Effects.Fire.OneFlame_G'<br>MultiSkins(3)=FireTexture'Effects.Fire.OneFlame_G'<br>MultiSkins(4)=FireTexture'Effects.Smoke.SmokePuff1'<br>MultiSkins(5)=FireTexture'Effects.Fire.OneFlame_G'<br>LightHue=128</div>
<h3 id="PlasmaSword.BeginState"><a class="headerlink" href="#PlasmaSword.BeginState" title="Permanent link">BeginState</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;Super.BeginState();<br>&#9;&#9;LightType = LT_Steady;<br>&#9;&#9;MultiSkins[1]=None;<br>&#9;&#9;MultiSkins[2]=FireTexture'Effects.Fire.OneFlame_G';<br>&#9;&#9;MultiSkins[3]=None;<br>&#9;&#9;MultiSkins[4]=FireTexture'Effects.Fire.OneFlame_G';<br>&#9;&#9;MultiSkins[5]=FireTexture'Effects.Smoke.SmokePuff1';<br>&#9;&#9;MultiSkins[6]=FireTexture'Effects.Fire.OneFlame_G';<br>&#9;&#9;MultiSkins[7]=FireTexture'Effects.Fire.OneFlame_G';<br>&#9;<br></div>
<h3 id="PlasmaSword.EndState"><a class="headerlink" href="#PlasmaSword.EndState" title="Permanent link">EndState</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;Super.EndState();<br>&#9;&#9;LightType = LT_None;<br>&#9;&#9;MultiSkins[1]=FireTexture'Effects.Fire.OneFlame_G';<br>&#9;&#9;MultiSkins[2]=FireTexture'Effects.Fire.OneFlame_G';<br>&#9;&#9;MultiSkins[3]=FireTexture'Effects.Fire.OneFlame_G';<br>&#9;&#9;MultiSkins[4]=FireTexture'Effects.Smoke.SmokePuff1';<br>&#9;&#9;MultiSkins[5]=FireTexture'Effects.Fire.OneFlame_G';<br>&#9;&#9;MultiSkins[6]=None;<br>&#9;&#9;MultiSkins[7]=None;<br>&#9;<br></div>
<h3 id="PlasmaSword.ProcessTraceHit"><a class="headerlink" href="#PlasmaSword.ProcessTraceHit" title="Permanent link">ProcessTraceHit</a> (Actor Other, Vector HitLocation, Vector HitNormal, Vector X, Vector Y, Vector Z)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local float        mult;<br>&#9;local name         damageType;<br>&#9;local DeusExPlayer dxPlayer;<br><br><br>&#9;if (Other != None)<br>&#9;{<br>&#9;&#9;// AugCombat increases our damage if hand to hand<br>&#9;&#9;mult = 1.0;<br>&#9;&#9;if (bHandToHand && (DeusExPlayer(Owner) != None))<br>&#9;&#9;{<br>&#9;&#9;&#9;mult = DeusExPlayer(Owner).AugmentationSystem.GetAugLevelValue(class'AugCombat');<br>&#9;&#9;&#9;if (mult == -1.0)<br>&#9;&#9;&#9;&#9;mult = 1.0;<br>&#9;&#9;}<br><br>&#9;&#9;// skill also affects our damage<br>&#9;&#9;// GetWeaponSkill returns 0.0 to -0.7 (max skill/aug)<br>&#9;&#9;mult += -2.0 * GetWeaponSkill();<br><br>&#9;&#9;// Determine damage type<br>&#9;&#9;damageType = WeaponDamageType;<br><br>&#9;&#9;if (Other != None)<br>&#9;&#9;{<br>&#9;&#9;&#9;if (Other.bOwned)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;dxPlayer = DeusExPlayer(Owner);<br>&#9;&#9;&#9;&#9;if (dxPlayer != None)<br>&#9;&#9;&#9;&#9;&#9;dxPlayer.AISendEvent('Futz', EAITYPE_Visual);<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;if ((Other == Level) || (Other.IsA('Mover')))<br>&#9;&#9;{<br>&#9;&#9;&#9;if ( Role == ROLE_Authority )<br>&#9;&#9;&#9;&#9;Other.TakeDamage(HitDamage * mult, Pawn(Owner), HitLocation, 1000.0*X, damageType);<br><br>&#9;&#9;&#9;SelectiveSpawnEffects( HitLocation, HitNormal, Other, HitDamage * mult);<br>&#9;&#9;}<br>&#9;&#9;else if ((Other != self) && (Other != Owner))<br>&#9;&#9;{<br>&#9;&#9;&#9;if ( Role == ROLE_Authority )<br>&#9;&#9;&#9;&#9;Other.TakeDamage(HitDamage * mult, Pawn(Owner), HitLocation, 1000.0*X, damageType);<br>&#9;&#9;&#9;if (bHandToHand)<br>&#9;&#9;&#9;&#9;SelectiveSpawnEffects( HitLocation, HitNormal, Other, HitDamage * mult);<br><br>&#9;&#9;&#9;if (bPenetrating && Other.IsA('Pawn') && !Other.IsA('Robot'))<br>&#9;&#9;&#9;&#9;SpawnBlood(HitLocation, HitNormal);<br>&#9;&#9;}<br>&#9;}<br>   if (DeusExMPGame(Level.Game) != None)<br>   {<br>      if (DeusExPlayer(Other) != None)<br>         DeusExMPGame(Level.Game).TrackWeapon(self,HitDamage * mult);<br>      else<br>         DeusExMPGame(Level.Game).TrackWeapon(self,0);<br>   }<br><br></div>
<br><br><hr>
<a class="headerlink" href="#PlaySoundSwitch.uc" title="Permanent link"><h2 id="PlaySoundSwitch.uc">PlaySoundSwitch.uc (extends Switch2)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var bool bOn;<br>var() bool bPlayToAll;<br>var() sound sSound;<br>var() float sPitch;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">ItemName="Sound Switch"</div>
<h3 id="PlaySoundSwitch.Frob"><a class="headerlink" href="#PlaySoundSwitch.Frob" title="Permanent link">Frob</a> (Actor Frobber, Inventory frobWith)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer DXP;<br><br>&#9;Super.Frob(Frobber, frobWith);<br>&#9;<br>&#9;if (bOn)<br>&#9;{<br>&#9;&#9;if(bPlayToAll)<br>&#9;&#9;{<br>&#9;&#9;&#9;foreach Allactors(class'DeusexPlayer',DXP)<br>&#9;&#9;&#9;&#9;DXP.PlaySound(sSound,SLOT_None);<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;{<br>&#9;&#9;&#9;PlaySound(sSound,SLOT_None);<br>&#9;&#9;}<br>&#9;&#9;PlayAnim('Off');<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;if(bPlayToAll)<br>&#9;&#9;{<br>&#9;&#9;&#9;foreach Allactors(class'DeusexPlayer',DXP)<br>&#9;&#9;&#9;&#9;DXP.PlaySound(sSound,SLOT_None);<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;{<br>&#9;&#9;&#9;PlaySound(sSound,SLOT_None);<br>&#9;&#9;}<br>&#9;&#9;PlayAnim('On');<br>&#9;}<br><br>&#9;bOn = !bOn;<br><br></div>
<br><br><hr>
<a class="headerlink" href="#PlayerResetter.uc" title="Permanent link"><h2 id="PlayerResetter.uc">PlayerResetter.uc (extends PGActors)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var DeusExPlayer Target;<br>var string myToDo;</div>
<h3 id="PlayerResetter.Timer"><a class="headerlink" href="#PlayerResetter.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(myToDo == "unfreeze")<br>&#9;{<br>&#9;&#9;Target.bMovable=True;<br>&#9;&#9;Target.bmeshEnviroMap=False;<br>&#9;&#9;Target.Texture = Target.Default.Texture;<br>&#9;&#9;Target.bBehindView=False;<br>&#9;}<br>&#9;if(myToDo == "unspeed")<br>&#9;{<br>&#9;&#9;Human(Target).mpgroundspeed = Human(target).default.mpgroundspeed;<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#PlaygroundContainers.uc" title="Permanent link"><h2 id="PlaygroundContainers.uc">PlaygroundContainers.uc (extends Containers)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var string CreatedBy;</div>
<h3 id="PlaygroundContainers.Destroy2"><a class="headerlink" href="#PlaygroundContainers.Destroy2" title="Permanent link">Destroy2</a> (string Destroyer)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(Destroyer ~= CreatedBy)<br>&#9;Destroy();<br><br></div>
<h3 id="PlaygroundContainers.Tick"><a class="headerlink" href="#PlaygroundContainers.Tick" title="Permanent link">Tick</a> (float CleanupTimer)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Playground P;<br>&#9;local DeusExPlayer DXP;<br>&#9;local PlaygroundContainers PC;<br>&#9;local bool bQueDelete;<br><br><br>&#9;Super.Tick (CleanupTimer);<br>&#9;if(p == None)<br>&#9;spawn(class'Playground');<br><br></div>
<br><br><hr>
<a class="headerlink" href="#PoisonEstus.uc" title="Permanent link"><h2 id="PoisonEstus.uc">PoisonEstus.uc (extends DeusExPickup)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var bool bEstusArmed;<br>var float explosionDamage;<br>var float explosionRadius;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">explosionDamage=100.000000<br>explosionRadius=100.000000<br>bBreakable=True<br>maxCopies=1<br>bActivatable=True<br>ItemName="Poisoned Estus flask"<br>PlayerViewOffset=(X=16.000000,Y=8.000000,Z=-16.000000)<br>PlayerViewMesh=LodMesh'DeusExDeco.Flask'<br>PickupViewMesh=LodMesh'DeusExDeco.Flask'<br>ThirdPersonMesh=LodMesh'DeusExDeco.Flask'<br>LandSound=Sound'DeusExSounds.Generic.GlassHit1'<br>Icon=Texture'PGAssets.Icons.BeltIconEstus'<br>M_Activated=""<br>largeIconWidth=18<br>largeIconHeight=44<br>Description="Estus magic potion of healing"<br>beltDescription="POISONESTUS"<br>Texture=Texture'DeusExDeco.Skins.AlarmLightTex9'<br>Mesh=LodMesh'DeusExDeco.Flask'<br>AmbientGlow=20<br>MultiSkins(0)=Texture'DeusExDeco.Skins.AlarmLightTex9'<br>MultiSkins(1)=Texture'DeusExDeco.Skins.AlarmLightTex9'<br>MultiSkins(2)=Texture'DeusExDeco.Skins.AlarmLightTex9'<br>MultiSkins(3)=Texture'DeusExDeco.Skins.AlarmLightTex9'<br>MultiSkins(4)=Texture'DeusExDeco.Skins.AlarmLightTex9'<br>MultiSkins(5)=Texture'DeusExDeco.Skins.AlarmLightTex9'<br>MultiSkins(6)=Texture'DeusExDeco.Skins.AlarmLightTex9'<br>MultiSkins(7)=Texture'DeusExDeco.Skins.AlarmLightTex9'<br>SoundVolume=64<br>CollisionRadius=4.200000<br>CollisionHeight=7.450000<br>LightBrightness=50<br>LightSaturation=20<br>LightRadius=5<br>Mass=10.000000<br>Buoyancy=8.000000</div>
<h3 id="PoisonEstus.Activate"><a class="headerlink" href="#PoisonEstus.Activate" title="Permanent link">Activate</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;// can't turn it off<br>&#9;<br></div>
<h3 id="PoisonEstus.BecomeItem"><a class="headerlink" href="#PoisonEstus.BecomeItem" title="Permanent link">BecomeItem</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;bEstusArmed=False;<br>&#9;super.BecomeItem();<br><br></div>
<h3 id="PoisonEstus.BecomePickup"><a class="headerlink" href="#PoisonEstus.BecomePickup" title="Permanent link">BecomePickup</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(Owner != None)<br>&#9;&#9;bEstusArmed=True;<br>&#9;super.BecomePickup();<br><br></div>
<h3 id="PoisonEstus.BeginState"><a class="headerlink" href="#PoisonEstus.BeginState" title="Permanent link">BeginState</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;<br>&#9;&#9;GotoState('DeActivated');<br>&#9;<br></div>
<h3 id="PoisonEstus.Destroyed"><a class="headerlink" href="#PoisonEstus.Destroyed" title="Permanent link">Destroyed</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local ProjectileGenerator gen;<br><br>&#9;<br>&#9;<br>&#9;if ( !bEstusArmed )<br>&#9;&#9;return;<br>&#9;&#9;<br>&#9;EstusExplode();<br>&#9;gen = Spawn(class'ProjectileGenerator',,, Location);<br>&#9;if (gen != None)<br>&#9;{<br>     //gen.RemoteRole = ROLE_None;<br>&#9;&#9;//gen.particleDrawScale = 1.0;<br>&#9;&#9;gen.checkTime = 0.05;<br>&#9;&#9;gen.frequency = 1.0;<br>&#9;&#9;gen.ejectSpeed = 200.0;<br>&#9;&#9;//gen.bGravity = True;<br>&#9;&#9;gen.bRandomEject = True;<br>&#9;&#9;gen.ProjectileClass=class'Fireball';<br>&#9;&#9;gen.LifeSpan = 2.0;<br>&#9;}<br>&#9;super.Destroyed();<br><br></div>
<h3 id="PoisonEstus.DropFrom"><a class="headerlink" href="#PoisonEstus.DropFrom" title="Permanent link">DropFrom</a> (vector StartLocation)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;bEstusArmed=True;<br>&#9;super.DropFrom(StartLocation);<br><br></div>
<h3 id="PoisonEstus.EstusUse"><a class="headerlink" href="#PoisonEstus.EstusUse" title="Permanent link">EstusUse</a> (actor p)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;p.TakeDamage(30, Pawn(Owner), vect(0,0,0),vect(0,0,1),'Poison');<br>&#9;SpawnTearGas(p.location);<br><br></div>
<h3 id="PoisonEstus.PreBeginPlay"><a class="headerlink" href="#PoisonEstus.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;// If this is a netgame, then override defaults<br>&#9;if ( Level.NetMode != NM_StandAlone )<br>&#9;&#9;MaxCopies = 1;<br><br></div>
<h3 id="PoisonEstus.SpawnTearGas"><a class="headerlink" href="#PoisonEstus.SpawnTearGas" title="Permanent link">SpawnTearGas</a> (vector target)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Vector loc;<br>&#9;local TearGas gas;<br>&#9;local int i;<br><br><br>&#9;if ( Role < ROLE_Authority )<br>&#9;&#9;return;<br><br>&#9;for (i=0; i<512/36; i++)<br>&#9;{<br>&#9;&#9;if (FRand() < 0.9)<br>&#9;&#9;{<br>&#9;&#9;&#9;loc = target;<br>&#9;&#9;&#9;loc.X += FRand() * 512 - 512 * 0.5;<br>&#9;&#9;&#9;loc.Y += FRand() * 512 - 512 * 0.5;<br>&#9;&#9;&#9;loc.Z += 32;<br>&#9;&#9;&#9;gas = spawn(class'TearGas', None,, loc);<br>&#9;&#9;&#9;if (gas != None)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;gas.Velocity = vect(0,0,0);<br>&#9;&#9;&#9;&#9;gas.Acceleration = vect(0,0,0);<br>&#9;&#9;&#9;&#9;gas.DrawScale = FRand() * 0.5 + 2.0;<br>&#9;&#9;&#9;&#9;gas.LifeSpan = FRand() * 10 + 30;<br>&#9;&#9;&#9;&#9;if ( Level.NetMode != NM_Standalone )<br>&#9;&#9;&#9;&#9;&#9;gas.bFloating = False;<br>&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;gas.bFloating = True;<br>&#9;&#9;&#9;&#9;gas.Instigator = Pawn(Owner);<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="PoisonEstus.TestMPBeltSpot"><a class="headerlink" href="#PoisonEstus.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return (BeltSpot == 9);<br><br></div>
<h3 id="PoisonEstus.estusExplode"><a class="headerlink" href="#PoisonEstus.estusExplode" title="Permanent link">estusExplode</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local SphereEffect sphere;<br>&#9;local ScorchMark s;<br>&#9;local ExplosionLight light;<br>&#9;local int i;<br><br><br>&#9;// alert NPCs that I'm exploding<br>&#9;AISendEvent('LoudNoise', EAITYPE_Audio, , explosionRadius*16);<br>&#9;PlaySound(Sound'LargeExplosion1', SLOT_None,,, explosionRadius*16);<br><br>&#9;// draw a pretty explosion<br>&#9;light = Spawn(class'ExplosionLight',,, Location);<br>&#9;if (light != None)<br>&#9;&#9;light.size = 4;<br><br>&#9;Spawn(class'ExplosionSmall',,, Location + 2*VRand()*CollisionRadius);<br>&#9;Spawn(class'ExplosionMedium',,, Location + 2*VRand()*CollisionRadius);<br>&#9;Spawn(class'ExplosionMedium',,, Location + 2*VRand()*CollisionRadius);<br>&#9;Spawn(class'ExplosionLarge',,, Location + 2*VRand()*CollisionRadius);<br><br>&#9;sphere = Spawn(class'SphereEffect',,, Location);<br>&#9;if (sphere != None)<br>&#9;&#9;sphere.size = explosionRadius / 32.0;<br><br>&#9;// spawn a mark<br>&#9;s = spawn(class'ScorchMark', Base,, Location-vect(0,0,1)*CollisionHeight, Rotation+rot(16384,0,0));<br>&#9;if (s != None)<br>&#9;{<br>&#9;&#9;s.DrawScale = FClamp(explosionDamage/30, 0.1, 3.0);<br>&#9;&#9;s.ReattachDecal();<br>&#9;}<br><br>&#9;// spawn some rocks and flesh fragments<br>&#9;for (i=0; i<explosionDamage/6; i++)<br>&#9;{<br>&#9;&#9;if (FRand() < 0.3)<br>&#9;&#9;&#9;spawn(class'Rockchip',,,Location);<br>&#9;}<br><br>&#9;HurtRadius(explosionDamage, explosionRadius, 'Exploded', explosionDamage*100, Location);<br>&#9;SpawnTearGas(Location);<br><br></div>
<br><br><hr>
<a class="headerlink" href="#PoisonKnife.uc" title="Permanent link"><h2 id="PoisonKnife.uc">PoisonKnife.uc (extends Shuriken)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">DamageType=Poison<br>spawnWeaponClass=Class'PartyStuff.WeaponPoisonKnives'<br>ItemName="Poisoned Throwing Knife"<br>Damage=10.000000</div>
<br><br><hr>
<a class="headerlink" href="#PortableCarpet.uc" title="Permanent link"><h2 id="PortableCarpet.uc">PortableCarpet.uc (extends ChargedPickup)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">ActivateSound=Sound'DeusExSounds.Augmentation.CloakUp'<br>DeActivateSound=None<br>ChargeRemainingLabel="Carpet readiness:"<br>ItemName="Portable Carpet"<br>PlayerViewOffset=(X=20.000000,Z=-12.000000)<br>PlayerViewMesh=LodMesh'DeusExDeco.HKMarketTarp'<br>PlayerViewScale=0.200000<br>PickupViewMesh=LodMesh'DeusExDeco.HKMarketTarp'<br>ThirdPersonMesh=LodMesh'DeusExDeco.HKMarketTarp'<br>ThirdPersonScale=0.250000<br>Charge=8<br>LandSound=Sound'DeusExSounds.Generic.DropLargeWeapon'<br>Icon=Texture'DeusExUI.Icons.BeltIconArmorAdaptive'<br>largeIcon=Texture'DeusExUI.Icons.LargeIconArmorAdaptive'<br>largeIconWidth=35<br>largeIconHeight=49<br>Description="Its a tarp"<br>beltDescription="CARP"<br>Texture=Texture'HK_Interior.Textile.HKM_Rug_04'<br>Skin=Texture'HK_Interior.Textile.HKM_Rug_04'<br>Mesh=LodMesh'DeusExDeco.HKMarketTarp'<br>CollisionRadius=72.000000<br>CollisionHeight=15.000000<br>Mass=10.000000<br>Buoyancy=100.000000</div>
<h3 id="PortableCarpet.ChargedPickupBegin"><a class="headerlink" href="#PortableCarpet.ChargedPickupBegin" title="Permanent link">ChargedPickupBegin</a> (DeusExPlayer Player)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Vector loc,X,Y,Z;<br><br> //  local FlyingTarp CD;<br>      <br>  Spawn(Class'FlyingCarpet',,,Player.Location + (Player.CollisionRadius+Default.CollisionRadius+30) * Vector(Player.ViewRotation) + vect(0,0,1) * 30 );<br> <br>          <br><br>&#9;Super.ChargedPickupBegin(Player);<br>&#9;<br><br></div>
<h3 id="PortableCarpet.TestMPBeltSpot"><a class="headerlink" href="#PortableCarpet.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) || (BeltSpot == 0) );<br><br></div>
<h3 id="PortableCarpet.UsedUp"><a class="headerlink" href="#PortableCarpet.UsedUp" title="Permanent link">UsedUp</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer Player;<br><br><br>&#9;if ( Pawn(Owner) != None )<br>&#9;{<br>&#9;&#9;bActivatable = false;<br>&#9;&#9;<br>&#9;}<br>&#9;Player = DeusExPlayer(Owner);<br><br>&#9;if (Player != None)<br>&#9;{<br>&#9;&#9;if (Player.inHand == Self)<br>&#9;&#9;&#9;ChargedPickupEnd(Player);<br>&#9;}<br><br>&#9;Destroy();<br><br></div>
<br><br><hr>
<a class="headerlink" href="#PowerArmour.uc" title="Permanent link"><h2 id="PowerArmour.uc">PowerArmour.uc (extends PGArmour)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">Dur=25<br>Def=10<br>ItemName="Power Armour"<br>beltDescription="POWER"</div>
<h3 id="PowerArmour.TestMPBeltSpot"><a class="headerlink" href="#PowerArmour.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<br><br><hr>
<a class="headerlink" href="#PropGun.uc" title="Permanent link"><h2 id="PropGun.uc">PropGun.uc (extends DeusExWeapon)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var int Mode;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">GoverningSkill=Class'DeusEx.SkillWeaponPistol'<br>NoiseLevel=0.010000<br>ShotTime=0.150000<br>reloadTime=1.500000<br>HitDamage=0<br>maxRange=4800<br>AccurateRange=2400<br>BaseAccuracy=0.800000<br>bCanHaveScope=True<br>ScopeFOV=25<br>bCanHaveLaser=True<br>recoilStrength=0.100000<br>mpBaseAccuracy=0.200000<br>mpAccurateRange=1200<br>mpMaxRange=1200<br>bCanHaveModBaseAccuracy=True<br>bCanHaveModReloadCount=True<br>bCanHaveModAccurateRange=True<br>bCanHaveModReloadTime=True<br>bInstantHit=True<br>FireOffset=(X=-24.000000,Y=10.000000,Z=14.000000)<br>shakemag=50.000000<br>FireSound=Sound'DeusExSounds.Weapons.StealthPistolFire'<br>AltFireSound=Sound'DeusExSounds.Weapons.StealthPistolReloadEnd'<br>CockingSound=Sound'DeusExSounds.Weapons.StealthPistolReload'<br>SelectSound=Sound'DeusExSounds.Weapons.StealthPistolSelect'<br>InventoryGroup=89<br>ItemName="Prop Gun"<br>PlayerViewOffset=(X=24.000000,Y=-10.000000,Z=-14.000000)<br>PlayerViewMesh=LodMesh'DeusExItems.StealthPistol'<br>PickupViewMesh=LodMesh'DeusExItems.StealthPistolPickup'<br>ThirdPersonMesh=LodMesh'DeusExItems.StealthPistol3rd'<br>Icon=Texture'DeusExUI.Icons.BeltIconStealthPistol'<br>largeIcon=Texture'DeusExUI.Icons.LargeIconStealthPistol'<br>largeIconWidth=47<br>largeIconHeight=37<br>Description="The stealth pistol is a variant of the standard 10mm pistol with a larger clip and integrated silencer designed for wet work at very close ranges."<br>beltDescription="PROP"<br>Mesh=LodMesh'DeusExItems.StealthPistolPickup'<br>CollisionRadius=8.000000<br>CollisionHeight=0.800000</div>
<h3 id="PropGun.CalculateAccuracy"><a class="headerlink" href="#PropGun.CalculateAccuracy" title="Permanent link">CalculateAccuracy</a> -> float</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;return 0.000000; //Dirty hack to always return dead on accuracy.<br><br></div>
<h3 id="PropGun.GetDisplayString"><a class="headerlink" href="#PropGun.GetDisplayString" title="Permanent link">GetDisplayString</a> (Actor P) -> string</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(P.isA('DeusExDecoration'))<br>&#9;&#9;return DeusExDecoration(P).ItemName;<br><br></div>
<h3 id="PropGun.GiveTo"><a class="headerlink" href="#PropGun.GiveTo" title="Permanent link">GiveTo</a> (pawn Other)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(DeusExPlayer(Other).bAdmin)<br>&#9;{<br>&#9;&#9;   super.Giveto(Other);<br>&#9;}<br><br></div>
<h3 id="PropGun.LaserToggle"><a class="headerlink" href="#PropGun.LaserToggle" title="Permanent link">LaserToggle</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Mode++;<br>&#9;if(Mode == 3)<br>&#9;&#9;Mode = 0;<br>&#9;<br>&#9;if(Mode == 0)<br>&#9;&#9;DeusExPlayer(Owner).ClientMessage("Mode is now Toggle Invincible");<br>&#9;else if(Mode == 1)<br>&#9;&#9;DeusExPlayer(Owner).ClientMessage("Mode is now Toggle Pushable");<br>&#9;else if(Mode == 2)<br>&#9;&#9;DeusExPlayer(Owner).ClientMessage("Mode is now Toggle Movable");<br><br></div>
<h3 id="PropGun.PreBeginPlay"><a class="headerlink" href="#PropGun.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;// If this is a netgame, then override defaults<br>&#9;if ( Level.NetMode != NM_StandAlone )<br>&#9;{<br>&#9;&#9;HitDamage = mpHitDamage;<br>&#9;&#9;BaseAccuracy = mpBaseAccuracy;<br>&#9;&#9;ReloadTime = mpReloadTime;<br>&#9;&#9;AccurateRange = mpAccurateRange;<br>&#9;&#9;MaxRange = mpMaxRange;<br>&#9;&#9;ReloadCount = mpReloadCount;<br>&#9;}<br><br></div>
<h3 id="PropGun.ProcessTraceHit"><a class="headerlink" href="#PropGun.ProcessTraceHit" title="Permanent link">ProcessTraceHit</a> (Actor Other, Vector HitLocation, Vector HitNormal, Vector X, Vector Y, Vector Z)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local float        mult;<br>&#9;local name         damageType;<br>&#9;local DeusExPlayer dxPlayer, DXP;<br>&#9;local Pawn P;<br><br>&#9;<br>&#9;&#9;if(Other.isa('DeusExDecoration'))<br>&#9;&#9;{<br>&#9;&#9;&#9;if(Mode == 0)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;DeusExDecoration(Other).bInvincible = !DeusExDecoration(Other).bInvincible;<br>&#9;&#9;&#9;&#9;DeusExPlayer(Owner).ClientMessage("Invincible "$DeusExDecoration(Other).bInvincible);<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;if(Mode == 1)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;DeusExDecoration(Other).bPushable = !DeusExDecoration(Other).bPushable;<br>&#9;&#9;&#9;&#9;DeusExPlayer(Owner).ClientMessage("bPushable "$DeusExDecoration(Other).bPushable);<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;if(Mode == 2)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;DeusExDecoration(Other).bMovable = !DeusExDecoration(Other).bMovable;<br>&#9;&#9;&#9;&#9;DeusExPlayer(Owner).ClientMessage("bMovable "$DeusExDecoration(Other).bMovable);<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;return;<br>&#9;&#9;}&#9;&#9;<br><br></div>
<h3 id="PropGun.ScopeToggle"><a class="headerlink" href="#PropGun.ScopeToggle" title="Permanent link">ScopeToggle</a></h3>

<h3 id="PropGun.TestMPBeltSpot"><a class="headerlink" href="#PropGun.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<br><br><hr>
<a class="headerlink" href="#ProxLamp.uc" title="Permanent link"><h2 id="ProxLamp.uc">ProxLamp.uc (extends Lamp)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var int Mode;<br>var DeusExPlayer tempPwn;<br>var bool bFoundPlayer;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bInvincible=True<br>ItemName="Proximity Lamp"<br>Mesh=LodMesh'DeusExDeco.Lamp2'<br>CollisionRadius=15.000000<br>CollisionHeight=47.000000<br>LightSaturation=0<br>LightRadius=18</div>
<h3 id="ProxLamp.Tick"><a class="headerlink" href="#ProxLamp.Tick" title="Permanent link">Tick</a> (float deltaTime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer player;<br><br><br>&#9;&#9;bFoundPlayer=False;<br>&#9;&#9;foreach VisibleActors(class'DeusExPlayer', player, 256)<br>&#9;&#9;{<br>&#9;&#9;&#9;bFoundPlayer=True;<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(bFoundPlayer && LightType==LT_None)<br>&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;bOn = True;<br>&#9;&#9;&#9;&#9;&#9;LightType = LT_Steady;<br>&#9;&#9;&#9;&#9;&#9;PlaySound(sound'Switch4ClickOn');<br>&#9;&#9;&#9;&#9;&#9;bUnlit = True;<br>&#9;&#9;&#9;&#9;&#9;ScaleGlow = 2.0;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;}<br>&#9;&#9;else if(!bFoundPlayer && LightType==LT_Steady)<br>&#9;&#9;{<br>&#9;&#9;&#9;&#9;bOn = False;<br>&#9;&#9;&#9;&#9;LightType = LT_None;<br>&#9;&#9;&#9;&#9;PlaySound(sound'Switch4ClickOff');<br>&#9;&#9;&#9;&#9;bUnlit = False;<br>&#9;&#9;&#9;&#9;ResetScaleGlow();<br>&#9;&#9;}<br>&#9;Super.Tick(deltaTime);<br><br></div>
<br><br><hr>
<a class="headerlink" href="#RaceMarker.uc" title="Permanent link"><h2 id="RaceMarker.uc">RaceMarker.uc (extends DeusExDecoration)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var int Secs, Mins;<br>var bool bDisabled;<br>var RaceMarker EndPoint, StartPoint;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">HitPoints=100<br>bInvincible=True<br>bHighlight=False<br>ItemName="Race Marker"<br>bPushable=False<br>Physics=PHYS_Rotating<br>Style=STY_Translucent<br>Texture=Texture'DeusExUI.UserInterface.AugIconCombat_Small'<br>Mesh=LodMesh'DeusExDeco.Lightbulb'<br>AmbientGlow=255<br>Fatness=140<br>CollisionRadius=5.000000<br>CollisionHeight=8.000000<br>bBlockPlayers=False<br>LightType=LT_Steady<br>LightBrightness=100<br>LightSaturation=255<br>LightRadius=10<br>bFixedRotationDir=True<br>RotationRate=(Yaw=8192)</div>
<h3 id="RaceMarker.PostBeginPlay"><a class="headerlink" href="#RaceMarker.PostBeginPlay" title="Permanent link">PostBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local RaceMarker RM;<br><br>&#9;<br>&#9;foreach AllActors(class'RaceMarker', RM)<br>&#9;{<br>&#9;&#9;<br>&#9;}<br><br></div>
<h3 id="RaceMarker.RadialCollect"><a class="headerlink" href="#RaceMarker.RadialCollect" title="Permanent link">RadialCollect</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local PlayerPawn P, winP;<br>&#9;local vector dist;<br>&#9;local float lowestDist;<br><br><br>&#9;lowestDist = 1024;<br><br>&#9;foreach VisibleActors(class'PlayerPawn', P, 50)<br>&#9;{<br>&#9;&#9;if(P != None && !P.IsInState('Dying') && P.Health > 0)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(vSize(P.Location - Location) < lowestDist)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;winP = P;<br>&#9;&#9;&#9;&#9;lowestDist = vSize(P.Location - Location);<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br><br>&#9;if(winP != None)<br>&#9;{<br>&#9;&#9;winP.ClientMessage("weehee");<br>&#9;}<br><br></div>
<h3 id="RaceMarker.Tick"><a class="headerlink" href="#RaceMarker.Tick" title="Permanent link">Tick</a> (float deltatime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;super.Tick(deltatime);<br><br>&#9;RadialCollect();<br><br></div>
<h3 id="RaceMarker.Timer"><a class="headerlink" href="#RaceMarker.Timer" title="Permanent link">Timer</a></h3>

<br><br><hr>
<a class="headerlink" href="#RadarDrone.uc" title="Permanent link"><h2 id="RadarDrone.uc">RadarDrone.uc (extends DXRobot)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var float explosionradius;<br>var() float hoverdistance; //how close to get to the player.<br>var DeusExPlayer myOwner;<br>var(Sounds) sound BeepActive, BeepPassive;<br>var bool bDoneDanger, bDoneWorry;<br>var string DangerString, WorryString;<br>var bool bSilence;<br>var ToolRadarD LinkedTool;<br>var int pOrders;<br>var int RocketsRemain, rrocketsremain;<br>var float DroneRange;<br>var class<inventory> storedinv, rstoredinv;<br>var string iv;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">explosionRadius=100.000000<br>hoverdistance=200.000000<br>BeepActive=Sound'DeusExSounds.Generic.TurretSwitch'<br>RocketsRemain=30<br>rrocketsremain=30<br>EMPHitPoints=40<br>Saymsg="I have no owner right now, grab a radar controller and let's hunt some n00bs!"<br>MinHealth=20.000000<br>bMustFaceTarget=True<br>bCanStrafe=True<br>AirSpeed=1000.000000<br>AccelRate=350.000000<br>Health=600<br>DrawType=DT_Mesh<br>Mesh=LodMesh'DeusExCharacters.SpyDrone'<br>SoundRadius=24<br>SoundVolume=92<br>AmbientSound=Sound'DeusExSounds.Augmentation.AugDroneLoop'<br>CollisionRadius=13.000000<br>CollisionHeight=2.760000<br>bBlockPlayers=False<br>Mass=20.000000<br>BindName="Drone"<br>FamiliarName="RADAR Drone"<br>UnfamiliarName="RADAR Drone"</div>
<h3 id="RadarDrone.BeginState"><a class="headerlink" href="#RadarDrone.BeginState" title="Permanent link">BeginState</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;setphysics(PHYS_flying); //added<br>&#9;&#9;StandUp();<br>&#9;&#9;//Disable('AnimEnd');<br>&#9;&#9;bStasis = False;<br>&#9;&#9;SetupWeapon(false);<br>&#9;&#9;SetDistress(false);<br>&#9;&#9;BackpedalTimer = -1;<br>&#9;&#9;SeekPawn = None;<br>&#9;&#9;EnableCheckDestLoc(true);<br>&#9;<br></div>
<h3 id="RadarDrone.DFX"><a class="headerlink" href="#RadarDrone.DFX" title="Permanent link">DFX</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local SphereEffect sphere;<br><br>&#9;sphere = Spawn(class'SphereEffect',,, Location);<br>&#9;if (sphere != None)<br>&#9;{<br>&#9;sphere.RemoteRole = ROLE_None;<br>&#9;sphere.size = explosionradius / 32.0;<br>&#9;Sphere.MultiSkins[0]=Texture'DeusExDeco.Skins.AlarmLightTex3';<br>&#9;}<br><br></div>
<h3 id="RadarDrone.EndState"><a class="headerlink" href="#RadarDrone.EndState" title="Permanent link">EndState</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;EnableCheckDestLoc(false);<br>&#9;&#9;bAcceptBump = False;<br>&#9;&#9;//Enable('AnimEnd');<br>&#9;&#9;bStasis = True;<br>&#9;&#9;StopBlendAnims();<br>&#9;<br></div>
<h3 id="RadarDrone.ExplodeNuke"><a class="headerlink" href="#RadarDrone.ExplodeNuke" title="Permanent link">ExplodeNuke</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local ScorchMark s;<br>&#9;local ExplosionLight light;<br>&#9;local int i;<br>&#9;local float explosionDamage;<br>&#9;local float explosionRadius;<br><br><br>&#9;explosionDamage = 1000;<br>&#9;explosionRadius = 1500;<br><br>&#9;PlaySound(Sound'LargeExplosion1', SLOT_None,,, explosionRadius*16);<br><br>&#9;light = Spawn(class'ExplosionLight',,, Location);<br>&#9;if (light != None)<br>&#9;&#9;light.size = 4;<br><br>&#9;Spawn(class'ExplosionSmall',,, Location + 2*VRand()*CollisionRadius);<br>&#9;Spawn(class'ExplosionMedium',,, Location + 2*VRand()*CollisionRadius);<br>&#9;Spawn(class'ExplosionMedium',,, Location + 2*VRand()*CollisionRadius);<br>&#9;Spawn(class'ExplosionLarge',,, Location + 2*VRand()*CollisionRadius);<br><br>&#9;Destroy();<br>&#9;PlayDyingSound();<br>&#9;HurtRadius(explosionDamage, explosionRadius, 'Exploded', explosionDamage*100, Location);<br><br></div>
<h3 id="RadarDrone.Frob"><a class="headerlink" href="#RadarDrone.Frob" title="Permanent link">Frob</a> (Actor Frobber, Inventory frobWith)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local ToolRadarD TRD;<br>&#9;local inventory ga,inv;<br><br>&#9;if(myOwner != None && myOwner == DeusExPlayer(Frobber))<br>&#9;{<br>&#9;&#9;if(storedinv != None)<br>&#9;&#9;{<br>&#9;&#9;&#9;&#9;SilentAdd(storedInv, DeusExPlayer(Frobber));<br>&#9;&#9;&#9;&#9;Storedinv = None;&#9;&#9;<br>&#9;&#9;&#9;&#9;rstoredinv = Storedinv;<br>&#9;&#9;&#9;&#9;iv = "NONE";<br>&#9;&#9;&#9;return;<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;}<br>&#9;&#9;if(myOwner.Inhand != None && storedinv == None)<br>&#9;&#9;{<br>&#9;&#9;&#9;storedinv = myOwner.inhand.Class;<br>&#9;&#9;&#9;rstoredinv = myOwner.inhand.Class;<br>&#9;&#9;&#9;IV = myOwner.inhand.itemname;<br>&#9;&#9;&#9;myOwner.inhand.Destroy();<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;&#9;myOwner = None;<br>&#9;&#9;GotoState('Waiting');<br>&#9;&#9;ExtSay("Drone released.");<br>&#9;&#9;DeusExPlayer(Frobber).ClientMessage("Radar off.");<br>&#9;&#9;foreach Allactors(class'toolradard',trd)<br>&#9;&#9;&#9;if(trd.LinkedDrone == Self)<br>&#9;&#9;&#9;&#9;trd.LinkedDrone = None;<br>&#9;&#9;return;<br>&#9;}<br>&#9;<br>&#9;if(myOwner == None)<br>&#9;{<br>&#9;&#9;myOwner = DeusExPlayer(Frobber);<br>&#9;&#9;GotoState('following');<br>&#9;&#9;ExtSay("Now following "$myOwner.PlayerReplicationinfo.PlayerName$".");<br>&#9;&#9;foreach Allactors(class'toolradard',trd)<br>&#9;&#9;&#9;if(trd.Owner == Frobber)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;trd.LinkedDrone = Self;<br>&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(storedinv == none)<br>&#9;&#9;&#9;&#9;iv="none";&#9;&#9;<br>&#9;&#9;SilentAdd(class'toolRadarD', myOwner);<br>&#9;&#9;SetTimer(1,False);<br>&#9;&#9;return;<br>&#9;}<br><br></div>
<h3 id="RadarDrone.HitWall"><a class="headerlink" href="#RadarDrone.HitWall" title="Permanent link">HitWall</a> (vector HitNormal, actor Wall)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;if (Physics == PHYS_Falling)<br>&#9;&#9;&#9;return;<br>&#9;&#9;Global.HitWall(HitNormal, Wall);<br>&#9;&#9;CheckOpenDoor(HitNormal, Wall);<br>&#9;<br></div>
<h3 id="RadarDrone.PickDestination"><a class="headerlink" href="#RadarDrone.PickDestination" title="Permanent link">PickDestination</a> -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local float   dist;<br>&#9;local float   extra;<br>&#9;local float   distMax;<br>&#9;local int     dir;<br>&#9;local rotator rot;<br>&#9;local bool    bSuccess;<br><br><br>&#9;&#9;if(myOwner == None)<br>&#9;&#9;&#9;return False;<br>&#9;&#9;bSuccess = false;<br>&#9;&#9;destPoint = None;<br>&#9;&#9;destLoc   = vect(0, 0, 0);<br>&#9;&#9;extra = myOwner.CollisionRadius + CollisionRadius;<br>&#9;&#9;dist = VSize(myOwner.Location - Location);<br>&#9;&#9;dist -= extra;<br>&#9;&#9;if (dist < 0)<br>&#9;&#9;&#9;dist = 0;<br><br>&#9;&#9;if ((dist > 180) || (AICanSee(myOwner, , false, false, false, true) <= 0))<br>&#9;&#9;{<br>&#9;&#9;&#9;if (ActorReachable(myOwner))<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;rot = Rotator(myOwner.Location - Location);<br>&#9;&#9;&#9;&#9;distMax = (dist-180)+45;<br>&#9;&#9;&#9;&#9;if (distMax > 80)<br>&#9;&#9;&#9;&#9;&#9;distMax = 80;<br>&#9;&#9;&#9;&#9;bSuccess = AIDirectionReachable(Location, rot.Yaw, rot.Pitch, 0, distMax, destLoc);<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;MoveTarget = FindPathToward(myOwner);<br>&#9;&#9;&#9;&#9;if (MoveTarget != None)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;destPoint = MoveTarget;<br>&#9;&#9;&#9;&#9;&#9;bSuccess = true;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;BackpedalTimer = -1;<br>&#9;&#9;}<br>&#9;&#9;else if (dist < 60)<br>&#9;&#9;{<br>&#9;&#9;&#9;if (BackpedalTimer < 0)<br>&#9;&#9;&#9;&#9;BackpedalTimer = 0;<br>&#9;&#9;&#9;if (BackpedalTimer > 1.0)  // give the player enough time to converse, if he wants to<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;rot = Rotator(Location - myOwner.Location);<br>&#9;&#9;&#9;&#9;bSuccess = AIDirectionReachable(myOwner.Location, rot.Yaw, rot.Pitch, 60+extra, 120+extra, destLoc);<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;&#9;BackpedalTimer = -1;<br><br>&#9;&#9;return (bSuccess);<br>&#9;<br></div>
<h3 id="RadarDrone.SetFall"><a class="headerlink" href="#RadarDrone.SetFall" title="Permanent link">SetFall</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;StartFalling('Following', 'ContinueFollow');<br>&#9;<br></div>
<h3 id="RadarDrone.ShouldFlee"><a class="headerlink" href="#RadarDrone.ShouldFlee" title="Permanent link">ShouldFlee</a> -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;return false;<br><br></div>
<h3 id="RadarDrone.SilentAdd"><a class="headerlink" href="#RadarDrone.SilentAdd" title="Permanent link">SilentAdd</a> (class<inventory> addClass, DeusExPlayer addTarget)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Inventory anItem;<br> <br>&#9;<br>&#9;anItem = Spawn(addClass,,,addTarget.Location); <br>&#9;anItem.SpawnCopy(addTarget);<br>&#9;anItem.Destroy();<br>&#9;/*anItem.Instigator = addTarget; <br>&#9;anItem.GotoState('Idle2'); <br>&#9;anItem.bHeldItem = true; <br>&#9;anItem.bTossedOut = false; <br>&#9;<br>&#9;if(Weapon(anItem) != None) <br>&#9;&#9;Weapon(anItem).GiveAmmo(addTarget); <br>&#9;anItem.GiveTo(addTarget);*/<br><br></div>
<h3 id="RadarDrone.Tick"><a class="headerlink" href="#RadarDrone.Tick" title="Permanent link">Tick</a> (float deltaSeconds)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local float AreWeTooFar;<br>&#9;local Inventory Inv;<br><br>&#9;&#9;Global.Tick(deltaSeconds);<br>&#9;&#9;if(myOwner != None)<br>&#9;&#9;{<br>&#9;&#9;&#9;AreWeTooFar = Abs(VSize(myOwner.Location - Location));<br>&#9;&#9;&#9;if(AreWeTooFar > 650)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'Inventory', Inv)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;if (Inv.Owner == myOwner)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if (Inv.IsA('ToolRadarD')) <br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;ToolRadarD(Inv).Recreation();<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if (BackpedalTimer >= 0)<br>&#9;&#9;&#9;BackpedalTimer += deltaSeconds;<br><br>&#9;&#9;animTimer[1] += deltaSeconds;<br>&#9;&#9;if ((Physics == PHYS_Walking) && (myOwner != None))<br>&#9;&#9;{<br>&#9;&#9;&#9;if (Acceleration == vect(0,0,0))<br>&#9;&#9;&#9;&#9;LookAtActor(myOwner, true, true, true, 0, 0.25);<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;PlayTurnHead(LOOK_Forward, 1.0, 0.25);<br>&#9;&#9;}<br>&#9;<br></div>
<h3 id="RadarDrone.Timer"><a class="headerlink" href="#RadarDrone.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int range;<br>&#9;local DeusExPlayer player;<br>&#9;local ShockRing SE;<br><br>&#9;<br>&#9;&#9;range=0;<br>&#9;&#9;foreach RadiusActors(class'DeusExPlayer', player, 350, Location)<br>&#9;&#9;{<br>&#9;&#9;&#9;if (player != None && player != myOwner)<br>&#9;&#9;&#9;&#9;range=2;&#9;&#9;<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;foreach RadiusActors(class'DeusExPlayer', player, 1000, Location)<br>&#9;&#9;{<br>&#9;&#9;&#9;if (player != None && player != myOwner && range != 2)<br>&#9;&#9;&#9;&#9;range=1;&#9;&#9;<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;<br>&#9;if(myOwner != None && Range==0)<br>&#9;{<br>&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;if(bDoneDanger || bDoneWorry)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;myOwner.PlaySound(Sound'DeusExSounds.Robot.SecurityBot3TargetLost', SLOT_Talk,2,,1024,);<br>&#9;&#9;&#9;&#9;bDoneDanger=False;<br>&#9;&#9;&#9;&#9;bDoneWorry=False;<br>&#9;&#9;&#9;&#9;myOwner.ClientMessage("RADAR Drone: Sorry, "$myOwner.PlayerReplicationinfo.PlayerName$", I guess it was nothing.", 'TeamSay');&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;}<br>&#9;}<br>&#9;if(myOwner != None && Range==2)<br>&#9;{<br>&#9;&#9;if(!bDoneDanger)<br>&#9;&#9;{<br>&#9;&#9;myOwner.PlaySound(Sound'DeusExSounds.Robot.SecurityBot3TargetAcquired', SLOT_Talk,2,,1024,);<br>&#9;&#9;&#9;myOwner.ClientMessage("RADAR Drone: Hey, "$myOwner.PlayerReplicationinfo.PlayerName$", there's someone very close by!", 'TeamSay');<br>&#9;&#9;}<br>&#9;&#9;bDoneDanger=True;<br>&#9;&#9;&#9;if(!bSilence)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;PlaySound(BeepActive, SLOT_None,200,, 255);<br>&#9;&#9;&#9;&#9;SE = Spawn(class'ShockRing',,, Location);<br>&#9;&#9;&#9;&#9;SE.Lifespan = 0.5;&#9;&#9;<br>&#9;&#9;&#9;}<br>&#9;&#9;SetTimer(0.5,False);<br>&#9;}<br>&#9;if(myOwner != None && Range==1)<br>&#9;{<br>&#9;&#9;if(!bDoneworry)<br>&#9;&#9;{<br>&#9;&#9;myOwner.PlaySound(Sound'DeusExSounds.Robot.SecurityBot3TargetAcquired', SLOT_Talk,2,,1024,);<br>&#9;&#9;&#9;myOwner.ClientMessage("RADAR Drone: Wait, "$myOwner.PlayerReplicationinfo.PlayerName$", did you hear something?", 'TeamSay');<br>&#9;&#9;}<br>&#9;&#9;bDoneWorry=True;<br>&#9;&#9;&#9;if(!bSilence)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;PlaySound(BeepActive, SLOT_None,200,, 255);<br>&#9;&#9;&#9;&#9;SE = Spawn(class'ShockRing',,, Location);<br>&#9;&#9;&#9;&#9;SE.Lifespan = 1;&#9;&#9;<br>&#9;&#9;&#9;}<br>&#9;&#9;SetTimer(1.3,False);<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#RaidActor.uc" title="Permanent link"><h2 id="RaidActor.uc">RaidActor.uc (extends PGActors)</h2></a>

<br><br><hr>
<a class="headerlink" href="#Replicator.uc" title="Permanent link"><h2 id="Replicator.uc">Replicator.uc (extends DeusExWeapon)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var() class<Actor> StoredActor;<br>var string rStoredActor;<br>var() rotator storedRotation;<br>var bool bRotLock;<br>var bool bAdminUnlocked, bRepAdminUnlocked;<br>var int Uses, rUses;<br>var string iv;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">rstoredactor="NONE"<br>GoverningSkill=Class'DeusEx.SkillWeaponPistol'<br>NoiseLevel=0.010000<br>ShotTime=0.150000<br>reloadTime=1.500000<br>HitDamage=0<br>maxRange=4800<br>AccurateRange=2400<br>BaseAccuracy=0.800000<br>bCanHaveScope=True<br>ScopeFOV=25<br>bCanHaveLaser=True<br>recoilStrength=0.100000<br>mpBaseAccuracy=0.200000<br>mpAccurateRange=1200<br>mpMaxRange=1200<br>bCanHaveModBaseAccuracy=True<br>bCanHaveModReloadCount=True<br>bCanHaveModAccurateRange=True<br>bCanHaveModReloadTime=True<br>bInstantHit=True<br>FireOffset=(X=-24.000000,Y=10.000000,Z=14.000000)<br>shakemag=50.000000<br>FireSound=Sound'DeusExSounds.Weapons.StealthPistolFire'<br>AltFireSound=Sound'DeusExSounds.Weapons.StealthPistolReloadEnd'<br>CockingSound=Sound'DeusExSounds.Weapons.StealthPistolReload'<br>SelectSound=Sound'DeusExSounds.Weapons.StealthPistolSelect'<br>InventoryGroup=147<br>ItemName="Replicator Gun"<br>PlayerViewOffset=(X=24.000000,Y=-10.000000,Z=-14.000000)<br>PlayerViewMesh=LodMesh'DeusExItems.StealthPistol'<br>PickupViewMesh=LodMesh'DeusExItems.StealthPistolPickup'<br>ThirdPersonMesh=LodMesh'DeusExItems.StealthPistol3rd'<br>Icon=Texture'DeusExUI.Icons.BeltIconStealthPistol'<br>largeIcon=Texture'DeusExUI.Icons.LargeIconStealthPistol'<br>largeIconWidth=47<br>largeIconHeight=37<br>Description="The stealth pistol is a variant of the standard 10mm pistol with a larger clip and integrated silencer designed for wet work at very close ranges."<br>beltDescription="REPLICATE"<br>Mesh=LodMesh'DeusExItems.StealthPistolPickup'<br>CollisionRadius=8.000000<br>CollisionHeight=0.800000</div>
<h3 id="Replicator.CalculateAccuracy"><a class="headerlink" href="#Replicator.CalculateAccuracy" title="Permanent link">CalculateAccuracy</a> -> float</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;return 0.000000; //Dirty hack to always return dead on accuracy.<br><br></div>
<h3 id="Replicator.GetDisplayString"><a class="headerlink" href="#Replicator.GetDisplayString" title="Permanent link">GetDisplayString</a> (Actor P) -> string</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(P.isA('ScriptedPawn'))<br>&#9;&#9;return ScriptedPawn(P).FamiliarName;<br>&#9;else if(P.isA('DeusExDecoration'))<br>&#9;&#9;return DeusExDecoration(P).ItemName;<br><br></div>
<h3 id="Replicator.GiveTo"><a class="headerlink" href="#Replicator.GiveTo" title="Permanent link">GiveTo</a> (pawn Other)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>    super.Giveto(Other);<br>&#9;DeusExPlayer(Other).ClientMessage("Fire at an object to begin.");<br>&#9;if(DeusExPlayer(Other).bAdmin)<br>&#9;{<br>&#9;&#9;bAdminUnlocked=True;<br>&#9;&#9;bRepAdminUnlocked=True;<br>&#9;&#9;Uses=10;<br>&#9;&#9;rUses=10;<br>&#9;&#9;DeusExPlayer(Other).ClientMessage("ADMIN UNLOCKED! Unlimited uses.");<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;DeusExPlayer(Other).ClientMessage("Limited uses.");<br>&#9;&#9;Uses=10;<br>&#9;&#9;rUses=10;<br>&#9;&#9;bAdminUnlocked=False;<br>&#9;&#9;bRepAdminUnlocked=false;<br>&#9;}<br>&#9;StoredActor = None;<br>&#9;rstoredactor = "NONE";<br>&#9;iv = "NONE";<br>&#9;SetTimer(10,True);<br><br></div>
<h3 id="Replicator.LaserToggle"><a class="headerlink" href="#Replicator.LaserToggle" title="Permanent link">LaserToggle</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(StoredActor != None)<br>&#9;{<br>&#9;bRotLock = !bRotLock;<br>&#9;DeusExPlayer(Owner).ClientMessage("rotation Lock: "$bRotLock);<br>&#9;}<br><br></div>
<h3 id="Replicator.PreBeginPlay"><a class="headerlink" href="#Replicator.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;// If this is a netgame, then override defaults<br>&#9;if ( Level.NetMode != NM_StandAlone )<br>&#9;{<br>&#9;&#9;HitDamage = mpHitDamage;<br>&#9;&#9;BaseAccuracy = mpBaseAccuracy;<br>&#9;&#9;ReloadTime = mpReloadTime;<br>&#9;&#9;AccurateRange = mpAccurateRange;<br>&#9;&#9;MaxRange = mpMaxRange;<br>&#9;&#9;ReloadCount = mpReloadCount;<br>&#9;}<br><br></div>
<h3 id="Replicator.ProcessTraceHit"><a class="headerlink" href="#Replicator.ProcessTraceHit" title="Permanent link">ProcessTraceHit</a> (Actor Other, Vector HitLocation, Vector HitNormal, Vector X, Vector Y, Vector Z)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local float        mult;<br>&#9;local name         damageType;<br>&#9;local DeusExPlayer dxPlayer, DXP;<br>&#9;local Pawn P;<br><br>&#9;<br>&#9;if(StoredActor == None)<br>&#9;{<br>&#9;&#9;if(Other.isa('ScriptedPawn'))<br>&#9;&#9;{<br>&#9;&#9;&#9;StoredActor = Other.Class;<br>&#9;&#9;&#9;rstoredactor = GetDisplayString(Other);<br>&#9;&#9;&#9;StoredRotation = Other.Rotation;<br>&#9;&#9;&#9;iv = GetDisplayString(Other);<br>&#9;&#9;&#9;DeusExPlayer(Owner).ClientMessage("Stored: "$GetDisplayString(Other));<br>&#9;&#9;&#9;DeusExPlayer(Owner).ClientMessage("Fire now spawns. Laser to toggle rotation. Scope to clear");<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;&#9;else if(Other.isa('Decoration'))<br>&#9;&#9;{<br>&#9;&#9;&#9;StoredActor = Other.Class;<br>&#9;&#9;&#9;rstoredactor = GetDisplayString(Other);;<br>&#9;&#9;&#9;StoredRotation = Other.Rotation;<br>&#9;&#9;&#9;iv = GetDisplayString(Other);<br>&#9;&#9;&#9;DeusExPlayer(Owner).ClientMessage("Stored: "$GetDisplayString(Other));<br>&#9;&#9;&#9;DeusExPlayer(Owner).ClientMessage("Fire now spawns. Laser to toggle rotation. Scope to clear");<br>&#9;&#9;&#9;return;<br>&#9;&#9;}&#9;&#9;<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;if(bAdminUnlocked)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(bRotLock)<br>&#9;&#9;&#9;Spawn(StoredActor,,,HitLocation, StoredRotation);<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;Spawn(StoredActor,,,HitLocation, Owner.Rotation);&#9;&#9;<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;{<br>&#9;&#9;&#9;if(Uses > 0)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;Uses--;<br>&#9;&#9;&#9;&#9;rUses=Uses;<br>&#9;&#9;&#9;&#9;DeusExPlayer(Owner).ClientMessage(Uses$" uses remaining...");<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;if(bRotLock)<br>&#9;&#9;&#9;&#9;Spawn(StoredActor,,,HitLocation, StoredRotation);<br>&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;Spawn(StoredActor,,,HitLocation, Owner.Rotation);<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;DeusExPlayer(Owner).ClientMessage("Replicator is used up and needs to recharge...");<br>&#9;&#9;&#9;}&#9;&#9;<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="Replicator.RenderOverlays"><a class="headerlink" href="#Replicator.RenderOverlays" title="Permanent link">RenderOverlays</a> (canvas Canvas)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer P;<br>&#9;local Actor CrosshairTarget;<br>&#9;local float Scale, Accuracy, Dist;<br>&#9;local vector HitLocation, HitNormal, StartTrace, EndTrace, X,Y,Z;<br>&#9;local vector loc, line;<br>&#9;local String KeyName, Alias, curKeyName;<br>&#9;local int i;<br><br>&#9;Super.RenderOverlays(Canvas);<br>&#9;P = DeusExPlayer(Owner);<br>&#9;if ( P != None ) <br>&#9;{&#9;<br>&#9;&#9;&#9;&#9;bOwnsCrossHair = True; <br>&#9;&#9;&#9;&#9;Scale = Canvas.ClipX/640;<br>&#9;&#9;&#9;&#9;Canvas.SetPos(0.5 * Canvas.ClipX - 16 * Scale, 0.5 * Canvas.ClipY - 16 * Scale );<br>&#9;&#9;&#9;&#9;//Canvas.Style = ERenderStyle.STY_Translucent;<br>&#9;&#9;&#9;&#9;Canvas.DrawColor.R = 255;<br>&#9;&#9;&#9;&#9;Canvas.DrawColor.G = 250;<br>&#9;&#9;&#9;&#9;Canvas.DrawColor.B = 255;<br>&#9;&#9;&#9;&#9;Canvas.Font = Canvas.SmallFont;<br>&#9;&#9;&#9;&#9;curKeyName = "";<br>&#9;&#9;&#9;&#9;for ( i=0; i<255; i++ )<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;KeyName = Owner.ConsoleCommand ( "KEYNAME "$i );<br>&#9;&#9;&#9;&#9;&#9;if ( KeyName != "" )<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;Alias = Owner.ConsoleCommand( "KEYBINDING "$KeyName );<br>&#9;&#9;&#9;&#9;&#9;&#9;if ( Alias ~= "ToggleScope" )<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;curKeyName = KeyName;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;break;<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;if ( curKeyName ~= "" )<br>&#9;&#9;&#9;&#9;&#9;curKeyName = "NONE";<br>&#9;&#9;&#9;&#9;if(bRepAdminUnlocked)<br>&#9;&#9;&#9;&#9;&#9;Canvas.DrawText("       Stored Class: "$iv$" ["$curKeyName$" to clear]");<br>&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;Canvas.DrawText("       ["$rUses$"/10] Stored Class: "$iv$" ["$curKeyName$" to clear]");<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;bOwnsCrossHair = False; // Only for compatibility with HDX50&#9;&#9;<br>&#9;&#9;//<br></div>
<h3 id="Replicator.ScopeToggle"><a class="headerlink" href="#Replicator.ScopeToggle" title="Permanent link">ScopeToggle</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(StoredActor != None)<br>&#9;{<br>&#9;StoredActor = None;<br>&#9;rstoredactor = "NONE";<br>&#9;iv = "NONE";<br>&#9;DeusExPlayer(Owner).ClientMessage("Object cleared.");<br>&#9;}<br><br></div>
<h3 id="Replicator.TestMPBeltSpot"><a class="headerlink" href="#Replicator.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<h3 id="Replicator.Timer"><a class="headerlink" href="#Replicator.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(Uses < 10)<br>&#9;{<br>&#9;Uses++;<br>&#9;rUses=Uses;<br>&#9;DeusExPlayer(Owner).ClientMessage("Replicator is charging... Now at "$Uses$"/10");&#9;<br>&#9;}<br><br><br></div>
<br><br><hr>
<a class="headerlink" href="#RestPoint.uc" title="Permanent link"><h2 id="RestPoint.uc">RestPoint.uc (extends DeusExDecoration)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var DeusExPlayer ConfirmRest;<br>var DeusExPlayer Rester;<br>var() string RestPointMessage;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">RestPointMessage="It seems okay to rest here for a while. Press again to confirm."<br>bInvincible=True<br>ItemName="Rest Point"<br>bPushable=False<br>DrawType=DT_Sprite<br>Style=STY_Translucent<br>Texture=Texture'DeusExDeco.Skins.AlarmLightTex6'<br>Skin=Texture'DeusExDeco.Skins.AlarmLightTex6'<br>DrawScale=1.500000<br>CollisionRadius=45.200001<br>CollisionHeight=32.000000<br>bBlockPlayers=False</div>
<h3 id="RestPoint.Frob"><a class="headerlink" href="#RestPoint.Frob" title="Permanent link">Frob</a> (Actor Frobber, Inventory frobWith)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer P;<br><br><br>&#9;Super.Frob(frobber, frobwith);<br><br>&#9;P=DeusExPlayer(Frobber);<br>&#9;<br>&#9;if(Rester != None)<br>&#9;&#9;return;<br>&#9;&#9;<br>&#9;if(P == ConfirmRest)<br>&#9;{<br>&#9;&#9;PlayerRest(P);<br>&#9;&#9;return;<br>&#9;}<br><br>&#9;P.ClientMessage(RestPointMessage);<br>&#9;ConfirmRest = P;<br><br></div>
<h3 id="RestPoint.PlayerRest"><a class="headerlink" href="#RestPoint.PlayerRest" title="Permanent link">PlayerRest</a> (DeusExPlayer P)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;P.HealPlayer(200, false);<br>&#9;P.ClientFlash(6, vect(1000,1000,1000));<br>&#9;bBlockPlayers = true;<br>&#9;Rester = P;<br>&#9;SetTimer(4.5, false);<br><br></div>
<h3 id="RestPoint.Tick"><a class="headerlink" href="#RestPoint.Tick" title="Permanent link">Tick</a> (float deltaTime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(Rester!=None)<br>&#9;{<br>&#9;&#9;Rester.SetLocation(Location);<br>&#9;}<br><br></div>
<h3 id="RestPoint.Timer"><a class="headerlink" href="#RestPoint.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Rester.ClientMessage("You're rested...");<br>&#9;Rester = none; //Free to go.<br>&#9;bBlockPlayers = false;<br><br></div>
<br><br><hr>
<a class="headerlink" href="#ReturnArmour.uc" title="Permanent link"><h2 id="ReturnArmour.uc">ReturnArmour.uc (extends DeusExPickup)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">ItemName="Return Armour"<br>ItemArticle="some"<br>PlayerViewOffset=(X=30.000000,Z=-12.000000)<br>PlayerViewMesh=LodMesh'DeusExItems.AdaptiveArmor'<br>PickupViewMesh=LodMesh'DeusExItems.AdaptiveArmor'<br>ThirdPersonMesh=LodMesh'DeusExItems.AdaptiveArmor'<br>Charge=500<br>LandSound=Sound'DeusExSounds.Generic.PaperHit2'<br>Icon=Texture'DeusExUI.Icons.BeltIconArmorAdaptive'<br>largeIcon=Texture'DeusExUI.Icons.LargeIconArmorAdaptive'<br>largeIconWidth=35<br>largeIconHeight=49<br>Description="Integrating woven fiber-optics and an advanced computing system, thermoptic camo can render an agent invisible to both humans and bots by dynamically refracting light and radar waves; however, the high power drain makes it impractial for more than short-term use, after which the circuitry is fused and it becomes useless."<br>beltDescription="RETURN"<br>Mesh=LodMesh'DeusExItems.AdaptiveArmor'<br>MultiSkins(1)=FireTexture'Effects.UserInterface.WhiteStatic'<br>CollisionRadius=11.500000<br>CollisionHeight=13.810000<br>Mass=30.000000<br>Buoyancy=20.000000</div>
<h3 id="ReturnArmour.TestMPBeltSpot"><a class="headerlink" href="#ReturnArmour.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<br><br><hr>
<a class="headerlink" href="#RocketDrone.uc" title="Permanent link"><h2 id="RocketDrone.uc">RocketDrone.uc (extends DeusExProjectile)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var float time;<br>var float dist;<br>var Rotator dir;<br>var vector TargetLocation;<br>var rotator TargetDir;<br>var rotator RandomAdd;<br>var rotator HeightAdjAdd;<br>var rotator Rand;<br>var() float proxRadius;<br>var() bool bfalloff;<br>var() float certainity;<br>var float certainity2;<br>var() float drunkness;<br>var() float sharpness;<br>var() float heightAdj;<br>var() float tickTime;<br>var() float minMass;<br>var rotator RotationOld;<br>var Pawn P;<br>var Pawn Itarget;<br>var pawn Ignorer;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">proxRadius=800.000000<br>certainity=1.000000<br>drunkness=0.100000<br>sharpness=1.000000<br>tickTime=0.100000<br>minMass=40.000000<br>bExplodes=True<br>bBlood=True<br>bDebris=True<br>blastRadius=64.000000<br>DamageType=exploded<br>AccurateRange=14400<br>maxRange=24000<br>ItemName="Drone Rocket"<br>ItemArticle="a"<br>speed=700.000000<br>MaxSpeed=1500.000000<br>Damage=50.000000<br>MomentumTransfer=10000<br>SpawnSound=Sound'DeusExSounds.Weapons.GEPGunFire'<br>ImpactSound=Sound'DeusExSounds.Generic.SmallExplosion1'<br>Mesh=LodMesh'DeusExItems.Rocket'<br>DrawScale=0.100000<br>SoundRadius=16<br>SoundVolume=196<br>AmbientSound=Sound'DeusExSounds.Special.RocketLoop'<br>RotationRate=(Pitch=99999)</div>
<h3 id="RocketDrone.DoGuidance"><a class="headerlink" href="#RocketDrone.DoGuidance" title="Permanent link">DoGuidance</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if (Itarget != None)<br>&#9;{<br>&#9;&#9;TargetLocation = Itarget.Location;<br>&#9;&#9;dist = Vsize(TargetLocation - Location);<br>&#9;&#9;if ((bfalloff) && (proxRadius != 0))<br>&#9;&#9;&#9;certainity2 = ((proxRadius-dist) * certainity ) / proxRadius;<br>&#9;&#9;else<br>&#9;&#9;&#9;certainity2 = certainity;<br>&#9;}<br>&#9;else<br>&#9;&#9;certainity2 = 0;<br>&#9;Rand = Rotator(Vrand());<br>&#9;TargetDir = Rotator(TargetLocation - Location);<br>&#9;RandomAdd = (TargetDir-Rotation)*certainity2+Rand*(1-certainity2)*drunkness;<br>&#9;HeightAdjAdd = Rotation*heightAdj + RandomAdd * sharpness * (1-heightAdj);<br>&#9;RotationOld = Rotation; <br>&#9;DesiredRotation = RotationOld + RandomAdd*sharpness;<br><br>&#9;velocity = Vector(Rotation) * Speed;<br><br></div>
<h3 id="RocketDrone.PostBeginPlay"><a class="headerlink" href="#RocketDrone.PostBeginPlay" title="Permanent link">PostBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;TargetLocation = Location; <br>&#9;bRotateToDesired = True;<br>&#9;DesiredRotation = Rotation;<br><br></div>
<h3 id="RocketDrone.Tick"><a class="headerlink" href="#RocketDrone.Tick" title="Permanent link">Tick</a> (float deltaTime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if (time >= tickTime)<br>&#9;{<br>&#9;&#9;time = 0;<br>&#9;&#9;if ((dist > proxRadius) || (Itarget == None)) //then try find a new target<br>&#9;&#9;{<br>&#9;&#9;&#9;Itarget = None;<br>&#9;&#9;&#9;foreach RadiusActors(class'Pawn', P, proxRadius)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if ((P != None) && (P.Mass >=40) && (P != Ignorer))<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if (P != Owner)<br>&#9;&#9;&#9;&#9;&#9;&#9;Itarget = P;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;&#9;Itarget = None;<br>&#9;&#9;DoGuidance();<br>&#9;}<br>&#9;else<br>&#9;&#9;time += deltaTime;<br><br></div>
<br><br><hr>
<a class="headerlink" href="#RocketHostage.uc" title="Permanent link"><h2 id="RocketHostage.uc">RocketHostage.uc (extends RocketMini)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bExplodes=False<br>Damage=0.000000</div>
<h3 id="RocketHostage.ProcessTouch"><a class="headerlink" href="#RocketHostage.ProcessTouch" title="Permanent link">ProcessTouch</a> (actor Other, vector HitLocation)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Hostager Hostaged;<br>&#9;local Hostager Selector;<br>&#9;local int FoundSelect;<br><br><br>  FoundSelect = 0;<br><br>  if(Other.IsA('DeusExPlayer') && Other != Instigator)<br>  {<br>    foreach AllActors(Class'Hostager', Selector)<br>    {<br>      if(Selector != None)<br>      {<br>        if(Selector.Instigator == Instigator || Selector.Player == Pawn(Other))<br>        {<br>          FoundSelect = 1;<br>        }<br>      }<br>    }<br>    if(FoundSelect == 0)<br>    {<br>      Hostaged = Spawn(class'Hostager');<br>      if(Hostaged != none)<br>      {<br>        Hostaged.Player = DeusExPlayer(Other);<br>        Hostaged.SetOwner(DeusExPlayer(Other));<br>        Hostaged.Instigator = Instigator;<br>      }<br>    }<br>  }<br>  Super.ProcessTouch(Other, HitLocation);<br><br></div>
<br><br><hr>
<a class="headerlink" href="#SSRING.uc" title="Permanent link"><h2 id="SSRING.uc">SSRING.uc (extends SphereEffect)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var float blastRadius;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">LifeSpan=2.500000<br>Skin=FireTexture'Effects.liquid.Virus_SFX'</div>
<h3 id="SSRING.Tick"><a class="headerlink" href="#SSRING.Tick" title="Permanent link">Tick</a> (float deltaTime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br> <br> Super.Tick(DeltaTime);<br><br> DrawScale = 3.0 * size * (Default.LifeSpan - LifeSpan) / Default.LifeSpan;<br> ScaleGlow = 1.1 * (LifeSpan / Default.Lifespan);<br>    <br></div>
<br><br><hr>
<a class="headerlink" href="#Salad.uc" title="Permanent link"><h2 id="Salad.uc">Salad.uc (extends FoodMMRPG)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">ItemName="Fresh Salad"<br>ItemArticle="a packet of"<br>PlayerViewMesh=LodMesh'DeusExItems.SoyFood'<br>PlayerViewScale=2.000000<br>PickupViewMesh=LodMesh'DeusExItems.SoyFood'<br>PickupViewScale=2.000000<br>ThirdPersonMesh=LodMesh'DeusExItems.SoyFood'<br>ThirdPersonScale=2.000000<br>Icon=Texture'PGAssets.Skins.SaladBelt'<br>largeIcon=Texture'PGAssets.Skins.SaladBelt'<br>largeIconWidth=42<br>largeIconHeight=46<br>beltDescription="SALAD"<br>Skin=Texture'PGAssets.Skins.SaladTex1'<br>Mesh=LodMesh'DeusExItems.SoyFood'<br>DrawScale=2.000000<br>MultiSkins(0)=Texture'PGAssets.Skins.SaladTex1'<br>CollisionRadius=14.000000<br>CollisionHeight=2.980000<br>Mass=3.000000</div>
<br><br><hr>
<a class="headerlink" href="#ScoundrelManager.uc" title="Permanent link"><h2 id="ScoundrelManager.uc">ScoundrelManager.uc (extends Actor)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var DXScriptedPawn LS;<br>var ScoundrelMarker SM, LM;<br>var bool bSelectionProcess;<br>var PGGames myRef;<br>var class<DXScriptedPawn> ScoundrelClass;</div>
<h3 id="ScoundrelManager.BeginPlay"><a class="headerlink" href="#ScoundrelManager.BeginPlay" title="Permanent link">BeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int C;<br><br>//Initiate<br>bSelectionProcess=True;<br>&#9;foreach AllActors(class'ScoundrelMarker', LM)<br>&#9;{<br>&#9;&#9;C++;&#9;<br>&#9;}<br>&#9;&#9;<br>&#9;if(C == 0)<br>&#9;{<br>&#9;&#9;BroadcastMessage("No ScoundrelMarkers found. Cancelling startup.");<br>&#9;&#9;Destroy();<br>&#9;}<br>&#9;if(C < 2)<br>&#9;{<br>&#9;&#9;BroadcastMessage("Only "$C$" ScoundrelMarkers found, MINIMUM of 3 are required. Cancelling startup.");<br>&#9;&#9;Destroy();<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;BroadcastMessage(C$" ScoundrelMarkers found! Randomizing selection....");<br>&#9;&#9;&#9;UnoSelecta();<br>&#9;}<br><br></div>
<h3 id="ScoundrelManager.CloseGame"><a class="headerlink" href="#ScoundrelManager.CloseGame" title="Permanent link">CloseGame</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;LS.Destroy();<br>&#9;Destroy();<br>&#9;BroadcastMessage("Scoundrel game forced end.");<br><br></div>
<h3 id="ScoundrelManager.DosSelecta"><a class="headerlink" href="#ScoundrelManager.DosSelecta" title="Permanent link">DosSelecta</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int RRR;<br><br><br>&#9;foreach AllActors(class'ScoundrelMarker', LM)<br>&#9;{<br>&#9;&#9;RRR = Rand(10);<br>&#9;&#9;<br>&#9;&#9;if(RRR >= 7)<br>&#9;&#9;{<br>&#9;&#9;&#9;SM = LM;<br>&#9;&#9;&#9;BroadcastMessage("Spawn point chosen. Target will spawn shortly.");<br>&#9;&#9;&#9;SetTimer(20,False);<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;&#9;if(SM != None)<br>&#9;&#9;{<br>&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;if(SM == None)<br>&#9;{<br>&#9;UnoSelecta();<br>&#9;}<br><br></div>
<h3 id="ScoundrelManager.Timer"><a class="headerlink" href="#ScoundrelManager.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(bSelectionProcess)<br>&#9;{<br>&#9;&#9;LS = spawn(ScoundrelClass,,,SM.Location,);<br>&#9;&#9;BroadcastMessage("Scoundrel is in play! The Hunt Begins!");<br>&#9;&#9;bSelectionProcess=False;<br>&#9;&#9;SetTimer(3,True);<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;if(LS == None)<br>&#9;&#9;{<br>&#9;&#9;&#9;BroadcastMessage("No target in play, ending Scoundrel game.");<br>&#9;&#9;&#9;myRef.bscOn=False;<br>&#9;&#9;&#9;Destroy();<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="ScoundrelManager.UnoSelecta"><a class="headerlink" href="#ScoundrelManager.UnoSelecta" title="Permanent link">UnoSelecta</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int RRR;<br><br><br>&#9;foreach AllActors(class'ScoundrelMarker', LM)<br>&#9;{<br>&#9;&#9;RRR = Rand(10);<br>&#9;&#9;<br>&#9;&#9;if(RRR >= 7)<br>&#9;&#9;{<br>&#9;&#9;&#9;SM = LM;<br>&#9;&#9;&#9;BroadcastMessage("Spawn point chosen. Target will spawn shortly.");<br>&#9;&#9;&#9;SetTimer(20,False);<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;&#9;if(SM != None)<br>&#9;&#9;{<br>&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;if(SM == None)<br>&#9;{<br>&#9;DosSelecta();<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#ScoundrelMarker.uc" title="Permanent link"><h2 id="ScoundrelMarker.uc">ScoundrelMarker.uc (extends PGActors)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bHidden=False</div>
<br><br><hr>
<a class="headerlink" href="#SecDrone.uc" title="Permanent link"><h2 id="SecDrone.uc">SecDrone.uc (extends DXRobot)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var float explosionradius;<br>var() float hoverdistance; //how close to get to the player.<br>var DeusExPlayer AttachPlayer;<br>var float DroneRange;<br>var DeusExPlayer NotifPlayer;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">explosionRadius=100.000000<br>hoverdistance=200.000000<br>EMPHitPoints=40<br>MinHealth=20.000000<br>bInvincible=True<br>bMustFaceTarget=True<br>bCanStrafe=True<br>AirSpeed=1000.000000<br>AccelRate=350.000000<br>Health=600<br>DrawType=DT_Mesh<br>Mesh=LodMesh'DeusExCharacters.SpyDrone'<br>SoundRadius=24<br>SoundVolume=92<br>AmbientSound=Sound'DeusExSounds.Augmentation.AugDroneLoop'<br>CollisionRadius=13.000000<br>CollisionHeight=2.760000<br>bBlockPlayers=False<br>Mass=20.000000<br>BindName="Drone"<br>FamiliarName="Security Drone"<br>UnfamiliarName="Security Drone"</div>
<h3 id="SecDrone.BeginState"><a class="headerlink" href="#SecDrone.BeginState" title="Permanent link">BeginState</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;setphysics(PHYS_flying); //added<br>&#9;&#9;StandUp();<br>&#9;&#9;//Disable('AnimEnd');<br>&#9;&#9;bStasis = False;<br>&#9;&#9;SetupWeapon(false);<br>&#9;&#9;SetDistress(false);<br>&#9;&#9;BackpedalTimer = -1;<br>&#9;&#9;SeekPawn = None;<br>&#9;&#9;EnableCheckDestLoc(true);<br>&#9;<br></div>
<h3 id="SecDrone.EndState"><a class="headerlink" href="#SecDrone.EndState" title="Permanent link">EndState</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;EnableCheckDestLoc(false);<br>&#9;&#9;bAcceptBump = False;<br>&#9;&#9;//Enable('AnimEnd');<br>&#9;&#9;bStasis = True;<br>&#9;&#9;StopBlendAnims();<br>&#9;<br></div>
<h3 id="SecDrone.Frob"><a class="headerlink" href="#SecDrone.Frob" title="Permanent link">Frob</a> (Actor Frobber, Inventory frobWith)</h3>

<h3 id="SecDrone.HitWall"><a class="headerlink" href="#SecDrone.HitWall" title="Permanent link">HitWall</a> (vector HitNormal, actor Wall)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;if (Physics == PHYS_Falling)<br>&#9;&#9;&#9;return;<br>&#9;&#9;Global.HitWall(HitNormal, Wall);<br>&#9;&#9;CheckOpenDoor(HitNormal, Wall);<br>&#9;<br></div>
<h3 id="SecDrone.PickDestination"><a class="headerlink" href="#SecDrone.PickDestination" title="Permanent link">PickDestination</a> -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local float   dist;<br>&#9;local float   extra;<br>&#9;local float   distMax;<br>&#9;local int     dir;<br>&#9;local rotator rot;<br>&#9;local bool    bSuccess;<br><br><br>&#9;&#9;if(AttachPlayer == None)<br>&#9;&#9;&#9;return False;<br>&#9;&#9;bSuccess = false;<br>&#9;&#9;destPoint = None;<br>&#9;&#9;destLoc   = vect(0, 0, 0);<br>&#9;&#9;extra = AttachPlayer.CollisionRadius + CollisionRadius;<br>&#9;&#9;dist = VSize(AttachPlayer.Location - Location);<br>&#9;&#9;dist -= extra;<br>&#9;&#9;if (dist < 0)<br>&#9;&#9;&#9;dist = 0;<br><br>&#9;&#9;if ((dist > 180) || (AICanSee(AttachPlayer, , false, false, false, true) <= 0))<br>&#9;&#9;{<br>&#9;&#9;&#9;if (ActorReachable(AttachPlayer))<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;rot = Rotator(AttachPlayer.Location - Location);<br>&#9;&#9;&#9;&#9;distMax = (dist-180)+45;<br>&#9;&#9;&#9;&#9;if (distMax > 80)<br>&#9;&#9;&#9;&#9;&#9;distMax = 80;<br>&#9;&#9;&#9;&#9;bSuccess = AIDirectionReachable(Location, rot.Yaw, rot.Pitch, 0, distMax, destLoc);<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;MoveTarget = FindPathToward(AttachPlayer);<br>&#9;&#9;&#9;&#9;if (MoveTarget != None)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;destPoint = MoveTarget;<br>&#9;&#9;&#9;&#9;&#9;bSuccess = true;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;BackpedalTimer = -1;<br>&#9;&#9;}<br>&#9;&#9;else if (dist < 60)<br>&#9;&#9;{<br>&#9;&#9;&#9;if (BackpedalTimer < 0)<br>&#9;&#9;&#9;&#9;BackpedalTimer = 0;<br>&#9;&#9;&#9;if (BackpedalTimer > 1.0)  // give the player enough time to converse, if he wants to<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;rot = Rotator(Location - AttachPlayer.Location);<br>&#9;&#9;&#9;&#9;bSuccess = AIDirectionReachable(AttachPlayer.Location, rot.Yaw, rot.Pitch, 60+extra, 120+extra, destLoc);<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;&#9;BackpedalTimer = -1;<br><br>&#9;&#9;return (bSuccess);<br>&#9;<br></div>
<h3 id="SecDrone.SetFall"><a class="headerlink" href="#SecDrone.SetFall" title="Permanent link">SetFall</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;StartFalling('Following', 'ContinueFollow');<br>&#9;<br></div>
<h3 id="SecDrone.ShouldFlee"><a class="headerlink" href="#SecDrone.ShouldFlee" title="Permanent link">ShouldFlee</a> -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;return false;<br><br></div>
<h3 id="SecDrone.Tick"><a class="headerlink" href="#SecDrone.Tick" title="Permanent link">Tick</a> (float deltaSeconds)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local float AreWeTooFar;<br>&#9;local Inventory Inv;<br><br>&#9;&#9;Global.Tick(deltaSeconds);<br>&#9;&#9;<br>&#9;&#9;if(AttachPlayer != None)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(AttachPlayer.bAdmin)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;AttachPlayer.ClientMessage("Security Drone: Sorry, my mistake.", 'TeamSay');<br>&#9;&#9;&#9;&#9;Destroy();<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;AreWeTooFar = Abs(VSize(AttachPlayer.Location - Location));<br>&#9;&#9;&#9;if(AreWeTooFar > 650)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;SetCollision(false, false, false);<br>&#9;&#9;&#9;&#9;bCollideWorld = true;<br>&#9;&#9;&#9;&#9;SetLocation(AttachPlayer.location);<br>&#9;&#9;&#9;&#9;SetCollision(true, true , true);<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if (BackpedalTimer >= 0)<br>&#9;&#9;&#9;BackpedalTimer += deltaSeconds;<br><br>&#9;&#9;animTimer[1] += deltaSeconds;<br>&#9;&#9;if ((Physics == PHYS_Walking) && (AttachPlayer != None))<br>&#9;&#9;{<br>&#9;&#9;&#9;if (Acceleration == vect(0,0,0))<br>&#9;&#9;&#9;&#9;LookAtActor(AttachPlayer, true, true, true, 0, 0.25);<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;PlayTurnHead(LOOK_Forward, 1.0, 0.25);<br>&#9;&#9;}<br>&#9;<br></div>
<h3 id="SecDrone.Timer"><a class="headerlink" href="#SecDrone.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(NotifPlayer != None)<br>&#9;{<br>&#9;&#9;NotifPlayer.ClientMessage(AttachPlayer.PlayerReplicationInfo.PlayerName$" was killed by your security.");<br>&#9;}<br>&#9;PlaySound(Sound'DeusExSounds.Weapons.RifleFire',,,, 256);<br>&#9;AttachPlayer.ReducedDamageType='';<br>&#9;AttachPlayer.TakeDamage(10000,Self,vect(0,0,0),vect(0,0,1),'Exploded');<br>&#9;Destroy();<br><br></div>
<br><br><hr>
<a class="headerlink" href="#SequenceLock.uc" title="Permanent link"><h2 id="SequenceLock.uc">SequenceLock.uc (extends DeusExDecoration)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var() int SequenceNum;<br>var bool bActivated;<br>var() string mySequenceGroup;<br>var() bool bResetter;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bInvincible=True<br>ItemName="Sequence Lock"<br>bPushable=False<br>Physics=PHYS_None<br>Texture=Texture'DeusExItems.Skins.DataCubeTex2'<br>Mesh=LodMesh'DeusExItems.DataCube'<br>CollisionRadius=7.000000<br>CollisionHeight=1.270000<br>Buoyancy=12.000000</div>
<h3 id="SequenceLock.Frob"><a class="headerlink" href="#SequenceLock.Frob" title="Permanent link">Frob</a> (Actor Frobber, Inventory frobWith)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local SequenceLockHandler SQH;<br><br><br>&#9;if(bResetter)<br>&#9;{<br>&#9;&#9;foreach AllActors(class'SequenceLockHandler', SQH)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(SQH.SequenceGroup ~= mySequenceGroup)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;SQH.CurrentInput=0;<br>&#9;&#9;&#9;&#9;DeusExPlayer(Frobber).ClientMessage("Sequence"@mySequenceGroup$": |P2"$SQH.CurrentInput);<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;return;<br>&#9;}<br>&#9;<br>&#9;&#9;/*if(bActivated)<br>&#9;{<br>&#9;&#9;DeusExPlayer(Frobber).ClientMessage("Button already activated.");<br>&#9;return;<br>&#9;}*/<br>&#9;&#9;foreach AllActors(class'SequenceLockHandler', SQH)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(SQH.SequenceGroup ~= mySequenceGroup)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;SQH.AddSequence(DeusExPlayer(Frobber), SequenceNum);<br>&#9;&#9;&#9;&#9;//bActivated=True;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#SequenceLockHandler.uc" title="Permanent link"><h2 id="SequenceLockHandler.uc">SequenceLockHandler.uc (extends Actor)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var() int AcceptedSequence;<br>var int CurrentInput;<br>var() string SequenceGroup;<br>var() name PassEvent, FailEvent;</div>
<h3 id="SequenceLockHandler.AddSequence"><a class="headerlink" href="#SequenceLockHandler.AddSequence" title="Permanent link">AddSequence</a> (DeusExPlayer DXP, int Seq)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int j;<br>&#9;local string Pre, Aft, ifin;<br>&#9;local actor a;<br><br>&#9;&#9;Pre = string(currentInput);<br>&#9;&#9;Aft = string(Seq);<br>&#9;&#9;ifin = currentInput$seq;<br>&#9;&#9;CurrentInput = int(ifin);<br>&#9;&#9;DXP.ClientMessage("Sequence"@SequenceGroup$": |P7"$CurrentInput);<br>&#9;&#9;<br>&#9;&#9;&#9;if(CurrentInput == AcceptedSequence)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(PassEvent != '')<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;foreach AllActors( class 'actor', A)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(A.Tag == PassEvent)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;A.Trigger( Self, None );<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;CurrentInput=0;<br>&#9;&#9;&#9;&#9;&#9;DXP.ClientMessage("Sequence accepted.");<br>&#9;&#9;&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#ShopButton.uc" title="Permanent link"><h2 id="ShopButton.uc">ShopButton.uc (extends DeusExDecoration)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var(RPG) int Price;<br>var(RPG) class<inventory> ShopItem;<br>var(RPG) bool bTriggerInstead;<br>var(RPG) string purchasealias;<br>var DeusExPlayer LastBuyer;<br>var bool bConfirm;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bInvincible=True<br>ItemName="Shop"<br>bPushable=False<br>Physics=PHYS_None<br>Mesh=LodMesh'DeusExDeco.Switch1'<br>CollisionRadius=2.630000<br>CollisionHeight=2.970000<br>Mass=10.000000<br>Buoyancy=12.000000</div>
<h3 id="ShopButton.Frob"><a class="headerlink" href="#ShopButton.Frob" title="Permanent link">Frob</a> (Actor Frobber, Inventory frobWith)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Inventory Inv;<br>&#9;local DeusExPlayer Player;<br>&#9;local bool bPositionFound;<br>&#9;local int beltpos;<br><br>      <br>      Player = DeusExPlayer(Frobber);<br><br>&#9;if(bTriggerInstead)<br>&#9;{<br>&#9;&#9;if(bConfirm)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(Player.Credits >= Price)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;super.Frob(frobber,frobWith);<br>&#9;&#9;&#9;Player.Credits -= Price;<br>&#9;&#9;&#9;Player.ClientMessage("|P3Purchased |P2"$purchasealias$" |P3for |P2"$Price$"|P3. |P1(New credits: "$Player.Credits$")");<br>&#9;&#9;&#9;&#9;&#9;&#9;bConfirm=False;<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;Player.ClientMessage("|P3You can't afford this purchase.");<br>&#9;&#9;&#9;&#9;&#9;&#9;bConfirm=False;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;{<br>&#9;&#9;Player.ClientMessage("|P3Purchase trigger |p2"$purchasealias$" |P3for |P2"$Price$"|P3? Press again to confirm. |P1(Current credits: "$Player.Credits$")");<br>&#9;&#9;bConfirm=True;<br>&#9;&#9;SetTimer(3,False);<br>&#9;&#9;}<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;if(bConfirm)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(Player.Credits >= Price)<br>&#9;&#9;&#9;{&#9; <br>&#9;&#9;&#9;&#9; <br>&#9;&#9;&#9;/*&#9;if(!player.FindInventorySlot(inventory(shopitem.class), True))<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;if(!bPositionFound)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;Player.ClientMessage("Not enough room for this item...");<br>&#9;&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;&#9;}*/<br>&#9;&#9;&#9;/*inv.InitialState='Idle2';<br>&#9;&#9;&#9;inv.GiveTo(Player);<br>&#9;&#9;&#9;inv.SetBase(Player);*/<br>&#9;&#9;&#9;SilentAdd(shopItem, Player);<br>&#9;&#9;&#9;LastBuyer = Player;<br>&#9;&#9;&#9;Player.Credits -= Price;<br>&#9;&#9;&#9;Player.ClientMessage("|P3Purchased|P2 "$purchasealias$"|P3 for |P2"$Price$"|P3. |P1(New credits: "$Player.Credits$")");<br>&#9;&#9;&#9;bConfirm=False;<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;Player.ClientMessage("|P3You can't afford this purchase.");<br>&#9;&#9;&#9;bConfirm=False;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;{<br>&#9;&#9;Player.ClientMessage("|P3Purchase |P2"$purchasealias$" |P3for |P2"$Price$"|P3? Press again to confirm. |P1(Current credits: "$Player.Credits$")");<br>&#9;&#9;bConfirm=True;<br>&#9;&#9;SetTimer(3,False);<br>&#9;&#9;}<br><br>&#9;}<br><br><br></div>
<h3 id="ShopButton.SilentAdd"><a class="headerlink" href="#ShopButton.SilentAdd" title="Permanent link">SilentAdd</a> (class<inventory> addClass, DeusExPlayer addTarget)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Inventory anItem;<br> <br>&#9;<br>&#9;anItem = Spawn(addClass,,,addTarget.Location); <br>&#9;anItem.SpawnCopy(addTarget);<br>&#9;anItem.Destroy();<br>&#9;/*anItem.Instigator = addTarget; <br>&#9;anItem.GotoState('Idle2'); <br>&#9;anItem.bHeldItem = true; <br>&#9;anItem.bTossedOut = false; <br>&#9;<br>&#9;if(Weapon(anItem) != None) <br>&#9;&#9;Weapon(anItem).GiveAmmo(addTarget); <br>&#9;anItem.GiveTo(addTarget);*/<br><br></div>
<h3 id="ShopButton.Timer"><a class="headerlink" href="#ShopButton.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>bConfirm=False;<br><br></div>
<br><br><hr>
<a class="headerlink" href="#ShopButton2.uc" title="Permanent link"><h2 id="ShopButton2.uc">ShopButton2.uc (extends DeusExDecoration)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var(RPG) int Price;<br>var(RPG) class<Decoration> ShopItem;<br>var(RPG) string purchasealias;<br>var(RPG) name CTag;<br>var bool bConfirm;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bInvincible=True<br>ItemName="Furniture Shop"<br>bPushable=False<br>Physics=PHYS_None<br>Mesh=LodMesh'DeusExDeco.Switch1'<br>CollisionRadius=2.630000<br>CollisionHeight=2.970000<br>Mass=10.000000<br>Buoyancy=12.000000</div>
<h3 id="ShopButton2.Frob"><a class="headerlink" href="#ShopButton2.Frob" title="Permanent link">Frob</a> (Actor Frobber, Inventory frobWith)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer Player;<br>&#9;local ShopConstructor SC;<br><br>&#9;  <br>      Player = DeusExPlayer(Frobber);<br><br>&#9;&#9;if(bConfirm)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(Player.Credits >= Price)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'ShopConstructor', SC)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(SC.Tag == CTag)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;Spawn(ShopItem,,,SC.Location);<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;Player.Credits -= Price;<br>&#9;&#9;&#9;Player.ClientMessage("|P3Purchased |P2"$purchasealias$" |P3for |P2"$Price$"|P3. |P1(New credits: "$Player.Credits$")");<br>&#9;&#9;&#9;&#9;&#9;&#9;bConfirm=False;<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;Player.ClientMessage("|P3You can't afford this purchase.");<br>&#9;&#9;&#9;bConfirm=False;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;{<br>&#9;&#9;Player.ClientMessage("|P3Purchase trigger |p2"$purchasealias$" |P3for |P2"$Price$"|P3? Press again to confirm. |P1(Current credits: "$Player.Credits$")");<br>&#9;&#9;bConfirm=True;<br>&#9;&#9;SetTimer(3,False);<br>&#9;&#9;}<br><br></div>
<h3 id="ShopButton2.Timer"><a class="headerlink" href="#ShopButton2.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>bConfirm=False;<br><br></div>
<br><br><hr>
<a class="headerlink" href="#ShopConstructor.uc" title="Permanent link"><h2 id="ShopConstructor.uc">ShopConstructor.uc (extends Actor)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bHidden=True</div>
<br><br><hr>
<a class="headerlink" href="#ShopPoint.uc" title="Permanent link"><h2 id="ShopPoint.uc">ShopPoint.uc (extends ShopButton)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">ItemName="Shop Point"<br>DrawType=DT_Sprite<br>Style=STY_Translucent<br>Texture=Texture'DeusExDeco.Skins.AlarmLightTex6'<br>Skin=Texture'DeusExDeco.Skins.AlarmLightTex6'<br>DrawScale=1.500000<br>CollisionRadius=25.200001<br>CollisionHeight=20.000000<br>bBlockPlayers=False</div>
<br><br><hr>
<a class="headerlink" href="#SizableEffectSpawner.uc" title="Permanent link"><h2 id="SizableEffectSpawner.uc">SizableEffectSpawner.uc (extends Effects)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var() class<SizableEffects> EffectClass;	//type of effect<br>var() float Interval;		//time between spaws<br>var() float TimeLimit;			//until when should I spawn? If 0, not limited<br>var() float SizeofEffect;		//drawscale of effect<br>var() Texture EffectSkin;		//what is the skin of this effect?<br>var() float EffectLSpan;		//how much will this effect live?<br>var() int NumberSpawns;			//if 0, not limited by a number<br>var float TotalTime, IntervalTime;<br>var int spawnedItems;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">EffectLSpan=3.000000<br>bDirectional=True</div>
<h3 id="SizableEffectSpawner.Tick"><a class="headerlink" href="#SizableEffectSpawner.Tick" title="Permanent link">Tick</a> (float deltaTime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local SizableEffects newEffect;<br><br><br>&#9;TotalTime+=deltaTime;<br>&#9;IntervalTime+=deltaTime;<br><br>&#9;if (IntervalTime > Interval)<br>&#9;{&#9;&#9;<br>&#9;&#9;if ((TimeLimit!=0 && TotalTime > TimeLimit) || (NumberSpawns!=0 && spawnedItems >= NumberSpawns))<br>&#9;&#9;{<br>&#9;&#9;&#9;Self.Destroy();<br>&#9;&#9;}<br><br>&#9;&#9;newEffect=Spawn(EffectClass,Owner);<br>&#9;&#9;if (newEffect!=None)<br>&#9;&#9;{<br>&#9;&#9;&#9;newEffect.Size=SizeofEffect;<br>&#9;&#9;&#9;newEffect.Skin=EffectSkin;<br>&#9;&#9;&#9;newEffect.LifeSpan=EffectLSpan;<br>&#9;&#9;&#9;spawnedItems++;<br>&#9;&#9;}<br>&#9;&#9;IntervalTime=0;<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#SizableEffects.uc" title="Permanent link"><h2 id="SizableEffects.uc">SizableEffects.uc (extends Effects)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var() float Size;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">size=1.000000<br>LifeSpan=1.000000<br>bUnlit=True</div>
<h3 id="SizableEffects.Tick"><a class="headerlink" href="#SizableEffects.Tick" title="Permanent link">Tick</a> (float deltaTime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;DrawScale = 3.0 * size * (Default.LifeSpan - LifeSpan) / Default.LifeSpan;<br>&#9;ScaleGlow = 2.0 * (LifeSpan / Default.LifeSpan);<br><br></div>
<br><br><hr>
<a class="headerlink" href="#SkullBolt.uc" title="Permanent link"><h2 id="SkullBolt.uc">SkullBolt.uc (extends DeusExProjectile)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var ParticleGenerator pGen1;<br>var ParticleGenerator pGen2;<br>var float mpDamage;<br>var float mpBlastRadius;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">mpDamage=50.000000<br>mpBlastRadius=300.000000<br>bExplodes=True<br>blastRadius=128.000000<br>DamageType=exploded<br>AccurateRange=24400<br>maxRange=24000<br>ItemName="Skull Bolt"<br>ItemArticle="a"<br>speed=1500.000000<br>MaxSpeed=1500.000000<br>Damage=50.000000<br>MomentumTransfer=5000<br>ImpactSound=Sound'DeusExSounds.Weapons.PlasmaRifleHit'<br>ExplosionDecal=Class'DeusEx.ScorchMark'<br>Mesh=LodMesh'DeusExDeco.BoneSkull'<br>DrawScale=3.000000<br>bUnlit=True<br>LightBrightness=170<br>LightHue=177<br>LightSaturation=255<br>LightRadius=3<br>bFixedRotationDir=True</div>
<h3 id="SkullBolt.Destroyed"><a class="headerlink" href="#SkullBolt.Destroyed" title="Permanent link">Destroyed</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre">f (pGen1 != None<br></div>
<h3 id="SkullBolt.DrawExplosionEffects"><a class="headerlink" href="#SkullBolt.DrawExplosionEffects" title="Permanent link">DrawExplosionEffects</a> (vector HitLocation, vector HitNormal)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local ParticleGenerator gen;<br>en = Spawn(class'ParticleGenerator',,, HitLocation, Rotator(HitNormal))<br></div>
<h3 id="SkullBolt.PostBeginPlay"><a class="headerlink" href="#SkullBolt.PostBeginPlay" title="Permanent link">PostBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre">uper.PostBeginPlay()<br></div>
<h3 id="SkullBolt.PostNetBeginPlay"><a class="headerlink" href="#SkullBolt.PostNetBeginPlay" title="Permanent link">PostNetBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre">f (Role < ROLE_Authority<br></div>
<h3 id="SkullBolt.PreBeginPlay"><a class="headerlink" href="#SkullBolt.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre">uper.PreBeginPlay()<br></div>
<h3 id="SkullBolt.SpawnPlasmaEffects"><a class="headerlink" href="#SkullBolt.SpawnPlasmaEffects" title="Permanent link">SpawnPlasmaEffects</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Rotator rot;<br>ot = Rotation<br></div>
<h3 id="SkullBolt.Tick"><a class="headerlink" href="#SkullBolt.Tick" title="Permanent link">Tick</a> (float deltaTime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Rotator rot;<br><br><br>&#9;if (bStuck)<br>&#9;&#9;return;<br><br>&#9;Super.Tick(deltaTime);<br><br>&#9;if (Level.Netmode != NM_DedicatedServer)<br>&#9;{<br>&#9;&#9;rot = Rotation;<br>&#9;&#9;rot.Yaw += 16384;<br>&#9;&#9;SetRotation(rot);<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#SkullballMP.uc" title="Permanent link"><h2 id="SkullballMP.uc">SkullballMP.uc (extends ThrownProjectile)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var bool bDoomedToDestroy;<br>var bool bAlreadyScored;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bDisabled=True<br>bExplodes=False<br>bBlood=False<br>bEmitDanger=False<br>bIgnoresNanoDefense=True<br>ItemName="Skull ball"<br>LifeSpan=0.000000<br>bDirectional=False<br>Mesh=LodMesh'DeusExDeco.BoneSkull'<br>DrawScale=1.500000<br>CollisionRadius=15.000000<br>CollisionHeight=15.000000<br>bBlockActors=True<br>bBlockPlayers=True<br>Mass=8.000000<br>Buoyancy=10.000000</div>
<h3 id="SkullballMP.BeginPlay"><a class="headerlink" href="#SkullballMP.BeginPlay" title="Permanent link">BeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.BeginPlay();<br><br></div>
<h3 id="SkullballMP.Explode"><a class="headerlink" href="#SkullballMP.Explode" title="Permanent link">Explode</a> (vector HitLocation, vector HitNormal)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;return;<br><br></div>
<h3 id="SkullballMP.Frob"><a class="headerlink" href="#SkullballMP.Frob" title="Permanent link">Frob</a> (Actor Frobber, Inventory frobWith)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local SkullballMP4Player FLB4P;<br><br>&#9;if (!bDoomedToDestroy)<br>&#9;{<br>&#9;&#9;FLB4P = Spawn(Class'SkullballMP4Player',Frobber,,Location,Rotation);<br>&#9;&#9;DeusExPlayer(Frobber).FrobTarget = FLB4P;<br>&#9;&#9;DeusExPlayer(Frobber).GrabDecoration();<br>&#9;&#9;Super.Frob(Frobber, frobWith);<br>&#9;&#9;Destroy();<br>&#9;}<br>&#9;else <br>&#9;{<br>&#9;&#9;return;<br>&#9;}<br><br></div>
<h3 id="SkullballMP.HitWall"><a class="headerlink" href="#SkullballMP.HitWall" title="Permanent link">HitWall</a> (vector HitNormal, actor HitWall)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local float speed;<br><br>&#9;&#9;<br>&#9;&#9;Velocity = 0.8*((Velocity dot HitNormal) * HitNormal * (-2.0) + Velocity);<br>&#9;&#9;speed = VSize(Velocity);<br>&#9;&#9;bFixedRotationDir = True;<br>&#9;&#9;RotationRate = RotRand(False);<br>&#9;&#9;if ((speed > 0) && (speed < 30) && (HitNormal.Z > 0.7))<br>&#9;&#9;{<br>&#9;&#9;&#9;SetPhysics(PHYS_None, HitWall);<br>&#9;&#9;&#9;if (Physics == PHYS_None)<br>&#9;&#9;&#9;&#9;bFixedRotationDir = False;<br>&#9;&#9;}<br>&#9;<br>&#9;&#9;if (HitWall.IsA('Mover'))<br>&#9;&#9;{<br>&#9;&#9;&#9;HitWall.TakeDamage(speed/58, Pawn(Owner), HitWall.Location, MomentumTransfer*Normal(Velocity), 'Shot');<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;else if (speed > 30)<br>&#9;&#9;{&#9;<br>&#9;&#9;&#9;if ((FRand() >= 0.75) && (FRand() < 1.0))<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;PlaySound(sound'BasketballBounce', SLOT_None, 3);<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else if ((FRand() >= 0.5) && (FRand() < 0.75))<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;PlaySound(sound'BasketballBounce', SLOT_None, 3);&#9;<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;PlaySound(sound'BasketballBounce', SLOT_None, 3);&#9;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;<br></div>
<h3 id="SkullballMP.TakeDamage"><a class="headerlink" href="#SkullballMP.TakeDamage" title="Permanent link">TakeDamage</a> (int Damage, Pawn instigatedBy, Vector HitLocation, Vector Momentum, name damageType)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;return;<br><br></div>
<h3 id="SkullballMP.Tick"><a class="headerlink" href="#SkullballMP.Tick" title="Permanent link">Tick</a> (float deltaTime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;return;<br><br></div>
<h3 id="SkullballMP.Timer"><a class="headerlink" href="#SkullballMP.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if (bDoomedToDestroy)<br>&#9;{<br>&#9;&#9;Destroy();<br>&#9;}<br>&#9;return;<br><br></div>
<h3 id="SkullballMP.bump"><a class="headerlink" href="#SkullballMP.bump" title="Permanent link">bump</a> (actor other)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExMover move;<br>&#9;local Weapon wep;<br>&#9;local ScriptedPawn P;<br>&#9;local DeusExDecoration Deco;<br>&#9;local DeusExPlayer Player;<br>&#9;local Basketball bask;<br><br>P = ScriptedPawn(other);<br>Move = DeusExMover(other);<br>Wep = Weapon(other);<br>Player = DeusExPlayer(other);<br>Deco = DeusExDecoration(other);<br>Bask = Basketball(other);<br><br>//Players<br>&#9;if((other.IsA('DeusExPlayer')))<br>&#9;{<br>&#9;Player.ReducedDamageType = '';<br>    Player.TakeDamage(5000,Player,Player.Location,vect(0,0,0),'Exploded');<br>    Destroy();<br>&#9;}<br><br>//Pawns<br>&#9;if ((other.IsA('ScriptedPawn')))<br>&#9;{<br>&#9;&#9;P.binvincible=false;<br>&#9;&#9;P.TakeDamage(5000,P,P.Location,vect(0,0,0),'Exploded');<br>&#9;&#9;Destroy();<br>&#9;}<br><br>//Deco<br>&#9;if ((other.IsA('Decoration')))<br>&#9;{<br>&#9;Deco.bInvincible=False;<br>&#9;Deco.TakeDamage(5000,P,P.Location,vect(0,0,0),'Exploded');<br>&#9;Destroy();<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#SkullballMP2.uc" title="Permanent link"><h2 id="SkullballMP2.uc">SkullballMP2.uc (extends ThrownProjectile)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var bool bDoomedToDestroy;<br>var bool bAlreadyScored;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bDisabled=True<br>bExplodes=False<br>bBlood=False<br>bEmitDanger=False<br>bIgnoresNanoDefense=True<br>ItemName="Skull ball"<br>LifeSpan=0.000000<br>bDirectional=False<br>Mesh=LodMesh'DeusExDeco.BoneSkull'<br>CollisionRadius=10.000000<br>CollisionHeight=10.000000<br>bBlockActors=True<br>bBlockPlayers=True<br>Mass=8.000000<br>Buoyancy=10.000000</div>
<h3 id="SkullballMP2.BeginPlay"><a class="headerlink" href="#SkullballMP2.BeginPlay" title="Permanent link">BeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.BeginPlay();<br><br></div>
<h3 id="SkullballMP2.Explode"><a class="headerlink" href="#SkullballMP2.Explode" title="Permanent link">Explode</a> (vector HitLocation, vector HitNormal)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;return;<br><br></div>
<h3 id="SkullballMP2.Frob"><a class="headerlink" href="#SkullballMP2.Frob" title="Permanent link">Frob</a> (Actor Frobber, Inventory frobWith)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local SkullballMP4Player2 FLB4P;<br><br>&#9;if (!bDoomedToDestroy)<br>&#9;{<br>&#9;&#9;FLB4P = Spawn(Class'SkullballMP4Player2',Frobber,,Location,Rotation);<br>&#9;&#9;DeusExPlayer(Frobber).FrobTarget = FLB4P;<br>&#9;&#9;DeusExPlayer(Frobber).GrabDecoration();<br>&#9;&#9;Super.Frob(Frobber, frobWith);<br>&#9;&#9;Destroy();<br>&#9;}<br>&#9;else <br>&#9;{<br>&#9;&#9;return;<br>&#9;}<br><br></div>
<h3 id="SkullballMP2.HitWall"><a class="headerlink" href="#SkullballMP2.HitWall" title="Permanent link">HitWall</a> (vector HitNormal, actor HitWall)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local float speed;<br><br>&#9;&#9;<br>&#9;&#9;Velocity = 0.8*((Velocity dot HitNormal) * HitNormal * (-2.0) + Velocity);<br>&#9;&#9;speed = VSize(Velocity);<br>&#9;&#9;bFixedRotationDir = True;<br>&#9;&#9;RotationRate = RotRand(False);<br>&#9;&#9;if ((speed > 0) && (speed < 30) && (HitNormal.Z > 0.7))<br>&#9;&#9;{<br>&#9;&#9;&#9;SetPhysics(PHYS_None, HitWall);<br>&#9;&#9;&#9;if (Physics == PHYS_None)<br>&#9;&#9;&#9;&#9;bFixedRotationDir = False;<br>&#9;&#9;}<br>&#9;<br>&#9;&#9;if (HitWall.IsA('Mover'))<br>&#9;&#9;{<br>&#9;&#9;&#9;HitWall.TakeDamage(speed/58, Pawn(Owner), HitWall.Location, MomentumTransfer*Normal(Velocity), 'Shot');<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;else if (speed > 30)<br>&#9;&#9;{&#9;<br>&#9;&#9;&#9;if ((FRand() >= 0.75) && (FRand() < 1.0))<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;PlaySound(sound'BasketballBounce', SLOT_None, 3);<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else if ((FRand() >= 0.5) && (FRand() < 0.75))<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;PlaySound(sound'BasketballBounce', SLOT_None, 3);&#9;<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;PlaySound(sound'BasketballBounce', SLOT_None, 3);&#9;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;<br></div>
<h3 id="SkullballMP2.TakeDamage"><a class="headerlink" href="#SkullballMP2.TakeDamage" title="Permanent link">TakeDamage</a> (int Damage, Pawn instigatedBy, Vector HitLocation, Vector Momentum, name damageType)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;return;<br><br></div>
<h3 id="SkullballMP2.Tick"><a class="headerlink" href="#SkullballMP2.Tick" title="Permanent link">Tick</a> (float deltaTime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;return;<br><br></div>
<h3 id="SkullballMP2.Timer"><a class="headerlink" href="#SkullballMP2.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if (bDoomedToDestroy)<br>&#9;{<br>&#9;&#9;Destroy();<br>&#9;}<br>&#9;return;<br><br></div>
<br><br><hr>
<a class="headerlink" href="#SkullballMP4Player.uc" title="Permanent link"><h2 id="SkullballMP4Player.uc">SkullballMP4Player.uc (extends DeusExDecoration)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bInvincible=True<br>ItemName="Skull"<br>Mesh=LodMesh'DeusExDeco.BoneSkull'<br>DrawScale=0.600000<br>CollisionRadius=10.000000<br>CollisionHeight=10.000000<br>bBounce=True<br>Mass=8.000000<br>Buoyancy=10.000000</div>
<h3 id="SkullballMP4Player.BaseChange"><a class="headerlink" href="#SkullballMP4Player.BaseChange" title="Permanent link">BaseChange</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local SkullballMP AdvB;<br><br>&#9;if (bWasCarried)<br>&#9;{<br>&#9;&#9;AdvB = Spawn(Class'SkullBallMP',Owner,,Location,Rotation);<br>&#9;&#9;AdvB.Velocity = Velocity + 0.7 * Owner.Velocity;<br>&#9;&#9;Destroy();<br>&#9;}<br><br></div>
<h3 id="SkullballMP4Player.bump"><a class="headerlink" href="#SkullballMP4Player.bump" title="Permanent link">bump</a> (actor other)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExMover move;<br>&#9;local Weapon wep;<br>&#9;local ScriptedPawn P;<br>&#9;local DeusExDecoration Deco;<br>&#9;local DeusExPlayer Player;<br>&#9;local Basketball bask;<br><br>P = ScriptedPawn(other);<br>Move = DeusExMover(other);<br>Wep = Weapon(other);<br>Player = DeusExPlayer(other);<br>Deco = DeusExDecoration(other);<br>Bask = Basketball(other);<br><br>//Players<br>&#9;if((other.IsA('DeusExPlayer')))<br>&#9;{<br>&#9;Player.ReducedDamageType = '';<br>    Player.TakeDamage(5000,Player,Player.Location,vect(0,0,0),'Exploded');<br>    Destroy();<br>&#9;}<br><br>//Pawns<br>&#9;if ((other.IsA('ScriptedPawn')))<br>&#9;{<br>&#9;&#9;P.binvincible=false;<br>&#9;&#9;        P.TakeDamage(5000,P,P.Location,vect(0,0,0),'Exploded');<br>&#9;&#9;            Destroy();<br>&#9;}<br><br>//Deco<br>&#9;if ((other.IsA('Decoration')))<br>&#9;{<br>&#9;Deco.TakeDamage(5000,P,P.Location,vect(0,0,0),'Exploded');<br>&#9;    Destroy();<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#SkullballMP4Player2.uc" title="Permanent link"><h2 id="SkullballMP4Player2.uc">SkullballMP4Player2.uc (extends DeusExDecoration)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bInvincible=True<br>ItemName="Skull"<br>Mesh=LodMesh'DeusExDeco.BoneSkull'<br>DrawScale=0.600000<br>CollisionRadius=10.000000<br>CollisionHeight=10.000000<br>bBounce=True<br>Mass=8.000000<br>Buoyancy=10.000000</div>
<h3 id="SkullballMP4Player2.BaseChange"><a class="headerlink" href="#SkullballMP4Player2.BaseChange" title="Permanent link">BaseChange</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local SkullballMP2 AdvB;<br><br>&#9;if (bWasCarried)<br>&#9;{<br>&#9;&#9;AdvB = Spawn(Class'SkullBallMP2',Owner,,Location,Rotation);<br>&#9;&#9;AdvB.Velocity = Velocity + 0.7 * Owner.Velocity;<br>&#9;&#9;Destroy();<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#SmokeCloud.uc" title="Permanent link"><h2 id="SmokeCloud.uc">SmokeCloud.uc (extends Cloud)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">DamageType=TearGas<br>Damage=0.500000<br>bBlockSight=True<br>bDetectable=False<br>Texture=FireTexture'Effects.Smoke.SmokePuff1'</div>
<h3 id="SmokeCloud.Tick"><a class="headerlink" href="#SmokeCloud.Tick" title="Permanent link">Tick</a> (float deltaTime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;//override this function to avoid having the drawscale changed<br><br></div>
<br><br><hr>
<a class="headerlink" href="#SmokeGrenade.uc" title="Permanent link"><h2 id="SmokeGrenade.uc">SmokeGrenade.uc (extends ThrownProjectile)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var ParticleGenerator smokeGen;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">fuseLength=1.000000<br>proxRadius=128.000000<br>AISoundLevel=0.000000<br>bBlood=False<br>bDebris=False<br>DamageType=TearGas<br>spawnWeaponClass=Class'PartyStuff.WeaponSmokeGrenade'<br>ItemName="Gas Grenade"<br>speed=1000.000000<br>MaxSpeed=1000.000000<br>Damage=10.000000<br>MomentumTransfer=50000<br>ImpactSound=Sound'DeusExSounds.Weapons.GasGrenadeExplode'<br>LifeSpan=0.000000<br>Mesh=LodMesh'DeusExItems.GasGrenadePickup'<br>CollisionRadius=4.300000<br>CollisionHeight=1.400000<br>Mass=5.000000<br>Buoyancy=2.000000</div>
<h3 id="SmokeGrenade.PostBeginPlay"><a class="headerlink" href="#SmokeGrenade.PostBeginPlay" title="Permanent link">PostBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PostBeginPlay();<br><br>&#9;if (Level.NetMode == NM_DedicatedServer)<br>&#9;&#9;return;<br>   <br>   if(!bProximityTriggered)<br>&#9;SpawnSmokeEffects();<br><br></div>
<h3 id="SmokeGrenade.SpawnSmokeEffects"><a class="headerlink" href="#SmokeGrenade.SpawnSmokeEffects" title="Permanent link">SpawnSmokeEffects</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;smokeGen = Spawn(class'ParticleGenerator', Self);<br>&#9;if (smokeGen != None)<br>&#9;{<br>      smokeGen.RemoteRole = ROLE_None;<br>&#9;&#9;smokeGen.particleTexture = Texture'Effects.Smoke.SmokePuff1';<br>&#9;&#9;smokeGen.particleDrawScale = 2.0;<br>&#9;&#9;smokeGen.checkTime = 0.02;<br>&#9;&#9;smokeGen.riseRate = 8.0;<br>&#9;&#9;smokeGen.ejectSpeed = 5.0;<br>&#9;&#9;smokeGen.particleLifeSpan = 4.0;<br>&#9;&#9;smokeGen.bRandomEject = True;<br>&#9;&#9;smokeGen.SetBase(Self);<br>&#9;}<br><br></div>
<h3 id="SmokeGrenade.SpawnTearGas"><a class="headerlink" href="#SmokeGrenade.SpawnTearGas" title="Permanent link">SpawnTearGas</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Vector loc;<br>&#9;local SmokeCloud gas;<br>&#9;local int i;<br><br><br>&#9;if ( Role < ROLE_Authority )<br>&#9;&#9;return;<br><br>&#9;smokeGen.Destroy();<br>&#9;<br>&#9;for (i=0; i<blastRadius/8; i++)<br>&#9;{<br>&#9;&#9;if (FRand() < 0.9)<br>&#9;&#9;{<br>&#9;&#9;&#9;loc = Location;<br>&#9;&#9;&#9;loc.X += FRand() * blastRadius - blastRadius * 0.5;<br>&#9;&#9;&#9;loc.Y += FRand() * blastRadius - blastRadius * 0.5;<br>&#9;&#9;&#9;loc.Z += FRand() * blastRadius/36;<br>&#9;&#9;&#9;gas = spawn(class'SmokeCloud', None,, loc);<br>&#9;&#9;&#9;if (gas != None)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;gas.Velocity = vect(0,0,0);<br>&#9;&#9;&#9;&#9;gas.Acceleration = vect(0,0,0);<br>&#9;&#9;&#9;&#9;gas.DrawScale = FRand() * 3.0 + 7.0;<br>&#9;&#9;&#9;&#9;gas.LifeSpan = FRand() * 10 + 30;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;//gas.Texture=Texture'Effects.Smoke.SmokePuff1';<br>&#9;&#9;&#9;&#9;if ( Level.NetMode != NM_Standalone )<br>&#9;&#9;&#9;&#9;&#9;gas.bFloating = False;<br>&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;gas.bFloating = True;<br>&#9;&#9;&#9;&#9;gas.Instigator = Instigator;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="SmokeGrenade.Tick"><a class="headerlink" href="#SmokeGrenade.Tick" title="Permanent link">Tick</a> (float deltatime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;super.Tick(deltatime);<br>&#9;<br>&#9;if(bProximityTriggered)<br>&#9;&#9;smokeGen.Destroy();<br>&#9;<br><br></div>
<br><br><hr>
<a class="headerlink" href="#SpazmGas.uc" title="Permanent link"><h2 id="SpazmGas.uc">SpazmGas.uc (extends Cloud)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">Var() float SpazDelay;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">DamageType=Stunned<br>Damage=0.000000<br>Sprite=WetTexture'Effects.Smoke.Gas_Poison_A'<br>Texture=WetTexture'Effects.Smoke.Gas_Poison_A'<br>Skin=WetTexture'Effects.Smoke.Gas_Poison_A'</div>
<h3 id="SpazmGas.Tick"><a class="headerlink" href="#SpazmGas.Tick" title="Permanent link">Tick</a> (float Deltatime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Float SpazTime;<br>&#9;local DeusExPlayer Victim;<br>&#9;local DeusExPlayer POwner;<br>&#9;Local ScriptedPawn P;<br><br><br>&#9;Super.Tick(Deltatime);<br><br>&#9;SpazTime=DeltaTime;<br><br>&#9;If(SpazTime>SpazDelay)<br>&#9;{&#9;<br>&#9;&#9;POwner=DeusExPlayer(Owner);<br>&#9;<br>&#9;&#9;&#9;ForEach RadiusActors(class'DeusExPlayer',Victim,128,Self.Location)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(Victim!=POwner&&Victim.IsInState('PlayerWalking'))<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;Victim.GoToState('FeigningDeath'); // Make the player collapse on the floor XD<br>&#9;&#9;&#9;&#9;&#9;Victim.InHand=None;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;ForEach RadiusActors(class'ScriptedPawn',P,128,Self.location)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(!P.IsA('Robot')&&!P.IsA('Animal')) // If this pawn isn't a robot...<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;P.GoToState('Stunned'); // Stun them directly, without damage. (Some are invunerable to stunning via damage)<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;SpazTime=0.0;<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#SphereEffectXL.uc" title="Permanent link"><h2 id="SphereEffectXL.uc">SphereEffectXL.uc (extends Effects)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">DrawType=DT_Mesh<br>Style=STY_Translucent<br>Mesh=LodMesh'DeusExItems.SphereEffect'<br>DrawScale=15.000000<br>bUnlit=True</div>
<br><br><hr>
<a class="headerlink" href="#SprayPaint.uc" title="Permanent link"><h2 id="SprayPaint.uc">SprayPaint.uc (extends DeusExAmmo)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bShowInfo=True<br>AmmoAmount=800<br>MaxAmmo=800<br>ItemName="Spray Paint"<br>ItemArticle="some"<br>PickupViewMesh=LodMesh'DeusExItems.AmmoPepper'<br>LandSound=Sound'DeusExSounds.Generic.GlassHit1'<br>Icon=Texture'DeusExUI.Icons.BeltIconAmmoPepper'<br>largeIconWidth=19<br>largeIconHeight=45<br>Description="'ANTIGONE pepper spray will incapacitate your attacker in UNDER TWO SECONDS. ANTIGONE -- better BLIND than DEAD. NOTE: Keep away from children under the age of five. Contents under pressure.'"<br>beltDescription="SPRAY"<br>Mesh=LodMesh'DeusExItems.AmmoPepper'<br>CollisionRadius=1.440000<br>CollisionHeight=3.260000<br>bCollideActors=True</div>
<br><br><hr>
<a class="headerlink" href="#SprayPaintBlue.uc" title="Permanent link"><h2 id="SprayPaintBlue.uc">SprayPaintBlue.uc (extends SprayPaint)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">ItemName="Blue Spray Paint"</div>
<br><br><hr>
<a class="headerlink" href="#SprayPaintPink.uc" title="Permanent link"><h2 id="SprayPaintPink.uc">SprayPaintPink.uc (extends SprayPaint)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">ItemName="Pink Spray Paint"</div>
<br><br><hr>
<a class="headerlink" href="#SprayPaintRed.uc" title="Permanent link"><h2 id="SprayPaintRed.uc">SprayPaintRed.uc (extends SprayPaint)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">ItemName="Red Spray Paint"</div>
<br><br><hr>
<a class="headerlink" href="#SprayPaintYellow.uc" title="Permanent link"><h2 id="SprayPaintYellow.uc">SprayPaintYellow.uc (extends SprayPaint)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">ItemName="Yellow Spray Paint"</div>
<br><br><hr>
<a class="headerlink" href="#StaffCard.uc" title="Permanent link"><h2 id="StaffCard.uc">StaffCard.uc (extends DeusExPickup)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bCanHaveMultipleCopies=True<br>ItemName="Staff Card"<br>PlayerViewOffset=(X=30.000000,Z=-12.000000)<br>PlayerViewMesh=LodMesh'DeusExItems.Credits'<br>PickupViewMesh=LodMesh'DeusExItems.Credits'<br>ThirdPersonMesh=LodMesh'DeusExItems.Credits'<br>LandSound=Sound'DeusExSounds.Generic.PlasticHit1'<br>Icon=Texture'DeusExUI.Icons.BeltIconCredits'<br>beltDescription="Staff Pass"<br>Mesh=LodMesh'DeusExItems.Credits'<br>MultiSkins(0)=Texture'DeusExUI.UserInterface.ComputerLogonLogoArea51'<br>CollisionRadius=7.000000<br>CollisionHeight=0.550000<br>Mass=2.000000<br>Buoyancy=3.000000</div>
<h3 id="StaffCard.TestMPBeltSpot"><a class="headerlink" href="#StaffCard.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<br><br><hr>
<a class="headerlink" href="#StatueBird.uc" title="Permanent link"><h2 id="StatueBird.uc">StatueBird.uc (extends DeusExDecoration)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bInvincible=True<br>FragType=Class'DeusEx.WoodFragment'<br>ItemName="Stone Bird"<br>Mesh=LodMesh'DeusExCharacters.Seagull'<br>DrawScale=5.000000<br>MultiSkins(0)=Texture'CoreTexStone.Stone.ClenGrenSlate_A'<br>CollisionRadius=30.000000<br>CollisionHeight=32.000000<br>Mass=50.000000<br>Buoyancy=30.000000</div>
<br><br><hr>
<a class="headerlink" href="#StatueCat.uc" title="Permanent link"><h2 id="StatueCat.uc">StatueCat.uc (extends DeusExDecoration)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bInvincible=True<br>FragType=Class'DeusEx.WoodFragment'<br>ItemName="Stone Cat"<br>Mesh=LodMesh'DeusExCharacters.Cat'<br>DrawScale=3.000000<br>MultiSkins(0)=Texture'CoreTexStone.Stone.ClenGrenSlate_A'<br>CollisionRadius=33.000000<br>CollisionHeight=40.000000<br>Mass=50.000000<br>Buoyancy=30.000000</div>
<br><br><hr>
<a class="headerlink" href="#StatueGreasel.uc" title="Permanent link"><h2 id="StatueGreasel.uc">StatueGreasel.uc (extends DeusExDecoration)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bInvincible=True<br>FragType=Class'DeusEx.WoodFragment'<br>ItemName="Stone Greasel"<br>Mesh=LodMesh'DeusExCharacters.Greasel'<br>DrawScale=2.000000<br>MultiSkins(0)=Texture'CoreTexStone.Stone.ClenGrenSlate_A'<br>CollisionRadius=30.000000<br>CollisionHeight=36.000000<br>Mass=50.000000<br>Buoyancy=30.000000</div>
<br><br><hr>
<a class="headerlink" href="#StatueKarkian.uc" title="Permanent link"><h2 id="StatueKarkian.uc">StatueKarkian.uc (extends DeusExDecoration)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bInvincible=True<br>FragType=Class'DeusEx.WoodFragment'<br>ItemName="Stone Karkian"<br>Mesh=LodMesh'DeusExCharacters.Karkian'<br>MultiSkins(0)=Texture'CoreTexStone.Stone.ClenGrenSlate_A'<br>CollisionRadius=54.000000<br>CollisionHeight=37.000000<br>Mass=50.000000<br>Buoyancy=30.000000</div>
<br><br><hr>
<a class="headerlink" href="#StatueMutt.uc" title="Permanent link"><h2 id="StatueMutt.uc">StatueMutt.uc (extends DeusExDecoration)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bInvincible=True<br>FragType=Class'DeusEx.WoodFragment'<br>ItemName="Stone Mutt"<br>Mesh=LodMesh'DeusExCharacters.Mutt'<br>DrawScale=2.000000<br>MultiSkins(0)=Texture'CoreTexStone.Stone.ClenGrenSlate_A'<br>CollisionRadius=50.000000<br>CollisionHeight=52.000000<br>Mass=50.000000<br>Buoyancy=30.000000</div>
<br><br><hr>
<a class="headerlink" href="#StrobeLamp.uc" title="Permanent link"><h2 id="StrobeLamp.uc">StrobeLamp.uc (extends Lamp)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bInvincible=True<br>ItemName="Strobe Lamp"<br>Mesh=LodMesh'DeusExDeco.Lamp2'<br>CollisionRadius=15.000000<br>CollisionHeight=47.000000<br>LightSaturation=0<br>LightRadius=18</div>
<h3 id="StrobeLamp.Frob"><a class="headerlink" href="#StrobeLamp.Frob" title="Permanent link">Frob</a> (Actor Frobber, Inventory frobWith)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int Random;<br><br>&#9;Super.Frob(Frobber, frobWith);<br><br>&#9;if (bOn)<br>&#9;{<br>&#9;&#9;LightType=LT_Steady;<br>&#9;&#9;LightEffect=LE_NonIncidence;<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;LightType=LT_None;<br>&#9;}<br><br></div>
<h3 id="StrobeLamp.tick"><a class="headerlink" href="#StrobeLamp.tick" title="Permanent link">tick</a> (float v)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int random;<br><br>&#9;random = Rand(255);<br>&#9;if(bOn)<br>&#9;{<br>&#9;LightHue = random;<br>&#9;&#9;if(LightType != LT_Steady)<br>&#9;&#9;{<br>&#9;&#9;&#9;LightType=LT_Steady;<br>&#9;&#9;&#9;LightEffect=LE_NonIncidence;&#9;&#9;<br>&#9;&#9;}<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#SuperCleanerBot.uc" title="Permanent link"><h2 id="SuperCleanerBot.uc">SuperCleanerBot.uc (extends Robot)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var float blotchTimer;<br>var float fleePawnTimer;<br>var ECleanDirection minorDir;<br>var ECleanDirection majorDir;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">EMPHitPoints=20<br>WalkingSpeed=0.200000<br>GroundSpeed=300.000000<br>WaterSpeed=50.000000<br>AirSpeed=144.000000<br>AccelRate=500.000000<br>Health=20<br>UnderWaterTime=20.000000<br>Mesh=LodMesh'DeusExCharacters.CleanerBot'<br>SoundRadius=16<br>SoundVolume=128<br>AmbientSound=Sound'DeusExSounds.Robot.CleanerBotMove'<br>CollisionRadius=18.000000<br>CollisionHeight=11.210000<br>Mass=70.000000<br>Buoyancy=97.000000<br>RotationRate=(Yaw=100000)<br>BindName="Super CleanerBot"<br>FamiliarName="Super Cleaner Bot"<br>UnfamiliarName="Super Cleaner Bot"</div>
<h3 id="SuperCleanerBot.BeginState"><a class="headerlink" href="#SuperCleanerBot.BeginState" title="Permanent link">BeginState</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;Super.BeginState();<br>&#9;<br></div>
<h3 id="SuperCleanerBot.Bump"><a class="headerlink" href="#SuperCleanerBot.Bump" title="Permanent link">Bump</a> (actor bumper)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;if (bAcceptBump)<br>&#9;&#9;{<br>&#9;&#9;&#9;// If we get bumped by another actor while we wait, start wandering again<br>&#9;&#9;&#9;bAcceptBump = False;<br>&#9;&#9;&#9;Disable('AnimEnd');<br>&#9;&#9;&#9;GotoState('Wandering', 'Wander');<br>&#9;&#9;}<br><br>&#9;&#9;// Handle conversations, if need be<br>&#9;&#9;Global.Bump(bumper);<br>&#9;<br></div>
<h3 id="SuperCleanerBot.EndState"><a class="headerlink" href="#SuperCleanerBot.EndState" title="Permanent link">EndState</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;Super.EndState();<br>&#9;<br></div>
<h3 id="SuperCleanerBot.FleeFromPawn"><a class="headerlink" href="#SuperCleanerBot.FleeFromPawn" title="Permanent link">FleeFromPawn</a> (Pawn fleePawn)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;SetEnemy(fleePawn, , true);<br>&#9;GotoState('AvoidingPawn');<br><br></div>
<h3 id="SuperCleanerBot.FrightenedByPawn"><a class="headerlink" href="#SuperCleanerBot.FrightenedByPawn" title="Permanent link">FrightenedByPawn</a> -> Pawn</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local pawn  candidate;<br>&#9;local bool  bCheck;<br>&#9;local Pawn  fearPawn;<br><br><br>&#9;fearPawn = None;<br>&#9;if (!bBlockActors && !bBlockPlayers)<br>&#9;&#9;return fearPawn;<br><br>&#9;foreach RadiusActors(Class'Pawn', candidate, 500)<br>&#9;{<br>&#9;&#9;bCheck = false;<br>&#9;&#9;if (!ClassIsChildOf(candidate.Class, Class))<br>&#9;&#9;{<br>&#9;&#9;&#9;if (candidate.bBlockActors)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if (bBlockActors && !candidate.bIsPlayer)<br>&#9;&#9;&#9;&#9;&#9;bCheck = true;<br>&#9;&#9;&#9;&#9;else if (bBlockPlayers && candidate.bIsPlayer)<br>&#9;&#9;&#9;&#9;&#9;bCheck = true;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br><br>&#9;&#9;if (bCheck)<br>&#9;&#9;{<br>&#9;&#9;&#9;if ((candidate.MaxStepHeight < CollisionHeight*1.5) && (candidate.CollisionHeight*0.5 <= CollisionHeight))<br>&#9;&#9;&#9;&#9;bCheck = false;<br>&#9;&#9;}<br><br>&#9;&#9;if (bCheck)<br>&#9;&#9;{<br>&#9;&#9;&#9;if (ShouldBeStartled(candidate))<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;fearPawn = candidate;<br>&#9;&#9;&#9;&#9;break;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br><br>&#9;return fearPawn;<br><br></div>
<h3 id="SuperCleanerBot.Frob"><a class="headerlink" href="#SuperCleanerBot.Frob" title="Permanent link">Frob</a> (Actor Frobber, Inventory frobWith)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local string resoWut;<br>&#9;local int r;<br>&#9;local DeusExPlayer P;<br>&#9;local SuperCleanerBotItem h;<br><br>&#9;&#9;&#9;&#9;&#9;Destroy();<br>&#9;&#9;&#9;&#9;&#9;h=Spawn(class'SuperCleanerBotItem', Self,, Location, Rotation);<br>&#9;&#9;&#9;&#9;&#9;h.Frob(DeusExPlayer(Frobber),None);<br>&#9;&#9;&#9;&#9;&#9;h.bInObjectBelt = True;<br>&#9;&#9;&#9;&#9;&#9;h.Destroy();<br><br></div>
<h3 id="SuperCleanerBot.GetReverseDirection"><a class="headerlink" href="#SuperCleanerBot.GetReverseDirection" title="Permanent link">GetReverseDirection</a> (ECleanDirection cleanDir) -> ECleanDirection</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;if      (cleanDir == CLEANDIR_North)<br>&#9;&#9;&#9;cleanDir = CLEANDIR_South;<br>&#9;&#9;else if (cleanDir == CLEANDIR_South)<br>&#9;&#9;&#9;cleanDir = CLEANDIR_North;<br>&#9;&#9;else if (cleanDir == CLEANDIR_East)<br>&#9;&#9;&#9;cleanDir = CLEANDIR_West;<br>&#9;&#9;else if (cleanDir == CLEANDIR_West)<br>&#9;&#9;&#9;cleanDir = CLEANDIR_East;<br><br>&#9;&#9;return (cleanDir);<br>&#9;<br></div>
<h3 id="SuperCleanerBot.HitWall"><a class="headerlink" href="#SuperCleanerBot.HitWall" title="Permanent link">HitWall</a> (vector HitNormal, actor Wall)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;if (Physics == PHYS_Falling)<br>&#9;&#9;&#9;return;<br>&#9;&#9;Global.HitWall(HitNormal, Wall);<br>&#9;&#9;CheckOpenDoor(HitNormal, Wall);<br>&#9;<br></div>
<h3 id="SuperCleanerBot.PickDestination"><a class="headerlink" href="#SuperCleanerBot.PickDestination" title="Permanent link">PickDestination</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Rotator rot;<br>&#9;local float   minorMagnitude, majorMagnitude;<br>&#9;local float   minDist;<br><br><br>&#9;&#9;MoveTarget = None;<br>&#9;&#9;destPoint  = None;<br><br>&#9;&#9;minorMagnitude = 256;<br>&#9;&#9;majorMagnitude = CollisionRadius*2;<br>&#9;&#9;minDist        = 24;<br><br>&#9;&#9;rot = RotationDir(minorDir);<br>&#9;&#9;if (!AIDirectionReachable(Location, rot.Yaw, rot.Pitch,<br>&#9;&#9;                          minDist, minorMagnitude, destLoc))<br>&#9;&#9;{<br>&#9;&#9;&#9;minorDir = GetReverseDirection(minorDir);<br>&#9;&#9;&#9;rot = RotationDir(majorDir);<br>&#9;&#9;&#9;if (!AIDirectionReachable(Location, rot.Yaw, rot.Pitch,<br>&#9;&#9;&#9;                          minDist, majorMagnitude, destLoc))<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;majorDir = GetReverseDirection(majorDir);<br>&#9;&#9;&#9;&#9;rot = RotationDir(minorDir);<br>&#9;&#9;&#9;&#9;if (!AIDirectionReachable(Location, rot.Yaw, rot.Pitch,<br>&#9;&#9;&#9;&#9;                          minDist, minorMagnitude, destLoc))<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;minorDir = GetReverseDirection(minorDir);<br>&#9;&#9;&#9;&#9;&#9;rot = RotationDir(majorDir);<br>&#9;&#9;&#9;&#9;&#9;if (!AIDirectionReachable(Location, rot.Yaw, rot.Pitch,<br>&#9;&#9;&#9;&#9;&#9;                          minDist, majorMagnitude, destLoc))<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;majorDir = GetReverseDirection(majorDir);<br>&#9;&#9;&#9;&#9;&#9;&#9;destLoc = Location;  // give up<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;<br></div>
<h3 id="SuperCleanerBot.RotationDir"><a class="headerlink" href="#SuperCleanerBot.RotationDir" title="Permanent link">RotationDir</a> (ECleanDirection cleanDir) -> rotator</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local rotator rot;<br><br><br>&#9;&#9;rot = rot(0,0,0);<br>&#9;&#9;if      (cleanDir == CLEANDIR_North)<br>&#9;&#9;&#9;rot.Yaw = 0;<br>&#9;&#9;else if (cleanDir == CLEANDIR_South)<br>&#9;&#9;&#9;rot.Yaw = 32768;<br>&#9;&#9;else if (cleanDir == CLEANDIR_East)<br>&#9;&#9;&#9;rot.Yaw = 16384;<br>&#9;&#9;else if (cleanDir == CLEANDIR_West)<br>&#9;&#9;&#9;rot.Yaw = 49152;<br><br>&#9;&#9;return (rot);<br>&#9;<br></div>
<h3 id="SuperCleanerBot.SetFall"><a class="headerlink" href="#SuperCleanerBot.SetFall" title="Permanent link">SetFall</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;StartFalling('Wandering', 'ContinueWander');<br>&#9;<br></div>
<h3 id="SuperCleanerBot.ShouldBeStartled"><a class="headerlink" href="#SuperCleanerBot.ShouldBeStartled" title="Permanent link">ShouldBeStartled</a> (Pawn startler) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local float speed;<br>&#9;local float time;<br>&#9;local float dist;<br>&#9;local float dist2;<br>&#9;local bool  bPh33r;<br><br><br>&#9;bPh33r = false;<br>&#9;if (IsValidEnemy(startler, False))<br>&#9;{<br>&#9;&#9;speed = VSize(startler.Velocity);<br>&#9;&#9;if (speed >= 20)<br>&#9;&#9;{<br>&#9;&#9;&#9;dist = VSize(Location - startler.Location);<br>&#9;&#9;&#9;time = dist/speed;<br>&#9;&#9;&#9;if (time <= 2.0)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;dist2 = VSize(Location - (startler.Location+startler.Velocity*time));<br>&#9;&#9;&#9;&#9;if (dist2 < speed*0.8)<br>&#9;&#9;&#9;&#9;&#9;bPh33r = true;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br><br>&#9;return bPh33r;<br><br></div>
<h3 id="SuperCleanerBot.Tick"><a class="headerlink" href="#SuperCleanerBot.Tick" title="Permanent link">Tick</a> (float deltaSeconds)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local pawn        fearPawn;<br>&#9;local DeusExDecal blotch;<br>&#9;local float       deltaXY, deltaZ;<br>&#9;local Inventory inv;<br><br>&#9;<br>&#9;Super.Tick(deltaSeconds);<br><br>&#9;fleePawnTimer += deltaSeconds;<br>&#9;if (fleePawnTimer > 0.5)<br>&#9;{<br>&#9;&#9;fleePawnTimer = 0;<br>&#9;&#9;fearPawn = FrightenedByPawn();<br>&#9;&#9;if (fearPawn != None)<br>&#9;&#9;&#9;FleeFromPawn(fearPawn);<br>&#9;}<br><br>&#9;blotchTimer += deltaSeconds;<br>&#9;if (blotchTimer > 0.3)<br>&#9;{<br>&#9;&#9;blotchTimer = 0;<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;foreach RadiusActors(Class'Inventory', inv, CollisionRadius*2)<br>&#9;&#9;{<br>&#9;&#9;&#9;inv.Lifespan=1;<br>&#9;&#9;}<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#SuperCleanerBotItem.uc" title="Permanent link"><h2 id="SuperCleanerBotItem.uc">SuperCleanerBotItem.uc (extends ChargedPickup)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">ActivateSound=Sound'DeusExSounds.Augmentation.CloakUp'<br>DeActivateSound=None<br>ChargeRemainingLabel="Box readiness:"<br>ItemName="Super Cleaner Bot Spawner"<br>PlayerViewOffset=(X=20.000000,Z=-12.000000)<br>PlayerViewMesh=LodMesh'DeusExItems.VialAmbrosia'<br>PickupViewMesh=LodMesh'DeusExItems.VialAmbrosia'<br>ThirdPersonMesh=LodMesh'DeusExItems.VialAmbrosia'<br>Charge=8<br>LandSound=Sound'DeusExSounds.Generic.GlassHit1'<br>Icon=Texture'DeusExUI.Icons.BeltIconVialAmbrosia'<br>largeIcon=Texture'DeusExUI.Icons.LargeIconVialAmbrosia'<br>largeIconWidth=35<br>largeIconHeight=49<br>Description="s"<br>beltDescription="CLEANER"<br>Mesh=LodMesh'DeusExItems.VialAmbrosia'<br>CollisionRadius=2.200000<br>CollisionHeight=4.890000<br>Mass=10.000000<br>Buoyancy=100.000000</div>
<h3 id="SuperCleanerBotItem.ChargedPickupBegin"><a class="headerlink" href="#SuperCleanerBotItem.ChargedPickupBegin" title="Permanent link">ChargedPickupBegin</a> (DeusExPlayer Player)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Vector loc,X,Y,Z;<br>&#9;local SuperCleanerBot SCB;<br><br>  // local HideyBox CD;<br>   <br>   SCB = Spawn(Class'SuperCleanerBot',,,Player.Location + (Player.CollisionRadius+Default.CollisionRadius+30) * Vector(Player.ViewRotation) + vect(0,0,1) * 30 );<br>   if(SCB == None)<br>   {<br>&#9;&#9;DeusexPlayer(Owner).ClientMessage("Error placing item..");<br>&#9;&#9;return;<br>   }<br><br>&#9;Super.ChargedPickupBegin(Player);<br>&#9;<br><br></div>
<h3 id="SuperCleanerBotItem.TestMPBeltSpot"><a class="headerlink" href="#SuperCleanerBotItem.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<h3 id="SuperCleanerBotItem.UsedUp"><a class="headerlink" href="#SuperCleanerBotItem.UsedUp" title="Permanent link">UsedUp</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer Player;<br><br><br>&#9;if ( Pawn(Owner) != None )<br>&#9;{<br>&#9;&#9;bActivatable = false;<br>&#9;&#9;<br>&#9;}<br>&#9;Player = DeusExPlayer(Owner);<br><br>&#9;if (Player != None)<br>&#9;{<br>&#9;&#9;if (Player.inHand == Self)<br>&#9;&#9;&#9;ChargedPickupEnd(Player);<br>&#9;}<br><br>&#9;Destroy();<br><br></div>
<br><br><hr>
<a class="headerlink" href="#SurfKnives.uc" title="Permanent link"><h2 id="SurfKnives.uc">SurfKnives.uc (extends Shuriken)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">ItemName="a"<br>ItemArticle="surf knife"</div>
<h3 id="SurfKnives.Tick"><a class="headerlink" href="#SurfKnives.Tick" title="Permanent link">Tick</a> (float DeltaTime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.Tick(DeltaTime);<br>&#9;Owner.SetLocation(Location);<br><br></div>
<br><br><hr>
<a class="headerlink" href="#SurfRocket.uc" title="Permanent link"><h2 id="SurfRocket.uc">SurfRocket.uc (extends Rocket)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">ItemName="bombing"<br>ItemArticle="suicide"</div>
<h3 id="SurfRocket.Tick"><a class="headerlink" href="#SurfRocket.Tick" title="Permanent link">Tick</a> (float DeltaTime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.Tick(DeltaTime);<br>&#9;Owner.SetLocation(Location);<br><br></div>
<br><br><hr>
<a class="headerlink" href="#TCAutoTimeTrigger.uc" title="Permanent link"><h2 id="TCAutoTimeTrigger.uc">TCAutoTimeTrigger.uc (extends Actor)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var() float TCDelay;<br>var() name Events[10];</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bHidden=True</div>
<h3 id="TCAutoTimeTrigger.PostBeginPlay"><a class="headerlink" href="#TCAutoTimeTrigger.PostBeginPlay" title="Permanent link">PostBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;SetTimer(TCDelay,True);<br><br></div>
<h3 id="TCAutoTimeTrigger.Timer"><a class="headerlink" href="#TCAutoTimeTrigger.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local mover a;<br>&#9;local int j;<br><br><br>&#9;for(j=0;j<10;j++)<br>&#9;{<br>&#9;&#9;if(Events[j] != '')<br>&#9;&#9;{<br>&#9;&#9;&#9;foreach AllActors( class 'mover', A)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;for(j=0;j<10;j++)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(A.Tag == Events[j])<br>&#9;&#9;&#9;&#9;&#9;&#9;A.Trigger( Self, None );<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#TCBarkActor.uc" title="Permanent link"><h2 id="TCBarkActor.uc">TCBarkActor.uc (extends PGActors)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var PlayerPawn Flagger;<br>var string sMessage;<br>var float fDelay;<br>var DXScriptedPawn pSender;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">LifeSpan=1.000000<br>NetPriority=1.500000</div>
<h3 id="TCBarkActor.cBark"><a class="headerlink" href="#TCBarkActor.cBark" title="Permanent link">cBark</a> (string BarkMessage, float Delay, DXScriptedPawn BotSender)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer _Player;<br>&#9;local DeusExRootWindow _root;<br><br>&#9;_Player = DeusExPlayer(Owner);<br><br>&#9;if(_Player != None)<br>&#9;{<br>&#9;&#9;_root = DeusExRootWindow(_Player.rootWindow);<br>&#9;&#9;if(_root != None)<br>&#9;&#9;{<br>&#9;&#9;&#9;_root.hud.barkdisplay.addBark(BarkMessage, Delay, BotSender);<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="TCBarkActor.timer"><a class="headerlink" href="#TCBarkActor.timer" title="Permanent link">timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;SetOwner(flagger);<br>&#9;&#9;cBark(sMessage, fDelay, pSender);<br><br></div>
<br><br><hr>
<a class="headerlink" href="#TCRadio.uc" title="Permanent link"><h2 id="TCRadio.uc">TCRadio.uc (extends DeusExWeapon)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var int PlaySlot;<br>var() music myTrackList[10];<br>var() EMusicTransition Transition;<br>var() byte             SongSection;<br>var() byte             CdTrack;<br>var() name Inheriter;<br>var int Max;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">Transition=MTRAN_Fade<br>CdTrack=255<br>LowAmmoWaterMark=0<br>NoiseLevel=1.800000<br>ShotTime=1.000000<br>reloadTime=0.030000<br>HitDamage=0<br>maxRange=48000<br>AccurateRange=12000<br>BaseAccuracy=0.000000<br>bHasScope=True<br>bHasMuzzleFlash=False<br>ReloadCount=0<br>bInstantHit=True<br>InventoryGroup=208<br>ItemName="Radio Player"<br>PlayerViewOffset=(X=20.000000,Y=10.000000,Z=-16.000000)<br>PlayerViewMesh=LodMesh'DeusExItems.MultitoolPOV'<br>PickupViewMesh=LodMesh'DeusExItems.Multitool'<br>ThirdPersonMesh=LodMesh'DeusExItems.Multitool3rd'<br>LandSound=Sound'DeusExSounds.Generic.PlasticHit2'<br>Icon=Texture'DeusExUI.Icons.BeltIconMultitool'<br>largeIcon=Texture'DeusExUI.Icons.LargeIconMultitool'<br>largeIconWidth=28<br>largeIconHeight=46<br>beltDescription="RADIO"<br>Mesh=LodMesh'DeusExItems.Multitool'<br>CollisionRadius=4.800000<br>CollisionHeight=0.860000<br>Mass=20.000000<br>Buoyancy=10.000000</div>
<h3 id="TCRadio.ActivateMusicBotScreen"><a class="headerlink" href="#TCRadio.ActivateMusicBotScreen" title="Permanent link">ActivateMusicBotScreen</a> (DeusExPlayer player2)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExRootWindow root;<br>&#9;local MusicBotWindow winMusic;<br><br><br>player2.InitRootWindow();<br>root = DeusExRootWindow(player2.rootWindow);<br>if (root != None)<br> {<br> winMusic = MusicBotWindow(root.InvokeUIScreen(Class'MusicBotWindow', True));<br> }<br><br></div>
<h3 id="TCRadio.BecomePickup"><a class="headerlink" href="#TCRadio.BecomePickup" title="Permanent link">BecomePickup</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   Super(Inventory).BecomePickup();<br>   lifespan=0;<br>   SetDisplayProperties(Default.Style, Default.Texture, Default.bUnlit, Default.bMeshEnviromap );<br><br></div>
<h3 id="TCRadio.BeginPlay"><a class="headerlink" href="#TCRadio.BeginPlay" title="Permanent link">BeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local MusicPoint MPP;<br>&#9;local int j;<br><br>PlaySlot = 0;<br>&#9;&#9;if(myTrackList[0] == None)<br>&#9;&#9;{<br>&#9;&#9;&#9;Inherit();<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;for(j=0;j<10;j++)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(myTrackList[j] == None)<br>&#9;&#9;&#9;Max = j;<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br><br></div>
<h3 id="TCRadio.CalculateAccuracy"><a class="headerlink" href="#TCRadio.CalculateAccuracy" title="Permanent link">CalculateAccuracy</a> -> float</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;return 0.000000; //Dirty hack to always return dead on accuracy.<br><br></div>
<h3 id="TCRadio.CycleAmmo"><a class="headerlink" href="#TCRadio.CycleAmmo" title="Permanent link">CycleAmmo</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;ToggleMusicLock(DeusExPlayer(Owner));<br><br></div>
<h3 id="TCRadio.Inherit"><a class="headerlink" href="#TCRadio.Inherit" title="Permanent link">Inherit</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local MusicPoint MPP;<br>&#9;local int j;<br><br><br>&#9;Log("Radio probably summoned? Getting inheritance from a Music Point.");<br>&#9;foreach allactors(class'MusicPoint',MPP)<br>&#9;{<br>&#9;&#9;if(MPP != None) //First one we found.<br>&#9;&#9;{<br>&#9;&#9;&#9;for(j=0;j<10;j++)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;myTrackList[j] = mpp.myTrackList[j];<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="TCRadio.LaserToggle"><a class="headerlink" href="#TCRadio.LaserToggle" title="Permanent link">LaserToggle</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer P;<br><br>&#9;&#9;P = DeusExPlayer(Owner);<br>&#9;&#9;if( P==None )<br>&#9;&#9;&#9;return;<br>&#9;&#9;<br>&#9;&#9;  ActivateMusicBotScreen(p);<br><br></div>
<h3 id="TCRadio.MMLocked"><a class="headerlink" href="#TCRadio.MMLocked" title="Permanent link">MMLocked</a> (DeusExPlayer Them) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local MusicMemory MM;<br><br>&#9;foreach AllActors(class'MusicMemory', MM)<br>&#9;{<br>&#9;&#9;if(MM.Watcher == Them)<br>&#9;&#9;{<br>&#9;&#9;&#9;return MM.bMMLocked;<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="TCRadio.MemorizeMusic"><a class="headerlink" href="#TCRadio.MemorizeMusic" title="Permanent link">MemorizeMusic</a> (music This, DeusExPlayer Them)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local MusicMemory MM;<br>&#9;local bool bFound;<br><br>&#9;foreach AllActors(class'MusicMemory', MM)<br>&#9;{<br>&#9;&#9;if(MM.Watcher == Them)<br>&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;bFound=True;<br>&#9;&#9;&#9;MM.CurrentSong = This;<br>&#9;&#9;&#9;//Log("Track memorized."@This@them.playerreplicationinfo.playername);<br>&#9;&#9;&#9;Them.ClientSetMusic( This, SongSection, CdTrack, Transition );<br>&#9;&#9;}<br>&#9;}<br>&#9;if(!bFound)<br>&#9;{<br>&#9;&#9;MM = Spawn(class'MusicMemory');<br>&#9;&#9;MM.Watcher=Them;<br>&#9;&#9;Log("New music memory."@This@them.playerreplicationinfo.playername);<br>&#9;}<br><br></div>
<h3 id="TCRadio.ProcessTraceHit"><a class="headerlink" href="#TCRadio.ProcessTraceHit" title="Permanent link">ProcessTraceHit</a> (Actor Other, Vector HitLocation, Vector HitNormal, Vector X, Vector Y, Vector Z)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(Other.isa('DeusExPlayer'))<br>&#9;{<br>&#9;&#9;if(!mmIsPlaying( myTrackList[PlaySlot], DeusExPlayer(Other)) && !mmLocked(DeusExPlayer(Other)))<br>&#9;&#9;{<br>&#9;&#9;&#9;MemorizeMusic(myTrackList[PlaySlot], DeusExPlayer(Other));<br>&#9;&#9;&#9;//DeusExPlayer(Other).ClientSetMusic( myTrackList[PlaySlot], SongSection, CdTrack, Transition );<br>&#9;&#9;&#9;DeusExPlayer(Other).ClientMessage("RADIO: Now playing track: "$Left(string(myTrackList[PlaySlot]), InStr(string(myTrackList[PlaySlot]), ".")));<br>&#9;&#9;&#9;DeusExPlayer(Owner).ClientMessage(Left(string(myTrackList[PlaySlot]), InStr(string(myTrackList[PlaySlot]), "."))$" sent to "$DeusExPlayer(Other).PlayerReplicationInfo.PlayerName);<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="TCRadio.ScopeToggle"><a class="headerlink" href="#TCRadio.ScopeToggle" title="Permanent link">ScopeToggle</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer P;<br> <br>&#9;&#9;P = DeusExPlayer(Owner);<br>&#9;&#9;if( P==None )<br>&#9;&#9;&#9;return;<br>&#9;&#9;PlaySlot++;<br>&#9;&#9;if(myTrackList[PlaySlot] == None || PlaySlot > Arraycount(myTrackList))<br>&#9;&#9;{    <br>&#9;&#9;&#9;//P.ClientMessage("No more songs.");<br>&#9;&#9;&#9;PlaySlot = 0;<br>&#9;&#9;}&#9;&#9;<br>&#9;&#9;// Go to music.<br>&#9;&#9;//P.ClientSetMusic( myTrackList[PlaySlot], SongSection, CdTrack, Transition );<br>&#9;&#9;if(!mmIsPlaying( myTrackList[PlaySlot], P))<br>&#9;&#9;&#9;MemorizeMusic(myTrackList[PlaySlot], P);<br>&#9;&#9;P.ClientMessage("Now playing track: "$Left(string(myTrackList[PlaySlot]), InStr(string(myTrackList[PlaySlot]), ".")));<br>&#9;&#9;return;<br><br></div>
<h3 id="TCRadio.TestMPBeltSpot"><a class="headerlink" href="#TCRadio.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<h3 id="TCRadio.ToggleMusicLock"><a class="headerlink" href="#TCRadio.ToggleMusicLock" title="Permanent link">ToggleMusicLock</a> (DeusExPlayer Them)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local MusicMemory MM;<br>&#9;local bool bFound;<br><br>&#9;foreach AllActors(class'MusicMemory', MM)<br>&#9;{<br>&#9;&#9;if(MM.Watcher == Them)<br>&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;bFound=True;<br>&#9;&#9;&#9;MM.bMMLocked = !MM.bMMLocked;<br>&#9;&#9;&#9;Them.ClientMessage("Music lock status:"@MM.bMMLocked);<br>&#9;&#9;}<br>&#9;}<br>&#9;if(!bFound)<br>&#9;{<br>&#9;&#9;MM = Spawn(class'MusicMemory');<br>&#9;&#9;MM.Watcher=Them;<br>&#9;&#9;Log("New music memory."@them.playerreplicationinfo.playername);<br>&#9;}<br><br></div>
<h3 id="TCRadio.mmIsPlaying"><a class="headerlink" href="#TCRadio.mmIsPlaying" title="Permanent link">mmIsPlaying</a> (music This, DeusExPlayer Them) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local MusicMemory MM;<br>&#9;local bool bFound;<br><br><br>&#9;foreach AllActors(class'MusicMemory', MM)<br>&#9;{<br>&#9;&#9;if(MM.Watcher == Them)<br>&#9;&#9;{<br>&#9;&#9;&#9;bFound=True;<br>&#9;&#9;&#9;if(MM.CurrentSong == This)<br>&#9;&#9;&#9;&#9;return true;<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;if(!bFound)<br>&#9;{<br>&#9;&#9;MM = Spawn(class'MusicMemory');<br>&#9;&#9;MM.Watcher=Them;<br>&#9;&#9;Log("New music memory."@This@them.playerreplicationinfo.playername);<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#TCT.uc" title="Permanent link"><h2 id="TCT.uc">TCT.uc (extends ChargedPickup)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">ActivateSound=Sound'DeusExSounds.Augmentation.CloakUp'<br>DeActivateSound=None<br>ChargeRemainingLabel="tCT readiness:"<br>ItemName="Temporary Chain Teleporter Spawner"<br>PlayerViewOffset=(X=20.000000,Z=-12.000000)<br>PlayerViewMesh=LodMesh'DeusExItems.VialAmbrosia'<br>PickupViewMesh=LodMesh'DeusExItems.VialAmbrosia'<br>ThirdPersonMesh=LodMesh'DeusExItems.VialAmbrosia'<br>Charge=8<br>LandSound=Sound'DeusExSounds.Generic.GlassHit1'<br>Icon=Texture'DeusExUI.Icons.BeltIconVialAmbrosia'<br>largeIcon=Texture'DeusExUI.Icons.LargeIconVialAmbrosia'<br>largeIconWidth=35<br>largeIconHeight=49<br>Description="s"<br>beltDescription="CHAIN"<br>Mesh=LodMesh'DeusExItems.VialAmbrosia'<br>CollisionRadius=2.200000<br>CollisionHeight=4.890000<br>Mass=10.000000<br>Buoyancy=100.000000</div>
<h3 id="TCT.ChargedPickupBegin"><a class="headerlink" href="#TCT.ChargedPickupBegin" title="Permanent link">ChargedPickupBegin</a> (DeusExPlayer Player)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local chainTeleporter CD;<br>&#9;local Vector loc,X,Y,Z;<br><br>   <br>   CD = Spawn(Class'ChainTeleporter',,,Player.Location + (Player.CollisionRadius+Default.CollisionRadius+30) * Vector(Player.ViewRotation) + vect(0,0,1) * 30 );<br>&#9;CD.ReturnToPlayer = Player;<br>&#9;CD.ChainNum = -1;<br>&#9;Super.ChargedPickupBegin(Player);<br>&#9;<br><br></div>
<h3 id="TCT.TestMPBeltSpot"><a class="headerlink" href="#TCT.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) || (BeltSpot == 0) );<br><br></div>
<h3 id="TCT.UsedUp"><a class="headerlink" href="#TCT.UsedUp" title="Permanent link">UsedUp</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer Player;<br><br><br>&#9;if ( Pawn(Owner) != None )<br>&#9;{<br>&#9;&#9;bActivatable = false;<br>&#9;&#9;<br>&#9;}<br>&#9;Player = DeusExPlayer(Owner);<br><br>&#9;if (Player != None)<br>&#9;{<br>&#9;&#9;if (Player.inHand == Self)<br>&#9;&#9;&#9;ChargedPickupEnd(Player);<br>&#9;}<br><br>&#9;Destroy();<br><br></div>
<br><br><hr>
<a class="headerlink" href="#TLItem.uc" title="Permanent link"><h2 id="TLItem.uc">TLItem.uc (extends ChargedPickup)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">ActivateSound=Sound'DeusExSounds.Augmentation.CloakUp'<br>DeActivateSound=None<br>ChargeRemainingLabel="TL readiness:"<br>ItemName="Travel Bomber Spawner"<br>PlayerViewOffset=(X=20.000000,Z=-12.000000)<br>PlayerViewMesh=LodMesh'DeusExItems.VialAmbrosia'<br>PickupViewMesh=LodMesh'DeusExItems.VialAmbrosia'<br>ThirdPersonMesh=LodMesh'DeusExItems.VialAmbrosia'<br>Charge=8<br>LandSound=Sound'DeusExSounds.Generic.GlassHit1'<br>Icon=Texture'DeusExUI.Icons.BeltIconVialAmbrosia'<br>largeIcon=Texture'DeusExUI.Icons.LargeIconVialAmbrosia'<br>largeIconWidth=35<br>largeIconHeight=49<br>Description="s"<br>beltDescription="TRAVEL"<br>Mesh=LodMesh'DeusExItems.VialAmbrosia'<br>CollisionRadius=2.200000<br>CollisionHeight=4.890000<br>Mass=10.000000<br>Buoyancy=100.000000</div>
<h3 id="TLItem.ChargedPickupBegin"><a class="headerlink" href="#TLItem.ChargedPickupBegin" title="Permanent link">ChargedPickupBegin</a> (DeusExPlayer Player)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local TLauncher CD;<br>&#9;local Vector loc,X,Y,Z;<br><br>   <br>   CD = Spawn(Class'TLauncher',,,Player.Location + (Player.CollisionRadius+Default.CollisionRadius+30) * Vector(Player.ViewRotation) + vect(0,0,1) * 30 );<br>&#9;CD.TM=T_Companion;<br>&#9;Super.ChargedPickupBegin(Player);<br>&#9;<br><br></div>
<h3 id="TLItem.TestMPBeltSpot"><a class="headerlink" href="#TLItem.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) || (BeltSpot == 0) );<br><br></div>
<h3 id="TLItem.UsedUp"><a class="headerlink" href="#TLItem.UsedUp" title="Permanent link">UsedUp</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer Player;<br><br><br>&#9;if ( Pawn(Owner) != None )<br>&#9;{<br>&#9;&#9;bActivatable = false;<br>&#9;&#9;<br>&#9;}<br>&#9;Player = DeusExPlayer(Owner);<br><br>&#9;if (Player != None)<br>&#9;{<br>&#9;&#9;if (Player.inHand == Self)<br>&#9;&#9;&#9;ChargedPickupEnd(Player);<br>&#9;}<br><br>&#9;Destroy();<br><br></div>
<br><br><hr>
<a class="headerlink" href="#TLauncher.uc" title="Permanent link"><h2 id="TLauncher.uc">TLauncher.uc (extends DeusExDecoration)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var config TMode TM;<br>var bool bCooldown;<br>var() float Cooldown;<br>var float LastLaunchTime;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">Cooldown=10.000000<br>bInvincible=True<br>ItemName="Travel Bomber"<br>bPushable=False<br>Physics=PHYS_None<br>DrawType=DT_Sprite<br>Style=STY_Translucent<br>Texture=Texture'DeusExDeco.Skins.AlarmLightTex4'<br>Skin=Texture'DeusExDeco.Skins.AlarmLightTex6'<br>DrawScale=1.500000<br>CollisionRadius=45.200001<br>CollisionHeight=32.000000<br>bBlockPlayers=False<br>LightType=LT_Steady<br>LightBrightness=120<br>LightHue=70<br>LightSaturation=100<br>LightRadius=10</div>
<h3 id="TLauncher.Cooled"><a class="headerlink" href="#TLauncher.Cooled" title="Permanent link">Cooled</a> -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre">&#9;<br>&#9;return (Level.TimeSeconds - lastLaunchTime > Cooldown);<br><br></div>
<h3 id="TLauncher.Frob"><a class="headerlink" href="#TLauncher.Frob" title="Permanent link">Frob</a> (Actor Frobber, Inventory frobWith)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer P;<br>&#9;local TRocket TR;<br>&#9;local TLItem h;<br>&#9;local rotator Z2F;<br><br>&#9;P=DeusExPlayer(Frobber);<br>&#9;<br>&#9;&#9;if(DeusExPlayer(Frobber).bIsCrouching && P.bAdmin)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(TM==T_Normal)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;TM=T_Companion;<br>&#9;&#9;&#9;&#9;P.ClientMessage("Companion Mode; Launcher will follow you when you warp.");<br>&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else if(TM==T_Companion)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;TM=T_Pickup;<br>&#9;&#9;&#9;&#9;P.ClientMessage("Pickup Mode; Launcher will be collected.");<br>&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else if(TM==T_Pickup)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;TM=T_Normal;<br>&#9;&#9;&#9;&#9;P.ClientMessage("Normal Mode; Static placement.");<br>&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(TM==T_Pickup)<br>&#9;&#9;{<br>&#9;&#9;&#9;Destroy();<br>&#9;&#9;&#9;SilentAdd(class'TLItem', P);<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;{<br>&#9;&#9;&#9;if(Cooled())<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;Z2F=P.Rotation;<br>&#9;&#9;&#9;&#9;TR = Spawn(class'TRocket',,,Location + (CollisionRadius + TR.Default.CollisionRadius + 30) * vector(Rotation) * BaseEyeHeight,Z2F);<br>&#9;&#9;&#9;&#9;TR.SetOwner(P);<br>&#9;&#9;&#9;&#9;P.UnderWaterTime = -1.0;&#9;<br>&#9;&#9;&#9;&#9;P.bHidden=True;<br>&#9;&#9;&#9;&#9;P.SetCollision(false, false, false);<br>&#9;&#9;&#9;&#9;P.bCollideWorld = true;<br>&#9;&#9;&#9;&#9;P.GotoState('PlayerWalking');<br>&#9;&#9;&#9;&#9;LastLaunchTime = Level.TimeSeconds;<br>&#9;&#9;&#9;&#9;&#9;if(TM==T_Normal)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;bCooldown=True;<br>&#9;&#9;&#9;&#9;&#9;&#9;Texture=Texture'DeusExDeco.Skins.AlarmLightTex2';<br>&#9;&#9;&#9;&#9;&#9;&#9;LightHue=0;<br>&#9;&#9;&#9;&#9;&#9;&#9;SetTimer(Cooldown,false);<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;if(TM==T_Companion)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;TR.bCompanion=True;<br>&#9;&#9;&#9;&#9;&#9;Destroy();<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;P.ClientMessage("Launcher is cooling down, please wait "$int(Cooldown - (Level.TimeSeconds - lastLaunchTime))$" seconds.");<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br><br><br></div>
<h3 id="TLauncher.SilentAdd"><a class="headerlink" href="#TLauncher.SilentAdd" title="Permanent link">SilentAdd</a> (class<inventory> addClass, DeusExPlayer addTarget)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Inventory anItem;<br> <br>&#9;<br>&#9;anItem = Spawn(addClass); <br>&#9;anItem.Instigator = addTarget; <br>&#9;anItem.GotoState('Idle2'); <br>&#9;anItem.bHeldItem = true; <br>&#9;anItem.bTossedOut = false; <br>&#9;<br>&#9;if(Weapon(anItem) != None) <br>&#9;&#9;Weapon(anItem).GiveAmmo(addTarget); <br>&#9;anItem.GiveTo(addTarget);<br><br></div>
<h3 id="TLauncher.Timer"><a class="headerlink" href="#TLauncher.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;bCooldown=False;<br>&#9;Texture=Texture'DeusExDeco.Skins.AlarmLightTex4';<br>&#9;LightHue=70;<br><br></div>
<br><br><hr>
<a class="headerlink" href="#TRocket.uc" title="Permanent link"><h2 id="TRocket.uc">TRocket.uc (extends Rocket)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var AugmentationDisplayWindow win;<br>var gc gc;<br>var bowenviewportwindow vpw;<br>var bool bExploded, bDoneWin;<br>var rotator NewRotation;<br>var vector NewVelocity, NewLocation;<br>var bool bCompanion;<br>var(Bowen) sound LockedSound;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">LockedSound=Sound'DeusExSounds.Generic.Beep4'<br>mpBlastRadius=5.000000<br>blastRadius=5.000000<br>ItemName="Travel Bomb"<br>Damage=0.000000<br>SpawnSound=Sound'DeusExSounds.UserInterface.DataLinkStart'<br>ImpactSound=Sound'DeusExSounds.Weapons.EMPGrenadeExplode'<br>ExplosionDecal=Class'DeusEx.BurnMark'<br>DrawType=DT_Sprite<br>Style=STY_Translucent<br>Texture=Texture'DeusExDeco.Skins.AlarmLightTex2'<br>DrawScale=1.000000<br>bAlwaysRelevant=True<br>NetPriority=3.000000</div>
<h3 id="TRocket.DrawExplosionEffects"><a class="headerlink" href="#TRocket.DrawExplosionEffects" title="Permanent link">DrawExplosionEffects</a> (vector HitLocation, vector HitNormal)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local ShockRing ring;<br>&#9;local SphereEffect sphere;<br>&#9;local ExplosionLight light;<br>&#9;local AnimatedSprite expeffect;<br><br><br>&#9;// draw a pretty shock ring<br>&#9;// For nano defense we are doing something else.<br>&#9;if ((!bAggressiveExploded) || (Level.NetMode == NM_Standalone))<br>&#9;{<br>&#9;&#9;&#9;if(!bNetOwner)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;ring = Spawn(class'ShockRing',,, HitLocation, rot(16384,0,0));<br>&#9;&#9;&#9;if (ring != None)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;ring.RemoteRole = ROLE_None;<br>&#9;&#9;&#9;&#9;&#9;ring.size = blastRadius / 32.0;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;ring = Spawn(class'ShockRing',,, HitLocation, rot(0,0,0));<br>&#9;&#9;&#9;&#9;if (ring != None)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;ring.RemoteRole = ROLE_None;<br>&#9;&#9;&#9;&#9;&#9;ring.size = blastRadius / 32.0;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;ring = Spawn(class'ShockRing',,, HitLocation, rot(0,16384,0));<br>&#9;&#9;&#9;&#9;if (ring != None)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;ring.RemoteRole = ROLE_None;<br>&#9;&#9;&#9;&#9;&#9;ring.size = blastRadius / 32.0;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;sphere = Spawn(class'SphereEffect',,, HitLocation, rot(16384,0,0));<br>&#9;&#9;if (sphere != None)<br>&#9;&#9;{<br>&#9;&#9;&#9;sphere.RemoteRole = ROLE_None;<br>&#9;&#9;&#9;sphere.size = blastRadius / 32.0;<br>&#9;&#9;}<br>&#9;&#9;sphere = Spawn(class'SphereEffect',,, HitLocation, rot(0,0,0));<br>&#9;&#9;if (sphere != None)<br>&#9;&#9;{<br>&#9;&#9;&#9;sphere.RemoteRole = ROLE_None;<br>&#9;&#9;&#9;sphere.size = blastRadius / 32.0;<br>&#9;&#9;}<br>&#9;&#9;sphere = Spawn(class'SphereEffect',,, HitLocation, rot(0,16384,0));<br>&#9;&#9;if (sphere != None)<br>&#9;&#9;{<br>&#9;&#9;&#9;sphere.RemoteRole = ROLE_None;<br>&#9;&#9;&#9;sphere.size = blastRadius / 32.0;<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="TRocket.HitWall"><a class="headerlink" href="#TRocket.HitWall" title="Permanent link">HitWall</a> (vector HitLocation, Actor Wall)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if (vpw != None)<br>&#9;&#9;vpw.Destroy();<br>&#9;if (FireGen != None)<br>&#9;&#9;FireGen.Destroy();<br>&#9;if (SmokeGen != None)<br>&#9;&#9;SmokeGen.Destroy();<br>&#9;Super.HitWall (HitLocation, Wall);<br><br></div>
<h3 id="TRocket.Tick"><a class="headerlink" href="#TRocket.Tick" title="Permanent link">Tick</a> (float deltaTime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local SmokeTrail s;<br><br><br>&#9;time += DeltaTime;<br>&#9;DrawScale = FClamp(2.5*(time+0.5), 1.0, 6.0);<br>&#9;if ((time > FRand() * 0.02) && (Level.NetMode != NM_DedicatedServer))<br>&#9;{<br>&#9;&#9;time = 0;<br><br>&#9;&#9;// spawn some trails<br>&#9;&#9;s = Spawn(class'SmokeTrail',,, Location);<br>&#9;&#9;if (s != None)<br>&#9;&#9;{<br>&#9;&#9;&#9;s.DrawScale = FRand() * 0.333;<br>&#9;&#9;&#9;s.OrigScale = s.DrawScale;<br>&#9;&#9;&#9;s.Texture = Texture'AlarmLightTex2';<br>&#9;&#9;&#9;s.Velocity = VRand() * 50;<br>&#9;&#9;&#9;s.OrigVel = s.Velocity;<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="TRocket.destroyed"><a class="headerlink" href="#TRocket.destroyed" title="Permanent link">destroyed</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local TLauncher TL;<br>&#9;local TLItem h;<br><br>&#9;DeusExPlayer(Owner).SetLocation(Location);<br>&#9;DeusExPlayer(Owner).UnderWaterTime = DeusExPlayer(Owner).Default.UnderWaterTime;&#9;<br>&#9;DeusExPlayer(Owner).SetCollision(true, true , true);<br>&#9;DeusExPlayer(Owner).SetPhysics(PHYS_Walking);<br>&#9;DeusExPlayer(Owner).bCollideWorld = true;<br>&#9;DeusExPlayer(Owner).bHidden=False;<br>&#9;DeusExPlayer(Owner).GotoState('PlayerWalking');<br>&#9;DeusExPlayer(Owner).ClientReStart();&#9;<br>&#9;&#9;if(bCompanion)<br>&#9;&#9;{<br>&#9;&#9;h=Spawn(class'TLItem', Self,, Location, Rotation);<br>&#9;&#9;h.Frob(DeusExPlayer(Owner),None);<br>&#9;&#9;h.bInObjectBelt = True;<br>&#9;&#9;h.Destroy();<br>&#9;&#9;}<br>&#9;bExploded = True;<br>&#9;if (vpw != None)<br>&#9;&#9;vpw.Destroy();<br>&#9;Super.Destroyed();<br><br></div>
<h3 id="TRocket.setdirection"><a class="headerlink" href="#TRocket.setdirection" title="Permanent link">setdirection</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;NewRotation = (PlayerPawn(Owner).ViewRotation);<br>&#9;NewVelocity = normal(vector(NewRotation))*speed;<br>&#9;NewLocation = Location;<br>&#9;//log("rotation to set (nikita) = " @ NewRotation);<br><br></div>
<h3 id="TRocket.tick"><a class="headerlink" href="#TRocket.tick" title="Permanent link">tick</a> (float deltatime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;if(Role == ROLE_Authority || bNetOwner)&#9;//dont do this on clients that didnt fire the rocket&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;{<br>&#9;&#9;&#9;if(!bExploded)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if (bNetOwner)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if (FireGen != None)<br>&#9;&#9;&#9;&#9;&#9;&#9;FireGen.Destroy();<br>&#9;&#9;&#9;&#9;&#9;if (SmokeGen != None)<br>&#9;&#9;&#9;&#9;&#9;&#9;SmokeGen.LifeSpan = 5;<br>&#9;&#9;&#9;&#9;&#9;bDebris = False;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;MakeWindow();<br>&#9;&#9;&#9;&#9;SetDirection();<br>&#9;&#9;&#9;&#9;SetRotation(NewRotation);<br>&#9;&#9;&#9;&#9;Velocity = NewVelocity;<br>&#9;&#9;&#9;&#9;//log("Nikita ticked");<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;if(Role < ROLE_Authority && !bNetOwner)<br>&#9;&#9;{<br>&#9;&#9;&#9;SetRotation(NewRotation);<br>&#9;&#9;&#9;Velocity = NewVelocity;<br>&#9;&#9;&#9;SetLocation(NewLocation);<br>&#9;&#9;&#9;SmokeGen.SetLocation(NewLocation);<br>&#9;&#9;&#9;FireGen.SetLocation(NewLocation);<br>&#9;&#9;&#9;//log("Nikita ticked on observing client, new rotation is: " @ NewRotation);<br>&#9;&#9;}<br>&#9;&#9;//log("Role = " @ Role @ ", bNetOwner = " @ bNetOwner); <br>&#9;&#9;Super.tick(DeltaTime);<br>&#9;<br></div>
<br><br><hr>
<a class="headerlink" href="#TempTurret.uc" title="Permanent link"><h2 id="TempTurret.uc">TempTurret.uc (extends DeusExDecoration)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var bool bDisb;<br>var() int TurretHealth;<br>var() string PTurretTeam;<br>var() deusexplayer Master;<br>var AutoTurretGun gun;<br>var() localized String titleString;		// So we can name specific turrets in multiplayer<br>var() bool bTrackPawnsOnly;<br>var() bool bTrackPlayersOnly;<br>var() bool bActive;<br>var() int maxRange;<br>var() float fireRate;<br>var() float gunAccuracy;<br>var() int gunDamage;<br>var() int ammoAmount;<br>var Actor curTarget;<br>var Actor prevTarget;         // target we had last tick.<br>var Pawn safeTarget;          // in multiplayer, this actor is strictly off-limits<br>var float fireTimer;<br>var bool bConfused;				// used when hit by EMP<br>var float confusionTimer;		// how long until turret resumes normal operation<br>var float confusionDuration;	// how long does an EMP hit last?<br>var Actor LastTarget;			// what was our last target?<br>var float pitchLimit;			// what's the maximum pitch?<br>var Rotator origRot;			// original rotation<br>var bool bPreAlarmActiveState;	// was I previously awake or not?<br>var bool bDisabled;				// have I been hacked or shut down by computers?<br>var float TargetRefreshTime;      // used for multiplayer to reduce rate of checking for targets.<br>var() float Thick;<br>var() float PawnThick;<br>var() int team;						// Keep track of team the turrets on<br>var int mpTurretDamage;			// Settings for multiplayer<br>var int mpTurretRange;<br>var bool bComputerReset;			// Keep track of if computer has been reset so we avoid all actors checks<br>var bool bSwitching;<br>var float SwitchTime, beepTime;<br>var Pawn savedTarget;<br>var int TE;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">TurretHealth=100<br>PTurretTeam="DEFAULT"<br>titleString="AutoTurret"<br>bTrackPlayersOnly=True<br>bActive=True<br>maxRange=512<br>fireRate=0.250000<br>gunAccuracy=0.500000<br>gunDamage=5<br>AmmoAmount=1000<br>confusionDuration=120.000000<br>pitchLimit=11000.000000<br>Team=500<br>mpTurretDamage=20<br>mpTurretRange=1024<br>HitPoints=100<br>minDamageThreshold=100<br>bHighlight=False<br>ItemName="Turret Base"<br>bPushable=False<br>Mesh=LodMesh'DeusExDeco.AutoTurretBase'<br>SoundRadius=48<br>SoundVolume=192<br>AmbientSound=Sound'DeusExSounds.Generic.AutoTurretHum'<br>CollisionRadius=14.000000<br>CollisionHeight=20.200001<br>Mass=50.000000<br>Buoyancy=10.000000<br>bVisionImportant=True</div>
<h3 id="TempTurret.AcquireMultiplayerTarget"><a class="headerlink" href="#TempTurret.AcquireMultiplayerTarget" title="Permanent link">AcquireMultiplayerTarget</a> -> Actor</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Pawn apawn;<br>&#9;local DeusExPlayer aplayer;<br>&#9;local Vector dist;<br>&#9;local Actor noActor;<br><br><br>&#9;if ( bSwitching )<br>&#9;{<br>&#9;&#9;noActor = None;<br>&#9;&#9;return noActor;<br>&#9;}<br><br>&#9;apawn = gun.Level.PawnList;<br><br>&#9;while ( apawn != None )<br>&#9;{<br>&#9;&#9;//if (apawn.bDetectable && !apawn.bIgnore && apawn.IsA('DeusExPlayer'))<br>&#9;&#9;if (apawn.bDetectable && !apawn.bIgnore)<br>&#9;&#9;{<br>&#9;&#9;&#9;aplayer = DeusExPlayer(apawn);<br><br>&#9;&#9;&#9;dist = apawn.Location - gun.Location; //apawn was aplayer<br><br>&#9;&#9;&#9;if ( VSize(dist) < maxRange )<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;// Only players we can see<br>&#9;&#9;&#9;&#9;if ( apawn.FastTrace( apawn.Location, gun.Location ))//apawn was aplayer<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(!PSOwners(apawn))<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;if(curTarget == None)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;curTarget = apawn;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;break;<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;apawn = apawn.nextPawn;<br>&#9;}<br>&#9;return curtarget;<br><br></div>
<h3 id="TempTurret.Destroyed"><a class="headerlink" href="#TempTurret.Destroyed" title="Permanent link">Destroyed</a></h3>

<h3 id="TempTurret.Fire"><a class="headerlink" href="#TempTurret.Fire" title="Permanent link">Fire</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Vector HitLocation, HitNormal, StartTrace, EndTrace, X, Y, Z;<br>&#9;local Rotator rot;<br>&#9;local Actor hit;<br>&#9;local ShellCasing shell;<br>&#9;local Spark spark;<br>&#9;local Pawn attacker;<br><br><br>&#9;if (!gun.IsAnimating())<br>&#9;&#9;gun.LoopAnim('Fire');<br><br>&#9;// CNN - give turrets infinite ammo<br>//&#9;if (ammoAmount > 0)<br>//&#9;{<br>//&#9;&#9;ammoAmount--;<br>&#9;&#9;GetAxes(gun.Rotation, X, Y, Z);<br>&#9;&#9;StartTrace = gun.Location;<br>&#9;&#9;EndTrace = StartTrace + gunAccuracy * (FRand()-0.5)*Y*1000 + gunAccuracy * (FRand()-0.5)*Z*1000 ;<br>&#9;&#9;EndTrace += 10000 * X;<br>&#9;&#9;hit = Trace(HitLocation, HitNormal, EndTrace, StartTrace, True);<br><br>&#9;&#9;// spawn some effects<br>      if ((DeusExMPGame(Level.Game) != None) && (!DeusExMPGame(Level.Game).bSpawnEffects))<br>      {<br>         shell = None;<br>      }<br>      else<br>      {<br>         shell = Spawn(class'ShellCasing',,, gun.Location);<br>      }<br>&#9;&#9;if (shell != None)<br>&#9;&#9;&#9;shell.Velocity = Vector(gun.Rotation - rot(0,16384,0)) * 100 + VRand() * 30;<br><br>&#9;&#9;MakeNoise(1.0);<br>&#9;&#9;PlaySound(sound'PistolFire', SLOT_None);<br>&#9;&#9;AISendEvent('LoudNoise', EAITYPE_Audio);<br><br>&#9;&#9;// muzzle flash<br>&#9;&#9;gun.LightType = LT_Steady;<br>&#9;&#9;gun.MultiSkins[2] = Texture'FlatFXTex34';<br>&#9;&#9;SetTimer(0.1, False);<br><br>&#9;&#9;// randomly draw a tracer<br>&#9;&#9;if (FRand() < 0.5)<br>&#9;&#9;{<br>&#9;&#9;&#9;if (VSize(HitLocation - StartTrace) > 250)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;rot = Rotator(EndTrace - StartTrace);<br>&#9;&#9;&#9;&#9;Spawn(class'Tracer',,, StartTrace + 96 * Vector(rot), rot);<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br><br>&#9;&#9;if (hit != None)<br>&#9;&#9;{<br>         if ((DeusExMPGame(Level.Game) != None) && (!DeusExMPGame(Level.Game).bSpawnEffects))<br>         {<br>            spark = None;<br>         }<br>         else<br>         {<br>            // spawn a little spark and make a ricochet sound if we hit something<br>            spark = spawn(class'Spark',,,HitLocation+HitNormal, Rotator(HitNormal));<br>         }<br><br>&#9;&#9;&#9;if (spark != None)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;spark.DrawScale = 0.05;<br>&#9;&#9;&#9;&#9;PlayHitSound(spark, hit);<br>&#9;&#9;&#9;}<br><br>&#9;&#9;&#9;attacker = None;<br>&#9;&#9;&#9;if ((curTarget == hit) && !curTarget.IsA('PlayerPawn'))<br>&#9;&#9;&#9;&#9;attacker = GetPlayerPawn();<br>         if (Level.NetMode != NM_Standalone)<br>            attacker = safetarget;<br>&#9;&#9;&#9;if ( hit.IsA('DeusExPlayer') && ( Level.NetMode != NM_Standalone ))<br>&#9;&#9;&#9;&#9;DeusExPlayer(hit).myTurretKiller = Self;<br>&#9;&#9;&#9;hit.TakeDamage(gunDamage, attacker, HitLocation, 1000.0*X, 'AutoShot');<br><br>&#9;&#9;&#9;if (hit.IsA('Pawn') && !hit.IsA('Robot'))<br>&#9;&#9;&#9;&#9;SpawnBlood(HitLocation, HitNormal);<br>&#9;&#9;&#9;else if ((hit == Level) || hit.IsA('Mover'))<br>&#9;&#9;&#9;&#9;SpawnEffects(HitLocation, HitNormal, hit);<br>&#9;&#9;}<br>//&#9;<br></div>
<h3 id="TempTurret.Frob"><a class="headerlink" href="#TempTurret.Frob" title="Permanent link">Frob</a> (Actor Frobber, Inventory frobWith)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local TurretItem h;<br>&#9;<br><br>&#9;Gun.destroy();<br>&#9;Destroy();<br>&#9;SilentAdd(class'TurretItem', DeusExPlayer(frobber));<br><br></div>
<h3 id="TempTurret.GetWallMaterial"><a class="headerlink" href="#TempTurret.GetWallMaterial" title="Permanent link">GetWallMaterial</a> (vector HitLocation, vector HitNormal) -> name</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local vector EndTrace, StartTrace;<br>&#9;local actor newtarget;<br>&#9;local int texFlags;<br>&#9;local name texName, texGroup;<br><br><br>&#9;StartTrace = HitLocation + HitNormal*16;&#9;&#9;// make sure we start far enough out<br>&#9;EndTrace = HitLocation - HitNormal;<br><br>&#9;foreach TraceTexture(class'Actor', newtarget, texName, texGroup, texFlags, StartTrace, HitNormal, EndTrace)<br>&#9;&#9;if ((newtarget == Level) || newtarget.IsA('Mover'))<br>&#9;&#9;&#9;break;<br><br>&#9;return texGroup;<br><br></div>
<h3 id="TempTurret.PSOwners"><a class="headerlink" href="#TempTurret.PSOwners" title="Permanent link">PSOwners</a> (Pawn P) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local PSTurretController PSTC;<br><br><br>&#9;if(DeusExPlayer(P) != None)<br>&#9;{<br>&#9;&#9;if(DeusExPlayer(P) == Master)<br>&#9;&#9;&#9;return True;<br>&#9;}<br>&#9;&#9;<br>&#9;if(ScriptedPawn(P) != None)<br>&#9;{<br>&#9;&#9;if(ScriptedPawn(P).IsA('Pets') || ScriptedPawn(P).IsA('RadarDrone'))<br>&#9;&#9;&#9;return true;<br>&#9;}<br>&#9;return False;<br><br></div>
<h3 id="TempTurret.PlayHitSound"><a class="headerlink" href="#TempTurret.PlayHitSound" title="Permanent link">PlayHitSound</a> (actor destActor, Actor hitActor)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local float rnd;<br>&#9;local sound snd;<br><br><br>&#9;rnd = FRand();<br><br>&#9;if (rnd < 0.25)<br>&#9;&#9;snd = sound'Ricochet1';<br>&#9;else if (rnd < 0.5)<br>&#9;&#9;snd = sound'Ricochet2';<br>&#9;else if (rnd < 0.75)<br>&#9;&#9;snd = sound'Ricochet3';<br>&#9;else<br>&#9;&#9;snd = sound'Ricochet4';<br><br>&#9;// play a different ricochet sound if the object isn't damaged by normal bullets<br>&#9;if (hitActor != None) <br>&#9;{<br>&#9;&#9;if (hitActor.IsA('DeusExDecoration') && (DeusExDecoration(hitActor).minDamageThreshold > 10))<br>&#9;&#9;&#9;snd = sound'ArmorRicochet';<br>&#9;&#9;else if (hitActor.IsA('Robot'))<br>&#9;&#9;&#9;snd = sound'ArmorRicochet';<br>&#9;}<br><br>&#9;if (destActor != None)<br>&#9;&#9;destActor.PlaySound(snd, SLOT_None,,, 1024, 1.1 - 0.2*FRand());<br><br></div>
<h3 id="TempTurret.PostBeginPlay"><a class="headerlink" href="#TempTurret.PostBeginPlay" title="Permanent link">PostBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   safeTarget = None;<br>   prevTarget = None;<br>   TargetRefreshTime = 0;<br>   Super.PostBeginPlay();<br><br></div>
<h3 id="TempTurret.PreBeginPlay"><a class="headerlink" href="#TempTurret.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Vector v1, v2;<br>&#9;local class<AutoTurretGun> gunClass;<br>&#9;local Rotator rot;<br><br><br>&#9;Super.PreBeginPlay();<br><br>&#9;if (IsA('AutoTurretSmall'))<br>&#9;&#9;gunClass = class'AutoTurretGunSmall';<br>&#9;else<br>&#9;&#9;gunClass = class'AutoTurretGun';<br><br>&#9;rot = Rotation;<br>&#9;rot.Pitch = 0;<br>&#9;rot.Roll = 0;<br>&#9;origRot = rot;<br>&#9;gun = Spawn(gunClass, Self,, Location, rot);<br>&#9;if (gun != None)<br>&#9;{<br>&#9;&#9;v1.X = 0;<br>&#9;&#9;v1.Y = 0;<br>&#9;&#9;v1.Z = CollisionHeight + gun.Default.CollisionHeight;<br>&#9;&#9;v2 = v1 >> Rotation;<br>&#9;&#9;v2 += Location;<br>&#9;&#9;gun.bHackable=False;<br>&#9;&#9;gun.SetLocation(v2);<br>&#9;&#9;gun.SetBase(Self);<br>&#9;}<br><br>&#9;// set up the alarm listeners<br>&#9;//AISetEventCallback('Alarm', 'AlarmHeard');<br><br>&#9;maxRange = mpTurretRange;<br>&#9;gunDamage = mpTurretDamage;<br>&#9;bDisabled = !bActive;<br><br></div>
<h3 id="TempTurret.SilentAdd"><a class="headerlink" href="#TempTurret.SilentAdd" title="Permanent link">SilentAdd</a> (class<inventory> addClass, DeusExPlayer addTarget)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Inventory anItem;<br> <br>&#9;<br>&#9;anItem = Spawn(addClass,,,addTarget.Location); <br>&#9;anItem.SpawnCopy(addTarget);<br>&#9;anItem.Destroy();<br>&#9;/*anItem.Instigator = addTarget; <br>&#9;anItem.GotoState('Idle2'); <br>&#9;anItem.bHeldItem = true; <br>&#9;anItem.bTossedOut = false; <br>&#9;<br>&#9;if(Weapon(anItem) != None) <br>&#9;&#9;Weapon(anItem).GiveAmmo(addTarget); <br>&#9;anItem.GiveTo(addTarget);*/<br><br></div>
<h3 id="TempTurret.SpawnBlood"><a class="headerlink" href="#TempTurret.SpawnBlood" title="Permanent link">SpawnBlood</a> (Vector HitLocation, Vector HitNormal)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local rotator rot;<br><br><br>&#9;rot = Rotator(Location - HitLocation);<br>&#9;rot.Pitch = 0;<br>&#9;rot.Roll = 0;<br><br>   if ((DeusExMPGame(Level.Game) != None) && (!DeusExMPGame(Level.Game).bSpawnEffects))<br>      return;<br><br>&#9;spawn(class'BloodSpurt',,,HitLocation+HitNormal, rot);<br>&#9;spawn(class'BloodDrop',,,HitLocation+HitNormal);<br>&#9;if (FRand() < 0.5)<br>&#9;&#9;spawn(class'BloodDrop',,,HitLocation+HitNormal);<br><br></div>
<h3 id="TempTurret.SpawnEffects"><a class="headerlink" href="#TempTurret.SpawnEffects" title="Permanent link">SpawnEffects</a> (Vector HitLocation, Vector HitNormal, Actor Other)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local SmokeTrail puff;<br>&#9;local int i;<br>&#9;local BulletHole hole;<br>&#9;local Rotator rot;<br><br><br>   if ((DeusExMPGame(Level.Game) != None) && (!DeusExMPGame(Level.Game).bSpawnEffects))<br>      return;<br><br>   if (FRand() < 0.5)<br>&#9;{<br>&#9;&#9;puff = spawn(class'SmokeTrail',,,HitLocation+HitNormal, Rotator(HitNormal));<br>&#9;&#9;if (puff != None)<br>&#9;&#9;{<br>&#9;&#9;&#9;puff.DrawScale *= 0.3;<br>&#9;&#9;&#9;puff.OrigScale = puff.DrawScale;<br>&#9;&#9;&#9;puff.LifeSpan = 0.25;<br>&#9;&#9;&#9;puff.OrigLifeSpan = puff.LifeSpan;<br>&#9;&#9;}<br>&#9;}<br><br>&#9;if (!Other.IsA('BreakableGlass'))<br>&#9;&#9;for (i=0; i<2; i++)<br>&#9;&#9;&#9;if (FRand() < 0.8)<br>&#9;&#9;&#9;&#9;spawn(class'Rockchip',,,HitLocation+HitNormal);<br><br>&#9;hole = spawn(class'BulletHole', Other,, HitLocation, Rotator(HitNormal));<br><br>&#9;// should we crack glass?<br>&#9;if (GetWallMaterial(HitLocation, HitNormal) == 'Glass')<br>&#9;{<br>&#9;&#9;if (FRand() < 0.5)<br>&#9;&#9;&#9;hole.Texture = Texture'FlatFXTex29';<br>&#9;&#9;else<br>&#9;&#9;&#9;hole.Texture = Texture'FlatFXTex30';<br><br>&#9;&#9;hole.DrawScale = 0.1;<br>&#9;&#9;hole.ReattachDecal();<br>&#9;}<br><br></div>
<h3 id="TempTurret.TakeDamage"><a class="headerlink" href="#TempTurret.TakeDamage" title="Permanent link">TakeDamage</a> (int Damage, Pawn EventInstigator, vector HitLocation, vector Momentum, name DamageType)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Human dxp;<br>&#9;local float mindmg;<br><br><br>&#9;&#9;if (DamageType == 'EMP')<br>&#9;&#9;{<br>&#9;&#9;&#9;return; //Nulled function, IMMUNE TO EMP.<br>&#9;&#9;}<br><br>&#9;&#9;TurretHealth -= Damage; //Edited this in to avoid some things.<br><br>&#9;&#9;if(bDisb == False)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(TurretHealth <= 0)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;<br></div>
<h3 id="TempTurret.Tick"><a class="headerlink" href="#TempTurret.Tick" title="Permanent link">Tick</a> (float deltaTime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Pawn pawn;<br>&#9;local ScriptedPawn sp;<br>&#9;local DeusExDecoration deco;<br>&#9;local float near;<br>&#9;local Rotator destRot;<br>&#9;local bool bSwitched;<br>&#9;local float AreWeTooFar;<br>&#9;local Inventory Inv;<br><br>Super.Tick(deltaTime);<br><br>&#9;/*if(Master != None)<br>&#9;{<br>&#9;&#9;AreWeTooFar = Abs(VSize(Master.Location - Location));<br>&#9;&#9;if(AreWeTooFar > 650)<br>&#9;&#9;&#9;return;<br>&#9;}*/<br>&#9;<br>&#9;bSwitched = False;<br><br>&#9;if ( bSwitching )<br>&#9;{<br>&#9;&#9;UpdateSwitch();<br>&#9;&#9;return;<br>&#9;}<br><br><br>&#9;&#9;<br>&#9;if (bActive && !bDisabled)<br>&#9;{<br>&#9;&#9;<br>&#9;&#9;curTarget = None;<br><br>&#9;&#9;if ( !bConfused )<br>&#9;&#9;{<br>&#9;&#9;&#9;if (TargetRefreshTime < 0)<br>&#9;&#9;&#9;TargetRefreshTime = 0;<br>         <br>&#9;&#9;&#9;TargetRefreshTime = TargetRefreshTime + deltaTime;<br><br>&#9;&#9;&#9;if (TargetRefreshTime >= 0.3)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;TargetRefreshTime = 0;<br>&#9;&#9;&#9;&#9;curTarget = AcquireMultiplayerTarget();<br><br>//&#9;&#9;&#9;&#9;if ( curTarget == None )<br>//&#9;&#9;&#9;&#9;PlaySound(Sound'TurretUnlocked', SLOT_Interact, 1.0,, maxRange );<br>//&#9;&#9;&#9;&#9;prevtarget = curtarget;&#9;&#9;<br>&#9;&#9;&#9;}<br><br>&#9;&#9;&#9;&#9;&#9;foreach gun.VisibleActors(class'Pawn', pawn, maxRange, gun.Location)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;if (pawn.bDetectable && !pawn.bIgnore)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(curTarget == None)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(!PSOwners(Pawn))<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;curTarget = Pawn;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;break;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br><br>&#9;&#9;&#9;// if we have a target, rotate to face it<br>&#9;&#9;&#9;if (curTarget != None)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;destRot = Rotator(curTarget.Location - gun.Location);<br>&#9;&#9;&#9;&#9;gun.DesiredRotation = destRot;<br>&#9;&#9;&#9;&#9;near = pitchLimit / 2;<br>&#9;&#9;&#9;&#9;gun.DesiredRotation.Pitch = FClamp(gun.DesiredRotation.Pitch, origRot.Pitch - near, origRot.Pitch + near);<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;gun.DesiredRotation = origRot;<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;if ( !bConfused )<br>&#9;&#9;&#9;gun.DesiredRotation = origRot;<br>&#9;}<br><br>&#9;near = (Abs(gun.Rotation.Pitch - gun.DesiredRotation.Pitch)) % 65536;<br>&#9;near += (Abs(gun.Rotation.Yaw - gun.DesiredRotation.Yaw)) % 65536;<br><br>&#9;if (bActive && !bDisabled)<br>&#9;{<br>&#9;&#9;// play an alert sound and light up<br>&#9;&#9;if ((curTarget != None) && (curTarget != LastTarget))<br>&#9;&#9;&#9;PlaySound(Sound'Beep6',,,, 1280);<br><br>&#9;&#9;// if we're aiming close enough to our target<br>&#9;&#9;if (curTarget != None)<br>&#9;&#9;{<br>&#9;&#9;&#9;gun.MultiSkins[1] = Texture'RedLightTex';<br>&#9;&#9;&#9;if ((near < 4096) && (((Abs(gun.Rotation.Pitch - destRot.Pitch)) % 65536) < 8192))<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if (fireTimer > fireRate)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;Fire();<br>&#9;&#9;&#9;&#9;&#9;fireTimer = 0;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;{<br>&#9;&#9;&#9;if (gun.IsAnimating())<br>&#9;&#9;&#9;&#9;gun.PlayAnim('Still', 10.0, 0.001);<br><br>&#9;&#9;&#9;if (bConfused)<br>&#9;&#9;&#9;&#9;gun.MultiSkins[1] = Texture'YellowLightTex';<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;gun.MultiSkins[1] = Texture'GreenLightTex';<br>&#9;&#9;}<br><br>&#9;&#9;fireTimer += deltaTime;<br>&#9;&#9;LastTarget = curTarget;<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;if (gun.IsAnimating())<br>&#9;&#9;&#9;gun.PlayAnim('Still', 10.0, 0.001);<br>&#9;&#9;gun.MultiSkins[1] = None;<br>&#9;}<br><br>&#9;// make noise if we're still moving<br>&#9;if (near > 64)<br>&#9;{<br>&#9;&#9;gun.AmbientSound = Sound'AutoTurretMove';<br>&#9;&#9;if (bConfused)<br>&#9;&#9;&#9;gun.SoundPitch = 128;<br>&#9;&#9;else<br>&#9;&#9;&#9;gun.SoundPitch = 64;<br>&#9;}<br>&#9;else<br>&#9;&#9;gun.AmbientSound = None;<br><br></div>
<h3 id="TempTurret.Timer"><a class="headerlink" href="#TempTurret.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;gun.LightType = LT_None;<br>&#9;gun.MultiSkins[2] = None;<br><br></div>
<h3 id="TempTurret.UpdateSwitch"><a class="headerlink" href="#TempTurret.UpdateSwitch" title="Permanent link">UpdateSwitch</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if ( Level.Timeseconds > SwitchTime )<br>&#9;{<br>&#9;&#9;bSwitching = False;<br>&#9;&#9;//safeTarget = savedTarget;<br>&#9;&#9;SwitchTime = 0;<br>&#9;&#9;beepTime = 0;<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;if ( Level.Timeseconds > beepTime )<br>&#9;&#9;{<br>&#9;&#9;&#9;PlaySound(Sound'TurretSwitch', SLOT_Interact, 1.0,, maxRange );<br>&#9;&#9;&#9;beepTime = Level.Timeseconds + 0.75;<br>&#9;&#9;}<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#ThrownBaton.uc" title="Permanent link"><h2 id="ThrownBaton.uc">ThrownBaton.uc (extends DeusExProjectile)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bStickToWall=True<br>DamageType=exploded<br>bIgnoresNanoDefense=True<br>ItemName="Baton (Thrown)"<br>ItemArticle="a"<br>speed=2000.000000<br>Damage=85.000000<br>MomentumTransfer=123456<br>Mesh=LodMesh'DeusExItems.Baton3rd'<br>bUnlit=True<br>bFixedRotationDir=True<br>RotationRate=(Pitch=-149000,Yaw=0)</div>
<br><br><hr>
<a class="headerlink" href="#ThrownCombatKnife.uc" title="Permanent link"><h2 id="ThrownCombatKnife.uc">ThrownCombatKnife.uc (extends DeusExProjectile)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bStickToWall=True<br>DamageType=exploded<br>bIgnoresNanoDefense=True<br>ItemName="Knife (Thrown)"<br>ItemArticle="a"<br>speed=2000.000000<br>Damage=85.000000<br>MomentumTransfer=123456<br>Mesh=LodMesh'DeusExItems.CombatKnife3rd'<br>bUnlit=True<br>bFixedRotationDir=True<br>RotationRate=(Pitch=-149000,Yaw=0)</div>
<br><br><hr>
<a class="headerlink" href="#ThrownCrowbar.uc" title="Permanent link"><h2 id="ThrownCrowbar.uc">ThrownCrowbar.uc (extends DeusExProjectile)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bStickToWall=True<br>DamageType=exploded<br>bIgnoresNanoDefense=True<br>ItemName="Crowbar (Thrown)"<br>ItemArticle="a"<br>speed=2000.000000<br>Damage=100.000000<br>MomentumTransfer=123456<br>Mesh=LodMesh'DeusExItems.Crowbar3rd'<br>bUnlit=True<br>bFixedRotationDir=True<br>RotationRate=(Pitch=-149000,Yaw=0)</div>
<br><br><hr>
<a class="headerlink" href="#ThrownNanosword.uc" title="Permanent link"><h2 id="ThrownNanosword.uc">ThrownNanosword.uc (extends DeusExProjectile)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bStickToWall=True<br>DamageType=exploded<br>bIgnoresNanoDefense=True<br>ItemName="Dragon's tooth sword (Thrown)"<br>ItemArticle="a"<br>speed=2000.000000<br>Damage=200.000000<br>MomentumTransfer=123456<br>Mesh=LodMesh'DeusExItems.NanoSword3rd'<br>bUnlit=True<br>bFixedRotationDir=True<br>RotationRate=(Pitch=-149000,Yaw=0)</div>
<br><br><hr>
<a class="headerlink" href="#ThrownSword.uc" title="Permanent link"><h2 id="ThrownSword.uc">ThrownSword.uc (extends DeusExProjectile)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bStickToWall=True<br>DamageType=exploded<br>bIgnoresNanoDefense=True<br>ItemName="Sword (Thrown)"<br>ItemArticle="a"<br>speed=2000.000000<br>Damage=100.000000<br>MomentumTransfer=123456<br>Mesh=LodMesh'DeusExItems.Sword3rd'<br>bUnlit=True<br>bFixedRotationDir=True<br>RotationRate=(Pitch=-149000,Yaw=0)</div>
<br><br><hr>
<a class="headerlink" href="#ToolRadar.uc" title="Permanent link"><h2 id="ToolRadar.uc">ToolRadar.uc (extends DeusExDecoration)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var bool bEnabled;<br>var(Sounds) sound BeepActive, BeepPassive;<br>var bool bDebug;<br>var int Waittime;<br>var deusexplayer myOwner;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bEnabled=True<br>BeepActive=Sound'DeusExSounds.Generic.TurretSwitch'<br>bCanBeBase=True<br>ItemName="Radar"<br>Mesh=LodMesh'DeusExDeco.AcousticSensor'<br>CollisionRadius=24.400000<br>CollisionHeight=23.059999<br>Mass=10.000000</div>
<h3 id="ToolRadar.BlowIt"><a class="headerlink" href="#ToolRadar.BlowIt" title="Permanent link">BlowIt</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local SphereEffect sphere;<br>&#9;local ScorchMark s;<br>&#9;local ExplosionLight light;<br>&#9;local int i;<br>&#9;local float explosionDamage;<br>&#9;local float explosionRadius;<br><br><br>&#9;explosionDamage = 200;<br>&#9;explosionRadius = 300;<br><br>&#9;// alert NPCs that I'm exploding<br>&#9;AISendEvent('LoudNoise', EAITYPE_Audio, , explosionRadius*16);<br>&#9;PlaySound(Sound'LargeExplosion1', SLOT_None,,, explosionRadius*16);<br><br>&#9;// draw a pretty explosion<br>&#9;light = Spawn(class'ExplosionLight',,, Location);<br>&#9;if (light != None)<br>&#9;&#9;light.size = 4;<br><br>&#9;Spawn(class'ExplosionSmall',,, Location + 2*VRand()*CollisionRadius);<br>&#9;Spawn(class'ExplosionMedium',,, Location + 2*VRand()*CollisionRadius);<br>&#9;Spawn(class'ExplosionMedium',,, Location + 2*VRand()*CollisionRadius);<br>&#9;Spawn(class'ExplosionLarge',,, Location + 2*VRand()*CollisionRadius);<br><br>&#9;sphere = Spawn(class'SphereEffect',,, Location);<br>&#9;if (sphere != None)<br>&#9;&#9;sphere.size = explosionRadius / 32.0;<br><br>&#9;// spawn a mark<br>&#9;s = spawn(class'ScorchMark', Base,, Location-vect(0,0,1)*CollisionHeight, Rotation+rot(16384,0,0));<br>&#9;if (s != None)<br>&#9;{<br>&#9;&#9;s.DrawScale = FClamp(explosionDamage/30, 0.1, 3.0);<br>&#9;&#9;s.ReattachDecal();<br>&#9;}<br><br>&#9;// spawn some rocks and flesh fragments<br>&#9;for (i=0; i<explosionDamage/6; i++)<br>&#9;{<br>&#9;&#9;if (FRand() < 0.3)<br>&#9;&#9;&#9;spawn(class'Rockchip',,,Location);<br>&#9;&#9;else<br>&#9;&#9;&#9;spawn(class'metalFragment',,,Location);<br>&#9;}<br>&#9;HurtRadius(explosionDamage, explosionRadius, 'Exploded', explosionDamage*100, Location);<br>&#9;Destroy();<br><br></div>
<h3 id="ToolRadar.Bump"><a class="headerlink" href="#ToolRadar.Bump" title="Permanent link">Bump</a> (actor Other)</h3>

<h3 id="ToolRadar.PostBeginplay"><a class="headerlink" href="#ToolRadar.PostBeginplay" title="Permanent link">PostBeginplay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;SetTimer(1,False);<br><br></div>
<h3 id="ToolRadar.Timer"><a class="headerlink" href="#ToolRadar.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int range;<br>&#9;local DeusExPlayer player;<br>&#9;local SphereEffect SE;<br><br>&#9;<br>&#9;&#9;range=0;<br>&#9;&#9;foreach RadiusActors(class'DeusExPlayer', player, 350, Location)<br>&#9;&#9;{<br>&#9;&#9;&#9;if (player != None )<br>&#9;&#9;&#9;&#9;range=2;&#9;&#9;<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;foreach RadiusActors(class'DeusExPlayer', player, 1000, Location)<br>&#9;&#9;{<br>&#9;&#9;&#9;if (player != None && range != 2)<br>&#9;&#9;&#9;&#9;range=1;&#9;&#9;<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;<br>&#9;if(bEnabled && Range==0)<br>&#9;{<br>&#9;&#9;SetTimer(1,False);<br>&#9;}<br>&#9;if(bEnabled && Range==2)<br>&#9;{<br>&#9;&#9;PlaySound(BeepActive, SLOT_None,200,, 255);<br>&#9;&#9;SetTimer(0.5,False);<br>&#9;}<br>&#9;if(bEnabled && Range==1)<br>&#9;{<br>&#9;&#9;PlaySound(BeepActive, SLOT_None,200,, 255);<br>&#9;&#9;SetTimer(1.3,False);<br>&#9;}<br><br>&#9;<br>&#9;if(bDebug)<br>&#9;{<br>&#9;BroadcastMessage("Range"@Range);<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#ToolRadarD.uc" title="Permanent link"><h2 id="ToolRadarD.uc">ToolRadarD.uc (extends DeusExWeapon)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var int Modes;<br>var RadarDrone LinkedDrone;<br>var RaidActor RA;<br>var bool bArmedNuclear;<br>var int DroneAmmo, rDroneammo;<br>var bool bStoredDrone;<br>var bool bStorageMode, bRepStorageMode;<br>var bool bViewing;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">DroneAmmo=30<br>GoverningSkill=Class'DeusEx.SkillWeaponPistol'<br>NoiseLevel=0.010000<br>ShotTime=0.150000<br>reloadTime=1.500000<br>HitDamage=0<br>maxRange=4800<br>AccurateRange=2400<br>BaseAccuracy=0.800000<br>bCanHaveScope=True<br>ScopeFOV=25<br>bCanHaveLaser=True<br>recoilStrength=0.100000<br>mpBaseAccuracy=0.200000<br>mpAccurateRange=120000<br>mpMaxRange=120000<br>bCanHaveModBaseAccuracy=True<br>bCanHaveModReloadCount=True<br>bCanHaveModAccurateRange=True<br>bCanHaveModReloadTime=True<br>bInstantHit=True<br>FireOffset=(X=-24.000000,Y=10.000000,Z=14.000000)<br>shakemag=50.000000<br>FireSound=Sound'DeusExSounds.Weapons.StealthPistolFire'<br>AltFireSound=Sound'DeusExSounds.Weapons.StealthPistolReloadEnd'<br>CockingSound=Sound'DeusExSounds.Weapons.StealthPistolReload'<br>SelectSound=Sound'DeusExSounds.Weapons.StealthPistolSelect'<br>InventoryGroup=239<br>ItemName="Radar Drone Controller"<br>PlayerViewOffset=(X=24.000000,Y=-10.000000,Z=-14.000000)<br>PlayerViewMesh=LodMesh'DeusExItems.StealthPistol'<br>PickupViewMesh=LodMesh'DeusExItems.StealthPistolPickup'<br>ThirdPersonMesh=LodMesh'DeusExItems.StealthPistol3rd'<br>Icon=Texture'DeusExUI.Icons.BeltIconStealthPistol'<br>largeIcon=Texture'DeusExUI.Icons.LargeIconStealthPistol'<br>largeIconWidth=47<br>largeIconHeight=37<br>Description="The stealth pistol is a variant of the standard 10mm pistol with a larger clip and integrated silencer designed for wet work at very close ranges."<br>beltDescription="DRONE"<br>Mesh=LodMesh'DeusExItems.StealthPistolPickup'<br>CollisionRadius=8.000000<br>CollisionHeight=0.800000</div>
<h3 id="ToolRadarD.CalculateAccuracy"><a class="headerlink" href="#ToolRadarD.CalculateAccuracy" title="Permanent link">CalculateAccuracy</a> -> float</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;return 0.000000; //Dirty hack to always return dead on accuracy.<br><br></div>
<h3 id="ToolRadarD.CycleAmmo"><a class="headerlink" href="#ToolRadarD.CycleAmmo" title="Permanent link">CycleAmmo</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;bViewing = !bViewing;<br>&#9;<br>&#9;if(bViewing)<br>&#9;&#9;LockPlayerCam(DeusExPlayer(Owner));<br>&#9;else<br>&#9;&#9;UnLockPlayerCam(DeusExPlayer(Owner));<br><br></div>
<h3 id="ToolRadarD.LockPlayerCam"><a class="headerlink" href="#ToolRadarD.LockPlayerCam" title="Permanent link">LockPlayerCam</a> (deusexplayer dxp)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local RadarDrone RD;<br><br>&#9;&#9;&#9;dxp.bBehindView=True;<br>&#9;&#9;&#9;<br>&#9;&#9;Foreach AllActors(class'RadarDrone',RD)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(RD.myOwner == DeusExPlayer(Owner))<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;if(RD != None)<br>&#9;&#9;&#9;&#9;{&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;dxp.ViewTarget = RD;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br><br></div>
<h3 id="ToolRadarD.PostBeginPlay"><a class="headerlink" href="#ToolRadarD.PostBeginPlay" title="Permanent link">PostBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local RadarDrone DR;<br><br><br>&#9;&#9;foreach AllActors(class'RadarDrone', DR)<br>&#9;&#9;&#9;if(DR.myOwner == DeusExPlayer(Owner))<br>&#9;&#9;&#9;&#9;LinkedDrone = DR;<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;if(LinkedDrone != None)<br>&#9;&#9;&#9;DroneAmmo = LinkedDrone.Rocketsremain;<br><br></div>
<h3 id="ToolRadarD.PreBeginPlay"><a class="headerlink" href="#ToolRadarD.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;// If this is a netgame, then override defaults<br>&#9;if ( Level.NetMode != NM_StandAlone )<br>&#9;{<br>&#9;&#9;HitDamage = mpHitDamage;<br>&#9;&#9;BaseAccuracy = mpBaseAccuracy;<br>&#9;&#9;ReloadTime = mpReloadTime;<br>&#9;&#9;AccurateRange = mpAccurateRange;<br>&#9;&#9;MaxRange = mpMaxRange;<br>&#9;&#9;ReloadCount = mpReloadCount;<br>&#9;}<br><br></div>
<h3 id="ToolRadarD.ProcessTraceHit"><a class="headerlink" href="#ToolRadarD.ProcessTraceHit" title="Permanent link">ProcessTraceHit</a> (Actor Other, Vector HitLocation, Vector HitNormal, Vector X, Vector Y, Vector Z)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local RadarDrone RD;<br>&#9;local RocketDrone Rock;<br>&#9;local rotator testRot;<br><br><br>&#9;if(Other.isa('RadarDrone') && RadarDrone(Other).myOwner == DeusExPlayer(Owner))<br>&#9;{<br>&#9;&#9;if(bStorageMode)<br>&#9;&#9;{<br>&#9;&#9;&#9;bStoredDrone=True;<br>&#9;&#9;&#9;DeusExPlayer(Owner).ClientMessage("Drone stored in gun.");<br>&#9;&#9;&#9;Other.Destroy();<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;&#9;if(RadarDrone(Other).pOrders == 0)<br>&#9;&#9;{<br>&#9;&#9;&#9;RadarDrone(Other).pOrders=1;<br>&#9;&#9;&#9;RadarDrone(Other).bSilence = True;<br>&#9;&#9;&#9;RadarDrone(Other).GotoState('Following');<br>&#9;&#9;&#9;RadarDrone(Other).myOwner.ClientMessage("RADAR Drone: Setting new orders, "$RadarDrone(Other).myOwner.PlayerReplicationinfo.PlayerName$", loading Follow/Silent.", 'Teamsay');<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;&#9;if(RadarDrone(Other).pOrders == 1)<br>&#9;&#9;{<br>&#9;&#9;&#9;RadarDrone(Other).pOrders=2;<br>&#9;&#9;&#9;RadarDrone(Other).bSilence = False;<br>&#9;&#9;&#9;RadarDrone(Other).GotoState('Waiting');<br>&#9;&#9;&#9;RadarDrone(Other).myOwner.ClientMessage("RADAR Drone: Setting new orders, "$RadarDrone(Other).myOwner.PlayerReplicationinfo.PlayerName$", loading Stationary/Radar.", 'Teamsay');<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;&#9;if(RadarDrone(Other).pOrders == 2)<br>&#9;&#9;{<br>&#9;&#9;&#9;RadarDrone(Other).pOrders=3;<br>&#9;&#9;&#9;RadarDrone(Other).bSilence = True;<br>&#9;&#9;&#9;RadarDrone(Other).GotoState('Waiting');<br>&#9;&#9;&#9;RadarDrone(Other).myOwner.ClientMessage("RADAR Drone: Setting new orders, "$RadarDrone(Other).myOwner.PlayerReplicationinfo.PlayerName$", loading Stationary/Silent.", 'Teamsay');<br>&#9;&#9;&#9;return;<br>&#9;&#9;}&#9;<br>&#9;&#9;if(RadarDrone(Other).pOrders == 3)<br>&#9;&#9;{<br>&#9;&#9;&#9;RadarDrone(Other).pOrders=0;<br>&#9;&#9;&#9;RadarDrone(Other).bSilence = False;<br>&#9;&#9;&#9;RadarDrone(Other).GotoState('Following');<br>&#9;&#9;&#9;RadarDrone(Other).myOwner.ClientMessage("RADAR Drone: Setting new orders, "$RadarDrone(Other).myOwner.PlayerReplicationinfo.PlayerName$", loading Follow/Radar.", 'Teamsay');<br>&#9;&#9;&#9;return;<br>&#9;&#9;}&#9;<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;Foreach AllActors(class'RadarDrone',RD)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(RD.myOwner == DeusExPlayer(Owner))<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;if(Other != None)<br>&#9;&#9;&#9;&#9;{&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;if(RD.RocketsRemain > 0)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;RA = Spawn(class'RaidActor',,, HitLocation);<br>&#9;&#9;&#9;&#9;&#9;RD.LookAtActor(RA, true, true, true, 0, 0.1);<br>&#9;&#9;&#9;&#9;&#9;testRot = rotator(RA.Location - RD.Location);<br>&#9;&#9;&#9;&#9;&#9;Rock = Spawn(class'RocketDrone',Pawn(Owner),,RD.Location + (RD.CollisionRadius+Default.CollisionRadius+5) * Vector(RD.Rotation) + vect(0,0,1) * 2,testRot);<br>&#9;&#9;&#9;&#9;&#9;RA.Destroy();<br>&#9;&#9;&#9;&#9;&#9;RD.RocketsRemain--;<br>&#9;&#9;&#9;&#9;&#9;DroneAmmo = RD.RocketsRemain;<br>&#9;&#9;&#9;&#9;&#9;//DeusExPlayer(Owner).ClientMessage(RD.RocketsRemain$" ammo remaining in Drone.");<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="ToolRadarD.Recreation"><a class="headerlink" href="#ToolRadarD.Recreation" title="Permanent link">Recreation</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local RadarDrone RD, RDb;<br>&#9;local int ii;<br>&#9;local DeusExPlayer hax;<br>&#9;local int oldrockets;<br>&#9;local string oldiv;<br>&#9;local inventory oldstoredinv;<br>&#9;local vector loc, line, HitLocation, hitNormal;<br>&#9;local int oldOrders;<br><br>//local ToolRadar RT;<br>&#9;<br>&#9;foreach AllActors(class'RadarDrone',RD)<br>&#9;{<br>&#9;&#9;if(RD.myOwner == DeusExPlayer(Owner))<br>&#9;&#9;{<br>&#9;&#9;Spawn(class'SphereEffect',,, RD.Location);&#9;&#9;<br>&#9;&#9;RD.SetLocation(DeusExPlayer(Owner).Location + (DeusExPlayer(Owner).CollisionRadius+Default.CollisionRadius+30) * Vector(DeusExPlayer(Owner).ViewRotation) + vect(0,0,1) * 30 );<br>&#9;&#9;Spawn(class'SphereEffect',,, RD.Location);<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="ToolRadarD.Recreationxredacted"><a class="headerlink" href="#ToolRadarD.Recreationxredacted" title="Permanent link">Recreationxredacted</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local RadarDrone RD, RDb;<br>&#9;local int ii;<br>&#9;local DeusExPlayer hax;<br>&#9;local int oldrockets;<br>&#9;local string oldiv;<br>&#9;local inventory oldstoredinv;<br>&#9;local vector loc, line, HitLocation, hitNormal;<br>&#9;local int oldOrders;<br><br>//local ToolRadar RT;<br>&#9;foreach AllActors(class'RadarDrone',RD)<br>&#9;{<br>&#9;&#9;if(RD.myOwner == DeusExPlayer(Owner))<br>&#9;&#9;{<br>&#9;&#9;Spawn(class'SphereEffect',,, RD.Location);<br>&#9;&#9;hax = RD.myOwner;<br>&#9;&#9;oldrockets = RD.RocketsRemain;<br>&#9;&#9;oldOrders = RD.pOrders;<br>&#9;&#9;oldiv = RD.iv;<br>&#9;&#9;//oldstoredinv = RD.storedinv;<br>&#9;&#9;RD.Destroy();<br>&#9;&#9;<br>&#9;&#9;RDb = Spawn(Class'RadarDrone',,,DeusExPlayer(Owner).Location + (DeusExPlayer(Owner).CollisionRadius+Default.CollisionRadius+30) * Vector(DeusExPlayer(Owner).ViewRotation) + vect(0,0,1) * 30 );<br>&#9;&#9;RDb.myOwner = hax;<br>&#9;&#9;RDb.iv = oldiv;<br>&#9;&#9;//rdb.storedinv = oldstoredinv;<br>&#9;&#9;//rdm.oldstoredinv<br>&#9;&#9;RDb.RocketsRemain = oldrockets;<br>&#9;&#9;RDb.GotoState('following');<br>&#9;&#9;RDb.myOwner.ClientMessage("RADAR Drone: Recreated at your location.", 'Teamsay');<br>&#9;&#9;RDb.SetTimer(1,False);<br>&#9;&#9;RDb.pOrders = oldOrders;<br>&#9;&#9;LinkedDrone = RDb;<br>&#9;&#9;&#9;if(oldOrders == 0)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;RDb.bSilence = False;<br>&#9;&#9;&#9;&#9;RDb.GotoState('Following');<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;if(oldOrders == 1)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;RDb.bSilence = True;<br>&#9;&#9;&#9;&#9;RDb.GotoState('Following');<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;if(oldOrders == 2)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;RDb.bSilence = False;<br>&#9;&#9;&#9;&#9;RDb.GotoState('Waiting');<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;if(oldOrders == 3)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;RDb.bSilence = True;<br>&#9;&#9;&#9;&#9;RDb.GotoState('Waiting');<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(bViewing)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;Hax.ViewTarget = RDb;<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;Hax.ViewTarget = None;<br>&#9;&#9;&#9;}<br>&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="ToolRadarD.RenderOverlays"><a class="headerlink" href="#ToolRadarD.RenderOverlays" title="Permanent link">RenderOverlays</a> (canvas Canvas)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer P;<br>&#9;local Pawn CrosshairTarget;<br>&#9;local float Scale, Accuracy, Dist;<br>&#9;local vector HitLocation, HitNormal, StartTrace, EndTrace, X,Y,Z;<br>&#9;local String KeyName, Alias, curKeyName;<br>&#9;local int i;<br><br>&#9;Super.RenderOverlays(Canvas);<br>&#9;P = DeusExPlayer(Owner);<br>&#9;if ( P != None ) <br>&#9;{&#9;<br>&#9;&#9;GetAxes(Pawn(Owner).ViewRotation,X,Y,Z);&#9;<br>&#9;&#9;StartTrace = ComputeProjectileStart(X, Y, Z);<br>&#9;&#9;AdjustedAim = P.AdjustAim(1000000, StartTrace, 2*AimError, False, False);<br>&#9;&#9;EndTrace = StartTrace + Accuracy * (FRand()-0.5)*Y*1000 + Accuracy * (FRand()-0.5)*Z*1000 ;&#9;<br>&#9;&#9;EndTrace += (FMax(1024.0, MaxRange) * Vector(AdjustedAim));<br>&#9;//&#9;rDroneAmmo = DroneAmmo;<br>&#9;&#9;&#9;&#9;bOwnsCrossHair = True; <br>&#9;&#9;&#9;&#9;Scale = Canvas.ClipX/640;<br>&#9;&#9;&#9;&#9;Canvas.SetPos(0.5 * Canvas.ClipX - 16 * Scale, 0.5 * Canvas.ClipY - 16 * Scale );<br>&#9;&#9;&#9;&#9;//Canvas.Style = ERenderStyle.STY_Translucent;<br>&#9;&#9;&#9;&#9;Canvas.DrawColor.R = 0;<br>&#9;&#9;&#9;&#9;Canvas.DrawColor.G = Rand(128);<br>&#9;&#9;&#9;&#9;Canvas.DrawColor.B = Rand(128);<br>&#9;&#9;&#9;&#9;Canvas.Font = Canvas.SmallFont;<br><br>&#9;&#9;&#9;&#9;curKeyName = "";<br>&#9;&#9;&#9;&#9;for ( i=0; i<255; i++ )<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;KeyName = Owner.ConsoleCommand ( "KEYNAME "$i );<br>&#9;&#9;&#9;&#9;&#9;if ( KeyName != "" )<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;Alias = Owner.ConsoleCommand( "KEYBINDING "$KeyName );<br>&#9;&#9;&#9;&#9;&#9;&#9;if ( Alias ~= "ToggleScope" )<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;curKeyName = KeyName;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;break;<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;if ( curKeyName ~= "" )<br>&#9;&#9;&#9;&#9;&#9;curKeyName = "NONE";<br>&#9;&#9;<br>&#9;&#9;&#9;&#9;if(LinkedDrone != None)<br>&#9;&#9;&#9;&#9;&#9;Canvas.DrawText("      Ammo: "$DroneAmmo$" - Health: "$LinkedDrone.Health$" - Storage: "@LinkedDrone.iv);<br>&#9;&#9;&#9;&#9;else if(bRepstoragemode)<br>&#9;&#9;&#9;&#9;&#9;Canvas.DrawText("      Drone stored. ("$curKeyName$")");<br>&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;Canvas.DrawText("      ERROR: NO DRONE");<br><br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;bOwnsCrossHair = False; // Only for compatibility with HDX50&#9;&#9;<br><br></div>
<h3 id="ToolRadarD.TestMPBeltSpot"><a class="headerlink" href="#ToolRadarD.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<h3 id="ToolRadarD.UnLockPlayerCam"><a class="headerlink" href="#ToolRadarD.UnLockPlayerCam" title="Permanent link">UnLockPlayerCam</a> (deusexplayer dxp)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;&#9;dxp.bBehindView=False;<br>&#9;&#9;&#9;dxp.ViewTarget = None;<br><br></div>
<h3 id="ToolRadarD.lasertoggle"><a class="headerlink" href="#ToolRadarD.lasertoggle" title="Permanent link">lasertoggle</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Recreation();<br><br></div>
<h3 id="ToolRadarD.scopetoggle"><a class="headerlink" href="#ToolRadarD.scopetoggle" title="Permanent link">scopetoggle</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local RadarDrone RD;<br>&#9;local class<actor> NewClass;<br>&#9;local rotator testRot;<br><br>&#9;if(bStoredDrone)<br>&#9;{<br>&#9;RD = Spawn(class'RadarDrone',Pawn(Owner),,Pawn(Owner).Location,Pawn(Owner).ViewRotation);<br>&#9;RD.myOwner = DeusExPlayer(Owner);<br>&#9;&#9;RD.GotoState('following');<br>&#9;&#9;RD.myOwner.ClientMessage("RADAR Drone: Recreated at your location.", 'Teamsay');<br>&#9;&#9;RD.SetTimer(1,False);<br>&#9;&#9;LinkedDrone=RD;<br>&#9;bStoredDrone=False;<br>&#9;bRepstoragemode=False;<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;foreach AllActors(class'RadarDrone',RD)<br>&#9;&#9;&#9;if(RD.myOwner == DeusExPlayer(Owner))<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;RD.Destroy();<br>&#9;&#9;&#9;&#9;bStoredDrone=True;<br>&#9;&#9;&#9;&#9;bRepstoragemode=True;<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#Torch.uc" title="Permanent link"><h2 id="Torch.uc">Torch.uc (extends DeusExWeapon)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var bool bTorchd;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">LowAmmoWaterMark=0<br>GoverningSkill=Class'DeusEx.SkillWeaponLowTech'<br>NoiseLevel=0.050000<br>reloadTime=0.000000<br>HitDamage=0<br>maxRange=96<br>AccurateRange=96<br>BaseAccuracy=1.000000<br>bPenetrating=False<br>bHasMuzzleFlash=False<br>bHandToHand=True<br>mpBaseAccuracy=1.000000<br>mpAccurateRange=96<br>mpMaxRange=96<br>AmmoName=Class'DeusEx.AmmoNone'<br>ReloadCount=0<br>bInstantHit=True<br>FireOffset=(X=-21.000000,Y=16.000000,Z=27.000000)<br>shakemag=20.000000<br>FireSound=Sound'DeusExSounds.Weapons.NanoSwordFire'<br>Misc1Sound=Sound'DeusExSounds.Weapons.NanoSwordHitFlesh'<br>Misc2Sound=Sound'DeusExSounds.Weapons.NanoSwordHitHard'<br>Misc3Sound=Sound'DeusExSounds.Weapons.NanoSwordHitSoft'<br>InventoryGroup=120<br>ItemName="|P2Torch - Press '[' {default |P3Scope|P2 key} to toggle on/off"<br>PlayerViewOffset=(X=21.000000,Y=-16.000000,Z=-27.000000)<br>PlayerViewMesh=LodMesh'DeusExItems.NanoSword'<br>PickupViewMesh=LodMesh'DeusExItems.NanoSwordPickup'<br>ThirdPersonMesh=LodMesh'DeusExItems.NanoSword3rd'<br>LandSound=Sound'DeusExSounds.Generic.DropLargeWeapon'<br>Icon=Texture'DeusExUI.Icons.BeltIconDragonTooth'<br>largeIcon=Texture'DeusExUI.Icons.LargeIconDragonTooth'<br>largeIconWidth=205<br>largeIconHeight=46<br>invSlotsX=4<br>Description="A laserological blade of unknown origin."<br>beltDescription="Torch"<br>Mesh=LodMesh'DeusExItems.NanoSwordPickup'<br>MultiSkins(1)=Texture'DeusExItems.Skins.PinkMaskTex'<br>MultiSkins(4)=Texture'DeusExItems.Skins.BlackMaskTex'<br>MultiSkins(5)=Texture'DeusExItems.Skins.PinkMaskTex'<br>MultiSkins(6)=Texture'DeusExItems.Skins.BlackMaskTex'<br>MultiSkins(7)=Texture'DeusExItems.Skins.BlackMaskTex'<br>CollisionRadius=32.000000<br>CollisionHeight=2.400000<br>Mass=20.000000</div>
<h3 id="Torch.BecomePickup"><a class="headerlink" href="#Torch.BecomePickup" title="Permanent link">BecomePickup</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.BecomePickup();<br>   if (Level.NetMode != NM_Standalone)<br>      if (bTossedOut)<br>         Lifespan = 0.0;<br><br></div>
<h3 id="Torch.BeginState"><a class="headerlink" href="#Torch.BeginState" title="Permanent link">BeginState</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;Super.BeginState();<br>&#9;&#9;LightType = LT_None;<br>            Hitdamage=0;<br>            MultiSkins[1] = Texture'PinkMaskTex';<br>MultiSkins[5] = Texture'PinkMaskTex';<br>bTorchd = False;<br>&#9;<br></div>
<h3 id="Torch.DropFrom"><a class="headerlink" href="#Torch.DropFrom" title="Permanent link">DropFrom</a> (vector StartLocation)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Destroy();<br><br></div>
<h3 id="Torch.ScopeToggle"><a class="headerlink" href="#Torch.ScopeToggle" title="Permanent link">ScopeToggle</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer player;<br><br>Super.BeginState();<br>&#9;&#9;player = DeusExPlayer(Owner);<br>&#9;&#9;if (player != None)<br>&#9;&#9;{<br>if ( !bTorchd)<br>{<br>            LightCone = 128;<br>            LightEffect = LE_FireWaver;<br>            LightPeriod = 32;<br>            LightPhase = 0;<br>            LightRadius = 25;<br>            LightType = LT_Steady;<br>            LightBrightness = 166;<br>            LightHue = 1;<br>            LightSaturation = 0;<br>            bActorShadows = False;<br>            bCorona = False;<br>            bLensFlare = False;<br>            bSpecialLit = False;<br>            Hitdamage=20;<br>MultiSkins[5] = FireTexture'Effects.Fire.OnFire_J';<br>bTorchd = True;<br>           &#9;}<br>else<br>{<br>            LightCone = 0;<br>            LightEffect = LE_None;<br>            LightPeriod = 32;<br>            LightPhase = 0;<br>           LightRadius = 100;<br>            LightType = LT_None;<br>            VolumeBrightness = 255;<br>            Hitdamage=0;<br>MultiSkins[5] = Texture'PinkMaskTex';<br>bTorchd = False;<br>}<br>}<br><br></div>
<h3 id="Torch.TestMPBeltSpot"><a class="headerlink" href="#Torch.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<h3 id="Torch.WeaponDamageType"><a class="headerlink" href="#Torch.WeaponDamageType" title="Permanent link">WeaponDamageType</a> -> name</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;return 'KnockedOut';<br><br></div>
<br><br><hr>
<a class="headerlink" href="#TrainingLam.uc" title="Permanent link"><h2 id="TrainingLam.uc">TrainingLam.uc (extends ThrownProjectile)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var float	mpBlastRadius;<br>var float	mpProxRadius;<br>var float	mpLAMDamage;<br>var float	mpFuselength;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">mpBlastRadius=512.000000<br>mpProxRadius=128.000000<br>mpFuselength=1.500000<br>fuseLength=3.000000<br>proxRadius=128.000000<br>blastRadius=384.000000<br>spawnWeaponClass=Class'PartyStuff.WeaponTrainingLam'<br>ItemName="Training Lightweight Attack Munition (TLAM)"<br>speed=1000.000000<br>MaxSpeed=1000.000000<br>MomentumTransfer=50000<br>ImpactSound=Sound'DeusExSounds.Weapons.LAMExplode'<br>ExplosionDecal=Class'DeusEx.ScorchMark'<br>LifeSpan=0.000000<br>Mesh=LodMesh'DeusExItems.LAMPickup'<br>CollisionRadius=9.000000<br>CollisionHeight=9.000000<br>Mass=5.000000<br>Buoyancy=2.000000</div>
<h3 id="TrainingLam.PreBeginPlay"><a class="headerlink" href="#TrainingLam.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;if ( Level.NetMode != NM_Standalone )<br>&#9;{<br>&#9;&#9;blastRadius=mpBlastRadius;<br>&#9;&#9;proxRadius=mpProxRadius;<br>&#9;&#9;Damage=mpLAMDamage;<br>&#9;&#9;fuseLength=mpFuselength;<br>&#9;&#9;bIgnoresNanoDefense=True;<br>&#9;}<br><br></div>
<h3 id="TrainingLam.SpawnEffects"><a class="headerlink" href="#TrainingLam.SpawnEffects" title="Permanent link">SpawnEffects</a> (Vector HitLocation, Vector HitNormal, Actor Other)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int i;<br>&#9;local SmokeTrail puff;<br>&#9;local TearGas gas;<br>&#9;local Fragment frag;<br>&#9;local ParticleGenerator gen;<br>&#9;local ProjectileGenerator projgen;<br>&#9;local vector loc;<br>&#9;local rotator rot;<br>&#9;local ExplosionLight light;<br>&#9;local DeusExDecal mark;<br>&#9;local AnimatedSprite expeffect;<br><br><br>&#9;rot.Pitch = 16384 + FRand() * 16384 - 8192;<br>&#9;rot.Yaw = FRand() * 65536;<br>&#9;rot.Roll = 0;<br><br>&#9;// don't draw damage art on destroyed movers<br>&#9;if (DeusExMover(Other) != None)<br>&#9;&#9;if (DeusExMover(Other).bDestroyed)<br>&#9;&#9;&#9;ExplosionDecal = None;<br><br>&#9;if (ExplosionDecal != None)<br>&#9;{<br>&#9;&#9;mark = DeusExDecal(Spawn(ExplosionDecal, Self,, HitLocation, Rotator(HitNormal)));<br>&#9;&#9;if (mark != None)<br>&#9;&#9;{<br>&#9;&#9;&#9;mark.DrawScale = FClamp(damage/30, 0.1, 3.0);<br>&#9;&#9;&#9;mark.ReattachDecal();<br>         if (!bDamaged)<br>            mark.RemoteRole = ROLE_None;<br>&#9;&#9;}<br>&#9;}<br><br>&#9;for (i=0; i<blastRadius/36; i++)<br>&#9;{<br>&#9;&#9;if (FRand() < 0.9)<br>&#9;&#9;{<br>&#9;&#9;&#9;if (bDebris && bStuck)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;frag = spawn(FragmentClass,,, HitLocation);<br>&#9;&#9;&#9;&#9;if (!bDamaged)<br>&#9;&#9;&#9;&#9;&#9;frag.RemoteRole = ROLE_None;<br>&#9;&#9;&#9;&#9;if (frag != None)<br>&#9;&#9;&#9;&#9;&#9;frag.CalcVelocity(VRand(), blastRadius);<br>&#9;&#9;&#9;}<br><br>&#9;&#9;&#9;loc = Location;<br>&#9;&#9;&#9;loc.X += FRand() * blastRadius - blastRadius * 0.5;<br>&#9;&#9;&#9;loc.Y += FRand() * blastRadius - blastRadius * 0.5;<br><br>&#9;&#9;&#9;if (damageType == 'Exploded')<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;light = Spawn(class'ExplosionLight',,, HitLocation);<br>&#9;&#9;&#9;&#9;if ((light != None) && (!bDamaged))<br>&#9;&#9;&#9;&#9;&#9;light.RemoteRole = ROLE_None;<br><br>&#9;&#9;&#9;&#9;if (FRand() < 0.5)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;expeffect = spawn(class'ExplosionSmall',,, loc);<br>&#9;&#9;&#9;&#9;&#9;light.size = 2;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;expeffect = spawn(class'ExplosionMedium',,, loc);<br>&#9;&#9;&#9;&#9;&#9;light.size = 4;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;if ((expeffect != None) && (!bDamaged))<br>&#9;&#9;&#9;&#9;&#9;expeffect.RemoteRole = ROLE_None;<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else if (damageType == 'EMP')<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;light = Spawn(class'ExplosionLight',,, HitLocation);<br>&#9;&#9;&#9;&#9;if (light != None)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if (!bDamaged)<br>&#9;&#9;&#9;&#9;&#9;&#9;light.RemoteRole = ROLE_None;<br>&#9;&#9;&#9;&#9;&#9;light.size = 6;<br>&#9;&#9;&#9;&#9;&#9;light.LightHue = 170;<br>&#9;&#9;&#9;&#9;&#9;light.LightSaturation = 64;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="TrainingLam.Tick"><a class="headerlink" href="#TrainingLam.Tick" title="Permanent link">Tick</a> (float deltaTime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local float blinkRate;<br><br><br>&#9;Super.Tick(deltaTime);<br><br>&#9;if (bDisabled)<br>&#9;{<br>&#9;&#9;Skin = Texture'BlackMaskTex';<br>&#9;&#9;return;<br>&#9;}<br><br>&#9;// flash faster as the time expires<br>&#9;if (fuseLength - time <= 0.75)<br>&#9;&#9;blinkRate = 0.1;<br>&#9;else if (fuseLength - time <= fuseLength * 0.5)<br>&#9;&#9;blinkRate = 0.3;<br>&#9;else<br>&#9;&#9;blinkRate = 0.5;<br><br>   if ((Level.NetMode == NM_Standalone) || (Role < ROLE_Authority) || (Level.NetMode == NM_ListenServer))<br>   {<br>      if (Abs((fuseLength - time)) % blinkRate > blinkRate * 0.5)<br>         Skin = Texture'BlackMaskTex';<br>      else<br>         Skin = Texture'LAM3rdTex1';<br>   }<br><br></div>
<br><br><hr>
<a class="headerlink" href="#TravelSwitch.uc" title="Permanent link"><h2 id="TravelSwitch.uc">TravelSwitch.uc (extends Switch2)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var() string MapURL;<br>var() float MinPercentage;<br>var float VoteTimer;<br>var DeusExPlayer Voters[16];<br>var() bool bDebug;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">ItemName="Travel Switch"</div>
<h3 id="TravelSwitch.Frob"><a class="headerlink" href="#TravelSwitch.Frob" title="Permanent link">Frob</a> (Actor Frobber, Inventory frobWith)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int i, f, Players, VoteCount;<br>&#9;local DeusExPlayer DXP, P;<br>&#9;local bool bVoted;<br><br>&#9;<br>&#9;//Super.Frob(Frobber, frobWith);<br>&#9;<br>&#9;P = DeusExPlayer(Frobber);<br>&#9;&#9;<br>&#9;foreach AllActors(class'DeusExPlayer', DXP)<br>&#9;&#9;Players++;<br>&#9;<br>&#9;for(i=0;i<16;i++)<br>&#9;&#9;if(Voters[i] != None)<br>&#9;&#9;&#9;VoteCount++;<br>&#9;<br>&#9;for(i=0;i<16;i++)<br>&#9;&#9;if(Voters[i] == P)<br>&#9;&#9;&#9;bVoted=True;<br>&#9;&#9;&#9;&#9;<br>&#9;if(!bVoted)<br>&#9;{<br>&#9;&#9;for(i=0;i<16;i++)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(Voters[i] == None)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;BroadcastMessage("Vote Statistics: "$VoteCount+1$" out of "$Players$" players voted for "$MapURL$". "$float((VoteCount+1 / Players) * 100)$"% - Requires "$MinPercentage$"%");<br>&#9;&#9;&#9;&#9;Voters[i] = P;<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;if( ( (VoteCount+1 / Players) * 100 ) >= MinPercentage )<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(bDebug)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;BroadcastMessage("Vote passed.");<br>&#9;&#9;&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;Level.Servertravel( MapURL ,false);<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;P.ClientMessage("Client Vote Statistics: "$VoteCount+1$" out of "$Players$" players voted for "$MapURL$". "$(VoteCount+1 / Players) * 100$"% - Requires "$MinPercentage$"%");<br>&#9;<br><br><br></div>
<br><br><hr>
<a class="headerlink" href="#TripProj.uc" title="Permanent link"><h2 id="TripProj.uc">TripProj.uc (extends LaserProj)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var float	mpBlastRadius;<br>var float	mpProxRadius;<br>var float	mpLAMDamage;<br>var float	mpFuselength;<br>var MPLaserEmitter emitter;<br>var() bool bIsOn;<br>var bool bConfused;				// used when hit by EMP<br>var bool bCanFrob;<br>var float confusionTimer;		// how long until trigger resumes normal operation<br>var float confusionDuration;	// how long does EMP hit last?<br>var int HitDamage;<br>var int HitPoints;<br>var int minDamageThreshold;<br>var float TripTimer;<br>var int charge;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">confusionDuration=10.000000<br>TripTimer=3.000000<br>fuseLength=0.000000<br>proxRadius=0.000000<br>blastRadius=256.000000<br>spawnWeaponClass=Class'PartyStuff.WeaponTripBomb'<br>ItemName="Laser Wire"<br>speed=1000.000000<br>MaxSpeed=1000.000000<br>Damage=500.000000<br>MomentumTransfer=50000<br>ImpactSound=Sound'DeusExSounds.Weapons.LAMExplode'<br>ExplosionDecal=Class'DeusEx.ScorchMark'<br>LifeSpan=0.000000<br>Mesh=LodMesh'DeusExDeco.LaserEmitter'<br>CollisionRadius=2.500000<br>CollisionHeight=2.500000<br>Mass=5.000000<br>Buoyancy=2.000000</div>
<h3 id="TripProj.Arm"><a class="headerlink" href="#TripProj.Arm" title="Permanent link">Arm</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   emitter.TurnOn();<br>   bIsOn = True;<br><br>   emitter.SetLocation(Location);<br>   emitter.SetRotation(Rotation);<br><br></div>
<h3 id="TripProj.BeginPlay"><a class="headerlink" href="#TripProj.BeginPlay" title="Permanent link">BeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer aplayer;<br><br><br>&#9;Super(DeusexProjectile).BeginPlay();<br><br>&#9;SetCollision(True, True, True);<br><br></div>
<h3 id="TripProj.Destroyed"><a class="headerlink" href="#TripProj.Destroyed" title="Permanent link">Destroyed</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if (emitter != None)<br>&#9;{<br>&#9;&#9;emitter.Destroy();<br>&#9;&#9;emitter = None;<br>&#9;}<br><br>&#9;Super.Destroyed();<br><br></div>
<h3 id="TripProj.Disarm"><a class="headerlink" href="#TripProj.Disarm" title="Permanent link">Disarm</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;emitter.TurnOff();<br>&#9;bDisabled=True;<br>&#9;bIsOn = False;<br>&#9;bCanFrob = True;<br>&#9;emitter.Destroy();<br>&#9;emitter = none;<br><br></div>
<h3 id="TripProj.Frob"><a class="headerlink" href="#TripProj.Frob" title="Permanent link">Frob</a> (Actor Frobber, Inventory frobWith)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre">&#9;<br>&#9;if(bCanFrob)<br>&#9;{<br>&#9;&#9;Super.Frob(Frobber, frobWith);<br>&#9;&#9;&#9;&#9;return;<br>&#9;}<br>&#9;Disarm();<br><br></div>
<h3 id="TripProj.PostBeginPlay"><a class="headerlink" href="#TripProj.PostBeginPlay" title="Permanent link">PostBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;SetTimer(TripTimer,False);<br><br></div>
<h3 id="TripProj.PreBeginPlay"><a class="headerlink" href="#TripProj.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;if ( Level.NetMode != NM_Standalone )<br>&#9;{<br>&#9;&#9;blastRadius=mpBlastRadius;<br>&#9;&#9;proxRadius=mpProxRadius;<br>&#9;&#9;Damage=mpLAMDamage;<br>&#9;&#9;fuseLength=mpFuselength;<br>&#9;&#9;bIgnoresNanoDefense=True;<br>&#9;}<br><br></div>
<h3 id="TripProj.Tick"><a class="headerlink" href="#TripProj.Tick" title="Permanent link">Tick</a> (float deltaTime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local bool bConfusedOff;<br>&#9;local Weapon wep;<br>&#9;local ScriptedPawn P;<br>&#9;local DeusExDecoration Deco;<br>&#9;local DeusExPlayer Player;<br><br><br>    if ( bIsOn)<br>    {<br>      if (emitter != none)<br>      {<br>&#9;&#9;if ((emitter.HitActor != None) && (!bDisabled))<br>&#9;&#9;{<br>&#9;&#9;&#9;if(DeusExDecoration(emitter.hitactor) != None && !DeusExDecoration(emitter.hitactor).bInvincible)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;DeusExDecoration(emitter.hitactor).TakeDamage(100,DeusExPlayer(Owner),DeusExDecoration(emitter.hitactor).location,vect(0,0,0),'exploded');<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Pawn(emitter.hitactor) != none)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;Pawn(emitter.hitactor).TakeDamage(20,DeusExPlayer(Owner),emitter.hitactor.location,vect(0,0,0),'special');<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;/*P = ScriptedPawn(emitter.hitactor);<br>&#9;&#9;&#9;Wep = Weapon(emitter.hitactor);<br>&#9;&#9;&#9;Player = DeusExPlayer(emitter.hitactor);<br>&#9;&#9;&#9;Deco = DeusExDecoration(emitter.hitactor);<br><br>&#9;&#9;&#9;<br>&#9;&#9;&#9;player.TakeDamage(20,none,vect(0,0,7),vect(0,0,0),'special');*/<br>&#9;&#9;&#9;<br>&#9;&#9;}<br>      }<br>    }<br><br></div>
<h3 id="TripProj.Timer"><a class="headerlink" href="#TripProj.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if ((emitter == none))<br>    {<br>&#9;    emitter = Spawn(class'MPLaserEmitter');<br><br>&#9;    if (emitter != None)<br>&#9;    {<br>&#9;&#9;   emitter.TurnOn();<br>&#9;&#9;   bIsOn = True;<br>&#9;&#9;      bDisabled=False;<br>&#9;&#9;   emitter.SetLocation(Location);<br>           emitter.SetRotation(Rotation);<br>&#9;    }<br>    }<br><br></div>
<h3 id="TripProj.Trigger"><a class="headerlink" href="#TripProj.Trigger" title="Permanent link">Trigger</a> (actor Other, pawn EventInstigator)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(bisOn)<br>&#9;{<br>&#9;&#9;Disarm();<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;SetTimer(1,False);<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#TripProjEMP.uc" title="Permanent link"><h2 id="TripProjEMP.uc">TripProjEMP.uc (extends LaserProj)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var float	mpBlastRadius;<br>var float	mpProxRadius;<br>var float	mpLAMDamage;<br>var float	mpFuselength;<br>var mpLaserEmitter emitter;<br>var() bool bIsOn;<br>var bool bConfused;				// used when hit by EMP<br>var bool bCanFrob;<br>var float confusionTimer;		// how long until trigger resumes normal operation<br>var float confusionDuration;	// how long does EMP hit last?<br>var int HitDamage;<br>var int HitPoints;<br>var int minDamageThreshold;<br>var float TripTimer;<br>var int charge;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">confusionDuration=10.000000<br>TripTimer=3.000000<br>fuseLength=0.000000<br>proxRadius=0.000000<br>blastRadius=256.000000<br>spawnWeaponClass=Class'PartyStuff.WeaponTripBombEMP'<br>ItemName="Laser EMP"<br>speed=1000.000000<br>MaxSpeed=1000.000000<br>Damage=500.000000<br>MomentumTransfer=50000<br>ImpactSound=Sound'DeusExSounds.Weapons.LAMExplode'<br>ExplosionDecal=Class'DeusEx.ScorchMark'<br>LifeSpan=0.000000<br>Mesh=LodMesh'DeusExDeco.LaserEmitter'<br>CollisionRadius=2.500000<br>CollisionHeight=2.500000<br>Mass=5.000000<br>Buoyancy=2.000000</div>
<h3 id="TripProjEMP.Arm"><a class="headerlink" href="#TripProjEMP.Arm" title="Permanent link">Arm</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   emitter.TurnOn();<br>   emitter.bBlueBeam=False;<br>   bIsOn = True;<br>   emitter.SetLocation(Location);<br>   emitter.SetRotation(Rotation);<br>      bDisabled=False;<br><br></div>
<h3 id="TripProjEMP.BeginPlay"><a class="headerlink" href="#TripProjEMP.BeginPlay" title="Permanent link">BeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer aplayer;<br><br><br>&#9;Super(DeusexProjectile).BeginPlay();<br><br>&#9;SetCollision(True, True, True);<br><br></div>
<h3 id="TripProjEMP.Destroyed"><a class="headerlink" href="#TripProjEMP.Destroyed" title="Permanent link">Destroyed</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if (emitter != None)<br>&#9;{<br>&#9;&#9;emitter.Destroy();<br>&#9;&#9;emitter = None;<br>&#9;}<br><br>&#9;Super.Destroyed();<br><br></div>
<h3 id="TripProjEMP.Disarm"><a class="headerlink" href="#TripProjEMP.Disarm" title="Permanent link">Disarm</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;emitter.TurnOff();<br>&#9;bDisabled=True;<br>&#9;bIsOn = False;<br>&#9;bCanFrob = True;<br>&#9;Emitter.Destroy();<br>&#9;emitter = none;<br><br></div>
<h3 id="TripProjEMP.Frob"><a class="headerlink" href="#TripProjEMP.Frob" title="Permanent link">Frob</a> (Actor Frobber, Inventory frobWith)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre">&#9;<br>&#9;if(bCanFrob)<br>&#9;{<br>&#9;&#9;Super.Frob(Frobber, frobWith);<br>&#9;&#9;&#9;&#9;return;<br>&#9;}<br>&#9;Disarm();<br><br></div>
<h3 id="TripProjEMP.PostBeginPlay"><a class="headerlink" href="#TripProjEMP.PostBeginPlay" title="Permanent link">PostBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;SetTimer(TripTimer,False);<br><br></div>
<h3 id="TripProjEMP.PreBeginPlay"><a class="headerlink" href="#TripProjEMP.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;if ( Level.NetMode != NM_Standalone )<br>&#9;{<br>&#9;&#9;blastRadius=mpBlastRadius;<br>&#9;&#9;proxRadius=mpProxRadius;<br>&#9;&#9;Damage=mpLAMDamage;<br>&#9;&#9;fuseLength=mpFuselength;<br>&#9;&#9;bIgnoresNanoDefense=True;<br>&#9;}<br><br></div>
<h3 id="TripProjEMP.Tick"><a class="headerlink" href="#TripProjEMP.Tick" title="Permanent link">Tick</a> (float deltaTime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local ScriptedPawn P;<br>&#9;local DeusExPlayer Player;<br><br><br>    if ( bIsOn)<br>    {<br>      if (emitter != none)<br>      {<br>&#9;&#9;if ((emitter.HitActor != None) && (!bDisabled))<br>&#9;&#9;{<br>&#9;&#9;&#9;if(Pawn(emitter.hitactor) != none)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;Pawn(emitter.hitactor).TakeDamage(20,DeusExPlayer(Owner),emitter.hitactor.location,vect(0,0,0),'EMP');<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>      }<br>    }<br><br></div>
<h3 id="TripProjEMP.Timer"><a class="headerlink" href="#TripProjEMP.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if ((emitter == none))<br>    {<br>&#9;    emitter = Spawn(class'MPLaserEmitter');<br><br>&#9;    if (emitter != None)<br>&#9;    {<br>&#9;&#9;   emitter.TurnOn();<br>&#9;&#9;   emitter.bBlueBeam=False;<br>&#9;&#9;   bIsOn = True;<br>&#9;&#9;      bDisabled=False;<br>&#9;&#9;   emitter.SetLocation(Location);<br>           emitter.SetRotation(Rotation);<br>&#9;    }<br>    }<br><br></div>
<h3 id="TripProjEMP.Trigger"><a class="headerlink" href="#TripProjEMP.Trigger" title="Permanent link">Trigger</a> (actor Other, pawn EventInstigator)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(bisOn)<br>&#9;{<br>&#9;&#9;Disarm();<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;SetTimer(1,False);<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#TripProjFire.uc" title="Permanent link"><h2 id="TripProjFire.uc">TripProjFire.uc (extends LaserProj)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var float	mpBlastRadius;<br>var float	mpProxRadius;<br>var float	mpLAMDamage;<br>var float	mpFuselength;<br>var MPLaserEmitter emitter;<br>var() bool bIsOn;<br>var bool bConfused;				// used when hit by EMP<br>var bool bCanFrob;<br>var float confusionTimer;		// how long until trigger resumes normal operation<br>var float confusionDuration;	// how long does EMP hit last?<br>var int HitDamage;<br>var int HitPoints;<br>var int minDamageThreshold;<br>var float TripTimer;<br>var int charge;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">confusionDuration=10.000000<br>TripTimer=3.000000<br>fuseLength=0.000000<br>proxRadius=0.000000<br>blastRadius=256.000000<br>spawnWeaponClass=Class'PartyStuff.WeaponTripBombFire'<br>ItemName="Laser Fire Wire"<br>speed=1000.000000<br>MaxSpeed=1000.000000<br>Damage=500.000000<br>MomentumTransfer=50000<br>ImpactSound=Sound'DeusExSounds.Weapons.LAMExplode'<br>ExplosionDecal=Class'DeusEx.ScorchMark'<br>LifeSpan=0.000000<br>Mesh=LodMesh'DeusExDeco.LaserEmitter'<br>CollisionRadius=2.500000<br>CollisionHeight=2.500000<br>Mass=5.000000<br>Buoyancy=2.000000</div>
<h3 id="TripProjFire.Arm"><a class="headerlink" href="#TripProjFire.Arm" title="Permanent link">Arm</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   emitter.TurnOn();<br>   emitter.bBlueBeam=False;<br>   bIsOn = True;<br>   emitter.SetLocation(Location);<br>   emitter.SetRotation(Rotation);<br>      bDisabled=False;<br><br></div>
<h3 id="TripProjFire.BeginPlay"><a class="headerlink" href="#TripProjFire.BeginPlay" title="Permanent link">BeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer aplayer;<br><br><br>&#9;Super(DeusexProjectile).BeginPlay();<br><br>&#9;SetCollision(True, True, True);<br><br></div>
<h3 id="TripProjFire.Destroyed"><a class="headerlink" href="#TripProjFire.Destroyed" title="Permanent link">Destroyed</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if (emitter != None)<br>&#9;{<br>&#9;&#9;emitter.Destroy();<br>&#9;&#9;emitter = None;<br>&#9;}<br><br>&#9;Super.Destroyed();<br><br></div>
<h3 id="TripProjFire.Disarm"><a class="headerlink" href="#TripProjFire.Disarm" title="Permanent link">Disarm</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;emitter.TurnOff();<br>&#9;emitter.Destroy();<br>&#9;emitter = none;<br>&#9;bDisabled=True;<br>&#9;bIsOn = False;<br>&#9;bCanFrob = True;<br><br></div>
<h3 id="TripProjFire.Frob"><a class="headerlink" href="#TripProjFire.Frob" title="Permanent link">Frob</a> (Actor Frobber, Inventory frobWith)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre">&#9;<br>&#9;if(bCanFrob)<br>&#9;{<br>&#9;&#9;Super.Frob(Frobber, frobWith);<br>&#9;&#9;&#9;&#9;return;<br>&#9;}<br>&#9;Disarm();<br><br></div>
<h3 id="TripProjFire.PostBeginPlay"><a class="headerlink" href="#TripProjFire.PostBeginPlay" title="Permanent link">PostBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;SetTimer(TripTimer,False);<br><br></div>
<h3 id="TripProjFire.PreBeginPlay"><a class="headerlink" href="#TripProjFire.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;if ( Level.NetMode != NM_Standalone )<br>&#9;{<br>&#9;&#9;blastRadius=mpBlastRadius;<br>&#9;&#9;proxRadius=mpProxRadius;<br>&#9;&#9;Damage=mpLAMDamage;<br>&#9;&#9;fuseLength=mpFuselength;<br>&#9;&#9;bIgnoresNanoDefense=True;<br>&#9;}<br><br></div>
<h3 id="TripProjFire.Tick"><a class="headerlink" href="#TripProjFire.Tick" title="Permanent link">Tick</a> (float deltaTime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local bool bConfusedOff;<br>&#9;local Weapon wep;<br>&#9;local ScriptedPawn P;<br>&#9;local DeusExDecoration Deco;<br>&#9;local DeusExPlayer Player;<br><br><br>    if ( bIsOn)<br>    {<br>      if (emitter != none)<br>      {<br>&#9;&#9;//Any actor it hits will get hurt<br>&#9;&#9;if ((emitter.HitActor != None) && (!bDisabled))<br>&#9;&#9;{<br>&#9;&#9;&#9;if(DeusExDecoration(emitter.hitactor) != None && !DeusExDecoration(emitter.hitactor).bInvincible)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;DeusExDecoration(emitter.hitactor).TakeDamage(100,DeusExPlayer(Owner),DeusExDecoration(emitter.hitactor).location,vect(0,0,0),'Flamed');<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Pawn(emitter.hitactor) != none)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;Pawn(emitter.hitactor).TakeDamage(20,DeusExPlayer(Owner),emitter.hitactor.location,vect(0,0,0),'Flamed');<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>      }<br>    }<br><br></div>
<h3 id="TripProjFire.Timer"><a class="headerlink" href="#TripProjFire.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if ((emitter == none))<br>    {<br>&#9;    emitter = Spawn(class'MPLaserEmitter');<br><br>&#9;    if (emitter != None)<br>&#9;    {<br>&#9;&#9;   emitter.TurnOn();<br>&#9;&#9;   emitter.bBlueBeam=False;<br>&#9;&#9;   bIsOn = True;<br>&#9;&#9;      bDisabled=False;<br>&#9;&#9;   emitter.SetLocation(Location);<br>           emitter.SetRotation(Rotation);<br>&#9;    }<br>    }<br><br></div>
<h3 id="TripProjFire.Trigger"><a class="headerlink" href="#TripProjFire.Trigger" title="Permanent link">Trigger</a> (actor Other, pawn EventInstigator)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(bisOn)<br>&#9;{<br>&#9;&#9;Disarm();<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;SetTimer(1,False);<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#TurretItem.uc" title="Permanent link"><h2 id="TurretItem.uc">TurretItem.uc (extends ChargedPickup)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">ActivateSound=Sound'DeusExSounds.Augmentation.CloakUp'<br>DeActivateSound=None<br>ChargeRemainingLabel="Box readiness:"<br>ItemName="Portable Turret"<br>PlayerViewOffset=(X=20.000000,Z=-12.000000)<br>PlayerViewMesh=LodMesh'DeusExDeco.BoxSmall'<br>PlayerViewScale=0.200000<br>PickupViewMesh=LodMesh'DeusExDeco.BoxSmall'<br>ThirdPersonMesh=LodMesh'DeusExDeco.BoxSmall'<br>ThirdPersonScale=0.250000<br>Charge=8<br>LandSound=Sound'DeusExSounds.Generic.DropLargeWeapon'<br>Icon=Texture'DeusExUI.Icons.BeltIconArmorAdaptive'<br>largeIcon=Texture'DeusExUI.Icons.LargeIconArmorAdaptive'<br>largeIconWidth=35<br>largeIconHeight=49<br>Description="s"<br>beltDescription="BOX"<br>Mesh=LodMesh'DeusExDeco.BoxSmall'<br>CollisionRadius=13.000000<br>CollisionHeight=5.180000<br>Mass=10.000000<br>Buoyancy=100.000000</div>
<h3 id="TurretItem.ChargedPickupBegin"><a class="headerlink" href="#TurretItem.ChargedPickupBegin" title="Permanent link">ChargedPickupBegin</a> (DeusExPlayer Player)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local TempTurret CD;<br>&#9;local Vector loc,X,Y,Z;<br><br>   <br>   CD = Spawn(Class'TempTurret',,,Player.Location + (Player.CollisionRadius+Default.CollisionRadius+30) * Vector(Player.ViewRotation) + vect(0,0,1) * 30 );<br>   CD.Master  = Player;<br><br>&#9;Super.ChargedPickupBegin(Player);<br>&#9;<br><br></div>
<h3 id="TurretItem.TestMPBeltSpot"><a class="headerlink" href="#TurretItem.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<h3 id="TurretItem.UsedUp"><a class="headerlink" href="#TurretItem.UsedUp" title="Permanent link">UsedUp</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer Player;<br><br><br>&#9;if ( Pawn(Owner) != None )<br>&#9;{<br>&#9;&#9;bActivatable = false;<br>&#9;&#9;<br>&#9;}<br>&#9;Player = DeusExPlayer(Owner);<br><br>&#9;if (Player != None)<br>&#9;{<br>&#9;&#9;if (Player.inHand == Self)<br>&#9;&#9;&#9;ChargedPickupEnd(Player);<br>&#9;}<br><br>&#9;Destroy();<br><br></div>
<br><br><hr>
<a class="headerlink" href="#TzBallSpawnPoint.uc" title="Permanent link"><h2 id="TzBallSpawnPoint.uc">TzBallSpawnPoint.uc (extends Actor)</h2></a>

<br><br><hr>
<a class="headerlink" href="#TzBallSwitch.uc" title="Permanent link"><h2 id="TzBallSwitch.uc">TzBallSwitch.uc (extends Switch2)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var bool bOn;<br>var() int MaxBalls;<br>var vector SpawnPointBB;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">MaxBalls=3<br>ItemName="Press to bring more balls!"</div>
<h3 id="TzBallSwitch.BeginPlay"><a class="headerlink" href="#TzBallSwitch.BeginPlay" title="Permanent link">BeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local TzBallSpawnPoint SPB;<br><br>&#9;<br>&#9;foreach AllActors(class'TzBallSpawnPoint',SPB)<br>&#9;{<br>&#9;&#9;SpawnPointBB = SPB.Location;<br>&#9;&#9;return;<br>&#9;}<br><br></div>
<h3 id="TzBallSwitch.Frob"><a class="headerlink" href="#TzBallSwitch.Frob" title="Permanent link">Frob</a> (Actor Frobber, Inventory frobWith)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local BasketballMP BMP;<br>&#9;local int AmountOfBalls;<br><br>&#9;Super.Frob(Frobber, frobWith);<br>&#9;SetOwner(Frobber);<br>&#9;<br>&#9;foreach AllActors(class'BasketballMP',BMP)<br>&#9;{<br>&#9;&#9;&#9;AmountOfBalls++;<br>&#9;}<br>&#9;if (AmountOfBalls <= MaxBalls)<br>&#9;{<br>&#9;&#9;Spawn(Class'BasketballMP',self,,SpawnPointBB);<br>&#9;}<br>&#9;else <br>&#9;{<br>&#9;&#9;ShowMessage(DeusExPlayer(Frobber),"There are enough balls!"); <br>&#9;}<br>&#9;<br>&#9;if (bOn)<br>&#9;{<br>&#9;&#9;PlaySound(sound'Switch4ClickOff');<br>&#9;&#9;PlayAnim('Off');<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;PlaySound(sound'Switch4ClickOn');<br>&#9;&#9;PlayAnim('On');<br>&#9;}<br><br>&#9;bOn = !bOn;<br><br></div>
<h3 id="TzBallSwitch.ShowMessage"><a class="headerlink" href="#TzBallSwitch.ShowMessage" title="Permanent link">ShowMessage</a> (DeusExPlayer Player, string Message)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local HUDMissionStartTextDisplay    HUD;<br><br>  if ((Player.RootWindow != None) && (DeusExRootWindow(Player.RootWindow).HUD != None))<br>  {<br>    HUD = DeusExRootWindow(Player.RootWindow).HUD.startDisplay;<br>  }<br>  if(HUD != None)<br>  {<br>    HUD.shadowDist = 0;<br>    HUD.Message = "";<br>    HUD.charIndex = 0;<br>    HUD.winText.SetText("");<br>    HUD.winTextShadow.SetText("");<br>    HUD.displayTime = 5.50;<br>    HUD.perCharDelay = 0.30;<br>    HUD.AddMessage(Message);<br>    HUD.StartMessage();<br>  }<br><br></div>
<br><br><hr>
<a class="headerlink" href="#TzBasketExitTrigger.uc" title="Permanent link"><h2 id="TzBasketExitTrigger.uc">TzBasketExitTrigger.uc (extends Trigger)</h2></a>

<h3 id="TzBasketExitTrigger.Touch"><a class="headerlink" href="#TzBasketExitTrigger.Touch" title="Permanent link">Touch</a> (actor Other)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Actor DXPO;<br><br>&#9;DXPO = Other.Owner;<br>&#9;if (Other.IsA('BasketballMP'))<br>&#9;{<br>&#9;&#9;if(BasketballMP(Other).bAlreadyScored)<br>&#9;&#9;{<br>&#9;&#9;&#9;BasketballMP(Other).bAlreadyScored = False;<br>&#9;&#9;&#9;DeusExPlayer(DXPO).BroadcastMessage("|c33CCFF"@DeusExPlayer(DXPO).PlayerReplicationInfo.Playername@"has scored a point in basketball!");<br>&#9;&#9;DeusExPlayer(DXPO).PlayerReplicationInfo.Score += 1;<br>&#9;&#9;DeusExPlayer(DXPO).PlayerReplicationInfo.Streak += 1;<br>&#9;&#9;PlaySound(Sound'DeusExSounds.UserInterface.LogSkillPoints', SLOT_None,2,,512);<br>&#9;&#9;}<br><br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#TzBasketTrigger.uc" title="Permanent link"><h2 id="TzBasketTrigger.uc">TzBasketTrigger.uc (extends Trigger)</h2></a>

<h3 id="TzBasketTrigger.Touch"><a class="headerlink" href="#TzBasketTrigger.Touch" title="Permanent link">Touch</a> (actor Other)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Actor DXPO;<br><br>&#9;DXPO = Other.Owner;<br>&#9;if (Other.IsA('BasketballMP')&& DeusExPlayer(DXPO) != None && !BasketballMP(Other).bAlreadyScored)<br>&#9;{<br>&#9;&#9;BasketballMP(Other).bAlreadyScored = True;<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#TzBasketZone.uc" title="Permanent link"><h2 id="TzBasketZone.uc">TzBasketZone.uc (extends ZoneInfo)</h2></a>

<br><br><hr>
<a class="headerlink" href="#TzBasketballZone.uc" title="Permanent link"><h2 id="TzBasketballZone.uc">TzBasketballZone.uc (extends ZoneInfo)</h2></a>

<h3 id="TzBasketballZone.ActorEntered"><a class="headerlink" href="#TzBasketballZone.ActorEntered" title="Permanent link">ActorEntered</a> (actor Other)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local float avg;<br><br>&#9;Super.ActorEntered(Other);<br>&#9;&#9;if(DeusExPlayer(Other) != None)<br>&#9;{<br>&#9;&#9;DeusExPlayer(Other).StopPoison();<br>&#9;&#9;DeusExPlayer(Other).ExtinguishFire();<br>&#9;&#9;DeusExPlayer(Other).drugEffectTimer = 0;<br>&#9;&#9;DeusExPlayer(Other).ReducedDamageType = 'All';<br>&#9;&#9;&#9;if(DeusExPlayer(Other).Health < 100)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;DeusExPlayer(Other).HealPlayer(100, True);<br>&#9;&#9;&#9;}<br>&#9;}<br>&#9;if (Other.IsA('PlaygroundContainers') || Other.IsA('Box'))<br>&#9;{<br>&#9;&#9;avg = (DeusExDecoration(Other).CollisionRadius + DeusExDecoration(Other).CollisionHeight) / 2;<br>&#9;&#9;DeusExDecoration(Other).Frag(DeusExDecoration(Other).fragType, vect(20,20,20), avg/20.0, avg/5 + 1);<br>&#9;&#9;Other.Destroy();<br>&#9;}<br>&#9;else if (Other.IsA('DeusExDecoration'))<br>&#9;{<br>&#9;&#9;DeusExDecoration(Other).bInvincible=True;<br>&#9;}<br>&#9;else if (Other.IsA('SpyDrone') && !SpyDrone(Other).bDisabled)<br>&#9;{<br>&#9;&#9;DeusExPlayer(SpyDrone(Other).Owner).ForceDroneOff();<br>&#9;&#9;SpyDrone(Other).bDisabled = True;<br>&#9;&#9;SpyDrone(Other).SetPhysics(PHYS_Falling);<br>&#9;&#9;SpyDrone(Other).bBounce = True;<br>&#9;&#9;SpyDrone(Other).LifeSpan = 10.0;<br>&#9;&#9;SpyDrone(Other).Spawn(class'SmokeTrail',,, Other.Location);<br>&#9;&#9;Other.Spawn(class'SphereEffect',,, Other.Location);<br>&#9;}<br>&#9;else if (Other.IsA('ThrownProjectile') && !Other.IsA('BasketballMP'))<br>&#9;{<br>&#9;&#9;Other.TakeDamage(15, None, Other.Location, vect(0,0,0), 'EMP');<br>&#9;&#9;&#9;&#9;Other.PlaySound(sound'ProdFire', SLOT_None,,,, 2.0);<br>&#9;&#9;Other.Spawn(class'SphereEffect',,, Other.Location);<br>&#9;&#9;&#9;&#9;Other.Spawn(class'SmokeTrail',,, Other.Location);<br>&#9;&#9;Other.LifeSpan = 10.0;<br>&#9;}<br>&#9;else if (Other.IsA('RocketLAW') || Other.IsA('HECannister20mm') || Other.isA('Rocket') || Other.isA('RocketWP')) <br>&#9;{<br>&#9;&#9;Other.PlaySound(sound'ProdFire', SLOT_None,,,, 2.0);<br>&#9;&#9;Other.Spawn(class'SmokeTrail',,, Other.Location);<br>&#9;&#9;Other.Spawn(class'SphereEffect',,, Other.Location);<br>&#9;&#9;&#9;&#9;DeusExProjectile(Other).Destroy();<br>&#9;}<br>&#9;else if (Other.IsA('DeusExProjectile'))<br>&#9;{<br>&#9;&#9;Other.PlaySound(sound'ProdFire', SLOT_None,,,, 2.0);<br>&#9;&#9;Other.Spawn(class'SphereEffect',,, Other.Location);<br>&#9;&#9;DeusExProjectile(Other).Destroy();<br>&#9;}<br>&#9;else if (Other.IsA('ProjectileGenerator'))<br>&#9;{<br>&#9;&#9;ProjectileGenerator(Other).Destroy();<br>&#9;}<br>&#9;else if(Other.IsA('BasketballMP'))<br>&#9;{<br>&#9;&#9;if (BasketballMP(Other).bDoomedToDestroy)<br>&#9;&#9;{<br>&#9;&#9;&#9;BasketballMP(Other).bDoomedToDestroy = False;<br>&#9;&#9;&#9;BasketballMP(Other).SetTimer(0,False);<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="TzBasketballZone.ActorLeaving"><a class="headerlink" href="#TzBasketballZone.ActorLeaving" title="Permanent link">ActorLeaving</a> (actor Other)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.ActorLeaving(Other);<br>&#9;DeusExPlayer(Other).ReducedDamageType = '';<br>&#9;if(Other.IsA('BasketballMP'))<br>&#9;{<br>&#9;&#9;BasketballMP(Other).bDoomedToDestroy = True;<br>&#9;&#9;BasketballMP(Other).SetTimer(15, False);<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#TzBlockPlayers.uc" title="Permanent link"><h2 id="TzBlockPlayers.uc">TzBlockPlayers.uc (extends Trigger)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var() vector KickVelocity;<br>var() name KickedClasses;<br>var() bool bKillVelocity;<br>var() bool bRandomize;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">KickedClasses=DeusExPlayer<br>bDirectional=True</div>
<h3 id="TzBlockPlayers.PostTouch"><a class="headerlink" href="#TzBlockPlayers.PostTouch" title="Permanent link">PostTouch</a> (actor Other)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local bool bWasFalling;<br>&#9;local vector Push;<br>&#9;local float PMag;<br><br><br>&#9;bWasFalling = ( Other.Physics == PHYS_Falling );<br>&#9;if ( bKillVelocity )<br>&#9;&#9;Push = -1 * Other.Velocity;<br>&#9;else<br>&#9;&#9;Push.Z = -1 * Other.Velocity.Z;<br>&#9;if ( bRandomize )<br>&#9;{<br>&#9;&#9;PMag = VSize(KickVelocity);<br>&#9;&#9;Push += PMag * Normal(KickVelocity + 0.5 * PMag * VRand());<br>&#9;}<br>&#9;else<br>&#9;&#9;Push += KickVelocity;<br>&#9;Other.SetPhysics(PHYS_Falling);<br>&#9;Other.Velocity += Push;<br><br></div>
<h3 id="TzBlockPlayers.Touch"><a class="headerlink" href="#TzBlockPlayers.Touch" title="Permanent link">Touch</a> (actor Other)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Actor A;<br><br><br>&#9;if ( !Other.IsA(KickedClasses) )<br>&#9;&#9;return;<br>&#9;PendingTouch = Other.PendingTouch;<br>&#9;Other.PendingTouch = self;<br>&#9;if( Event != '' )<br>&#9;&#9;foreach AllActors( class 'Actor', A, Event )<br>&#9;&#9;&#9;A.Trigger( Other, Other.Instigator );<br><br></div>
<br><br><hr>
<a class="headerlink" href="#Ultima.uc" title="Permanent link"><h2 id="Ultima.uc">Ultima.uc (extends DeusExProjectile)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bExplodes=True<br>blastRadius=96.000000<br>DamageType=Sabot<br>ItemName="Blood Sword"<br>ItemArticle="the"<br>speed=1000.000000<br>MaxSpeed=1000.000000<br>Damage=200.000000<br>MomentumTransfer=128<br>SpawnSound=Sound'DeusExSounds.UserInterface.DataLinkStart'<br>ImpactSound=Sound'DeusExSounds.Weapons.EMPGrenadeExplode'<br>ExplosionDecal=Class'DeusEx.BurnMark'<br>DrawType=DT_Sprite<br>Style=STY_Translucent<br>Texture=Texture'DeusExDeco.Skins.AlarmLightTex2'<br>bUnlit=True<br>SoundRadius=10<br>SoundVolume=255<br>SoundPitch=173</div>
<h3 id="Ultima.DrawExplosionEffects"><a class="headerlink" href="#Ultima.DrawExplosionEffects" title="Permanent link">DrawExplosionEffects</a> (vector HitLocation, vector HitNormal)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int i;<br>&#9;local Rotator rot;<br>&#9;local SphereEffect sphere;<br><br><br>&#9;// draw a cool light sphere<br>&#9;sphere = Spawn(class'SphereEffect',,, HitLocation);<br>&#9;if (sphere != None)<br>&#9;{<br>&#9;sphere.RemoteRole = ROLE_None;<br>&#9;sphere.size = blastradius / 32.0;<br>&#9;Sphere.MultiSkins[0]=Texture'DeusExDeco.Skins.AlarmLightTex3';<br>&#9;}<br><br></div>
<h3 id="Ultima.PreBeginPlay"><a class="headerlink" href="#Ultima.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>

<h3 id="Ultima.Tick"><a class="headerlink" href="#Ultima.Tick" title="Permanent link">Tick</a> (float deltaTime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local SmokeTrail s;<br><br><br>&#9;time += DeltaTime;<br>&#9;DrawScale = FClamp(2.5*(time+0.5), 1.0, 6.0);<br>&#9;if ((time > FRand() * 0.02) && (Level.NetMode != NM_DedicatedServer))<br>&#9;{<br>&#9;&#9;time = 0;<br><br>&#9;&#9;// spawn some trails<br>&#9;&#9;s = Spawn(class'SmokeTrail',,, Location);<br>&#9;&#9;if (s != None)<br>&#9;&#9;{<br>&#9;&#9;&#9;s.DrawScale = FRand() * 0.333;<br>&#9;&#9;&#9;s.OrigScale = s.DrawScale;<br>&#9;&#9;&#9;s.Texture = Texture'AlarmLightTex2';<br>&#9;&#9;&#9;s.Velocity = VRand() * 50;<br>&#9;&#9;&#9;s.OrigVel = s.Velocity;<br>&#9;&#9;}<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#Ultima2.uc" title="Permanent link"><h2 id="Ultima2.uc">Ultima2.uc (extends DeusExProjectile)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bExplodes=True<br>blastRadius=700.000000<br>DamageType=Sabot<br>ItemName="Blood Sword"<br>ItemArticle="the"<br>speed=3000.000000<br>MaxSpeed=3000.000000<br>Damage=500.000000<br>MomentumTransfer=100000<br>ImpactSound=Sound'DeusExSounds.Generic.BioElectricHiss'<br>Style=STY_Translucent<br>DrawScale=200.000000<br>ScaleGlow=10.000000<br>Fatness=120<br>bUnlit=True<br>SoundRadius=255<br>SoundVolume=255<br>TransientSoundVolume=90.000000<br>LightType=LT_SubtlePulse<br>LightBrightness=224<br>LightHue=51<br>LightRadius=255<br>Mass=1.000000</div>
<h3 id="Ultima2.DrawExplosionEffects"><a class="headerlink" href="#Ultima2.DrawExplosionEffects" title="Permanent link">DrawExplosionEffects</a> (Vector HitLocation, Vector HitNormal)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Pring pr;<br>&#9;local ssring sr;<br>&#9;local explosionlight l;<br>&#9;local explosionlarge expeffect;<br>&#9;local int i;<br>&#9;local Rotator rot;<br>&#9;local pring sphere;<br><br><br>&#9;// draw a cool light sphere<br>&#9;sphere = Spawn(class'pring',,, HitLocation);<br>&#9;if (sphere != None)<br>&#9;{<br>&#9;sphere.RemoteRole = ROLE_None;<br>&#9;sphere.size = blastradius / 32.0;<br>&#9;Sphere.MultiSkins[0]=Texture'DeusExDeco.Skins.AlarmLightTex3';<br>&#9;}<br><br>l = spawn(class'ExplosionLight',,, HitLocation);<br>if (l !=None)<br>{<br>  l.remoterole = Role_None;<br>       l.size = 15;<br>       l.LightHue = 128;<br>l.LightBrightness = 255;<br>       l.LightSaturation = 96;<br>       l.LightEffect = LE_Shell;<br><br>}<br>      <br></div>
<br><br><hr>
<a class="headerlink" href="#VIPCard.uc" title="Permanent link"><h2 id="VIPCard.uc">VIPCard.uc (extends DeusExPickup)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bCanHaveMultipleCopies=True<br>ItemName="VIP Pass"<br>PlayerViewOffset=(X=30.000000,Z=-12.000000)<br>PlayerViewMesh=LodMesh'DeusExItems.Credits'<br>PickupViewMesh=LodMesh'DeusExItems.Credits'<br>ThirdPersonMesh=LodMesh'DeusExItems.Credits'<br>LandSound=Sound'DeusExSounds.Generic.PlasticHit1'<br>Icon=Texture'DeusExUI.Icons.BeltIconCredits'<br>beltDescription="VIP Pass"<br>Mesh=LodMesh'DeusExItems.Credits'<br>MultiSkins(0)=Texture'Extras.Eggs.Matrix_A00'<br>CollisionRadius=7.000000<br>CollisionHeight=0.550000<br>Mass=2.000000<br>Buoyancy=3.000000</div>
<h3 id="VIPCard.TestMPBeltSpot"><a class="headerlink" href="#VIPCard.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<br><br><hr>
<a class="headerlink" href="#VialBlood.uc" title="Permanent link"><h2 id="VialBlood.uc">VialBlood.uc (extends CraftingMaterial)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">InvResult=Class'PartyStuff.WeaponBloodSword'<br>NumNeeded=1<br>DispStr="Requires 1x Vial of Blood, 1x Dragon's Tooth Sword to make Blood Sword"<br>ItemName="Vial of Blood"<br>PlayerViewMesh=LodMesh'DeusExItems.VialAmbrosia'<br>PickupViewMesh=LodMesh'DeusExItems.VialAmbrosia'<br>ThirdPersonMesh=LodMesh'DeusExItems.VialAmbrosia'<br>Icon=Texture'PGAssets.Icons.BeltIconCraftingFlask'<br>largeIcon=Texture'DeusExUI.Icons.LargeIconVialAmbrosia'<br>largeIconWidth=18<br>largeIconHeight=44<br>beltDescription="BLOOD"<br>Mesh=LodMesh'DeusExItems.BioCell'<br>MultiSkins(1)=Texture'DeusExDeco.Skins.AlarmLightTex3'<br>CollisionRadius=2.200000<br>CollisionHeight=4.890000<br>Mass=2.000000<br>Buoyancy=4.000000</div>
<h3 id="VialBlood.OtherRequirements"><a class="headerlink" href="#VialBlood.OtherRequirements" title="Permanent link">OtherRequirements</a> -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local WeaponNanoSword GS;<br>&#9;local WeaponNanoSword2 GS2;<br>&#9;local bool bFound, bFound2;<br><br>&#9;<br>&#9;foreach AllActors(class'WeaponNanosword',GS)<br>&#9;&#9;if(GS.Owner == Owner && GS.ItemName=="Dragon's Tooth Sword")<br>&#9;&#9;&#9;bFound=True;<br>&#9;&#9;&#9;<br><br>&#9;foreach AllActors(class'WeaponNanosword2',GS2)<br>&#9;&#9;if(GS2.Owner == Owner && GS.ItemName=="Dragon's Tooth Sword")<br>&#9;&#9;&#9;bFound2=True;<br>&#9;<br>&#9;if(bFound)<br>&#9;{<br>&#9;&#9;foreach AllActors(class'WeaponNanosword',GS)<br>&#9;&#9;&#9;if(GS.Owner == Owner && GS.ItemName=="Dragon's Tooth Sword")<br>&#9;&#9;&#9;&#9;GS.Destroy();<br>&#9;&#9;return True;<br>&#9;}<br>&#9;if(bFound2)<br>&#9;{<br>&#9;&#9;foreach AllActors(class'WeaponNanosword2',GS2)<br>&#9;&#9;&#9;if(GS2.Owner == Owner && GS2.ItemName=="Dragon's Tooth Sword")<br>&#9;&#9;&#9;&#9;GS2.Destroy();<br>&#9;&#9;return True;<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#VialGrow.uc" title="Permanent link"><h2 id="VialGrow.uc">VialGrow.uc (extends DeusExPickup)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var bool bOn;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">maxCopies=1<br>bCanHaveMultipleCopies=True<br>bActivatable=True<br>ItemName="Grow Vial"<br>ItemArticle="an"<br>PlayerViewOffset=(X=30.000000,Z=-12.000000)<br>PlayerViewMesh=LodMesh'DeusExItems.VialAmbrosia'<br>PickupViewMesh=LodMesh'DeusExItems.VialAmbrosia'<br>ThirdPersonMesh=LodMesh'DeusExItems.VialAmbrosia'<br>LandSound=Sound'DeusExSounds.Generic.GlassHit1'<br>Icon=Texture'DeusExUI.Icons.BeltIconVialAmbrosia'<br>M_Activated=""<br>largeIcon=Texture'DeusExUI.Icons.LargeIconVialAmbrosia'<br>largeIconWidth=18<br>largeIconHeight=44<br>Description="The only known vaccine against the 'Gray Death.' Unfortunately, it is quickly metabolized by the body making its effects temporary at best."<br>beltDescription="GROW"<br>Mesh=LodMesh'DeusExItems.VialAmbrosia'<br>CollisionRadius=2.200000<br>CollisionHeight=4.890000<br>Mass=2.000000<br>Buoyancy=3.000000</div>
<h3 id="VialGrow.Activate"><a class="headerlink" href="#VialGrow.Activate" title="Permanent link">Activate</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;// can't turn it off<br>&#9;<br></div>
<h3 id="VialGrow.BeginState"><a class="headerlink" href="#VialGrow.BeginState" title="Permanent link">BeginState</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer player;<br><br>&#9;&#9;Super.BeginState();<br><br>&#9;&#9;player = DeusExPlayer(Owner);<br>&#9;&#9;if (player != None)<br><br>&#9;&#9;bOn = !bOn;<br>&#9;&#9;<br>&#9;&#9;if(bOn)<br>&#9;&#9;&#9;DeusExPlayer(Owner).ClientMessage("Grow activated.");<br>&#9;&#9;else<br>&#9;&#9;&#9;DeusExPlayer(Owner).ClientMessage("Grow de-activated.");<br>&#9;GotoState('DeActivated');<br>&#9;<br></div>
<br><br><hr>
<a class="headerlink" href="#VialNanites.uc" title="Permanent link"><h2 id="VialNanites.uc">VialNanites.uc (extends CraftingMaterial)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">InvResult=Class'PartyStuff.WeaponAugrist'<br>NumNeeded=7<br>DispStr="Requires 7x Vial of Nanites, 1x Dragon's Tooth Sword to make Augrist"<br>ItemName="Vial of Concentrated Nanites"<br>PlayerViewMesh=LodMesh'DeusExItems.VialAmbrosia'<br>PickupViewMesh=LodMesh'DeusExItems.VialAmbrosia'<br>ThirdPersonMesh=LodMesh'DeusExItems.VialAmbrosia'<br>Icon=Texture'PGAssets.Icons.BeltIconCraftingFlask'<br>largeIcon=Texture'DeusExUI.Icons.LargeIconVialAmbrosia'<br>largeIconWidth=18<br>largeIconHeight=44<br>beltDescription="NANITES"<br>Mesh=LodMesh'DeusExItems.BioCell'<br>MultiSkins(1)=Texture'PGAssets.Skins.wtf'<br>CollisionRadius=2.200000<br>CollisionHeight=4.890000<br>Mass=2.000000<br>Buoyancy=4.000000</div>
<h3 id="VialNanites.OtherRequirements"><a class="headerlink" href="#VialNanites.OtherRequirements" title="Permanent link">OtherRequirements</a> -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local WeaponNanoSword GS;<br>&#9;local WeaponNanoSword2 GS2;<br>&#9;local bool bFound, bFound2;<br><br>&#9;<br>&#9;foreach AllActors(class'WeaponNanosword',GS)<br>&#9;&#9;if(GS.Owner == Owner && GS.ItemName=="Dragon's Tooth Sword")<br>&#9;&#9;&#9;bFound=True;<br>&#9;&#9;&#9;<br><br>&#9;foreach AllActors(class'WeaponNanosword2',GS2)<br>&#9;&#9;if(GS2.Owner == Owner && GS.ItemName=="Dragon's Tooth Sword")<br>&#9;&#9;&#9;bFound2=True;<br>&#9;<br>&#9;if(bFound)<br>&#9;{<br>&#9;&#9;foreach AllActors(class'WeaponNanosword',GS)<br>&#9;&#9;&#9;if(GS.Owner == Owner && GS.ItemName=="Dragon's Tooth Sword")<br>&#9;&#9;&#9;&#9;GS.Destroy();<br>&#9;&#9;return True;<br>&#9;}<br>&#9;if(bFound2)<br>&#9;{<br>&#9;&#9;foreach AllActors(class'WeaponNanosword2',GS2)<br>&#9;&#9;&#9;if(GS2.Owner == Owner && GS2.ItemName=="Dragon's Tooth Sword")<br>&#9;&#9;&#9;&#9;GS2.Destroy();<br>&#9;&#9;return True;<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#Vortex.uc" title="Permanent link"><h2 id="Vortex.uc">Vortex.uc (extends Projectile)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var int TickDelay;<br>var int Ticks;<br>var bool bVAdded, bPlayedStartSound;<br>var bool bVortexSucking,bVortexStopped;<br>var float VortexGravity, VortexRadius;<br>var SphereEffectXL sp;<br>var() localized string DirectHitString, SuicideString, SuicideFString;<br>var() float DamageRadius;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">VortexGravity=120.000000<br>VortexRadius=7000.000000<br>DamageRadius=200.000000<br>speed=600.000000<br>Damage=10.000000<br>MyDamageType=SpecialDamage<br>LifeSpan=20.000000<br>Skin=FireTexture'Effects.liquid.Virus_SFX'<br>Mesh=LodMesh'DeusExDeco.Basketball'<br>AmbientGlow=67<br>bUnlit=True<br>SoundRadius=112<br>SoundVolume=255<br>CollisionRadius=5.000000<br>CollisionHeight=5.000000<br>bBounce=True<br>bFixedRotationDir=True<br>DesiredRotation=(Pitch=12000,Yaw=5666,Roll=2334)</div>
<h3 id="Vortex.Destroyed"><a class="headerlink" href="#Vortex.Destroyed" title="Permanent link">Destroyed</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;bVortexSucking = False;<br><br><br></div>
<h3 id="Vortex.HitWall"><a class="headerlink" href="#Vortex.HitWall" title="Permanent link">HitWall</a> (vector HitNormal, actor Wall)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   Velocity = 0.75 * ((Velocity dot HitNormal) * HitNormal * (-2.0) + Velocity);   // Reflect off Wall w/damping<br>   speed = VSize(Velocity);<br>   if ( Velocity.Z > 400 )<br>      Velocity.Z = 0.5 * (400 + Velocity.Z);<br><br></div>
<h3 id="Vortex.Landed"><a class="headerlink" href="#Vortex.Landed" title="Permanent link">Landed</a> (vector HitNormal)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   HitWall(HitNormal, None);<br><br></div>
<h3 id="Vortex.LoopRunAnim"><a class="headerlink" href="#Vortex.LoopRunAnim" title="Permanent link">LoopRunAnim</a> (float Rate)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>  // LoopAnim('VortexRun', Rate);<br><br></div>
<h3 id="Vortex.PostBeginPlay"><a class="headerlink" href="#Vortex.PostBeginPlay" title="Permanent link">PostBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br><br>   Super.PostBeginPlay();<br>   <br>   Velocity = Vector(Rotation) * Speed;<br>   Velocity.Z += 200;<br>   SetTimer(0.05, True);<br>   RandSpin(30000);<br><br></div>
<h3 id="Vortex.ProcessTouch"><a class="headerlink" href="#Vortex.ProcessTouch" title="Permanent link">ProcessTouch</a> (actor Other, vector HitLocation)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   HitWall(Normal(HitLocation - Other.Location), None );<br><br></div>
<h3 id="Vortex.SetKillType"><a class="headerlink" href="#Vortex.SetKillType" title="Permanent link">SetKillType</a> (Pawn Killer, Pawn Victim)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   if ( Killer == None || Victim == None )<br>      return;<br>   if ( Killer != Victim )<br>      Level.Game.SpecialDamageString = DirectHitString;<br>   else if ( Killer.bIsFemale )<br>      Level.Game.SpecialDamageString = SuicideFString;<br>   else<br>      Level.Game.SpecialDamageString = SuicideString;<br><br></div>
<h3 id="Vortex.SetVictimPhysics"><a class="headerlink" href="#Vortex.SetVictimPhysics" title="Permanent link">SetVictimPhysics</a> (actor Victim)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   if ( Victim.Physics != PHYS_Falling && (!Victim.IsA('Pawn') || !Victim.Region.Zone.bWaterZone) ) <br>   {<br>      Victim.SetPhysics(PHYS_Falling);<br>      if ( Victim.IsA('Pawn') )<br>         Pawn(Victim).Falling();<br>   }<br><br></div>
<h3 id="Vortex.SpawnLights"><a class="headerlink" href="#Vortex.SpawnLights" title="Permanent link">SpawnLights</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int randomheight,randomNum;<br>&#9;local vector vec1,summonLocation, PlayerHitLocation;<br>&#9;local LightBall lightB;<br><br><br>&#9;randomheight=Rand(40);<br>&#9;randomNum=Rand(4);<br><br>&#9;vec1=VRand();<br>&#9;vec1*=500;<br><br>&#9;summonLocation = vec1+Location;<br>&#9;summonLocation.z += randomheight;<br>&#9;PlayerHitLocation = Location;<br>&#9;PlayerHitLocation.z += randomheight;<br><br>&#9;lightB=Spawn(class'LightBall',,, summonLocation, rotator(PlayerHitLocation-summonLocation));<br>&#9;if (lightB!=None)<br>&#9;{<br>&#9;&#9;&#9;lightB.Texture=Texture'DeusExDeco.Skins.AlarmLightTex6';<br>&#9;&#9;&#9;lightB.TimeLimit=1.5;<br>&#9;}&#9;<br><br></div>
<h3 id="Vortex.SplashDamage"><a class="headerlink" href="#Vortex.SplashDamage" title="Permanent link">SplashDamage</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local actor Victim;<br>&#9;local float dist, damageScale;<br><br><br>   if ( bHurtEntry )<br>      return;<br>   bHurtEntry = true;<br><br>   foreach VisibleCollidingActors(class 'Actor', Victim, DamageRadius, Location)<br>      if ( Victim != Self ) {<br>         dist = FMax(1, VSize(Victim.Location - Location));<br>         damageScale = 1 - FClamp((dist - Victim.CollisionRadius) / DamageRadius, 0, 1);<br>         SetKillType(Instigator, Pawn(Victim));<br>         Victim.TakeDamage(damageScale * Damage, Instigator, Victim.Location, vect(0,0,0), MyDamageType);<br>      <br></div>
<h3 id="Vortex.Tick"><a class="headerlink" href="#Vortex.Tick" title="Permanent link">Tick</a> (float DeltaTime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;//spawns lightballs all around<br>&#9;if(bVortexSucking)<br>&#9;&#9;SpawnLights();<br>&#9;<br>   if ( Ticks - TickDelay == 15 )<br>   {<br>      if ( !bVAdded )<br>      {<br>          Velocity.Z += 15;<br>         bVAdded = True;<br>      }<br>   }<br>   <br>   if ( Ticks - TickDelay > 15 )<br>      Velocity -= Region.Zone.ZoneGravity * DeltaTime * 0.8;<br>   <br>   if ( Ticks - TickDelay > 25 )<br>      DrawScale = Min(1 + ((Ticks - TickDelay) - 25) * 0.25, 2.0);<br><br>   if ( Ticks - TickDelay == 40 )<br>   {<br>&#9;  <br>&#9;  //Owner.PlaySound(Sound'DXRVUltimate.Effect.Teleport01',SLOT_None,16384);<br>      Velocity = vect(0,0,0);<br>      SetPhysics(PHYS_Rotating);<br>&#9;  bVortexSucking = True;<br>   }<br>   <br>   //if ( Ticks - TickDelay == 70 )<br>    //     bVortexSucking = True;<br>   <br>   if ( Ticks - TickDelay == 300)<br>   {<br>      AmbientSound = None;<br>      PlaySound(MiscSound,, 255.0,, 6000.00);<br>   }<br>   else if ( Default.LifeSpan - LifeSpan > 6.0 + TickDelay * 0.05 && AmbientSound == None )<br>   {&#9;<br>      //AmbientSound = Sound'DXRVUltimate.Effect.VortexRun';<br>      SoundVolume = 255;<br>      SoundRadius = 6000;<br>   }<br>   else if ( Default.LifeSpan - LifeSpan > TickDelay * 0.05 && !bPlayedStartSound )<br>   {<br>      PlaySound(SpawnSound,, 255.0,, 6000.00);<br>      bPlayedStartSound = True;<br>   }<br><br></div>
<h3 id="Vortex.Timer"><a class="headerlink" href="#Vortex.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   SetTimer(0.05, True);<br>   LoopRunAnim(Min(0.25 + (Ticks * 0.05), 1.0));<br>   Ticks += 1;<br>   Velocity -= Velocity * 0.1;<br>   if ( bVortexSucking )<br>      VortexTarget();<br><br></div>
<h3 id="Vortex.VortexTarget"><a class="headerlink" href="#Vortex.VortexTarget" title="Permanent link">VortexTarget</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local float Distance;<br>&#9;local vector Direction;<br>&#9;local Actor Victim;<br>&#9;local bool bVictimInSight;<br><br><br>   // suck (almost) everything in<br>   ForEach RadiusActors(class'Actor', Victim, VortexRadius, Location)<br>   {<br>&#9;   if(Victim!=Owner)<br>&#9;   {<br>&#9;      bVictimInSight = FastTrace(Location, Victim.Location);<br><br>&#9;       if (Victim.Class != Class && !Victim.IsA('StationaryPawn')  &&  !Victim.bHidden && Victim.Physics != PHYS_Trailer &&  ( (Victim.bIsPawn || Victim.IsA('Carcass')) || Victim.IsA('TranslocatorTarget') || ( (Victim.IsA('Projectile') && Victim.Physics == PHYS_Falling) )   ) )<br>&#9;       {<br>&#9;         if ( Pawn(Victim) == None || !Pawn(Victim).bIsPlayer || !Pawn(Victim).PlayerReplicationInfo.bIsSpectator )<br>&#9;         {<br>&#9;            Direction = Location - Victim.Location;<br>&#9;            Distance = 2.1 - VSize(Direction * 2) / VortexRadius;<br>&#9;            Direction = Normal(Direction);<br>&#9;            if ( !bVictimInSight )<br>&#9;               Direction *= 0.3;<br>&#9;            SetVictimPhysics(Victim);<br>&#9;            Victim.Velocity += Direction * VortexGravity * 0.2 * Square(Distance);<br>&#9;         }<br>&#9;        }<br>&#9;&#9;&#9;<br>&#9;      if ( Victim.Role == ROLE_Authority && Victim.bIsPawn<br>&#9;            && (bVictimInSight || VSize(Location - Victim.Location) < VortexRadius * 0.8) )<br>&#9;      {<br>&#9;         Pawn(Victim).FearThisSpot(Self);<br>&#9;      }<br>&#9;&#9;  <br>&#9;      if (Victim.bIsPawn &&  Role == ROLE_Authority  && Pawn(Victim).Health > 0 && bVictimInSight<br>&#9;            && VSize(Location - Victim.Location) < DamageRadius * 0.4 )<br>&#9;      {<br>&#9;         SetKillType(Instigator, Pawn(Victim));<br>&#9;         Pawn(Victim).Health = -1000;<br>&#9;         Pawn(Victim).Died(Instigator, MyDamageType, Victim.Location);<br>&#9;      }<br>&#9;  }<br>   }<br>   SplashDamage();<br><br></div>
<br><br><hr>
<a class="headerlink" href="#VortexGen.uc" title="Permanent link"><h2 id="VortexGen.uc">VortexGen.uc (extends DeusExPickup)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">maxCopies=5<br>bCanHaveMultipleCopies=True<br>bActivatable=True<br>ItemName="Vortex Generator"<br>ItemArticle="an"<br>PlayerViewOffset=(X=20.000000,Y=10.000000,Z=-16.000000)<br>PlayerViewMesh=LodMesh'DeusExItems.MultitoolPOV'<br>PickupViewMesh=LodMesh'DeusExItems.Multitool'<br>ThirdPersonMesh=LodMesh'DeusExItems.Multitool3rd'<br>Icon=Texture'DeusExUI.Icons.BeltIconMultitool'<br>largeIcon=Texture'DeusExUI.Icons.LargeIconMultitool'<br>Description="This Tool generates a temporary powerful gravitational vortex, which will suck every human or robot within its reach.|n|n<ULTIMATE OPS FILE NOTE AJ012-BLACK> Before creating this vortex, be sure your allies are distant enough. The vortex is only able to identify its owner, therefore he is the only one who can stand unaffected near it. -- Deadalus08 <END NOTE>"<br>beltDescription="VORTEX GEN"<br>Mesh=LodMesh'DeusExItems.Multitool'<br>CollisionRadius=4.800000<br>CollisionHeight=0.860000</div>
<h3 id="VortexGen.Activate"><a class="headerlink" href="#VortexGen.Activate" title="Permanent link">Activate</a></h3>

<h3 id="VortexGen.BeginState"><a class="headerlink" href="#VortexGen.BeginState" title="Permanent link">BeginState</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre">&#9;&#9;<br>&#9;&#9;spawn(class'Vortex',Owner,,Owner.Location,DeusExPlayer(Owner).ViewRotation);<br><br>&#9;&#9;GotoState('DeActivated');<br>&#9;&#9;UseOnce();<br>&#9;&#9;<br>&#9;<br></div>
<br><br><hr>
<a class="headerlink" href="#WPGrenade.uc" title="Permanent link"><h2 id="WPGrenade.uc">WPGrenade.uc (extends GasGrenade)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">DamageType=Flamed<br>spawnWeaponClass=Class'PartyStuff.WeaponWPGrenade'<br>ItemName="WP Grenade"<br>ImpactSound=Sound'DeusExSounds.Generic.SmallExplosion2'</div>
<h3 id="WPGrenade.DrawExplosionEffects"><a class="headerlink" href="#WPGrenade.DrawExplosionEffects" title="Permanent link">DrawExplosionEffects</a> (vector HitLocation, vector HitNormal)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local ExplosionLight light;<br>&#9;local ParticleGenerator gen;<br>&#9;local ExplosionSmall expeffect;<br><br><br>&#9;// draw a pretty explosion<br>&#9;light = Spawn(class'ExplosionLight',,, HitLocation);<br>&#9;if (light != None)<br>   {<br>      light.RemoteRole = ROLE_None;<br>&#9;&#9;light.size = 12;<br>   }<br>&#9;<br>   expeffect = Spawn(class'ExplosionSmall',,, HitLocation);<br>   if (expeffect != None)<br>      expeffect.RemoteRole = ROLE_None;<br><br>&#9;// create a particle generator shooting out white-hot fireballs<br>&#9;gen = Spawn(class'ParticleGenerator',,, HitLocation, Rotator(HitNormal));<br>&#9;if (gen != None)<br>&#9;{<br>      gen.RemoteRole = ROLE_None;<br>&#9;&#9;gen.particleDrawScale = 1.0;<br>&#9;&#9;gen.checkTime = 0.05;<br>&#9;&#9;gen.frequency = 1.0;<br>&#9;&#9;gen.ejectSpeed = 200.0;<br>&#9;&#9;gen.bGravity = True;<br>&#9;&#9;gen.bRandomEject = True;<br>&#9;&#9;gen.particleTexture = Texture'Effects.Fire.FireballWhite';<br>&#9;&#9;gen.LifeSpan = 2.0;<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WallHealer.uc" title="Permanent link"><h2 id="WallHealer.uc">WallHealer.uc (extends ElectronicDevices)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var() int healAmount;<br>var() int healRefreshTime;<br>var() int mphealRefreshTime;<br>var Float lastHealTime;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">healAmount=300<br>healRefreshTime=15<br>mphealRefreshTime=15<br>bCanBeBase=True<br>ItemName="Medical Station"<br>Physics=PHYS_None<br>Mesh=LodMesh'DeusExItems.MedKit'<br>DrawScale=4.000000<br>MultiSkins(0)=Texture'PGAssets.Skins.iMed'<br>SoundRadius=8<br>SoundVolume=96<br>AmbientSound=Sound'Ambient.Ambient.HumLow3'<br>CollisionRadius=23.000000<br>CollisionHeight=5.000000<br>Mass=20.000000<br>Buoyancy=16.000000</div>
<h3 id="WallHealer.CanHeal"><a class="headerlink" href="#WallHealer.CanHeal" title="Permanent link">CanHeal</a> -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre">&#9;<br>&#9;return (Level.TimeSeconds - lastHealTime > healRefreshTime);<br><br></div>
<h3 id="WallHealer.Frob"><a class="headerlink" href="#WallHealer.Frob" title="Permanent link">Frob</a> (Actor Frobber, Inventory frobWith)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer player;<br>&#9;local DeusExRootWindow root;<br>&#9;local HUDMedBotAddAugsScreen winAug;<br>&#9;local HUDMedBotHealthScreen  winHealth;<br>&#9;local AugmentationCannister augCan;<br><br><br>   Super.Frob(Frobber, frobWith);<br>   <br>   player = DeusExPlayer(Frobber);<br><br>      if (CanHeal())<br>      {<br>&#9;&#9;&#9;if ( Level.NetMode != NM_Standalone )<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;PlaySound(sound'MedicalHiss', SLOT_None,,, 256);<br>&#9;&#9;&#9;&#9;if ( Frobber.IsA('DeusExPlayer') )<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;DeusExPlayer(Frobber).StopPoison();<br>&#9;&#9;&#9;&#9;&#9;DeusExPlayer(Frobber).ExtinguishFire();<br>&#9;&#9;&#9;&#9;&#9;DeusExPlayer(Frobber).drugEffectTimer = 0;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>         HealPlayer(DeusExPlayer(Frobber));<br>      }<br>      else<br>      {<br>         Pawn(Frobber).ClientMessage("still charging, "$int(healRefreshTime - (Level.TimeSeconds - lastHealTime))$" seconds to go.");<br>      } <br><br></div>
<h3 id="WallHealer.GetRefreshTimeRemaining"><a class="headerlink" href="#WallHealer.GetRefreshTimeRemaining" title="Permanent link">GetRefreshTimeRemaining</a> -> Float</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;return healRefreshTime - (Level.TimeSeconds - lastHealTime);<br><br></div>
<h3 id="WallHealer.HealPlayer"><a class="headerlink" href="#WallHealer.HealPlayer" title="Permanent link">HealPlayer</a> (DeusExPlayer player) -> int</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int healedPoints;<br><br><br>&#9;if (player != None)<br>&#9;{<br>&#9;&#9;healedPoints = player.HealPlayer(healAmount);<br>&#9;&#9;lastHealTime = Level.TimeSeconds;<br>&#9;}<br>&#9;return healedPoints;<br><br></div>
<h3 id="WallHealer.PostBeginPlay"><a class="headerlink" href="#WallHealer.PostBeginPlay" title="Permanent link">PostBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PostBeginPlay();<br><br>   if (Level.NetMode != NM_Standalone)<br>   {<br>      healRefreshTime = mpHealRefreshTime;<br>   }<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WaterCooler2.uc" title="Permanent link"><h2 id="WaterCooler2.uc">WaterCooler2.uc (extends DeusExDecoration)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var bool bUsing;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">FragType=Class'DeusEx.PlasticFragment'<br>bCanBeBase=True<br>ItemName="Water Cooler"<br>bPushable=False<br>Mesh=LodMesh'DeusExDeco.WaterCooler'<br>CollisionRadius=14.070000<br>CollisionHeight=41.570000<br>Mass=70.000000<br>Buoyancy=100.000000</div>
<h3 id="WaterCooler2.Destroyed"><a class="headerlink" href="#WaterCooler2.Destroyed" title="Permanent link">Destroyed</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Vector HitLocation, HitNormal, EndTrace;<br>&#9;local Actor hit;<br>&#9;local WaterPool pool;<br><br><br>&#9;// trace down about 20 feet if we're not in water<br>&#9;if (!Region.Zone.bWaterZone)<br>&#9;{<br>&#9;&#9;EndTrace = Location - vect(0,0,320);<br>&#9;&#9;hit = Trace(HitLocation, HitNormal, EndTrace, Location, False);<br>&#9;&#9;pool = spawn(class'WaterPool',,, HitLocation+HitNormal, Rotator(HitNormal));<br>&#9;&#9;if (pool != None)<br>&#9;&#9;&#9;pool.maxDrawScale = CollisionRadius / 20.0;<br>&#9;}<br><br>&#9;Super.Destroyed();<br><br></div>
<h3 id="WaterCooler2.Frob"><a class="headerlink" href="#WaterCooler2.Frob" title="Permanent link">Frob</a> (Actor Frobber, Inventory frobWith)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.Frob(Frobber, frobWith);<br><br>&#9;if (bUsing)<br>&#9;&#9;return;<br><br>&#9;SetTimer(2.0, False);<br>&#9;bUsing = True;<br><br>&#9;// heal the frobber a small bit<br>&#9;if (DeusExPlayer(Frobber) != None)<br>&#9;&#9;DeusExPlayer(Frobber).HealPlayer(50);<br><br>&#9;PlayAnim('Bubble');<br>&#9;AmbientSound = sound'WaterBubbling';<br><br></div>
<h3 id="WaterCooler2.Timer"><a class="headerlink" href="#WaterCooler2.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;bUsing = False;<br>&#9;AmbientSound = None;<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WaterFountain2.uc" title="Permanent link"><h2 id="WaterFountain2.uc">WaterFountain2.uc (extends DeusExDecoration)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var bool bUsing;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">ItemName="Water Fountain"<br>bPushable=False<br>Physics=PHYS_None<br>Mesh=LodMesh'DeusExDeco.WaterFountain'<br>CollisionRadius=20.000000<br>CollisionHeight=24.360001<br>Mass=70.000000<br>Buoyancy=100.000000</div>
<h3 id="WaterFountain2.Frob"><a class="headerlink" href="#WaterFountain2.Frob" title="Permanent link">Frob</a> (Actor Frobber, Inventory frobWith)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.Frob(Frobber, frobWith);<br><br>&#9;if (bUsing)<br>&#9;&#9;return;<br><br>&#9;SetTimer(2.0, False);<br>&#9;bUsing = True;<br><br>&#9;// heal the frobber a small bit<br>&#9;if (DeusExPlayer(Frobber) != None)<br>&#9;&#9;DeusExPlayer(Frobber).HealPlayer(50);<br><br>&#9;LoopAnim('Use');<br>&#9;AmbientSound = sound'WaterBubbling';<br><br></div>
<h3 id="WaterFountain2.Timer"><a class="headerlink" href="#WaterFountain2.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;bUsing = False;<br>&#9;PlayAnim('Still');<br>&#9;AmbientSound = None;<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WeaponAirget.uc" title="Permanent link"><h2 id="WeaponAirget.uc">WeaponAirget.uc (extends DeusExWeapon)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var float	mpRecoilStrength;<br>var int muznum; //loop through muzzleflashes<br>var texture muztex; //sigh<br>var int airammo, rAirammo;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">airammo=10<br>rAirammo=10<br>LowAmmoWaterMark=30<br>GoverningSkill=Class'DeusEx.SkillWeaponRifle'<br>EnviroEffective=ENVEFF_Air<br>Concealability=CONC_Visual<br>bAutomatic=True<br>ShotTime=0.100000<br>reloadTime=3.000000<br>BaseAccuracy=0.000003<br>bHasScope=True<br>bCanHaveLaser=True<br>bHasLaser=True<br>bCanHaveSilencer=True<br>recoilStrength=0.500000<br>MinWeaponAcc=0.000002<br>mpReloadTime=0.500000<br>mpHitDamage=20<br>mpBaseAccuracy=0.000000<br>mpAccurateRange=2400<br>mpMaxRange=2400<br>mpReloadCount=20<br>bCanHaveModBaseAccuracy=True<br>bCanHaveModReloadCount=True<br>bCanHaveModAccurateRange=True<br>bCanHaveModReloadTime=True<br>bCanHaveModRecoilStrength=True<br>AmmoName=Class'DeusEx.Ammo762mm'<br>ReloadCount=20<br>PickupAmmoCount=60<br>bInstantHit=True<br>FireOffset=(X=-16.000000,Y=5.000000,Z=11.500000)<br>shakemag=200.000000<br>FireSound=Sound'DeusExSounds.Weapons.AssaultGunFire'<br>AltFireSound=Sound'DeusExSounds.Weapons.AssaultGunReloadEnd'<br>CockingSound=Sound'DeusExSounds.Weapons.AssaultGunReload'<br>SelectSound=Sound'DeusExSounds.Weapons.AssaultGunSelect'<br>InventoryGroup=186<br>ItemName="Airget-Lamh B/V2"<br>PlayerViewOffset=(X=10.000000,Y=-5.000000,Z=-15.000000)<br>PlayerViewMesh=LodMesh'PGAssets.BRAssaultGun'<br>PickupViewMesh=LodMesh'PGAssets.BRAssaultGunPickup'<br>ThirdPersonMesh=LodMesh'PGAssets.BRAssaultGun3rd'<br>LandSound=Sound'DeusExSounds.Generic.DropMediumWeapon'<br>Icon=Texture'PGAssets.Icons.BeltIconSGAssault'<br>largeIcon=Texture'PGAssets.Icons.LargeSGAssaultIcon'<br>largeIconWidth=203<br>largeIconHeight=77<br>invSlotsX=2<br>invSlotsY=2<br>Description="The 7.62x51mm assault rifle is designed for close-quarters combat, utilizing a shortened barrel and 'bullpup' design for increased maneuverability. An additional underhand 20mm HE launcher increases the rifle's effectiveness against a variety of targets."<br>beltDescription="AIRGET"<br>Mesh=LodMesh'PGAssets.BRAssaultGunPickup'<br>CollisionRadius=15.000000<br>CollisionHeight=1.100000<br>Mass=30.000000</div>
<h3 id="WeaponAirget.EraseMuzzleFlashTexture"><a class="headerlink" href="#WeaponAirget.EraseMuzzleFlashTexture" title="Permanent link">EraseMuzzleFlashTexture</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int i;<br><br><br>&#9;Muztex = none; //put this before the silencer check just in case we somehow add a silencer while mid shooting (it could happen!)<br>&#9;if(!bHasMuzzleflash || bHasSilencer)<br>&#9;&#9;return;<br><br>&#9;MultiSkins[2] = None;<br><br></div>
<h3 id="WeaponAirget.GetMuzzleTex"><a class="headerlink" href="#WeaponAirget.GetMuzzleTex" title="Permanent link">GetMuzzleTex</a> -> texture</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local texture tex;<br><br><br>&#9;muznum++;<br>&#9;if(muznum > 7)<br>&#9;&#9;muznum = 0;<br>&#9;switch(muznum)<br>&#9;{<br>&#9;&#9;case 0: tex = texture'HDTPMuzzleflashlarge1'; break;<br>&#9;&#9;case 1: tex = texture'HDTPMuzzleflashlarge2'; break;<br>&#9;&#9;case 2: tex = texture'HDTPMuzzleflashlarge3'; break;<br>&#9;&#9;case 3: tex = texture'HDTPMuzzleflashlarge4'; break;<br>&#9;&#9;case 4: tex = texture'HDTPMuzzleflashlarge5'; break;<br>&#9;&#9;case 5: tex = texture'HDTPMuzzleflashlarge6'; break;<br>&#9;&#9;case 6: tex = texture'HDTPMuzzleflashlarge7'; break;<br>&#9;&#9;case 7: tex = texture'HDTPMuzzleflashlarge8'; break;<br>&#9;}<br>&#9;return tex;<br><br></div>
<h3 id="WeaponAirget.LaserToggle"><a class="headerlink" href="#WeaponAirget.LaserToggle" title="Permanent link">LaserToggle</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local vector v2;<br><br>&#9;<br>&#9;v2 = Owner.location;<br>&#9;v2.z += 20;<br>&#9;&#9;if(AirAmmo >= 1)<br>&#9;&#9;{<br>&#9;&#9;&#9;Spawn(class'Rocket',Pawn(Owner),,v2,Pawn(Owner).ViewRotation);<br>&#9;&#9;&#9;AirAmmo -= 1;<br>&#9;&#9;&#9;rAirammo = AirAmmo;<br>&#9;&#9;}<br><br></div>
<h3 id="WeaponAirget.PreBeginPlay"><a class="headerlink" href="#WeaponAirget.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;// If this is a netgame, then override defaults<br>&#9;if ( Level.NetMode != NM_StandAlone )<br>&#9;{<br>&#9;&#9;HitDamage = mpHitDamage;<br>&#9;&#9;BaseAccuracy = mpBaseAccuracy;<br>&#9;&#9;ReloadTime = mpReloadTime;<br>&#9;&#9;AccurateRange = mpAccurateRange;<br>&#9;&#9;MaxRange = mpMaxRange;<br>&#9;&#9;ReloadCount = mpReloadCount;<br><br>&#9;&#9;// Tuned for advanced -> master skill system (Monte & Ricardo's number) client-side<br>&#9;&#9;recoilStrength = 0.75;<br>&#9;}<br><br></div>
<h3 id="WeaponAirget.RefreshScopeDisplay"><a class="headerlink" href="#WeaponAirget.RefreshScopeDisplay" title="Permanent link">RefreshScopeDisplay</a> (DeusExPlayer player, bool bInstant, bool bScopeOn)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if (bScopeOn && (Player !=None))<br>&#9;{<br>&#9;&#9;DeusExPlayer(Owner).PlaySound(sound'Switch2ClickOn', SLOT_Talk,2,,1024,);<br>&#9;&#9;DeusExRootWindow(Player.RootWindow).HUD.AugDisplay.bVisionActive = True;<br>&#9;&#9;DeusExRootWindow(Player.RootWindow).HUD.AugDisplay.VisionLevel = 3;<br>&#9;&#9;DeusExRootWindow(Player.RootWindow).HUD.AugDisplay.VisionLevelValue = 28800;<br>&#9;}<br>&#9;else if (!bScopeOn)<br>&#9;{<br>&#9;&#9;DeusExPlayer(Owner).PlaySound(sound'Switch2ClickOff', SLOT_Talk,2,,1024,);<br>&#9;&#9;DeusExRootWindow(Player.RootWindow).HUD.AugDisplay.bVisionActive = False;<br>&#9;}<br><br></div>
<h3 id="WeaponAirget.RenderOverlays"><a class="headerlink" href="#WeaponAirget.RenderOverlays" title="Permanent link">RenderOverlays</a> (canvas Canvas)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer P;<br>&#9;local Actor CrosshairTarget;<br>&#9;local float Scale, Accuracy, Dist;<br>&#9;local vector HitLocation, HitNormal, StartTrace, EndTrace, X,Y,Z;<br>&#9;local vector loc, line;<br>&#9;local String KeyName, Alias, curKeyName;<br>&#9;local int i;<br><br>&#9;Super.RenderOverlays(Canvas);<br>&#9;P = DeusExPlayer(Owner);<br>&#9;if ( P != None ) <br>&#9;{&#9;<br>&#9;&#9;if(muztex != none && multiskins[2] != muztex) //don't overwrite the muzzleflash..this is fucking ugly, but I think we can spare some comp cycles for shit like this<br>&#9;&#9;multiskins[2]=muztex;<br>&#9;else <br>&#9;&#9;multiskins[2]=none;<br><br>&#9;&#9;&#9;&#9;loc = P.Location;<br>&#9;&#9;&#9;&#9;loc.Z += P.BaseEyeHeight;<br>&#9;&#9;&#9;&#9;line = Vector(P.ViewRotation) * 90000;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;Trace(hitLocation, hitNormal, loc+line, loc, true);<br>&#9;&#9;/*foreach P.TraceActors(class'Actor', CrosshairTarget, HitLocation, HitNormal, EndTrace, StartTrace)<br>&#9;&#9;{*/<br>&#9;&#9;&#9;Dist = Abs(VSize(HitLocation - P.Location));<br><br>&#9;&#9;&#9;//if ( Dist < MaxRange )<br>&#9;&#9;&#9;//{<br>&#9;&#9;&#9;&#9;bOwnsCrossHair = True; <br>&#9;&#9;&#9;&#9;Scale = Canvas.ClipX/640;<br>&#9;&#9;&#9;&#9;Canvas.SetPos(0.5 * Canvas.ClipX - 16 * Scale, 0.5 * Canvas.ClipY - 16 * Scale );<br>&#9;&#9;&#9;&#9;//Canvas.Style = ERenderStyle.STY_Translucent;<br>&#9;&#9;&#9;&#9;Canvas.DrawColor.R = 255;<br>&#9;&#9;&#9;&#9;Canvas.DrawColor.G = 250;<br>&#9;&#9;&#9;&#9;Canvas.DrawColor.B = 255;<br>&#9;&#9;&#9;&#9;Canvas.Font = Canvas.SmallFont;<br>&#9;&#9;&#9;&#9;curKeyName = "";<br>&#9;&#9;&#9;&#9;for ( i=0; i<255; i++ )<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;KeyName = Owner.ConsoleCommand ( "KEYNAME "$i );<br>&#9;&#9;&#9;&#9;&#9;if ( KeyName != "" )<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;Alias = Owner.ConsoleCommand( "KEYBINDING "$KeyName );<br>&#9;&#9;&#9;&#9;&#9;&#9;if ( Alias ~= "ToggleLaser" )<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;curKeyName = KeyName;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;break;<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;if ( curKeyName ~= "" )<br>&#9;&#9;&#9;&#9;&#9;curKeyName = "NONE";<br>&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;Canvas.DrawText("      Alt Ammo: "$rAirAmmo$"/10 ["$curKeyName$"] - Distance: "$Left(Dist, Len(Dist)-7));<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;bOwnsCrossHair = False; // Only for compatibility with HDX50&#9;&#9;<br>&#9;&#9;//<br></div>
<h3 id="WeaponAirget.ScopeOff"><a class="headerlink" href="#WeaponAirget.ScopeOff" title="Permanent link">ScopeOff</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if (bHasScope && bZoomed && (Owner != None) && Owner.IsA('DeusExPlayer'))<br>&#9;{<br>&#9;&#9;bZoomed = False;<br>&#9;&#9;RefreshScopeDisplay(DeusExPlayer(Owner), False, bZoomed);<br>&#9;}<br><br></div>
<h3 id="WeaponAirget.ScopeOn"><a class="headerlink" href="#WeaponAirget.ScopeOn" title="Permanent link">ScopeOn</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   if (bHasScope && !bZoomed && (Owner != None) && Owner.IsA('DeusExPlayer'))<br>   {<br>      bZoomed = True;<br>      RefreshScopeDisplay(DeusExPlayer(Owner), False, bZoomed);<br>   }<br><br></div>
<h3 id="WeaponAirget.SwapMuzzleFlashTexture"><a class="headerlink" href="#WeaponAirget.SwapMuzzleFlashTexture" title="Permanent link">SwapMuzzleFlashTexture</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Muztex = GetMuzzleTex();<br>&#9;Multiskins[2] = Muztex;<br>&#9;MuzzleFlashLight();<br>&#9;SetTimer(0.1, False);<br><br></div>
<h3 id="WeaponAirget.TestMPBeltSpot"><a class="headerlink" href="#WeaponAirget.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<h3 id="WeaponAirget.Tick"><a class="headerlink" href="#WeaponAirget.Tick" title="Permanent link">Tick</a> (float deltatime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;super.Tick(deltatime);<br>&#9;<br>&#9;if(bZoomed)<br>&#9;{<br>&#9;&#9;DeusExPlayer(Owner).Energy -= 0.25;<br>&#9;&#9;if(DeusExPlayer(Owner).Energy <= 0)<br>&#9;&#9;{<br>&#9;&#9;&#9;ScopeOff();<br>&#9;&#9;}<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WeaponAugrist.uc" title="Permanent link"><h2 id="WeaponAugrist.uc">WeaponAugrist.uc (extends WeaponNanoSword)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var() eChk Spell;*/<br>var() int spell, lve, lvl;<br>var() bool bLockState;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">InventoryGroup=251<br>ItemName="Augrist"<br>Description="A strange, ancient triad weapon. You would be hard pressed finding out anything else about it."<br>beltDescription="AUGRIST"<br>MultiSkins(1)=Texture'DeusExItems.Skins.PinkMaskTex'<br>MultiSkins(2)=Texture'DeusExItems.Skins.PinkMaskTex'<br>MultiSkins(4)=Texture'PGAssets.Skins.wtf'<br>MultiSkins(5)=Texture'PGAssets.Skins.wtf'<br>MultiSkins(6)=Texture'DeusExItems.Skins.PinkMaskTex'<br>MultiSkins(7)=Texture'DeusExItems.Skins.PinkMaskTex'<br>LightEffect=LE_NonIncidence<br>LightHue=128</div>
<h3 id="WeaponAugrist.AugExp"><a class="headerlink" href="#WeaponAugrist.AugExp" title="Permanent link">AugExp</a> (int Spell)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local SphereEffect sphere;<br>&#9;local ScorchMark s;<br>&#9;local ExplosionLight light;<br>&#9;local int i;<br>&#9;local float explosionDamage;<br>&#9;local float explosionRadius;<br>&#9;local DeusExPlayer DXP;<br><br>&#9;explosionDamage = 100;<br>&#9;explosionRadius = 1000;<br><br>&#9;// alert NPCs that I'm exploding<br>&#9;AISendEvent('LoudNoise', EAITYPE_Audio, , explosionRadius*16);<br>&#9;PlaySound(Sound'LargeExplosion1', SLOT_None,,, explosionRadius*16);<br><br>&#9;// draw a pretty explosion<br>&#9;light = Spawn(class'ExplosionLight',,, Location);<br>&#9;if (light != None)<br>&#9;&#9;light.size = 4;<br><br>&#9;Spawn(class'ExplosionSmall',,, Location + 2*VRand()*CollisionRadius);<br>&#9;Spawn(class'ExplosionMedium',,, Location + 2*VRand()*CollisionRadius);<br>&#9;Spawn(class'ExplosionMedium',,, Location + 2*VRand()*CollisionRadius);<br>&#9;Spawn(class'ExplosionLarge',,, Location + 2*VRand()*CollisionRadius);<br><br>&#9;sphere = Spawn(class'SphereEffect',,, Location);<br>&#9;if (sphere != None)<br>&#9;&#9;sphere.size = explosionRadius / 32.0;<br>&#9;&#9;sphere.Skin=FireTexture'Effects.Electricity.Virus_SFX';<br>&#9;&#9;sphere.Texture=FireTexture'Effects.Electricity.Virus_SFX';<br><br>&#9;// spawn a mark<br>&#9;s = spawn(class'ScorchMark', Base,, Location-vect(0,0,1)*CollisionHeight, Rotation+rot(16384,0,0));<br>&#9;if (s != None)<br>&#9;{<br>&#9;&#9;s.DrawScale = FClamp(explosionDamage/30, 0.1, 3.0);<br>&#9;&#9;s.ReattachDecal();<br>&#9;}<br><br>&#9;if(Spell == 0) //Elec<br>&#9;{<br>&#9;&#9;foreach VisibleActors(class'DeusExPlayer', DXP, 150)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(DXP != Owner)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;DXP.TakeDamage(20*lvl,DeusExPlayer(Owner),DXP.Location,vect(0,0,1),'EMP');<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br>&#9;else if(Spell == 1) //Flame<br>&#9;{<br>&#9;&#9;foreach VisibleActors(class'DeusExPlayer', DXP, 150)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(DXP != Owner)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;DXP.TakeDamage(20*lvl,DeusExPlayer(Owner),DXP.Location,vect(0,0,1),'Burned');<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br>&#9;else if(Spell == 2) //Drain<br>&#9;{<br>&#9;&#9;foreach VisibleActors(class'DeusExPlayer', DXP, 150)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(DXP != Owner)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;DXP.TakeDamage(15*lvl,DeusExPlayer(Owner),DXP.Location,vect(0,0,1),'Special');<br>&#9;&#9;&#9;&#9;DeusExPlayer(Owner).HealPlayer(50, True);<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="WeaponAugrist.BeginState"><a class="headerlink" href="#WeaponAugrist.BeginState" title="Permanent link">BeginState</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;Super.BeginState();<br>&#9;&#9;LightType = LT_Steady;<br>&#9;<br></div>
<h3 id="WeaponAugrist.CycleAmmo"><a class="headerlink" href="#WeaponAugrist.CycleAmmo" title="Permanent link">CycleAmmo</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Augrist GA;<br><br>&#9;<br>&#9;GA = Spawn(class'Augrist',,,Owner.Location);<br>&#9;GA.spell = spell;<br>&#9;GA.lve = lve;<br>&#9;GA.lvl = lvl;<br>&#9;Destroy();<br><br></div>
<h3 id="WeaponAugrist.EndState"><a class="headerlink" href="#WeaponAugrist.EndState" title="Permanent link">EndState</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;Super.EndState();<br>&#9;&#9;LightType = LT_None;<br>&#9;<br></div>
<h3 id="WeaponAugrist.EnergyUse"><a class="headerlink" href="#WeaponAugrist.EnergyUse" title="Permanent link">EnergyUse</a> (int i) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(DeusExPlayer(Owner).Energy > i)<br>&#9;{<br>&#9;&#9;DeusExPlayer(Owner).Energy -= i;<br>&#9;&#9;return true;<br>&#9;}<br><br></div>
<h3 id="WeaponAugrist.Evolve"><a class="headerlink" href="#WeaponAugrist.Evolve" title="Permanent link">Evolve</a> (int i)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;lve+=i;<br>&#9;if(lve >= 100*lvl)<br>&#9;{<br>&#9;&#9;DeusExPlayer(Owner).ClientMessage(ItemArticle@ItemName$" grows stronger...");<br>&#9;&#9;lvl++;<br>&#9;&#9;lve=0;<br>&#9;}<br><br></div>
<h3 id="WeaponAugrist.LaserToggle"><a class="headerlink" href="#WeaponAugrist.LaserToggle" title="Permanent link">LaserToggle</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(Spell == 0 && !EnergyUse(10))<br>&#9;&#9;&#9;return;<br>&#9;if(Spell == 1 && !EnergyUse(20))<br>&#9;&#9;&#9;return;<br>&#9;if(Spell == 2 && !EnergyUse(40))<br>&#9;&#9;&#9;return;<br>&#9;AugExp(Spell);<br><br></div>
<h3 id="WeaponAugrist.ProcessTraceHit"><a class="headerlink" href="#WeaponAugrist.ProcessTraceHit" title="Permanent link">ProcessTraceHit</a> (Actor Other, Vector HitLocation, Vector HitNormal, Vector X, Vector Y, Vector Z)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local float        mult;<br>&#9;local name         damageType;<br>&#9;local DeusExPlayer dxPlayer;<br>&#9;local int Bloodinc;<br><br>&#9;dxplayer = deusexplayer(other);<br>&#9;super.ProcessTraceHit(other, hitlocation, hitnormal, x, y, z);<br>&#9;if(Other.isa('Pawn') || Other.IsA('DeusExCarcass'))<br>&#9;{<br>&#9;&#9;Evolve(Rand(30));<br>&#9;&#9;return;<br>&#9;}<br>&#9;<br><br><br></div>
<h3 id="WeaponAugrist.ScopeToggle"><a class="headerlink" href="#WeaponAugrist.ScopeToggle" title="Permanent link">ScopeToggle</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(Spell == 0)<br>&#9;{<br>&#9;&#9;DeusExPlayer(Owner).ClientMessage("Flame spell active.");<br>&#9;&#9;Spell = 1;<br>&#9;&#9;return;<br>&#9;}<br>&#9;else if(Spell == 1)<br>&#9;{<br>&#9;&#9;DeusExPlayer(Owner).ClientMessage("Drain spell active.");<br>&#9;&#9;Spell = 2;<br>&#9;&#9;return;<br>&#9;}<br>&#9;else if(Spell == 2)<br>&#9;{<br>&#9;&#9;DeusExPlayer(Owner).ClientMessage("Electric spell active.");<br>&#9;&#9;Spell = 0;<br>&#9;&#9;return;<br>&#9;}<br><br></div>
<h3 id="WeaponAugrist.TestMPBeltSpot"><a class="headerlink" href="#WeaponAugrist.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<h3 id="WeaponAugrist.Tick"><a class="headerlink" href="#WeaponAugrist.Tick" title="Permanent link">Tick</a> (float Deltatime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;super.Tick(deltatime);<br>&#9;<br>     LightHue++;<br>&#9;if(LightHue >= 255)<br>&#9;{<br>&#9;&#9;LightHue=0;<br>&#9;}<br>     LightSaturation=126;<br>&#9;<br>&#9;<br>//&#9;DXP.TakeDamage(1, DeusExPlayer(Owner), DXP.Location, vect(0,0,0), 'EMP');<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WeaponAugristReplica.uc" title="Permanent link"><h2 id="WeaponAugristReplica.uc">WeaponAugristReplica.uc (extends WeaponNanoSword)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">InventoryGroup=251<br>ItemName="Augrist Replica"<br>ItemArticle="an"<br>Description="A strange, ancient triad weapon. You would be hard pressed finding out anything else about it."<br>beltDescription="AUGRIST"<br>MultiSkins(1)=Texture'DeusExItems.Skins.PinkMaskTex'<br>MultiSkins(2)=Texture'DeusExItems.Skins.PinkMaskTex'<br>MultiSkins(4)=FireTexture'Effects.Electricity.Wepn_EMPG_SFX'<br>MultiSkins(5)=FireTexture'Effects.Electricity.Wepn_EMPG_SFX'<br>MultiSkins(6)=Texture'DeusExItems.Skins.PinkMaskTex'<br>MultiSkins(7)=Texture'DeusExItems.Skins.PinkMaskTex'<br>LightHue=128</div>
<h3 id="WeaponAugristReplica.AugExp"><a class="headerlink" href="#WeaponAugristReplica.AugExp" title="Permanent link">AugExp</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local SphereEffect sphere;<br>&#9;local ScorchMark s;<br>&#9;local ExplosionLight light;<br>&#9;local int i;<br>&#9;local float explosionDamage;<br>&#9;local float explosionRadius;<br><br><br>&#9;explosionDamage = 100;<br>&#9;explosionRadius = 1000;<br><br>&#9;// alert NPCs that I'm exploding<br>&#9;AISendEvent('LoudNoise', EAITYPE_Audio, , explosionRadius*16);<br>&#9;PlaySound(Sound'LargeExplosion1', SLOT_None,,, explosionRadius*16);<br><br>&#9;// draw a pretty explosion<br>&#9;light = Spawn(class'ExplosionLight',,, Location);<br>&#9;if (light != None)<br>&#9;&#9;light.size = 4;<br><br>&#9;Spawn(class'ExplosionSmall',,, Location + 2*VRand()*CollisionRadius);<br>&#9;Spawn(class'ExplosionMedium',,, Location + 2*VRand()*CollisionRadius);<br>&#9;Spawn(class'ExplosionMedium',,, Location + 2*VRand()*CollisionRadius);<br>&#9;Spawn(class'ExplosionLarge',,, Location + 2*VRand()*CollisionRadius);<br><br>&#9;sphere = Spawn(class'SphereEffect',,, Location);<br>&#9;if (sphere != None)<br>&#9;&#9;sphere.size = explosionRadius / 32.0;<br>&#9;&#9;sphere.Skin=FireTexture'Effects.Electricity.Virus_SFX';<br>&#9;&#9;sphere.Texture=FireTexture'Effects.Electricity.Virus_SFX';<br><br>&#9;// spawn a mark<br>&#9;s = spawn(class'ScorchMark', Base,, Location-vect(0,0,1)*CollisionHeight, Rotation+rot(16384,0,0));<br>&#9;if (s != None)<br>&#9;{<br>&#9;&#9;s.DrawScale = FClamp(explosionDamage/30, 0.1, 3.0);<br>&#9;&#9;s.ReattachDecal();<br>&#9;}<br><br>&#9;// spawn some rocks and flesh fragments<br>&#9;for (i=0; i<explosionDamage/6; i++)<br>&#9;{<br>&#9;&#9;if (FRand() < 0.3)<br>&#9;&#9;&#9;spawn(class'Rockchip',,,Location);<br>&#9;&#9;else<br>&#9;&#9;&#9;spawn(class'FleshFragment',,,Location);<br>&#9;}<br><br>&#9;DeusExPlayer(Owner).ReducedDamageType = 'Burned';<br>&#9;HurtRadius(explosionDamage, explosionRadius, 'Burned', explosionDamage*100, Location);<br><br></div>
<h3 id="WeaponAugristReplica.BeginState"><a class="headerlink" href="#WeaponAugristReplica.BeginState" title="Permanent link">BeginState</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;Super.BeginState();<br>&#9;&#9;LightType = LT_Steady;<br>&#9;<br></div>
<h3 id="WeaponAugristReplica.EndState"><a class="headerlink" href="#WeaponAugristReplica.EndState" title="Permanent link">EndState</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;Super.EndState();<br>&#9;&#9;LightType = LT_None;<br>&#9;<br></div>
<h3 id="WeaponAugristReplica.TestMPBeltSpot"><a class="headerlink" href="#WeaponAugristReplica.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WeaponBFG.uc" title="Permanent link"><h2 id="WeaponBFG.uc">WeaponBFG.uc (extends DeusExWeapon)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">LowAmmoWaterMark=0<br>GoverningSkill=Class'DeusEx.SkillWeaponHeavy'<br>NoiseLevel=2.000000<br>ShotTime=0.300000<br>reloadTime=0.000000<br>HitDamage=100<br>maxRange=24000<br>AccurateRange=14400<br>BaseAccuracy=0.600000<br>bHasMuzzleFlash=False<br>recoilStrength=1.000000<br>mpHitDamage=100<br>mpBaseAccuracy=0.600000<br>mpAccurateRange=14400<br>mpMaxRange=14400<br>AmmoName=Class'DeusEx.AmmoNone'<br>ReloadCount=0<br>FireOffset=(X=28.000000,Y=12.000000,Z=4.000000)<br>ProjectileClass=Class'PartyStuff.BFG'<br>shakemag=500.000000<br>FireSound=Sound'DeusExSounds.Weapons.LAWFire'<br>SelectSound=Sound'DeusExSounds.Weapons.LAWSelect'<br>InventoryGroup=16<br>ItemName="Big Fucking Gun (BFG)"<br>PlayerViewOffset=(X=18.000000,Y=-18.000000,Z=-7.000000)<br>PlayerViewMesh=LodMesh'DeusExItems.LAW'<br>PickupViewMesh=LodMesh'DeusExItems.LAWPickup'<br>ThirdPersonMesh=LodMesh'DeusExItems.LAW3rd'<br>LandSound=Sound'DeusExSounds.Generic.DropLargeWeapon'<br>Icon=Texture'DeusExUI.Icons.BeltIconLAW'<br>largeIcon=Texture'DeusExUI.Icons.LargeIconLAW'<br>largeIconWidth=166<br>largeIconHeight=47<br>invSlotsX=4<br>Description="The LAW provides cheap, dependable anti-armor capability in the form of an integrated one-shot rocket and delivery system, though at the expense of any laser guidance. Like other heavy weapons, the LAW can slow agents who have not trained with it extensively."<br>beltDescription="BFG"<br>Mesh=LodMesh'DeusExItems.LAWPickup'<br>CollisionRadius=25.000000<br>CollisionHeight=6.800000<br>Mass=50.000000</div>
<h3 id="WeaponBFG.BecomePickup"><a class="headerlink" href="#WeaponBFG.BecomePickup" title="Permanent link">BecomePickup</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.BecomePickup();<br>   if (Level.NetMode != NM_Standalone)<br>      if (bTossedOut)<br>         Lifespan = 0.0;<br><br></div>
<h3 id="WeaponBFG.PostBeginPlay"><a class="headerlink" href="#WeaponBFG.PostBeginPlay" title="Permanent link">PostBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   Super.PostBeginPlay();<br>   bWeaponStay=False;<br><br></div>
<h3 id="WeaponBFG.PreBeginPlay"><a class="headerlink" href="#WeaponBFG.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;// If this is a netgame, then override defaults<br>&#9;if ( Level.NetMode != NM_StandAlone )<br>&#9;{<br>&#9;&#9;HitDamage = mpHitDamage;<br>&#9;&#9;BaseAccuracy = mpBaseAccuracy;<br>&#9;&#9;ReloadTime = mpReloadTime;<br>&#9;&#9;AccurateRange = mpAccurateRange;<br>&#9;&#9;MaxRange = mpMaxRange;<br>&#9;&#9;ReloadCount = mpReloadCount;<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WeaponBantorain.uc" title="Permanent link"><h2 id="WeaponBantorain.uc">WeaponBantorain.uc (extends WeaponPistol)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var float	mpRecoilStrength;<br>var MuzzleFlash flash;<br>var float mpNoScopeMult;<br>var() float Thick;<br>var() float PawnThick;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">Thick=64.000000<br>PawnThick=32.000000<br>HitDamage=30<br>bHasScope=True<br>mpHitDamage=100<br>FireSound=Sound'DeusExSounds.Weapons.RifleFire'<br>AltFireSound=Sound'DeusExSounds.Weapons.RifleReloadEnd'<br>CockingSound=Sound'DeusExSounds.Weapons.RifleReload'<br>SelectSound=Sound'DeusExSounds.Weapons.RifleSelect'<br>InventoryGroup=122<br>ItemName="Bantorain 93R"<br>ItemArticle="the"<br>beltDescription="BA 93R"<br>Mass=1.000000</div>
<h3 id="WeaponBantorain.Fire"><a class="headerlink" href="#WeaponBantorain.Fire" title="Permanent link">Fire</a> (float value)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Local Vector offset,x,y,z;<br>&#9;local rotator rot;<br><br>     if (owner==none)<br>        return;<br>     else if (!bHasMuzzleFlash)<br>         {<br>         super.fire(value);<br>         return;<br>         }<br>     GetAxes(pawn(owner).ViewRotation,x,y,z);<br>     if (owner.IsA('DeusExPlayer'))<br>        {<br>        offset = Owner.Location + CalcDrawOffset() + FireOffset.X * X + FireOffset.Y * Y + FireOffset.Z * Z;<br>        rot=DeusExPlayer(owner).viewRotation;<br>        }<br>     else<br>         {<br>         offset= Owner.Location;<br>         offset += X * Owner.CollisionRadius*2;<br>         rot=owner.rotation;<br>         }<br>     Flash = spawn(class'muzzleflash',,,offset,rot);<br>     if(flash!=none)<br>         {<br>         Flash.setbase(owner);<br>         //Flash.playanim('shoot');<br>         }<br>     super.fire(value);<br><br></div>
<h3 id="WeaponBantorain.TestMPBeltSpot"><a class="headerlink" href="#WeaponBantorain.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<h3 id="WeaponBantorain.TraceFire"><a class="headerlink" href="#WeaponBantorain.TraceFire" title="Permanent link">TraceFire</a> (float Accuracy)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Vector HitLocation;<br>&#9;local Vector HitNormal;<br>&#9;local Vector StartTrace;<br>&#9;local Vector EndTrace;<br>&#9;local Vector X;<br>&#9;local Vector Y;<br>&#9;local Vector Z;<br>&#9;local Actor Other;<br>&#9;local Pawn PawnOwner;<br>&#9;local float Penetration;<br>&#9;local Rotator rot;<br><br>&#9;<br>&#9;PawnOwner=Pawn(Owner);<br>&#9;Owner.MakeNoise(PawnOwner.SoundDampening);<br>&#9;GetAxes(PawnOwner.ViewRotation,X,Y,Z);<br>&#9;StartTrace=Owner.Location + CalcDrawOffset() + FireOffset.X * X + FireOffset.Y * Y + FireOffset.Z * Z;<br>&#9;AdjustedAim=PawnOwner.AdjustAim(1000000.00,StartTrace,2 * aimerror,False,False);<br>&#9;EndTrace=StartTrace + Accuracy * (FRand() - 0.50) * Y * 1000 + Accuracy * (FRand() - 0.50) * Z * 1000;<br>&#9;X=vector(AdjustedAim);<br>&#9;EndTrace += 10000 * X;<br>&#9;Other=PawnOwner.TraceShot(HitLocation,HitNormal,EndTrace,StartTrace);<br>&#9;rot = Rotator(EndTrace - StartTrace);<br>&#9;Spawn(class'Tracer',,, StartTrace + 96 * Vector(rot), rot);<br>&#9;ProcessTraceHit(Other,HitLocation,HitNormal,X,Y,Z);<br>&#9;if ( Other.IsA('Pawn') )<br>&#9;{<br>&#9;&#9;Penetration=PawnThick;<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;Penetration=Thick;<br>&#9;}<br>&#9;StartTrace=HitLocation + HitNormal + Penetration * X;<br>&#9;EndTrace=StartTrace + Accuracy * (FRand() - 0.50) * Y * 1000 + Accuracy * (FRand() - 0.50) * Z * 1000;<br>&#9;EndTrace += 10000 * X;<br>&#9;Other=PawnOwner.TraceShot(HitLocation,HitNormal,EndTrace,StartTrace);<br>&#9;ProcessTraceHit(Other,HitLocation,HitNormal,X,Y,Z);<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WeaponBaton2.uc" title="Permanent link"><h2 id="WeaponBaton2.uc">WeaponBaton2.uc (extends DeusExWeapon)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">Var EModeNum Mode;<br>var DeusExPlayer DXPl;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">LowAmmoWaterMark=0<br>GoverningSkill=Class'DeusEx.SkillWeaponLowTech'<br>NoiseLevel=0.050000<br>reloadTime=0.000000<br>HitDamage=7<br>maxRange=80<br>AccurateRange=80<br>BaseAccuracy=1.000000<br>bPenetrating=False<br>bHasMuzzleFlash=False<br>bHandToHand=True<br>bFallbackWeapon=True<br>bEmitWeaponDrawn=False<br>AmmoName=Class'DeusEx.AmmoNone'<br>ReloadCount=0<br>bInstantHit=True<br>FireOffset=(X=-24.000000,Y=14.000000,Z=17.000000)<br>shakemag=20.000000<br>FireSound=Sound'DeusExSounds.Weapons.BatonFire'<br>SelectSound=Sound'DeusExSounds.Weapons.BatonSelect'<br>Misc1Sound=Sound'DeusExSounds.Weapons.BatonHitFlesh'<br>Misc2Sound=Sound'DeusExSounds.Weapons.BatonHitHard'<br>Misc3Sound=Sound'DeusExSounds.Weapons.BatonHitSoft'<br>InventoryGroup=24<br>ItemName="Baton"<br>PlayerViewOffset=(X=24.000000,Y=-14.000000,Z=-17.000000)<br>PlayerViewMesh=LodMesh'DeusExItems.Baton'<br>PickupViewMesh=LodMesh'DeusExItems.BatonPickup'<br>ThirdPersonMesh=LodMesh'DeusExItems.Baton3rd'<br>Icon=Texture'DeusExUI.Icons.BeltIconBaton'<br>largeIcon=Texture'DeusExUI.Icons.LargeIconBaton'<br>largeIconWidth=46<br>largeIconHeight=47<br>Description="A hefty looking baton, typically used by riot police and national security forces to discourage civilian resistance."<br>beltDescription="BATON"<br>Mesh=LodMesh'DeusExItems.BatonPickup'<br>CollisionRadius=14.000000<br>CollisionHeight=1.000000</div>
<h3 id="WeaponBaton2.Fire"><a class="headerlink" href="#WeaponBaton2.Fire" title="Permanent link">Fire</a> (Float value)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Thrownbaton S;<br><br>&#9;DXPL=DeusExPlayer(Owner);<br>&#9;If(Mode==Mode_Throw)<br>&#9;{<br>&#9;&#9;S=Spawn(class'Thrownbaton',Pawn(Owner),,Location+vect(0,0,-2),DXPL.ViewRotation);<br>&#9;&#9;if(S!=None)<br>&#9;&#9;{<br>&#9;&#9;&#9;S.SetOwner(DXPL);<br>&#9;&#9;&#9;S.Lifespan=15;<br>&#9;&#9;}<br>&#9;&#9;Destroy();<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;Super.Fire(Value);<br>&#9;}<br><br></div>
<h3 id="WeaponBaton2.PreBeginPlay"><a class="headerlink" href="#WeaponBaton2.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;// If this is a netgame, then override defaults<br>&#9;if ( Level.NetMode != NM_StandAlone )<br>&#9;{<br>&#9;&#9;HitDamage = mpHitDamage;<br>&#9;&#9;BaseAccuracy = mpBaseAccuracy;<br>&#9;&#9;ReloadTime = mpReloadTime;<br>&#9;&#9;AccurateRange = mpAccurateRange;<br>&#9;&#9;MaxRange = mpMaxRange;<br>&#9;}<br><br></div>
<h3 id="WeaponBaton2.WeaponDamageType"><a class="headerlink" href="#WeaponBaton2.WeaponDamageType" title="Permanent link">WeaponDamageType</a> -> name</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;return 'KnockedOut';<br><br></div>
<h3 id="WeaponBaton2.cycleammo"><a class="headerlink" href="#WeaponBaton2.cycleammo" title="Permanent link">cycleammo</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;switch Mode<br>&#9;&#9;{<br>&#9;&#9;case MODE_Normal:<br>&#9;&#9;&#9;Mode = MODE_Throw;<br>&#9;&#9;&#9;if (Role == ROLE_Authority)<br>&#9;&#9;&#9;Pawn(Owner).Clientmessage("Throwing mode");<br>&#9;&#9;&#9;break;<br><br>&#9;&#9;case MODE_Throw:<br>&#9;&#9;&#9;Mode = MODE_Normal;<br>&#9;&#9;&#9;if (Role == ROLE_Authority)<br>&#9;&#9;&#9;Pawn(Owner).Clientmessage("Normal mode");<br>&#9;&#9;&#9;break;<br>&#9;&#9;&#9;<br>&#9;&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WeaponBeamRifle.uc" title="Permanent link"><h2 id="WeaponBeamRifle.uc">WeaponBeamRifle.uc (extends WeaponAssaultGun)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">HitDamage=8<br>bInstantHit=False<br>ProjectileClass=Class'PartyStuff.LB2'<br>InventoryGroup=35<br>ItemName="Light Beam Rifle"<br>beltDescription="BEAM"<br>Mass=1.000000</div>
<h3 id="WeaponBeamRifle.TestMPBeltSpot"><a class="headerlink" href="#WeaponBeamRifle.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WeaponBeamRifleHeavy.uc" title="Permanent link"><h2 id="WeaponBeamRifleHeavy.uc">WeaponBeamRifleHeavy.uc (extends WeaponAssaultGun)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">HitDamage=8<br>bInstantHit=False<br>ProjectileClass=Class'PartyStuff.LB3'<br>InventoryGroup=250<br>ItemName="Heavy Beam Rifle"<br>PlayerViewOffset=(X=46.000000,Y=-22.000000,Z=-10.000000)<br>PlayerViewMesh=LodMesh'DeusExItems.GEPGun'<br>PickupViewMesh=LodMesh'DeusExItems.GEPGunPickup'<br>ThirdPersonMesh=LodMesh'DeusExItems.GEPGun3rd'<br>LandSound=Sound'DeusExSounds.Generic.DropLargeWeapon'<br>Icon=Texture'DeusExUI.Icons.BeltIconGEPGun'<br>largeIcon=Texture'DeusExUI.Icons.LargeIconGEPGun'<br>largeIconWidth=203<br>largeIconHeight=77<br>invSlotsX=4<br>beltDescription="BEAM"</div>
<h3 id="WeaponBeamRifleHeavy.TestMPBeltSpot"><a class="headerlink" href="#WeaponBeamRifleHeavy.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WeaponBioRifle.uc" title="Permanent link"><h2 id="WeaponBioRifle.uc">WeaponBioRifle.uc (extends WeaponAssaultGun)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">HitDamage=8<br>bInstantHit=False<br>ProjectileClass=Class'PartyStuff.GrayShoot'<br>InventoryGroup=111<br>ItemName="|P2Bio Assault Gun"<br>beltDescription="BIO"<br>Mass=1.000000</div>
<h3 id="WeaponBioRifle.TestMPBeltSpot"><a class="headerlink" href="#WeaponBioRifle.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WeaponBioRifleX.uc" title="Permanent link"><h2 id="WeaponBioRifleX.uc">WeaponBioRifleX.uc (extends WeaponAssaultGun)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">HitDamage=8<br>bInstantHit=False<br>ProjectileClass=Class'PartyStuff.GrayShoot'<br>InventoryGroup=111<br>ItemName="|P2Bio Assault Gun"<br>ThirdPersonMesh=None<br>beltDescription="BIO"<br>Mass=1.000000</div>
<h3 id="WeaponBioRifleX.TestMPBeltSpot"><a class="headerlink" href="#WeaponBioRifleX.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WeaponBloodSword.uc" title="Permanent link"><h2 id="WeaponBloodSword.uc">WeaponBloodSword.uc (extends DeusExWeapon)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var int Blood, rBlood;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">LowAmmoWaterMark=0<br>GoverningSkill=Class'DeusEx.SkillWeaponLowTech'<br>NoiseLevel=0.050000<br>reloadTime=0.000000<br>HitDamage=500<br>maxRange=96<br>AccurateRange=96<br>BaseAccuracy=1.000000<br>AreaOfEffect=AOE_Cone<br>bHasMuzzleFlash=False<br>bHandToHand=True<br>SwingOffset=(X=24.000000,Z=2.000000)<br>mpHitDamage=500<br>mpBaseAccuracy=1.000000<br>mpAccurateRange=150<br>mpMaxRange=150<br>AmmoName=Class'DeusEx.AmmoNone'<br>ReloadCount=0<br>bInstantHit=True<br>FireOffset=(X=-21.000000,Y=16.000000,Z=27.000000)<br>shakemag=20.000000<br>FireSound=Sound'DeusExSounds.Weapons.NanoSwordFire'<br>SelectSound=Sound'DeusExSounds.Weapons.NanoSwordSelect'<br>Misc1Sound=Sound'DeusExSounds.Weapons.NanoSwordHitFlesh'<br>Misc2Sound=Sound'DeusExSounds.Weapons.NanoSwordHitHard'<br>Misc3Sound=Sound'DeusExSounds.Weapons.NanoSwordHitSoft'<br>InventoryGroup=14<br>ItemName="Blood Sword"<br>ItemArticle="the"<br>PlayerViewOffset=(X=21.000000,Y=-16.000000,Z=-27.000000)<br>PlayerViewMesh=LodMesh'DeusExItems.NanoSword'<br>PickupViewMesh=LodMesh'DeusExItems.NanoSwordPickup'<br>ThirdPersonMesh=LodMesh'DeusExItems.NanoSword3rd'<br>LandSound=Sound'DeusExSounds.Generic.DropLargeWeapon'<br>Icon=Texture'DeusExUI.Icons.BeltIconDragonTooth'<br>largeIcon=Texture'DeusExUI.Icons.LargeIconDragonTooth'<br>largeIconWidth=205<br>largeIconHeight=46<br>invSlotsX=4<br>Description="Eviiiil."<br>beltDescription="BLOOD"<br>Physics=PHYS_Rotating<br>Rotation=(Pitch=900,Yaw=900,Roll=900)<br>Mesh=LodMesh'DeusExItems.NanoSwordPickup'<br>MultiSkins(1)=FireTexture'Effects.Laser.LaserSpot1'<br>MultiSkins(4)=FireTexture'Effects.liquid.Virus_SFX'<br>MultiSkins(5)=FireTexture'Effects.liquid.Virus_SFX'<br>MultiSkins(6)=FireTexture'Effects.Laser.LaserSpot1'<br>CollisionRadius=32.000000<br>CollisionHeight=2.400000<br>LightType=LT_SubtlePulse<br>LightEffect=LE_Interference<br>LightBrightness=224<br>LightRadius=10<br>Mass=20.000000<br>RotationRate=(Pitch=900,Yaw=900,Roll=900)</div>
<h3 id="WeaponBloodSword.BeginState"><a class="headerlink" href="#WeaponBloodSword.BeginState" title="Permanent link">BeginState</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;Super.BeginState();<br>&#9;&#9;LightType = LT_Steady;<br>&#9;<br></div>
<h3 id="WeaponBloodSword.CycleAmmo"><a class="headerlink" href="#WeaponBloodSword.CycleAmmo" title="Permanent link">CycleAmmo</a></h3>

<h3 id="WeaponBloodSword.EndState"><a class="headerlink" href="#WeaponBloodSword.EndState" title="Permanent link">EndState</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;Super.EndState();<br>&#9;&#9;LightType = LT_None;<br>&#9;<br></div>
<h3 id="WeaponBloodSword.LaserToggle"><a class="headerlink" href="#WeaponBloodSword.LaserToggle" title="Permanent link">LaserToggle</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(Blood >= 200)<br>&#9;{<br>&#9;&#9;Blood -= 200;<br>&#9;&#9;rBlood = Blood;<br>&#9;&#9;Spawn(class'Ultima2',Pawn(Owner),,Pawn(Owner).Location,Pawn(Owner).ViewRotation);<br>&#9;}<br><br></div>
<h3 id="WeaponBloodSword.PreBeginPlay"><a class="headerlink" href="#WeaponBloodSword.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;// If this is a netgame, then override defaults<br>&#9;if ( Level.NetMode != NM_StandAlone )<br>&#9;{<br>&#9;&#9;HitDamage = mpHitDamage;<br>&#9;&#9;BaseAccuracy = mpBaseAccuracy;<br>&#9;&#9;ReloadTime = mpReloadTime;<br>&#9;&#9;AccurateRange = mpAccurateRange;<br>&#9;&#9;MaxRange = mpMaxRange;<br>&#9;}<br><br></div>
<h3 id="WeaponBloodSword.ProcessTraceHit"><a class="headerlink" href="#WeaponBloodSword.ProcessTraceHit" title="Permanent link">ProcessTraceHit</a> (Actor Other, Vector HitLocation, Vector HitNormal, Vector X, Vector Y, Vector Z)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local float        mult;<br>&#9;local name         damageType;<br>&#9;local DeusExPlayer dxPlayer;<br>&#9;local int Bloodinc;<br><br>&#9;dxplayer = deusexplayer(other);<br><br>&#9;if(Other.isa('Pawn') || Other.IsA('DeusExCarcass'))<br>&#9;{<br>&#9;&#9;if(DeusExPlayer(Owner).Health < 100)<br>&#9;&#9;{<br>&#9;&#9;DeusExPlayer(Owner).HealPlayer(HitDamage, True);<br>&#9;&#9;}<br>&#9;&#9;Bloodinc += RandRange(5,15);<br>&#9;}<br>&#9;<br>&#9;super.ProcessTraceHit(other, hitlocation, hitnormal, x, y, z);<br>&#9;<br>&#9;Blood += Bloodinc;<br>&#9;rBlood = Blood;<br><br></div>
<h3 id="WeaponBloodSword.RenderOverlays"><a class="headerlink" href="#WeaponBloodSword.RenderOverlays" title="Permanent link">RenderOverlays</a> (canvas Canvas)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer P;<br>&#9;local Pawn CrosshairTarget;<br>&#9;local float Scale, Accuracy, Dist;<br>&#9;local vector HitLocation, HitNormal, StartTrace, EndTrace, X,Y,Z;<br><br><br>&#9;Super.RenderOverlays(Canvas);<br>&#9;P = DeusExPlayer(Owner);<br>&#9;if ( P != None ) <br>&#9;{&#9;<br>&#9;&#9;GetAxes(Pawn(Owner).ViewRotation,X,Y,Z);&#9;<br>&#9;&#9;StartTrace = ComputeProjectileStart(X, Y, Z);<br>&#9;&#9;AdjustedAim = P.AdjustAim(1000000, StartTrace, 2*AimError, False, False);<br>&#9;&#9;EndTrace = StartTrace + Accuracy * (FRand()-0.5)*Y*1000 + Accuracy * (FRand()-0.5)*Z*1000 ;&#9;<br>&#9;&#9;EndTrace += (FMax(1024.0, MaxRange) * Vector(AdjustedAim));<br>&#9;&#9;&#9;&#9;bOwnsCrossHair = True; <br>&#9;&#9;&#9;&#9;Scale = Canvas.ClipX/640;<br>&#9;&#9;&#9;&#9;Canvas.SetPos(0.5 * Canvas.ClipX - 16 * Scale, 0.5 * Canvas.ClipY - 16 * Scale );<br>&#9;&#9;&#9;&#9;Canvas.DrawColor.R = Rand(128);<br>&#9;&#9;&#9;&#9;Canvas.DrawColor.G = 0;<br>&#9;&#9;&#9;&#9;Canvas.DrawColor.B = 0;<br>&#9;&#9;&#9;&#9;Canvas.Font = Canvas.SmallFont;<br><br>&#9;&#9;&#9;&#9;&#9;Canvas.DrawText("        Blood: "$rBlood);<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;bOwnsCrossHair = False; // Only for compatibility with HDX50&#9;&#9;<br><br></div>
<h3 id="WeaponBloodSword.ScopeToggle"><a class="headerlink" href="#WeaponBloodSword.ScopeToggle" title="Permanent link">ScopeToggle</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(Blood >= 10)<br>&#9;{<br>&#9;&#9;Blood -= 10;<br>&#9;&#9;rBlood = Blood;<br>&#9;&#9;Spawn(class'Ultima',Pawn(Owner),,Pawn(Owner).Location,Pawn(Owner).ViewRotation);<br>&#9;}<br><br></div>
<h3 id="WeaponBloodSword.TestMPBeltSpot"><a class="headerlink" href="#WeaponBloodSword.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WeaponBoner.uc" title="Permanent link"><h2 id="WeaponBoner.uc">WeaponBoner.uc (extends DeusExWeapon)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var bool bStickyPayload;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">GoverningSkill=Class'DeusEx.SkillWeaponPistol'<br>NoiseLevel=0.010000<br>ShotTime=0.150000<br>reloadTime=0.000000<br>HitDamage=8<br>maxRange=4800<br>AccurateRange=2400<br>BaseAccuracy=0.800000<br>bCanHaveScope=True<br>bHasScope=True<br>ScopeFOV=25<br>bCanHaveLaser=True<br>bHasLaser=True<br>recoilStrength=0.100000<br>mpReloadTime=1.500000<br>mpHitDamage=30<br>mpBaseAccuracy=0.200000<br>mpAccurateRange=1200<br>mpMaxRange=8200<br>bCanHaveModBaseAccuracy=True<br>bCanHaveModReloadCount=True<br>bCanHaveModAccurateRange=True<br>bCanHaveModReloadTime=True<br>FireOffset=(X=-24.000000,Y=10.000000,Z=14.000000)<br>ProjectileClass=Class'PartyStuff.Boner'<br>shakemag=50.000000<br>FireSound=Sound'DeusExSounds.Weapons.MiniCrossbowFire'<br>AltFireSound=Sound'DeusExSounds.Weapons.StealthPistolReloadEnd'<br>CockingSound=Sound'DeusExSounds.Weapons.StealthPistolReload'<br>SelectSound=Sound'DeusExSounds.Weapons.StealthPistolSelect'<br>InventoryGroup=190<br>ItemName="Boner"<br>PlayerViewOffset=(X=22.000000,Y=-10.000000,Z=-14.000000)<br>PlayerViewMesh=LodMesh'DeusExItems.Glock'<br>PickupViewMesh=LodMesh'DeusExItems.GlockPickup'<br>ThirdPersonMesh=LodMesh'DeusExItems.Glock3rd'<br>LandSound=Sound'DeusExSounds.Generic.DropLargeWeapon'<br>Icon=Texture'DeusExUI.Icons.BeltIconPistol'<br>largeIconWidth=47<br>largeIconHeight=37<br>Description="Hot boner"<br>beltDescription="Boner"<br>Skin=Texture'PGAssets.boner3rdTex1'<br>Mesh=LodMesh'DeusExItems.Glock'<br>CollisionRadius=7.000000<br>CollisionHeight=1.000000<br>Mass=3.000000</div>
<h3 id="WeaponBoner.LaserToggle"><a class="headerlink" href="#WeaponBoner.LaserToggle" title="Permanent link">LaserToggle</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;bStickyPayload = !bStickyPayload;<br>&#9;&#9;if(bStickyPayload)<br>&#9;&#9;{<br>&#9;&#9;&#9;DeusExPlayer(Owner).ClientMessage("Sticky Payload is armed!");<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;{<br>&#9;&#9;&#9;DeusExPlayer(Owner).ClientMessage("Sticky Payload is disarmed!");<br>&#9;&#9;}<br><br></div>
<h3 id="WeaponBoner.PreBeginPlay"><a class="headerlink" href="#WeaponBoner.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;// If this is a netgame, then override defaults<br>&#9;if ( Level.NetMode != NM_StandAlone )<br>&#9;{<br>&#9;&#9;HitDamage = mpHitDamage;<br>&#9;&#9;BaseAccuracy = mpBaseAccuracy;<br>&#9;&#9;ReloadTime = mpReloadTime;<br>&#9;&#9;AccurateRange = mpAccurateRange;<br>&#9;&#9;MaxRange = mpMaxRange;<br>&#9;&#9;ReloadCount = mpReloadCount;<br>&#9;}<br><br></div>
<h3 id="WeaponBoner.RenderOverlays"><a class="headerlink" href="#WeaponBoner.RenderOverlays" title="Permanent link">RenderOverlays</a> (canvas Canvas)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;// set first person skin settings<br>&#9;&#9;MultiSkins[3]=Texture'BonerTex1';<br><br>&#9;Super.RenderOverlays( Canvas );<br><br>&#9;// reset third person skin settings<br>&#9;&#9;MultiSkins[0]=Texture'boner3rdTex1';<br><br></div>
<h3 id="WeaponBoner.ScopeToggle"><a class="headerlink" href="#WeaponBoner.ScopeToggle" title="Permanent link">ScopeToggle</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local BonerPayload BP;<br><br>&#9;&#9;&#9;DeusExPlayer(Owner).ClientMessage("Blown the load!!!!!!");<br>&#9;foreach AllActors(class'BonerPayload', BP)<br>&#9;{<br>&#9;&#9;if(BP.Payloader == DeusExPlayer(Owner))<br>&#9;&#9;{<br>&#9;&#9;&#9;BP.BlowLoad();<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="WeaponBoner.TestMPBeltSpot"><a class="headerlink" href="#WeaponBoner.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WeaponBoxGun.uc" title="Permanent link"><h2 id="WeaponBoxGun.uc">WeaponBoxGun.uc (extends WeaponLAW)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var int currentMode;<br>var Box currentBox;<br>var string cycleMessages[5];<br>var float createSize;<br>var travel Texture CurSkin;<br>var travel byte SkinMode;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">cycleMessages(0)="Box Spawn Mode Activated"<br>cycleMessages(1)="Box Move Mode Activated"<br>cycleMessages(2)="Box Delete Mode Activated"<br>cycleMessages(3)="Box Size Mode Activated"<br>cycleMessages(4)="Box Skin Mode Activated"<br>createSize=1.000000<br>reloadTime=0.500000<br>PickupAmmoCount=10<br>bInstantHit=True<br>bWeaponStay=True<br>shakemag=0.000000<br>InventoryGroup=56<br>ItemName="Box Gun"<br>beltDescription="BOX"</div>
<h3 id="WeaponBoxGun.GiveTo"><a class="headerlink" href="#WeaponBoxGun.GiveTo" title="Permanent link">GiveTo</a> (pawn Other)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>    super.Giveto(Other);<br>        CurSkin = Texture'CoreTexDetail.Detail.DStone_A';<br>&#9;Other.ClientMessage("SCOPE to change skin. AMMO CHANGE to change mode.");<br><br></div>
<h3 id="WeaponBoxGun.PostBeginPlay"><a class="headerlink" href="#WeaponBoxGun.PostBeginPlay" title="Permanent link">PostBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>Super.PostBeginPlay();<br>   if (Level.NetMode != NM_Standalone)<br>   {<br>      bWeaponStay = True;<br>      if (bNeedToSetMPPickupAmmo)<br>      {<br>         PickupAmmoCount = PickupAmmoCount * 3;<br>         bNeedToSetMPPickupAmmo = False;<br>      }<br>   }<br><br></div>
<h3 id="WeaponBoxGun.ProcessTraceHit"><a class="headerlink" href="#WeaponBoxGun.ProcessTraceHit" title="Permanent link">ProcessTraceHit</a> (Actor Other, Vector HitLocation, Vector HitNormal, Vector X, Vector Y, Vector Z)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local vector spawnLocation;<br><br><br>&#9;if(currentMode == 0)<br>&#9;{<br>&#9;&#9;spawnLocation = HitLocation;<br><br>&#9;&#9;if(Box(Other) != None)<br>&#9;&#9;&#9;spawnLocation.Z += (Class'Box'.Default.CollisionHeight*createSize) / 2;<br><br>&#9;&#9;createBox(spawnLocation);<br>&#9;}<br>&#9;else if(currentMode == 1)<br>&#9;{<br>&#9;&#9;if(currentBox != None)<br>&#9;&#9;{<br>&#9;&#9;&#9;currentBox.bHidden = False;<br>&#9;&#9;&#9;currentBox.SetCollision(True, True, True);<br>&#9;&#9;&#9;currentBox.SetLocation(HitLocation);<br>&#9;&#9;&#9;&#9;&#9;&#9;currentBox.bMovable=False;<br>&#9;&#9;&#9;currentBox = None;<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;{<br>&#9;&#9;&#9;if(Box(Other) != None)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(Box(Other).CreatedBy == DeusExPlayer(Owner).PlayerReplicationInfo.PlayerName || DeusExPlayer(Owner).bAdmin)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;currentBox.bMovable=True;<br>&#9;&#9;&#9;&#9;&#9;currentBox = Box(Other);<br>&#9;&#9;&#9;&#9;&#9;currentBox.SetCollision(False, False, False);<br>&#9;&#9;&#9;&#9;&#9;currentBox.bHidden = True;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br>&#9;else if(currentMode == 2)<br>&#9;{<br>&#9;&#9;if(Box(Other) != None)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(Box(Other).CreatedBy == DeusExPlayer(Owner).PlayerReplicationInfo.PlayerName || DeusExPlayer(Owner).bAdmin)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;Box(Other).Destroy();<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br>&#9;else if(currentMode == 3)<br>&#9;{<br>&#9;&#9;if(Box(Other) != None)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(Box(Other).CreatedBy == DeusExPlayer(Owner).PlayerReplicationInfo.PlayerName || DeusExPlayer(Owner).bAdmin)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(currentBox != None)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;currentBox.bHidden = False;<br>&#9;&#9;&#9;&#9;&#9;currentBox.SetCollision(True, True, True);<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;currentBox = Box(Other);<br>&#9;&#9;&#9;&#9;createSizeWindow();<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br>&#9;else if(currentMode == 4)<br>&#9;{<br>&#9;&#9;if(Box(Other) != None)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(Box(Other).CreatedBy == DeusExPlayer(Owner).PlayerReplicationInfo.PlayerName || DeusExPlayer(Owner).bAdmin)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;Box(Other).Multiskins[0] = CurSkin;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="WeaponBoxGun.ScopeToggle"><a class="headerlink" href="#WeaponBoxGun.ScopeToggle" title="Permanent link">ScopeToggle</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExplayer P;<br><br>    P=DeusExPlayer(Owner);<br>        <br>    if (SkinMode == 0)<br>    {<br>        SkinMode = 1;<br>        CurSkin = Texture'DeusExDeco.Skins.AlarmLightTex3';<br>&#9;DeusExPlayer(Owner).Clientmessage("|P3Red Box");<br>        return;<br>    }<br>    if (SkinMode == 1)<br>    {<br>        SkinMode = 2;<br>        CurSkin = Texture'DeusExDeco.Skins.AlarmLightTex5';<br>&#9;DeusExPlayer(Owner).Clientmessage("|P3Green Box");<br>        return;<br>    }<br>    if (SkinMode == 2)<br>    {<br>        SkinMode = 3;<br>        CurSkin = Texture'DeusExDeco.Skins.AlarmLightTex7';<br>&#9;DeusExPlayer(Owner).Clientmessage("|P3Blue Box");<br>        return;<br>    }<br>    if (SkinMode == 3)<br>    {<br>        SkinMode = 4;<br>        CurSkin = Texture'DeusExDeco.Skins.AlarmLightTex9';<br>&#9;DeusExPlayer(Owner).Clientmessage("|P3Gold Box");<br>        return;<br>    }<br>    if (SkinMode == 4)<br>    {<br>        SkinMode = 5;<br>        CurSkin = Texture'Extras.Eggs.Matrix_A00';<br>&#9;DeusExPlayer(Owner).Clientmessage("|P3Matrix Box");<br>        return;<br>    }<br>    if (SkinMode == 5)<br>    {<br>        SkinMode = 6;<br>        CurSkin = Texture'Effects.water.bluewater_a';<br>&#9;DeusExPlayer(Owner).Clientmessage("|P3Water Box");<br>        return;<br>    }<br>    if (SkinMode == 6)<br>    {<br>        SkinMode = 0;<br>        CurSkin = Texture'CoreTexDetail.Detail.DStone_A';<br>&#9;DeusExPlayer(Owner).Clientmessage("|P3Default Box");<br>        return;<br>    }<br><br></div>
<h3 id="WeaponBoxGun.createBox"><a class="headerlink" href="#WeaponBoxGun.createBox" title="Permanent link">createBox</a> (vector spawnLocation)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Box _newBox;<br><br>&#9;_newBox = Spawn (class'Box',,, spawnLocation);<br>&#9;if(_newBox != None)<br>&#9;{<br>&#9;&#9;_newBox.SetRotation(_newBox.Default.Rotation);<br>&#9;&#9;_newBox.DrawScale = _newBox.Default.DrawScale*createSize;<br>&#9;&#9;_newBox.Skin = CurSkin;<br>&#9;&#9;_newBox.Texture = CurSkin;<br>&#9;&#9;_newBox.Multiskins[0] = CurSkin;<br>&#9;&#9; _newBox.CreatedBy = DeusExPlayer(Owner).PlayerReplicationInfo.PlayerName;<br>&#9;&#9;_newBox.SetCollisionSize(_newBox.Default.CollisionRadius*createSize,_newBox.Default.CollisionHeight*createSize);<br>&#9;}<br><br></div>
<h3 id="WeaponBoxGun.createSizeWindow"><a class="headerlink" href="#WeaponBoxGun.createSizeWindow" title="Permanent link">createSizeWindow</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer _Player;<br>&#9;local DeusExRootWindow _root;<br>&#9;local BoxSizeWindow _boxWindow;<br><br>&#9;_Player = DeusExPlayer(Owner);<br>&#9;if(_Player != None)<br>&#9;{<br>&#9;&#9;_Player.InitRootWindow();<br>&#9;&#9;_root = DeusExRootWindow(_Player.rootWindow);<br>&#9;&#9;if(_root != None)<br>&#9;&#9;{<br>&#9;&#9;&#9;_boxWindow = BoxSizeWindow(_root.InvokeUIScreen(Class'BoxSizeWindow', True));<br>&#9;&#9;&#9;if(_boxWindow != None)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;_boxWindow._windowOwner = self;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="WeaponBoxGun.cycleammo"><a class="headerlink" href="#WeaponBoxGun.cycleammo" title="Permanent link">cycleammo</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br><br>&#9;if(currentMode == 3 && currentBox != None)<br>&#9;{<br>&#9;&#9;currentBox = None;<br>&#9;}<br><br>&#9;currentMode++;<br>&#9;if(currentMode > 4)<br>&#9;{<br>&#9;&#9;currentMode = 0;<br>&#9;}<br>&#9;DeusExPlayer(Owner).ClientMessage(cycleMessages[currentMode]);<br><br><br></div>
<h3 id="WeaponBoxGun.setSize"><a class="headerlink" href="#WeaponBoxGun.setSize" title="Permanent link">setSize</a> (float newSize, int sizeType)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(newSize > 5)<br>&#9;&#9;newSize = 5.00000;<br><br>&#9;if(sizeType == 1 && currentBox != None)<br>&#9;{<br>&#9;&#9;currentBox.DrawScale = currentBox.Default.DrawScale*newSize;<br>&#9;&#9;currentBox.SetCollisionSize(currentBox.Default.CollisionRadius*newSize,currentBox.Default.CollisionHeight*newSize);<br>&#9;}<br>&#9;else if(sizeType == 2)<br>&#9;{<br>&#9;&#9;createSize = newSize;<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WeaponBurnRifle.uc" title="Permanent link"><h2 id="WeaponBurnRifle.uc">WeaponBurnRifle.uc (extends DeusExWeapon)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var float	mpNoScopeMult;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">mpNoScopeMult=0.350000<br>LowAmmoWaterMark=6<br>GoverningSkill=Class'DeusEx.SkillWeaponRifle'<br>NoiseLevel=2.000000<br>ShotTime=1.500000<br>reloadTime=2.000000<br>HitDamage=25<br>maxRange=48000<br>AccurateRange=28800<br>bCanHaveScope=True<br>bHasScope=True<br>bCanHaveLaser=True<br>bCanHaveSilencer=True<br>bHasMuzzleFlash=False<br>recoilStrength=0.400000<br>bUseWhileCrouched=False<br>mpReloadTime=2.000000<br>mpHitDamage=25<br>mpAccurateRange=28800<br>mpMaxRange=28800<br>mpReloadCount=6<br>bCanHaveModBaseAccuracy=True<br>bCanHaveModReloadCount=True<br>bCanHaveModAccurateRange=True<br>bCanHaveModReloadTime=True<br>bCanHaveModRecoilStrength=True<br>AmmoName=Class'DeusEx.Ammo3006'<br>ReloadCount=6<br>PickupAmmoCount=6<br>FireOffset=(X=-20.000000,Y=2.000000,Z=30.000000)<br>ProjectileClass=Class'PartyStuff.FireBolt'<br>shakemag=50.000000<br>FireSound=Sound'DeusExSounds.Weapons.RifleFire'<br>AltFireSound=Sound'DeusExSounds.Weapons.RifleReloadEnd'<br>CockingSound=Sound'DeusExSounds.Weapons.RifleReload'<br>SelectSound=Sound'DeusExSounds.Weapons.RifleSelect'<br>InventoryGroup=5<br>ItemName="Burn Rifle"<br>PlayerViewOffset=(X=20.000000,Y=-2.000000,Z=-30.000000)<br>PlayerViewMesh=LodMesh'DeusExItems.SniperRifle'<br>PickupViewMesh=LodMesh'DeusExItems.SniperRiflePickup'<br>ThirdPersonMesh=LodMesh'DeusExItems.SniperRifle3rd'<br>LandSound=Sound'DeusExSounds.Generic.DropMediumWeapon'<br>Icon=Texture'DeusExUI.Icons.BeltIconRifle'<br>largeIcon=Texture'DeusExUI.Icons.LargeIconRifle'<br>largeIconWidth=159<br>largeIconHeight=47<br>invSlotsX=4<br>Description="The military sniper rifle is the superior tool for the interdiction of long-range targets. When coupled with the proven 30.06 round, a marksman can achieve tight groupings at better than 1 MOA (minute of angle) depending on environmental conditions."<br>beltDescription="SNIPER"<br>Mesh=LodMesh'DeusExItems.SniperRiflePickup'<br>CollisionRadius=26.000000<br>CollisionHeight=2.000000<br>Mass=30.000000</div>
<h3 id="WeaponBurnRifle.PreBeginPlay"><a class="headerlink" href="#WeaponBurnRifle.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;// If this is a netgame, then override defaults<br>&#9;if ( Level.NetMode != NM_StandAlone )<br>&#9;{<br>&#9;&#9;HitDamage = mpHitDamage;<br>&#9;&#9;BaseAccuracy = mpBaseAccuracy;<br>&#9;&#9;ReloadTime = mpReloadTime;<br>&#9;&#9;AccurateRange = mpAccurateRange;<br>&#9;&#9;MaxRange = mpMaxRange;<br>&#9;&#9;ReloadCount = mpReloadCount;<br>      bHasMuzzleFlash = True;<br>      ReloadCount = 1;<br>      ReloadTime = ShotTime;<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WeaponClaymore.uc" title="Permanent link"><h2 id="WeaponClaymore.uc">WeaponClaymore.uc (extends DeusExWeapon)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var localized String shortName;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">ShortName="Laser"<br>LowAmmoWaterMark=2<br>GoverningSkill=Class'DeusEx.SkillDemolition'<br>Concealability=CONC_All<br>ShotTime=0.300000<br>reloadTime=0.100000<br>HitDamage=50<br>maxRange=4800<br>AccurateRange=2400<br>BaseAccuracy=1.000000<br>bHasMuzzleFlash=False<br>bHandToHand=True<br>bUseAsDrawnWeapon=False<br>bNeedToSetMPPickupAmmo=False<br>mpReloadTime=0.100000<br>mpHitDamage=50<br>mpBaseAccuracy=1.000000<br>mpAccurateRange=2400<br>mpMaxRange=2400<br>mpPickupAmmoCount=6<br>AmmoName=Class'PartyStuff.AmmoClaymore'<br>ReloadCount=1<br>PickupAmmoCount=6<br>FireOffset=(Y=10.000000,Z=20.000000)<br>ProjectileClass=Class'PartyStuff.ClaymoreProj'<br>shakemag=50.000000<br>SelectSound=Sound'DeusExSounds.Weapons.LAMSelect'<br>InventoryGroup=77<br>ItemName="Claymore Laser Mine"<br>PlayerViewOffset=(X=24.000000,Y=-15.000000,Z=-17.000000)<br>PlayerViewMesh=LodMesh'DeusExItems.LAM'<br>PickupViewMesh=LodMesh'DeusExItems.LAMPickup'<br>ThirdPersonMesh=LodMesh'DeusExItems.LAM3rd'<br>Icon=Texture'DeusExUI.Icons.BeltIconLAM'<br>largeIcon=Texture'DeusExUI.Icons.LargeIconLAM'<br>largeIconWidth=35<br>largeIconHeight=45<br>Description="Places a deadly laser wire that will instantly kill anything that touches it"<br>beltDescription="CLAY"<br>Mesh=LodMesh'DeusExItems.LAMPickup'<br>CollisionRadius=3.800000<br>CollisionHeight=3.500000<br>Mass=5.000000<br>Buoyancy=2.000000</div>
<h3 id="WeaponClaymore.BecomePickup"><a class="headerlink" href="#WeaponClaymore.BecomePickup" title="Permanent link">BecomePickup</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.BecomePickup();<br>   if (Level.NetMode != NM_Standalone)<br>      if (bTossedOut)<br>         Lifespan = 0.0;<br><br></div>
<h3 id="WeaponClaymore.Fire"><a class="headerlink" href="#WeaponClaymore.Fire" title="Permanent link">Fire</a> (float Value)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;// if facing a wall, affix the LAM to the wall<br>&#9;if (Pawn(Owner) != None)<br>&#9;{<br>&#9;&#9;if (!NearWallCheck())<br>&#9;&#9;{<br>&#9;&#9;&#9;DeusExPlayer(Owner).bJustFired = False;<br>&#9;&#9;&#9;bReadyToFire = True;<br>&#9;&#9;&#9;bPointing = False;<br>&#9;&#9;&#9;bFiring = False;<br>&#9;&#9;&#9;GotoState('Idle');<br>&#9;&#9;&#9;DeusExPlayer(Owner).ConsoleCommand("ThrowWeapon");<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;{<br>&#9;&#9;&#9;bReadyToFire = False;<br>&#9;&#9;&#9;GotoState('NormalFire');<br>&#9;&#9;&#9;bPointing = True;<br>&#9;&#9;&#9;PlayAnim('Place',, 0.0);<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="WeaponClaymore.PostBeginPlay"><a class="headerlink" href="#WeaponClaymore.PostBeginPlay" title="Permanent link">PostBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   Super.PostBeginPlay();<br>   bWeaponStay=False;<br><br></div>
<h3 id="WeaponClaymore.PreBeginPlay"><a class="headerlink" href="#WeaponClaymore.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;// If this is a netgame, then override defaults<br>&#9;if ( Level.NetMode != NM_StandAlone )<br>&#9;{<br>&#9;&#9;HitDamage = mpHitDamage;<br>&#9;&#9;BaseAccuracy = mpBaseAccuracy;<br>&#9;&#9;ReloadTime = mpReloadTime;<br>&#9;&#9;AccurateRange = mpAccurateRange;<br>&#9;&#9;MaxRange = mpMaxRange;<br>&#9;}<br><br></div>
<h3 id="WeaponClaymore.TestMPBeltSpot"><a class="headerlink" href="#WeaponClaymore.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WeaponCombatKnife2.uc" title="Permanent link"><h2 id="WeaponCombatKnife2.uc">WeaponCombatKnife2.uc (extends DeusExWeapon)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">Var EModeNum Mode;<br>var DeusExPlayer DXPl;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">LowAmmoWaterMark=0<br>GoverningSkill=Class'DeusEx.SkillWeaponLowTech'<br>NoiseLevel=0.050000<br>EnemyEffective=ENMEFF_Organic<br>Concealability=CONC_Visual<br>reloadTime=0.000000<br>HitDamage=5<br>maxRange=80<br>AccurateRange=80<br>BaseAccuracy=1.000000<br>bHasMuzzleFlash=False<br>bHandToHand=True<br>bFallbackWeapon=True<br>mpHitDamage=20<br>mpBaseAccuracy=1.000000<br>mpAccurateRange=96<br>mpMaxRange=96<br>AmmoName=Class'DeusEx.AmmoNone'<br>ReloadCount=0<br>bInstantHit=True<br>FireOffset=(X=-5.000000,Y=8.000000,Z=14.000000)<br>shakemag=20.000000<br>FireSound=Sound'DeusExSounds.Weapons.CombatKnifeFire'<br>SelectSound=Sound'DeusExSounds.Weapons.CombatKnifeSelect'<br>Misc1Sound=Sound'DeusExSounds.Weapons.CombatKnifeHitFlesh'<br>Misc2Sound=Sound'DeusExSounds.Weapons.CombatKnifeHitHard'<br>Misc3Sound=Sound'DeusExSounds.Weapons.CombatKnifeHitSoft'<br>InventoryGroup=11<br>ItemName="Combat Knife"<br>PlayerViewOffset=(X=5.000000,Y=-8.000000,Z=-14.000000)<br>PlayerViewMesh=LodMesh'DeusExItems.CombatKnife'<br>PickupViewMesh=LodMesh'DeusExItems.CombatKnifePickup'<br>ThirdPersonMesh=LodMesh'DeusExItems.CombatKnife3rd'<br>Icon=Texture'DeusExUI.Icons.BeltIconCombatKnife'<br>largeIcon=Texture'DeusExUI.Icons.LargeIconCombatKnife'<br>largeIconWidth=49<br>largeIconHeight=45<br>Description="An ultra-high carbon stainless steel knife."<br>beltDescription="KNIFE"<br>Mesh=LodMesh'DeusExItems.CombatKnifePickup'<br>CollisionRadius=12.650000<br>CollisionHeight=0.800000</div>
<h3 id="WeaponCombatKnife2.Fire"><a class="headerlink" href="#WeaponCombatKnife2.Fire" title="Permanent link">Fire</a> (Float value)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local ThrownCombatKnife S;<br><br>&#9;DXPL=DeusExPlayer(Owner);<br>&#9;If(Mode==Mode_Throw)<br>&#9;{<br>&#9;&#9;S=Spawn(class'ThrownCombatKnife',Pawn(Owner),,Location+vect(0,0,-2),DXPL.ViewRotation);<br>&#9;&#9;if(S!=None)<br>&#9;&#9;{<br>&#9;&#9;&#9;S.SetOwner(DXPL);<br>&#9;&#9;&#9;S.Lifespan=15;<br>&#9;&#9;}<br>&#9;&#9;Destroy();<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;Super.Fire(Value);<br>&#9;}<br><br></div>
<h3 id="WeaponCombatKnife2.PreBeginPlay"><a class="headerlink" href="#WeaponCombatKnife2.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;// If this is a netgame, then override defaults<br>&#9;if ( Level.NetMode != NM_StandAlone )<br>&#9;{<br>&#9;&#9;HitDamage = mpHitDamage;<br>&#9;&#9;BaseAccuracy = mpBaseAccuracy;<br>&#9;&#9;ReloadTime = mpReloadTime;<br>&#9;&#9;AccurateRange = mpAccurateRange;<br>&#9;&#9;MaxRange = mpMaxRange;<br>&#9;}<br><br></div>
<h3 id="WeaponCombatKnife2.cycleammo"><a class="headerlink" href="#WeaponCombatKnife2.cycleammo" title="Permanent link">cycleammo</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;switch Mode<br>&#9;&#9;{<br>&#9;&#9;case MODE_Normal:<br>&#9;&#9;&#9;Mode = MODE_Throw;<br>&#9;&#9;&#9;if (Role == ROLE_Authority)<br>&#9;&#9;&#9;Pawn(Owner).Clientmessage("Throwing mode");<br>&#9;&#9;&#9;break;<br><br>&#9;&#9;case MODE_Throw:<br>&#9;&#9;&#9;Mode = MODE_Normal;<br>&#9;&#9;&#9;if (Role == ROLE_Authority)<br>&#9;&#9;&#9;Pawn(Owner).Clientmessage("Normal mode");<br>&#9;&#9;&#9;break;<br>&#9;&#9;&#9;<br>&#9;&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WeaponCoyote.uc" title="Permanent link"><h2 id="WeaponCoyote.uc">WeaponCoyote.uc (extends DeusExWeapon)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">LowAmmoWaterMark=4<br>GoverningSkill=Class'DeusEx.SkillWeaponRifle'<br>EnviroEffective=ENVEFF_Air<br>Concealability=CONC_Visual<br>ShotTime=0.300000<br>reloadTime=5.000000<br>HitDamage=30<br>maxRange=2400<br>AccurateRange=1200<br>BaseAccuracy=0.600000<br>AmmoNames(0)=Class'DeusEx.AmmoShell'<br>AmmoNames(1)=Class'DeusEx.AmmoSabot'<br>AreaOfEffect=AOE_Cone<br>recoilStrength=0.500000<br>mpReloadTime=0.500000<br>mpHitDamage=30<br>mpBaseAccuracy=0.200000<br>mpAccurateRange=1200<br>mpMaxRange=1200<br>mpReloadCount=3<br>mpPickupAmmoCount=12<br>bCanHaveModReloadCount=True<br>bCanHaveModReloadTime=True<br>bCanHaveModRecoilStrength=True<br>AmmoName=Class'DeusEx.AmmoShell'<br>ReloadCount=3<br>PickupAmmoCount=12<br>bInstantHit=True<br>FireOffset=(X=-11.000000,Y=4.000000,Z=13.000000)<br>shakemag=50.000000<br>FireSound=Sound'DeusExSounds.Weapons.SawedOffShotgunFire'<br>AltFireSound=Sound'DeusExSounds.Weapons.SawedOffShotgunReloadEnd'<br>CockingSound=Sound'DeusExSounds.Weapons.SawedOffShotgunReload'<br>SelectSound=Sound'DeusExSounds.Weapons.SawedOffShotgunSelect'<br>InventoryGroup=6<br>ItemName="Coyote M17F"<br>ItemArticle="the"<br>PlayerViewOffset=(X=11.000000,Y=-4.000000,Z=-13.000000)<br>PlayerViewMesh=LodMesh'DeusExItems.Shotgun'<br>PickupViewMesh=LodMesh'DeusExItems.ShotgunPickup'<br>ThirdPersonMesh=LodMesh'DeusExItems.Shotgun3rd'<br>LandSound=Sound'DeusExSounds.Generic.DropMediumWeapon'<br>Icon=Texture'DeusExUI.Icons.BeltIconShotgun'<br>largeIcon=Texture'DeusExUI.Icons.LargeIconShotgun'<br>largeIconWidth=131<br>largeIconHeight=45<br>invSlotsX=3<br>Description="The sawed-off, pump-action shotgun features a truncated barrel resulting in a wide spread at close range and will accept either buckshot or sabot shells."<br>beltDescription="COYOTE"<br>Mesh=LodMesh'DeusExItems.ShotgunPickup'<br>CollisionRadius=12.000000<br>CollisionHeight=0.900000<br>Mass=15.000000</div>
<h3 id="WeaponCoyote.PreBeginPlay"><a class="headerlink" href="#WeaponCoyote.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;// If this is a netgame, then override defaults<br>&#9;if ( Level.NetMode != NM_StandAlone )<br>&#9;{<br>&#9;&#9;HitDamage = mpHitDamage;<br>&#9;&#9;BaseAccuracy = mpBaseAccuracy;<br>&#9;&#9;ReloadTime = mpReloadTime;<br>&#9;&#9;AccurateRange = mpAccurateRange;<br>&#9;&#9;MaxRange = mpMaxRange;<br>&#9;&#9;ReloadCount = mpReloadCount;<br>      PickupAmmoCount = 12; //to match assaultshotgun<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WeaponCrowbar2.uc" title="Permanent link"><h2 id="WeaponCrowbar2.uc">WeaponCrowbar2.uc (extends DeusExWeapon)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">Var EModeNum Mode;<br>var DeusExPlayer DXPl;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">LowAmmoWaterMark=0<br>GoverningSkill=Class'DeusEx.SkillWeaponLowTech'<br>NoiseLevel=0.050000<br>reloadTime=0.000000<br>HitDamage=6<br>maxRange=80<br>AccurateRange=80<br>BaseAccuracy=1.000000<br>bPenetrating=False<br>bHasMuzzleFlash=False<br>bHandToHand=True<br>bFallbackWeapon=True<br>bEmitWeaponDrawn=False<br>mpHitDamage=12<br>mpBaseAccuracy=1.000000<br>mpAccurateRange=96<br>mpMaxRange=96<br>AmmoName=Class'DeusEx.AmmoNone'<br>ReloadCount=0<br>bInstantHit=True<br>FireOffset=(X=-40.000000,Y=15.000000,Z=8.000000)<br>shakemag=20.000000<br>FireSound=Sound'DeusExSounds.Weapons.CrowbarFire'<br>SelectSound=Sound'DeusExSounds.Weapons.CrowbarSelect'<br>Misc1Sound=Sound'DeusExSounds.Weapons.CrowbarHitFlesh'<br>Misc2Sound=Sound'DeusExSounds.Weapons.CrowbarHitHard'<br>Misc3Sound=Sound'DeusExSounds.Weapons.CrowbarHitSoft'<br>InventoryGroup=10<br>ItemName="Crowbar"<br>PlayerViewOffset=(X=40.000000,Y=-15.000000,Z=-8.000000)<br>PlayerViewMesh=LodMesh'DeusExItems.Crowbar'<br>PickupViewMesh=LodMesh'DeusExItems.CrowbarPickup'<br>ThirdPersonMesh=LodMesh'DeusExItems.Crowbar3rd'<br>LandSound=Sound'DeusExSounds.Generic.DropMediumWeapon'<br>Icon=Texture'DeusExUI.Icons.BeltIconCrowbar'<br>largeIcon=Texture'DeusExUI.Icons.LargeIconCrowbar'<br>largeIconWidth=101<br>largeIconHeight=43<br>invSlotsX=2<br>Description="A crowbar. Hit someone or something with it. Repeat.|n|n<UNATCO OPS FILE NOTE GH010-BLUE> Many crowbars we call 'murder of crowbars.'  Always have one for kombat. Ha. -- Gunther Hermann <END NOTE>"<br>beltDescription="CROWBAR"<br>Mesh=LodMesh'DeusExItems.CrowbarPickup'<br>CollisionRadius=19.000000<br>CollisionHeight=1.050000<br>Mass=15.000000</div>
<h3 id="WeaponCrowbar2.Fire"><a class="headerlink" href="#WeaponCrowbar2.Fire" title="Permanent link">Fire</a> (Float value)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local ThrownCrowbar S;<br><br>&#9;DXPL=DeusExPlayer(Owner);<br>&#9;If(Mode==Mode_Throw)<br>&#9;{<br>&#9;&#9;S=Spawn(class'ThrownCrowbar',Pawn(Owner),,Location+vect(0,0,-2),DXPL.ViewRotation);<br>&#9;&#9;if(S!=None)<br>&#9;&#9;{<br>&#9;&#9;&#9;S.SetOwner(DXPL);<br>&#9;&#9;&#9;S.Lifespan=15;<br>&#9;&#9;}<br>&#9;&#9;Destroy();<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;Super.Fire(Value);<br>&#9;}<br><br></div>
<h3 id="WeaponCrowbar2.PreBeginPlay"><a class="headerlink" href="#WeaponCrowbar2.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;// If this is a netgame, then override defaults<br>&#9;if ( Level.NetMode != NM_StandAlone )<br>&#9;{<br>&#9;&#9;HitDamage = mpHitDamage;<br>&#9;&#9;BaseAccuracy = mpBaseAccuracy;<br>&#9;&#9;ReloadTime = mpReloadTime;<br>&#9;&#9;AccurateRange = mpAccurateRange;<br>&#9;&#9;MaxRange = mpMaxRange;<br>&#9;}<br><br></div>
<h3 id="WeaponCrowbar2.cycleammo"><a class="headerlink" href="#WeaponCrowbar2.cycleammo" title="Permanent link">cycleammo</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;switch Mode<br>&#9;&#9;{<br>&#9;&#9;case MODE_Normal:<br>&#9;&#9;&#9;Mode = MODE_Throw;<br>&#9;&#9;&#9;if (Role == ROLE_Authority)<br>&#9;&#9;&#9;Pawn(Owner).Clientmessage("Throwing mode");<br>&#9;&#9;&#9;break;<br><br>&#9;&#9;case MODE_Throw:<br>&#9;&#9;&#9;Mode = MODE_Normal;<br>&#9;&#9;&#9;if (Role == ROLE_Authority)<br>&#9;&#9;&#9;Pawn(Owner).Clientmessage("Normal mode");<br>&#9;&#9;&#9;break;<br>&#9;&#9;&#9;<br>&#9;&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WeaponDRR.uc" title="Permanent link"><h2 id="WeaponDRR.uc">WeaponDRR.uc (extends WeaponAssaultGun)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">AmmoNames(0)=None<br>AmmoNames(1)=None<br>ProjectileNames(1)=None<br>bInstantHit=False<br>ProjectileClass=Class'PartyStuff.RocketDrone'<br>InventoryGroup=116<br>ItemName="Automatic Drone Rocket Rifle"<br>beltDescription="DRR"<br>Mass=1.000000</div>
<h3 id="WeaponDRR.TestMPBeltSpot"><a class="headerlink" href="#WeaponDRR.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WeaponDePressurizer.uc" title="Permanent link"><h2 id="WeaponDePressurizer.uc">WeaponDePressurizer.uc (extends DeusExWeapon)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">LowAmmoWaterMark=12<br>GoverningSkill=Class'DeusEx.SkillWeaponHeavy'<br>reloadTime=2.000000<br>HitDamage=35<br>maxRange=24000<br>AccurateRange=14400<br>BaseAccuracy=0.600000<br>bCanHaveScope=True<br>bHasScope=True<br>ScopeFOV=20<br>bCanHaveLaser=True<br>bHasLaser=True<br>AreaOfEffect=AOE_Cone<br>bPenetrating=False<br>recoilStrength=0.300000<br>mpReloadTime=0.200000<br>mpHitDamage=50<br>mpBaseAccuracy=1.500000<br>mpAccurateRange=9000<br>mpMaxRange=10000<br>bCanHaveModBaseAccuracy=True<br>bCanHaveModReloadCount=True<br>bCanHaveModAccurateRange=True<br>bCanHaveModReloadTime=True<br>bCanHaveModRecoilStrength=True<br>ReloadCount=0<br>ProjectileClass=Class'PartyStuff.PBeam'<br>shakemag=50.000000<br>FireSound=Sound'DeusExSounds.Weapons.PlasmaRifleFire'<br>AltFireSound=Sound'DeusExSounds.Weapons.PlasmaRifleReloadEnd'<br>CockingSound=Sound'DeusExSounds.Weapons.PlasmaRifleReload'<br>SelectSound=Sound'DeusExSounds.Weapons.PlasmaRifleSelect'<br>InventoryGroup=8<br>ItemName="De-Pressurizer"<br>PlayerViewOffset=(X=18.000000,Z=-7.000000)<br>PlayerViewMesh=LodMesh'DeusExItems.PlasmaRifle'<br>PickupViewMesh=LodMesh'DeusExItems.PlasmaRiflePickup'<br>ThirdPersonMesh=LodMesh'DeusExItems.PlasmaRifle3rd'<br>LandSound=Sound'DeusExSounds.Generic.DropLargeWeapon'<br>Icon=Texture'DeusExUI.Icons.BeltIconPlasmaRifle'<br>largeIcon=Texture'DeusExUI.Icons.LargeIconPlasmaRifle'<br>largeIconWidth=203<br>largeIconHeight=66<br>invSlotsX=4<br>invSlotsY=2<br>Description="A weapon made with TOP-SECRET technology from labs."<br>beltDescription="DPGUN"<br>Mesh=LodMesh'DeusExItems.PlasmaRiflePickup'<br>CollisionRadius=15.600000<br>CollisionHeight=5.200000<br>Mass=1.000000</div>
<h3 id="WeaponDePressurizer.PreBeginPlay"><a class="headerlink" href="#WeaponDePressurizer.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;// If this is a netgame, then override defaults<br>&#9;if ( Level.NetMode != NM_StandAlone )<br>&#9;{<br>&#9;&#9;HitDamage = mpHitDamage;<br>&#9;&#9;BaseAccuracy = mpBaseAccuracy;<br>&#9;&#9;ReloadTime = mpReloadTime;<br>&#9;&#9;AccurateRange = mpAccurateRange;<br>&#9;&#9;MaxRange = mpMaxRange;<br>&#9;&#9;ReloadCount = mpReloadCount;<br>&#9;}<br><br></div>
<h3 id="WeaponDePressurizer.TestMPBeltSpot"><a class="headerlink" href="#WeaponDePressurizer.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WeaponDildo.uc" title="Permanent link"><h2 id="WeaponDildo.uc">WeaponDildo.uc (extends WeaponBaton)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var Name WeaponDamageType;<br>var bool bHard;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">WeaponDamageType=exploded<br>mpHitDamage=25<br>mpBaseAccuracy=1.000000<br>mpAccurateRange=150<br>mpMaxRange=150<br>InventoryGroup=141<br>ItemName="Dildo"<br>Description="A strange, ancient triad weapon. You would be hard pressed finding out anything else about it."<br>beltDescription="DILDO"<br>Skin=Texture'PGAssets.Skins.DildoTex1'<br>Fatness=180<br>MultiSkins(0)=Texture'PGAssets.Skins.DildoTex1'<br>Mass=20.000000</div>
<h3 id="WeaponDildo.DropFrom"><a class="headerlink" href="#WeaponDildo.DropFrom" title="Permanent link">DropFrom</a> (vector StartLocation)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(bHard)<br>&#9;{<br>&#9;&#9;DeusExPlayer(Owner).ClientMessage("Your hand has gripped the dildo too hard.");<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;super.DropFrom(startLocation);<br>&#9;}<br><br></div>
<h3 id="WeaponDildo.ScopeToggle"><a class="headerlink" href="#WeaponDildo.ScopeToggle" title="Permanent link">ScopeToggle</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(!bHard)<br>&#9;{<br>&#9;&#9;mpHitDamage=100;<br>&#9;&#9;mpMaxRange=300;<br>&#9;&#9;HitDamage=100;<br>&#9;&#9;MaxRange=300;<br>&#9;&#9;DeusExPlayer(Owner).ClientMessage("Dildo hardened.");<br>&#9;&#9;bHard=True;<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;mpHitDamage=25;<br>&#9;&#9;HitDamage=25;<br>&#9;&#9;MaxRange=150;<br>&#9;&#9;mpMaxRange=150;<br>&#9;&#9;bHard=False;<br>&#9;&#9;DeusExPlayer(Owner).ClientMessage("Dildo went soft.");<br>&#9;}<br><br></div>
<h3 id="WeaponDildo.Timer"><a class="headerlink" href="#WeaponDildo.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;mpHitDamage=25;<br>&#9;&#9;mpMaxRange=150;<br>&#9;&#9;bHard=False;<br>&#9;&#9;DeusExPlayer(Owner).ClientMessage("Dildo went soft.");<br>&#9;&#9;<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WeaponDisarmer.uc" title="Permanent link"><h2 id="WeaponDisarmer.uc">WeaponDisarmer.uc (extends WeaponPistol)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">ShotTime=0.100000<br>HitDamage=5<br>BaseAccuracy=0.000000<br>ReloadCount=0<br>PickupAmmoCount=0<br>FireSound=Sound'DeusExSounds.Generic.Beep1'<br>InventoryGroup=117<br>ItemName="Arrester gun"<br>ItemArticle="the"<br>Description="A Pistol that charges up it's projectile and that projectile can disarm any person immediately."<br>beltDescription="PP"</div>
<h3 id="WeaponDisarmer.PreBeginPlay"><a class="headerlink" href="#WeaponDisarmer.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>    return;<br><br></div>
<h3 id="WeaponDisarmer.ProcessTraceHit"><a class="headerlink" href="#WeaponDisarmer.ProcessTraceHit" title="Permanent link">ProcessTraceHit</a> (Actor Other, Vector HitLocation, Vector HitNormal, Vector X, Vector Y, Vector Z)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExWeapon W;<br>&#9;local JailPoint JP;<br>&#9;local bool bFoundJail;<br>&#9;local int Jails;<br>&#9;local int Decider;<br><br>&#9;super.ProcessTraceHit(Other,HitLocation,HitNormal,X,Y,Z);<br>    if(Other.IsA('Pawn'))<br>    {<br>&#9;&#9;&#9;&#9;&#9;<br><br>&#9;    foreach allactors(class'DeusExWeapon',W)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(W.Owner == Other)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;W.Destroy();<br>&#9;&#9;&#9;}<br>&#9;&#9;}&#9;<br><br>    }<br><br></div>
<h3 id="WeaponDisarmer.TestMPBeltSpot"><a class="headerlink" href="#WeaponDisarmer.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WeaponDragonsClaw.uc" title="Permanent link"><h2 id="WeaponDragonsClaw.uc">WeaponDragonsClaw.uc (extends WeaponNanoSword)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var Name WeaponDamageType;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">mpHitDamage=5<br>InventoryGroup=109<br>ItemName="Dragon's Claw"<br>Description="A strange, ancient triad weapon. You would be hard pressed finding out anything else about it."<br>MultiSkins(1)=FireTexture'Effects.Fire.flmethrwr_fire'<br>MultiSkins(2)=FireTexture'Effects.Fire.flmethrwr_fire'<br>MultiSkins(4)=FireTexture'Effects.Fire.flmethrwr_fire'<br>MultiSkins(5)=FireTexture'Effects.Fire.flmethrwr_fire'<br>MultiSkins(6)=FireTexture'Effects.Fire.flmethrwr_fire'<br>LightHue=40</div>
<h3 id="WeaponDragonsClaw.BeginState"><a class="headerlink" href="#WeaponDragonsClaw.BeginState" title="Permanent link">BeginState</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;Super.BeginState();<br>&#9;&#9;LightType = LT_Steady;<br>&#9;<br></div>
<h3 id="WeaponDragonsClaw.EndState"><a class="headerlink" href="#WeaponDragonsClaw.EndState" title="Permanent link">EndState</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;Super.EndState();<br>&#9;&#9;LightType = LT_None;<br><br>&#9;<br></div>
<h3 id="WeaponDragonsClaw.ProcessTraceHit"><a class="headerlink" href="#WeaponDragonsClaw.ProcessTraceHit" title="Permanent link">ProcessTraceHit</a> (Actor Other, Vector HitLocation, Vector HitNormal, Vector X, Vector Y, Vector Z)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local float        mult;<br>&#9;local name         damageType;<br>&#9;local DeusExPlayer dxPlayer;<br><br><br>&#9;if (Other != None)<br>&#9;{<br>&#9;&#9;// AugCombat increases our damage if hand to hand<br>&#9;&#9;mult = 1.0;<br>&#9;&#9;if (bHandToHand && (DeusExPlayer(Owner) != None))<br>&#9;&#9;{<br>&#9;&#9;&#9;mult = DeusExPlayer(Owner).AugmentationSystem.GetAugLevelValue(class'AugCombat');<br>&#9;&#9;&#9;if (mult == -1.0)<br>&#9;&#9;&#9;&#9;mult = 1.0;<br>&#9;&#9;}<br><br>&#9;&#9;// skill also affects our damage<br>&#9;&#9;// GetWeaponSkill returns 0.0 to -0.7 (max skill/aug)<br>&#9;&#9;mult += -2.0 * GetWeaponSkill();<br><br>&#9;&#9;// Determine damage type<br>&#9;&#9;damageType = WeaponDamageType;<br><br>&#9;&#9;if (Other != None)<br>&#9;&#9;{<br>&#9;&#9;&#9;if (Other.bOwned)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;dxPlayer = DeusExPlayer(Owner);<br>&#9;&#9;&#9;&#9;if (dxPlayer != None)<br>&#9;&#9;&#9;&#9;&#9;dxPlayer.AISendEvent('Futz', EAITYPE_Visual);<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;if ((Other == Level) || (Other.IsA('Mover')))<br>&#9;&#9;{<br>&#9;&#9;&#9;if ( Role == ROLE_Authority )<br>&#9;&#9;&#9;&#9;Other.TakeDamage(HitDamage * mult, Pawn(Owner), HitLocation, 1000.0*X, damageType);<br><br>&#9;&#9;&#9;SelectiveSpawnEffects( HitLocation, HitNormal, Other, HitDamage * mult);<br>&#9;&#9;}<br>&#9;&#9;else if ((Other != self) && (Other != Owner))<br>&#9;&#9;{<br>&#9;&#9;&#9;if ( Role == ROLE_Authority )<br>&#9;&#9;&#9;&#9;Other.TakeDamage(HitDamage * mult, Pawn(Owner), HitLocation, 1000.0*X, damageType);<br>&#9;&#9;&#9;if (bHandToHand)<br>&#9;&#9;&#9;&#9;SelectiveSpawnEffects( HitLocation, HitNormal, Other, HitDamage * mult);<br><br>&#9;&#9;&#9;if (bPenetrating && Other.IsA('Pawn') && !Other.IsA('Robot'))<br>&#9;&#9;&#9;&#9;SpawnBlood(HitLocation, HitNormal);<br>&#9;&#9;}<br>&#9;}<br>   if (DeusExMPGame(Level.Game) != None)<br>   {<br>      if (DeusExPlayer(Other) != None)<br>         DeusExMPGame(Level.Game).TrackWeapon(self,HitDamage * mult);<br>      else<br>         DeusExMPGame(Level.Game).TrackWeapon(self,0);<br>   }<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WeaponDroneGrenade.uc" title="Permanent link"><h2 id="WeaponDroneGrenade.uc">WeaponDroneGrenade.uc (extends WeaponEMPGrenade)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">AmmoName=Class'PartyStuff.AmmoDG'<br>ProjectileClass=Class'PartyStuff.DroneGrenade'<br>InventoryGroup=35<br>ItemName="Drone Grenade"<br>ItemArticle="a"<br>Description="A Droner.."<br>beltDescription="DRONE"<br>MultiSkins(4)=Texture'DeusExDeco.Skins.AlarmLightTex3'</div>
<h3 id="WeaponDroneGrenade.BecomePickup"><a class="headerlink" href="#WeaponDroneGrenade.BecomePickup" title="Permanent link">BecomePickup</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.BecomePickup();<br>   if (Level.NetMode != NM_Standalone)<br>      if (bTossedOut)<br>         Lifespan = 0.0;<br><br></div>
<h3 id="WeaponDroneGrenade.Fire"><a class="headerlink" href="#WeaponDroneGrenade.Fire" title="Permanent link">Fire</a> (float Value)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if (Pawn(Owner) != None)<br>&#9;{<br>&#9;&#9;if (bNearWall)<br>&#9;&#9;{<br>&#9;&#9;&#9;bReadyToFire = False;<br>&#9;&#9;&#9;GotoState('NormalFire');<br>&#9;&#9;&#9;bPointing = True;<br>&#9;&#9;&#9;PlayAnim('Place',, 0.1);<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br>&#9;Super.Fire(Value);<br><br></div>
<h3 id="WeaponDroneGrenade.PostBeginPlay"><a class="headerlink" href="#WeaponDroneGrenade.PostBeginPlay" title="Permanent link">PostBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   Super.PostBeginPlay();<br>   bWeaponStay=False;<br><br></div>
<h3 id="WeaponDroneGrenade.ProjectileFire"><a class="headerlink" href="#WeaponDroneGrenade.ProjectileFire" title="Permanent link">ProjectileFire</a> (class<projectile> ProjClass, float ProjSpeed, bool bWarn) -> Projectile</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Projectile proj;<br><br><br>&#9;proj = Super.ProjectileFire(ProjClass, ProjSpeed, bWarn);<br><br>&#9;if (proj != None)<br>&#9;&#9;proj.PlayAnim('Open');<br><br></div>
<h3 id="WeaponDroneGrenade.TestMPBeltSpot"><a class="headerlink" href="#WeaponDroneGrenade.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return (BeltSpot == 4);<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WeaponEnergyAssault.uc" title="Permanent link"><h2 id="WeaponEnergyAssault.uc">WeaponEnergyAssault.uc (extends WeaponAssaultGun)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">HitDamage=8<br>bInstantHit=False<br>ProjectileClass=Class'PartyStuff.BB'<br>InventoryGroup=255<br>ItemName="|P5Charged Energy Rifle"<br>beltDescription="ENERGY"<br>Mass=1.000000</div>
<h3 id="WeaponEnergyAssault.TestMPBeltSpot"><a class="headerlink" href="#WeaponEnergyAssault.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WeaponFRK1.uc" title="Permanent link"><h2 id="WeaponFRK1.uc">WeaponFRK1.uc (extends WeaponNPCMelee)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">ShotTime=0.100000<br>HitDamage=15<br>maxRange=120<br>AccurateRange=120<br>BaseAccuracy=0.000000<br>bFallbackWeapon=True<br>ProjectileClass=Class'DeusEx.Rocket'<br>Misc1Sound=Sound'DeusExSounds.Animal.KarkianAttack'<br>Misc2Sound=Sound'DeusExSounds.Animal.KarkianAttack'<br>Misc3Sound=Sound'DeusExSounds.Animal.KarkianAttack'</div>
<br><br><hr>
<a class="headerlink" href="#WeaponFRK2.uc" title="Permanent link"><h2 id="WeaponFRK2.uc">WeaponFRK2.uc (extends WeaponNPCRanged)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">ShotTime=0.100000<br>HitDamage=15<br>maxRange=80<br>AccurateRange=80<br>BaseAccuracy=0.000000<br>AITimeLimit=10.000000<br>AIFireDelay=8.000000<br>ProjectileClass=Class'DeusEx.RocketWP'<br>Misc1Sound=Sound'DeusExSounds.Animal.KarkianAttack'<br>Misc2Sound=Sound'DeusExSounds.Animal.KarkianAttack'<br>Misc3Sound=Sound'DeusExSounds.Animal.KarkianAttack'</div>
<br><br><hr>
<a class="headerlink" href="#WeaponFatten.uc" title="Permanent link"><h2 id="WeaponFatten.uc">WeaponFatten.uc (extends DeusExWeapon)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">GoverningSkill=Class'DeusEx.SkillWeaponPistol'<br>NoiseLevel=0.010000<br>ShotTime=0.150000<br>reloadTime=1.500000<br>HitDamage=0<br>maxRange=4800<br>AccurateRange=2400<br>BaseAccuracy=0.800000<br>bCanHaveScope=True<br>ScopeFOV=25<br>bCanHaveLaser=True<br>recoilStrength=0.100000<br>mpReloadTime=1.500000<br>mpBaseAccuracy=0.200000<br>mpAccurateRange=1200<br>mpMaxRange=1200<br>mpReloadCount=12<br>bCanHaveModBaseAccuracy=True<br>bCanHaveModReloadCount=True<br>bCanHaveModAccurateRange=True<br>bCanHaveModReloadTime=True<br>AmmoName=Class'DeusEx.Ammo10mm'<br>PickupAmmoCount=10<br>bInstantHit=True<br>FireOffset=(X=-24.000000,Y=10.000000,Z=14.000000)<br>shakemag=50.000000<br>FireSound=Sound'DeusExSounds.Weapons.StealthPistolFire'<br>AltFireSound=Sound'DeusExSounds.Weapons.StealthPistolReloadEnd'<br>CockingSound=Sound'DeusExSounds.Weapons.StealthPistolReload'<br>SelectSound=Sound'DeusExSounds.Weapons.StealthPistolSelect'<br>InventoryGroup=128<br>ItemName="Fatness Gun"<br>PlayerViewOffset=(X=24.000000,Y=-10.000000,Z=-14.000000)<br>PlayerViewMesh=LodMesh'DeusExItems.StealthPistol'<br>PickupViewMesh=LodMesh'DeusExItems.StealthPistolPickup'<br>ThirdPersonMesh=LodMesh'DeusExItems.StealthPistol3rd'<br>Icon=Texture'DeusExUI.Icons.BeltIconStealthPistol'<br>largeIcon=Texture'DeusExUI.Icons.LargeIconStealthPistol'<br>largeIconWidth=47<br>largeIconHeight=37<br>Description="The stealth pistol is a variant of the standard 10mm pistol with a larger clip and integrated silencer designed for wet work at very close ranges."<br>beltDescription="FAT"<br>Mesh=LodMesh'DeusExItems.StealthPistolPickup'<br>CollisionRadius=8.000000<br>CollisionHeight=0.800000</div>
<h3 id="WeaponFatten.GetDisplayString"><a class="headerlink" href="#WeaponFatten.GetDisplayString" title="Permanent link">GetDisplayString</a> (Actor P) -> string</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(P.isA('DeusExPlayer'))<br>&#9;&#9;return DeusExPlayer(p).PlayerReplicationInfo.PlayerName;<br>&#9;else if(P.isA('ScriptedPawn'))<br>&#9;&#9;return ScriptedPawn(P).FamiliarName;<br>&#9;else if(P.isA('DeusExDecoration'))<br>&#9;&#9;return DeusExDecoration(P).ItemName;<br><br></div>
<h3 id="WeaponFatten.PreBeginPlay"><a class="headerlink" href="#WeaponFatten.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;// If this is a netgame, then override defaults<br>&#9;if ( Level.NetMode != NM_StandAlone )<br>&#9;{<br>&#9;&#9;HitDamage = mpHitDamage;<br>&#9;&#9;BaseAccuracy = mpBaseAccuracy;<br>&#9;&#9;ReloadTime = mpReloadTime;<br>&#9;&#9;AccurateRange = mpAccurateRange;<br>&#9;&#9;MaxRange = mpMaxRange;<br>&#9;&#9;ReloadCount = mpReloadCount;<br>&#9;}<br><br></div>
<h3 id="WeaponFatten.ProcessTraceHit"><a class="headerlink" href="#WeaponFatten.ProcessTraceHit" title="Permanent link">ProcessTraceHit</a> (Actor Other, Vector HitLocation, Vector HitNormal, Vector X, Vector Y, Vector Z)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local float        mult;<br>&#9;local name         damageType;<br>&#9;local DeusExPlayer dxPlayer;<br>&#9;local Pawn P;<br>&#9;local PSFattener PSF;<br><br>&#9;<br>&#9;if( Other.isA('Decoration') || Other.isA('Pawn') )<br>&#9;{<br>&#9;&#9;foreach AllActors(class'PSFattener',PSF)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(PSF.Fattener == Pawn(Other))<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;DeusExPlayer(Owner).ClientMessage("Fattener already attached.");<br>&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(DeusExPlayer(Other).ReducedDamageType == 'All')<br>&#9;&#9;{<br>&#9;&#9;&#9;DeusExPlayer(Owner).ClientMessage("God mode blocks the fattener.");<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;&#9;PSF = Spawn( class'PSFattener',Owner,,Other.Location);<br>&#9;&#9;PSF.Fattener = Other;<br>&#9;&#9;DeusExPlayer(Owner).ClientMessage("Fattener attached to "$GetDisplayString(Other)$".");<br>&#9;&#9;return;<br>&#9;}<br><br>super.ProcessTraceHit(other, hitlocation, hitnormal, x, y, z);<br><br></div>
<h3 id="WeaponFatten.TestMPBeltSpot"><a class="headerlink" href="#WeaponFatten.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WeaponFlashBang.uc" title="Permanent link"><h2 id="WeaponFlashBang.uc">WeaponFlashBang.uc (extends WeaponEMPGrenade)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">AmmoName=Class'PartyStuff.AmmoFlashBang'<br>PickupAmmoCount=2<br>ProjectileClass=Class'PartyStuff.FlashBang'<br>InventoryGroup=118<br>ItemName="Flash Bang Grenade"<br>ItemArticle="a"<br>beltDescription="Flash"<br>MultiSkins(4)=FireTexture'Effects.UserInterface.WhiteStatic'<br>MultiSkins(5)=FireTexture'Effects.UserInterface.WhiteStatic'<br>MultiSkins(6)=FireTexture'Effects.UserInterface.WhiteStatic'<br>MultiSkins(7)=FireTexture'Effects.UserInterface.WhiteStatic'</div>
<h3 id="WeaponFlashBang.BecomePickup"><a class="headerlink" href="#WeaponFlashBang.BecomePickup" title="Permanent link">BecomePickup</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.BecomePickup();<br>   if (Level.NetMode != NM_Standalone)<br>      if (bTossedOut)<br>         Lifespan = 0.0;<br><br></div>
<h3 id="WeaponFlashBang.Fire"><a class="headerlink" href="#WeaponFlashBang.Fire" title="Permanent link">Fire</a> (float Value)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if (Pawn(Owner) != None)<br>&#9;{<br>&#9;&#9;if (bNearWall)<br>&#9;&#9;{<br>&#9;&#9;&#9;bReadyToFire = False;<br>&#9;&#9;&#9;GotoState('NormalFire');<br>&#9;&#9;&#9;bPointing = True;<br>&#9;&#9;&#9;PlayAnim('Place',, 0.1);<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br>&#9;Super.Fire(Value);<br><br></div>
<h3 id="WeaponFlashBang.PostBeginPlay"><a class="headerlink" href="#WeaponFlashBang.PostBeginPlay" title="Permanent link">PostBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   Super.PostBeginPlay();<br>   bWeaponStay=False;<br><br></div>
<h3 id="WeaponFlashBang.ProjectileFire"><a class="headerlink" href="#WeaponFlashBang.ProjectileFire" title="Permanent link">ProjectileFire</a> (class<projectile> ProjClass, float ProjSpeed, bool bWarn) -> Projectile</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Projectile proj;<br><br><br>&#9;proj = Super.ProjectileFire(ProjClass, ProjSpeed, bWarn);<br><br>&#9;if (proj != None)<br>&#9;&#9;proj.PlayAnim('Open');<br><br></div>
<h3 id="WeaponFlashBang.TestMPBeltSpot"><a class="headerlink" href="#WeaponFlashBang.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ((BeltSpot <= 9) && (BeltSpot >= 1));<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WeaponFreezeGrenade.uc" title="Permanent link"><h2 id="WeaponFreezeGrenade.uc">WeaponFreezeGrenade.uc (extends WeaponEMPGrenade)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">AmmoName=Class'PartyStuff.AmmoFreezeGrenade'<br>PickupAmmoCount=2<br>ProjectileClass=Class'PartyStuff.FreezeGrenade'<br>InventoryGroup=118<br>ItemName="Icer Grenade"<br>beltDescription="Freeze"<br>MultiSkins(4)=FireTexture'Effects.UserInterface.WhiteStatic'<br>MultiSkins(5)=FireTexture'Effects.UserInterface.WhiteStatic'<br>MultiSkins(6)=FireTexture'Effects.UserInterface.WhiteStatic'<br>MultiSkins(7)=FireTexture'Effects.UserInterface.WhiteStatic'</div>
<h3 id="WeaponFreezeGrenade.BecomePickup"><a class="headerlink" href="#WeaponFreezeGrenade.BecomePickup" title="Permanent link">BecomePickup</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.BecomePickup();<br>   if (Level.NetMode != NM_Standalone)<br>      if (bTossedOut)<br>         Lifespan = 0.0;<br><br></div>
<h3 id="WeaponFreezeGrenade.Fire"><a class="headerlink" href="#WeaponFreezeGrenade.Fire" title="Permanent link">Fire</a> (float Value)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if (Pawn(Owner) != None)<br>&#9;{<br>&#9;&#9;if (bNearWall)<br>&#9;&#9;{<br>&#9;&#9;&#9;bReadyToFire = False;<br>&#9;&#9;&#9;GotoState('NormalFire');<br>&#9;&#9;&#9;bPointing = True;<br>&#9;&#9;&#9;PlayAnim('Place',, 0.1);<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br>&#9;Super.Fire(Value);<br><br></div>
<h3 id="WeaponFreezeGrenade.PostBeginPlay"><a class="headerlink" href="#WeaponFreezeGrenade.PostBeginPlay" title="Permanent link">PostBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   Super.PostBeginPlay();<br>   bWeaponStay=False;<br><br></div>
<h3 id="WeaponFreezeGrenade.ProjectileFire"><a class="headerlink" href="#WeaponFreezeGrenade.ProjectileFire" title="Permanent link">ProjectileFire</a> (class<projectile> ProjClass, float ProjSpeed, bool bWarn) -> Projectile</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Projectile proj;<br><br><br>&#9;proj = Super.ProjectileFire(ProjClass, ProjSpeed, bWarn);<br><br>&#9;if (proj != None)<br>&#9;&#9;proj.PlayAnim('Open');<br><br></div>
<h3 id="WeaponFreezeGrenade.TestMPBeltSpot"><a class="headerlink" href="#WeaponFreezeGrenade.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ((BeltSpot <= 3) && (BeltSpot >= 1));<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WeaponFrostRifle.uc" title="Permanent link"><h2 id="WeaponFrostRifle.uc">WeaponFrostRifle.uc (extends DeusExWeapon)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var float	mpNoScopeMult;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">mpNoScopeMult=0.350000<br>LowAmmoWaterMark=6<br>GoverningSkill=Class'DeusEx.SkillWeaponRifle'<br>NoiseLevel=2.000000<br>ShotTime=1.500000<br>reloadTime=2.000000<br>HitDamage=25<br>maxRange=48000<br>AccurateRange=28800<br>bCanHaveScope=True<br>bHasScope=True<br>bCanHaveLaser=True<br>bCanHaveSilencer=True<br>bHasMuzzleFlash=False<br>recoilStrength=0.400000<br>bUseWhileCrouched=False<br>mpReloadTime=2.000000<br>mpHitDamage=25<br>mpAccurateRange=28800<br>mpMaxRange=28800<br>mpReloadCount=6<br>bCanHaveModBaseAccuracy=True<br>bCanHaveModReloadCount=True<br>bCanHaveModAccurateRange=True<br>bCanHaveModReloadTime=True<br>bCanHaveModRecoilStrength=True<br>AmmoName=Class'DeusEx.Ammo3006'<br>ReloadCount=6<br>PickupAmmoCount=6<br>FireOffset=(X=-20.000000,Y=2.000000,Z=30.000000)<br>ProjectileClass=Class'PartyStuff.FreezeBolt'<br>shakemag=50.000000<br>FireSound=Sound'DeusExSounds.Weapons.RifleFire'<br>AltFireSound=Sound'DeusExSounds.Weapons.RifleReloadEnd'<br>CockingSound=Sound'DeusExSounds.Weapons.RifleReload'<br>SelectSound=Sound'DeusExSounds.Weapons.RifleSelect'<br>InventoryGroup=5<br>ItemName="Freeze Rifle"<br>PlayerViewOffset=(X=20.000000,Y=-2.000000,Z=-30.000000)<br>PlayerViewMesh=LodMesh'DeusExItems.SniperRifle'<br>PickupViewMesh=LodMesh'DeusExItems.SniperRiflePickup'<br>ThirdPersonMesh=LodMesh'DeusExItems.SniperRifle3rd'<br>LandSound=Sound'DeusExSounds.Generic.DropMediumWeapon'<br>Icon=Texture'DeusExUI.Icons.BeltIconRifle'<br>largeIcon=Texture'DeusExUI.Icons.LargeIconRifle'<br>largeIconWidth=159<br>largeIconHeight=47<br>invSlotsX=4<br>Description="The military sniper rifle is the superior tool for the interdiction of long-range targets. When coupled with the proven 30.06 round, a marksman can achieve tight groupings at better than 1 MOA (minute of angle) depending on environmental conditions."<br>beltDescription="SNIPER"<br>Mesh=LodMesh'DeusExItems.SniperRiflePickup'<br>CollisionRadius=26.000000<br>CollisionHeight=2.000000<br>Mass=30.000000</div>
<h3 id="WeaponFrostRifle.PreBeginPlay"><a class="headerlink" href="#WeaponFrostRifle.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;// If this is a netgame, then override defaults<br>&#9;if ( Level.NetMode != NM_StandAlone )<br>&#9;{<br>&#9;&#9;HitDamage = mpHitDamage;<br>&#9;&#9;BaseAccuracy = mpBaseAccuracy;<br>&#9;&#9;ReloadTime = mpReloadTime;<br>&#9;&#9;AccurateRange = mpAccurateRange;<br>&#9;&#9;MaxRange = mpMaxRange;<br>&#9;&#9;ReloadCount = mpReloadCount;<br>      bHasMuzzleFlash = True;<br>      ReloadCount = 1;<br>      ReloadTime = ShotTime;<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WeaponGPF.uc" title="Permanent link"><h2 id="WeaponGPF.uc">WeaponGPF.uc (extends DeusExWeapon)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">GoverningSkill=Class'DeusEx.SkillWeaponPistol'<br>NoiseLevel=0.010000<br>ShotTime=0.150000<br>reloadTime=1.500000<br>HitDamage=0<br>maxRange=4800<br>AccurateRange=2400<br>BaseAccuracy=0.800000<br>bCanHaveScope=True<br>ScopeFOV=25<br>bCanHaveLaser=True<br>recoilStrength=0.100000<br>mpBaseAccuracy=0.200000<br>mpAccurateRange=1200<br>mpMaxRange=1200<br>bCanHaveModBaseAccuracy=True<br>bCanHaveModReloadCount=True<br>bCanHaveModAccurateRange=True<br>bCanHaveModReloadTime=True<br>bInstantHit=True<br>FireOffset=(X=-24.000000,Y=10.000000,Z=14.000000)<br>shakemag=50.000000<br>FireSound=Sound'DeusExSounds.Weapons.StealthPistolFire'<br>AltFireSound=Sound'DeusExSounds.Weapons.StealthPistolReloadEnd'<br>CockingSound=Sound'DeusExSounds.Weapons.StealthPistolReload'<br>SelectSound=Sound'DeusExSounds.Weapons.StealthPistolSelect'<br>InventoryGroup=68<br>ItemName="GPF Gun"<br>PlayerViewOffset=(X=24.000000,Y=-10.000000,Z=-14.000000)<br>PlayerViewMesh=LodMesh'DeusExItems.StealthPistol'<br>PickupViewMesh=LodMesh'DeusExItems.StealthPistolPickup'<br>ThirdPersonMesh=LodMesh'DeusExItems.StealthPistol3rd'<br>Icon=Texture'DeusExUI.Icons.BeltIconStealthPistol'<br>largeIcon=Texture'DeusExUI.Icons.LargeIconStealthPistol'<br>largeIconWidth=47<br>largeIconHeight=37<br>Description="The stealth pistol is a variant of the standard 10mm pistol with a larger clip and integrated silencer designed for wet work at very close ranges."<br>beltDescription="GPF"<br>Mesh=LodMesh'DeusExItems.StealthPistolPickup'<br>CollisionRadius=8.000000<br>CollisionHeight=0.800000</div>
<h3 id="WeaponGPF.CalculateAccuracy"><a class="headerlink" href="#WeaponGPF.CalculateAccuracy" title="Permanent link">CalculateAccuracy</a> -> float</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre">eturn 0.000000; //Dirty hack to always return dead on accuracy<br></div>
<h3 id="WeaponGPF.LaserToggle"><a class="headerlink" href="#WeaponGPF.LaserToggle" title="Permanent link">LaserToggle</a></h3>

<h3 id="WeaponGPF.PreBeginPlay"><a class="headerlink" href="#WeaponGPF.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre">uper.PreBeginPlay()<br></div>
<h3 id="WeaponGPF.ProcessTraceHit"><a class="headerlink" href="#WeaponGPF.ProcessTraceHit" title="Permanent link">ProcessTraceHit</a> (Actor Other, Vector HitLocation, Vector HitNormal, Vector X, Vector Y, Vector Z)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre">f(Other.isa('DeusExPlayer') && DeusExPlayer(Owner).bAdmin)<br></div>
<h3 id="WeaponGPF.ScopeToggle"><a class="headerlink" href="#WeaponGPF.ScopeToggle" title="Permanent link">ScopeToggle</a></h3>

<h3 id="WeaponGPF.TestMPBeltSpot"><a class="headerlink" href="#WeaponGPF.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WeaponGunganir.uc" title="Permanent link"><h2 id="WeaponGunganir.uc">WeaponGunganir.uc (extends DeusExWeapon)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var float	mpNoScopeMult;<br>var float ZoomScale,ZoomInc,<br>var bool bSilenced;<br>var() float Thick;<br>var() float PawnThick;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">mpNoScopeMult=0.350000<br>ZoomScale=1.000000<br>ZoomInc=0.100000<br>MaxScale=1.000000<br>MinScale=0.100000<br>Thick=64.000000<br>PawnThick=32.000000<br>LowAmmoWaterMark=6<br>GoverningSkill=Class'DeusEx.SkillWeaponRifle'<br>NoiseLevel=2.000000<br>EnviroEffective=ENVEFF_Air<br>ShotTime=2.500000<br>reloadTime=5.000000<br>HitDamage=100<br>maxRange=48000<br>AccurateRange=28800<br>bCanHaveScope=True<br>bHasScope=True<br>bCanHaveLaser=True<br>bCanHaveSilencer=True<br>bHasMuzzleFlash=False<br>recoilStrength=0.400000<br>bUseWhileCrouched=False<br>mpReloadTime=5.000000<br>mpHitDamage=100<br>mpAccurateRange=28800<br>mpMaxRange=28800<br>mpReloadCount=3<br>bCanHaveModBaseAccuracy=True<br>bCanHaveModReloadCount=True<br>bCanHaveModAccurateRange=True<br>bCanHaveModReloadTime=True<br>bCanHaveModRecoilStrength=True<br>AmmoName=Class'DeusEx.Ammo3006'<br>ReloadCount=6<br>PickupAmmoCount=6<br>bInstantHit=True<br>FireOffset=(X=-20.000000,Y=2.000000,Z=30.000000)<br>shakemag=50.000000<br>FireSound=Sound'DeusExSounds.Weapons.RifleFire'<br>AltFireSound=Sound'DeusExSounds.Weapons.RifleReloadEnd'<br>CockingSound=Sound'DeusExSounds.Weapons.RifleReload'<br>SelectSound=Sound'DeusExSounds.Weapons.RifleSelect'<br>InventoryGroup=5<br>ItemName="Gunganir HAG35"<br>ItemArticle="the"<br>PlayerViewOffset=(X=20.000000,Y=-2.000000,Z=-30.000000)<br>PlayerViewMesh=LodMesh'DeusExItems.SniperRifle'<br>PickupViewMesh=LodMesh'DeusExItems.SniperRiflePickup'<br>ThirdPersonMesh=LodMesh'DeusExItems.SniperRifle3rd'<br>LandSound=Sound'DeusExSounds.Generic.DropMediumWeapon'<br>Icon=Texture'DeusExUI.Icons.BeltIconRifle'<br>largeIcon=Texture'DeusExUI.Icons.LargeIconRifle'<br>largeIconWidth=159<br>largeIconHeight=47<br>invSlotsX=4<br>Description="The military sniper rifle is the superior tool for the interdiction of long-range targets. When coupled with the proven 30.06 round, a marksman can achieve tight groupings at better than 1 MOA (minute of angle) depending on environmental conditions."<br>beltDescription="HAG35"<br>Mesh=LodMesh'DeusExItems.SniperRiflePickup'<br>CollisionRadius=26.000000<br>CollisionHeight=2.000000<br>Mass=30.000000</div>
<h3 id="WeaponGunganir.AltFire"><a class="headerlink" href="#WeaponGunganir.AltFire" title="Permanent link">AltFire</a> (float Value)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(bHasSilencer)<br>&#9;{<br>&#9;DeusExPlayer(Owner).ClientMessage("Silencer off");<br>&#9;bHasSilencer = False;<br>&#9;BaseAccuracy=Default.BaseAccuracy;<br>&#9;HitDamage = Default.HitDamage;<br>&#9;bSilenced=False;<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;DeusExPlayer(Owner).ClientMessage("Silencer on");<br>&#9;bHasSilencer = True;<br>&#9;BaseAccuracy=0.000001;<br>&#9;HitDamage = 100;<br>&#9;bSilenced=True;<br>&#9;}<br><br></div>
<h3 id="WeaponGunganir.CycleAmmo"><a class="headerlink" href="#WeaponGunganir.CycleAmmo" title="Permanent link">CycleAmmo</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;ZoomOff();<br>&#9;ScopeOff();<br>&#9;DisableScope();<br>&#9;ZoomScale=MaxScale;<br>&#9;bZoomed=False;<br>&#9;UpdateScope(ScopeFOV,bZoomed);<br><br></div>
<h3 id="WeaponGunganir.DisableScope"><a class="headerlink" href="#WeaponGunganir.DisableScope" title="Permanent link">DisableScope</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>ScopeOff();<br><br></div>
<h3 id="WeaponGunganir.Fire"><a class="headerlink" href="#WeaponGunganir.Fire" title="Permanent link">Fire</a> (float value)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Local Vector offset,x,y,z;<br>&#9;local rotator rot;<br><br>     if (owner==none)<br>        return;<br>     else if (!bHasMuzzleFlash)<br>         {<br>         super.fire(value);<br>         return;<br>         }<br>     GetAxes(pawn(owner).ViewRotation,x,y,z);<br>     if (owner.IsA('DeusExPlayer'))<br>        {<br>        offset = Owner.Location + CalcDrawOffset() + FireOffset.X * X + FireOffset.Y * Y + FireOffset.Z * Z;<br>        rot=DeusExPlayer(owner).viewRotation;<br>        }<br>     else<br>         {<br>         offset= Owner.Location;<br>         offset += X * Owner.CollisionRadius*2;<br>         rot=owner.rotation;<br>         }<br>     Flash = spawn(class'muzzleflash',,,offset,rot);<br>     if(flash!=none)<br>         {<br>         Flash.setbase(owner);<br>         //Flash.playanim('shoot');<br>         }<br>     super.fire(value);<br><br></div>
<h3 id="WeaponGunganir.LaserToggle"><a class="headerlink" href="#WeaponGunganir.LaserToggle" title="Permanent link">LaserToggle</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>ZoomOut();<br><br></div>
<h3 id="WeaponGunganir.PreBeginPlay"><a class="headerlink" href="#WeaponGunganir.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;// If this is a netgame, then override defaults<br>&#9;if ( Level.NetMode != NM_StandAlone )<br>&#9;{<br>&#9;&#9;HitDamage = mpHitDamage;<br>&#9;&#9;BaseAccuracy = mpBaseAccuracy;<br>&#9;&#9;ReloadTime = mpReloadTime;<br>&#9;&#9;AccurateRange = mpAccurateRange;<br>&#9;&#9;MaxRange = mpMaxRange;<br>&#9;&#9;ReloadCount = mpReloadCount;<br>      bHasMuzzleFlash = True;<br>      ReloadCount = 3;<br>      ReloadTime = ShotTime;<br>&#9;}<br><br></div>
<h3 id="WeaponGunganir.RenderOverlays"><a class="headerlink" href="#WeaponGunganir.RenderOverlays" title="Permanent link">RenderOverlays</a> (canvas Canvas)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer P;<br>&#9;local Actor CrosshairTarget;<br>&#9;local float Scale, Accuracy, Dist;<br>&#9;local vector HitLocation, HitNormal, StartTrace, EndTrace, X,Y,Z;<br>&#9;local vector loc, line;<br>&#9;local string str;<br><br>&#9;&#9;<br>&#9;Super.RenderOverlays(Canvas);<br>&#9;P = DeusExPlayer(Owner);<br>&#9;if ( P != None ) <br>&#9;{&#9;<br>&#9;&#9;/*GetAxes(Pawn(Owner).ViewRotation,X,Y,Z);&#9;<br>&#9;&#9;StartTrace = ComputeProjectileStart(X, Y, Z);<br>&#9;&#9;AdjustedAim = P.AdjustAim(1000000, StartTrace, 2*AimError, False, False);<br>&#9;&#9;EndTrace = StartTrace + Accuracy * (FRand()-0.5)*Y*1000 + Accuracy * (FRand()-0.5)*Z*1000 ;&#9;<br>&#9;&#9;EndTrace += (FMax(1024.0, MaxRange) * Vector(AdjustedAim));*/<br>&#9;&#9;&#9;&#9;loc = P.Location;<br>&#9;&#9;&#9;&#9;loc.Z += P.BaseEyeHeight;<br>&#9;&#9;&#9;&#9;line = Vector(P.ViewRotation) * 90000;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;Trace(hitLocation, hitNormal, loc+line, loc, true);<br>&#9;&#9;/*foreach P.TraceActors(class'Actor', CrosshairTarget, HitLocation, HitNormal, EndTrace, StartTrace)<br>&#9;&#9;{*/<br>&#9;&#9;&#9;Dist = Abs(VSize(HitLocation - P.Location));<br><br>&#9;&#9;&#9;//if ( Dist < MaxRange )<br>&#9;&#9;&#9;//{<br>&#9;&#9;&#9;&#9;bOwnsCrossHair = True; <br>&#9;&#9;&#9;&#9;Scale = Canvas.ClipX/640;<br>&#9;&#9;&#9;&#9;Canvas.SetPos(0.5 * Canvas.ClipX - 16 * Scale, 0.5 * Canvas.ClipY - 16 * Scale );<br>&#9;&#9;&#9;&#9;//Canvas.Style = ERenderStyle.STY_Translucent;<br>&#9;&#9;&#9;&#9;Canvas.DrawColor.R = 255;<br>&#9;&#9;&#9;&#9;Canvas.DrawColor.G = 250;<br>&#9;&#9;&#9;&#9;Canvas.DrawColor.B = 255;<br>&#9;&#9;&#9;&#9;Canvas.Font = Canvas.SmallFont;<br>&#9;&#9;&#9;&#9;//Canvas.DrawIcon(Texture'DeusExUI.UserInterface.AugIcontarget_Small', Scale);<br>&#9;&#9;&#9;&#9;//Canvas.bCenter=True;<br>&#9;&#9;&#9;&#9;if(bSilenced)<br>&#9;&#9;&#9;&#9;&#9;str = " - Silenced";<br>&#9;&#9;&#9;&#9;Canvas.DrawText("       ["$Left(ZoomScale, Len(ZoomScale)-5)$"] Distance: "$Left(Dist, Len(Dist)-7)$str);<br>&#9;&#9;&#9;&#9;//Canvas.DrawPortal(0.5 * Canvas.ClipX - 16 * Scale, 0.5 * Canvas.ClipY - 16 * Scale , 30, 30, CrosshairTarget, CrosshairTarget.Location, CrosshairTarget.Rotation);<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;bOwnsCrossHair = False; // Only for compatibility with HDX50&#9;&#9;<br>&#9;&#9;//<br></div>
<h3 id="WeaponGunganir.ScopeOff"><a class="headerlink" href="#WeaponGunganir.ScopeOff" title="Permanent link">ScopeOff</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>ZoomOff();<br>UpdateScope(ScopeFOV,False);<br><br></div>
<h3 id="WeaponGunganir.ScopeToggle"><a class="headerlink" href="#WeaponGunganir.ScopeToggle" title="Permanent link">ScopeToggle</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>ZoomIn();<br><br></div>
<h3 id="WeaponGunganir.TraceFire"><a class="headerlink" href="#WeaponGunganir.TraceFire" title="Permanent link">TraceFire</a> (float Accuracy)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Vector HitLocation;<br>&#9;local Vector HitNormal;<br>&#9;local Vector StartTrace;<br>&#9;local Vector EndTrace;<br>&#9;local Vector X;<br>&#9;local Vector Y;<br>&#9;local Vector Z;<br>&#9;local Actor Other;<br>&#9;local Pawn PawnOwner;<br>&#9;local float Penetration;<br>&#9;local Rotator rot;<br><br>&#9;<br>&#9;PawnOwner=Pawn(Owner);<br>&#9;Owner.MakeNoise(PawnOwner.SoundDampening);<br>&#9;GetAxes(PawnOwner.ViewRotation,X,Y,Z);<br>&#9;StartTrace=Owner.Location + CalcDrawOffset() + FireOffset.X * X + FireOffset.Y * Y + FireOffset.Z * Z;<br>&#9;AdjustedAim=PawnOwner.AdjustAim(1000000.00,StartTrace,2 * aimerror,False,False);<br>&#9;EndTrace=StartTrace + Accuracy * (FRand() - 0.50) * Y * 1000 + Accuracy * (FRand() - 0.50) * Z * 1000;<br>&#9;X=vector(AdjustedAim);<br>&#9;EndTrace += 10000 * X;<br>&#9;Other=PawnOwner.TraceShot(HitLocation,HitNormal,EndTrace,StartTrace);<br>&#9;rot = Rotator(EndTrace - StartTrace);<br>&#9;Spawn(class'Tracer',,, StartTrace + 96 * Vector(rot), rot);<br>&#9;ProcessTraceHit(Other,HitLocation,HitNormal,X,Y,Z);<br>&#9;if ( Other.IsA('Pawn') )<br>&#9;{<br>&#9;&#9;Penetration=PawnThick;<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;Penetration=Thick;<br>&#9;}<br>&#9;StartTrace=HitLocation + HitNormal + Penetration * X;<br>&#9;EndTrace=StartTrace + Accuracy * (FRand() - 0.50) * Y * 1000 + Accuracy * (FRand() - 0.50) * Z * 1000;<br>&#9;EndTrace += 10000 * X;<br>&#9;Other=PawnOwner.TraceShot(HitLocation,HitNormal,EndTrace,StartTrace);<br>&#9;ProcessTraceHit(Other,HitLocation,HitNormal,X,Y,Z);<br><br></div>
<h3 id="WeaponGunganir.UpdateScope"><a class="headerlink" href="#WeaponGunganir.UpdateScope" title="Permanent link">UpdateScope</a> (float FOV, bool bShow)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>bZoomed=bShow;<br>ScopeFOV=FOV;<br><br>RefreshScopeDisplay(DeusExPlayer(Owner), False, bZoomed);<br><br></div>
<h3 id="WeaponGunganir.ZoomIn"><a class="headerlink" href="#WeaponGunganir.ZoomIn" title="Permanent link">ZoomIn</a> -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>bZoomed=True;<br><br>ZoomScale-=ZoomInc;<br><br>if(ZoomScale<MinScale)<br>&#9;ZoomScale=MinScale;<br>ScopeFOV=80*ZoomScale;<br>BaseAccuracy=0.12/ZoomScale;<br>UpdateScope(ScopeFOV,True);<br><br>return bZoomed;<br><br></div>
<h3 id="WeaponGunganir.ZoomOff"><a class="headerlink" href="#WeaponGunganir.ZoomOff" title="Permanent link">ZoomOff</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>if(bHasScope && bZoomed && (Owner != None) && Owner.IsA('DeusExPlayer'))<br>&#9;{<br>&#9;bZoomed = False;<br>&#9;ZoomScale=MaxScale;<br>&#9;ScopeFOV=80*ZoomScale;<br>&#9;BaseAccuracy=0.12/ZoomScale;<br>&#9;UpdateScope(ScopeFOV,False);<br>&#9;}<br><br></div>
<h3 id="WeaponGunganir.ZoomOut"><a class="headerlink" href="#WeaponGunganir.ZoomOut" title="Permanent link">ZoomOut</a> -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>if(bZoomed)<br>&#9;{<br>&#9;ZoomScale+=ZoomInc;<br>&#9;if(ZoomScale>MaxScale)<br>&#9;&#9;{<br>&#9;&#9;ZoomScale=MaxScale;<br>&#9;&#9;bZoomed=False;<br>&#9;&#9;}<br>&#9;ScopeFOV=80*ZoomScale;<br>&#9;BaseAccuracy=0.12/ZoomScale;<br>&#9;UpdateScope(ScopeFOV,bZoomed);<br>&#9;}<br><br>return bZoomed;<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WeaponHeavyBeamSword.uc" title="Permanent link"><h2 id="WeaponHeavyBeamSword.uc">WeaponHeavyBeamSword.uc (extends WeaponNanoSword)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var Name WeaponDamageType;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">WeaponDamageType=exploded<br>InventoryGroup=135<br>ItemName="Heavy Beam Sword"<br>Description="A strange, ancient triad weapon. You would be hard pressed finding out anything else about it."<br>beltDescription="HEAVY"<br>Fatness=255</div>
<h3 id="WeaponHeavyBeamSword.ProcessTraceHit"><a class="headerlink" href="#WeaponHeavyBeamSword.ProcessTraceHit" title="Permanent link">ProcessTraceHit</a> (Actor Other, Vector HitLocation, Vector HitNormal, Vector X, Vector Y, Vector Z)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local float        mult;<br>&#9;local name         damageType;<br>&#9;local DeusExPlayer dxPlayer;<br><br><br>&#9;if (Other != None)<br>&#9;{<br>&#9;&#9;// AugCombat increases our damage if hand to hand<br>&#9;&#9;mult = 1.0;<br>&#9;&#9;if (bHandToHand && (DeusExPlayer(Owner) != None))<br>&#9;&#9;{<br>&#9;&#9;&#9;mult = DeusExPlayer(Owner).AugmentationSystem.GetAugLevelValue(class'AugCombat');<br>&#9;&#9;&#9;if (mult == -1.0)<br>&#9;&#9;&#9;&#9;mult = 1.0;<br>&#9;&#9;}<br><br>&#9;&#9;// skill also affects our damage<br>&#9;&#9;// GetWeaponSkill returns 0.0 to -0.7 (max skill/aug)<br>&#9;&#9;mult += -2.0 * GetWeaponSkill();<br><br>&#9;&#9;// Determine damage type<br>&#9;&#9;damageType = WeaponDamageType;<br><br>&#9;&#9;if (Other != None)<br>&#9;&#9;{<br>&#9;&#9;&#9;if (Other.bOwned)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;dxPlayer = DeusExPlayer(Owner);<br>&#9;&#9;&#9;&#9;if (dxPlayer != None)<br>&#9;&#9;&#9;&#9;&#9;dxPlayer.AISendEvent('Futz', EAITYPE_Visual);<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;if ((Other == Level) || (Other.IsA('Mover')))<br>&#9;&#9;{<br>&#9;&#9;&#9;if ( Role == ROLE_Authority )<br>&#9;&#9;&#9;&#9;Other.TakeDamage(HitDamage * mult, Pawn(Owner), HitLocation, 1000.0*X, damageType);<br><br>&#9;&#9;&#9;SelectiveSpawnEffects( HitLocation, HitNormal, Other, HitDamage * mult);<br>&#9;&#9;}<br>&#9;&#9;else if ((Other != self) && (Other != Owner))<br>&#9;&#9;{<br>&#9;&#9;&#9;if ( Role == ROLE_Authority )<br>&#9;&#9;&#9;&#9;Other.TakeDamage(HitDamage * mult, Pawn(Owner), HitLocation, 1000.0*X, damageType);<br>&#9;&#9;&#9;if (bHandToHand)<br>&#9;&#9;&#9;&#9;SelectiveSpawnEffects( HitLocation, HitNormal, Other, HitDamage * mult);<br><br>&#9;&#9;&#9;if (bPenetrating && Other.IsA('Pawn') && !Other.IsA('Robot'))<br>&#9;&#9;&#9;&#9;SpawnBlood(HitLocation, HitNormal);<br>&#9;&#9;}<br>&#9;}<br>   if (DeusExMPGame(Level.Game) != None)<br>   {<br>      if (DeusExPlayer(Other) != None)<br>         DeusExMPGame(Level.Game).TrackWeapon(self,HitDamage * mult);<br>      else<br>         DeusExMPGame(Level.Game).TrackWeapon(self,0);<br>   }<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WeaponHellBite.uc" title="Permanent link"><h2 id="WeaponHellBite.uc">WeaponHellBite.uc (extends WeaponNPCMelee)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">ShotTime=0.100000<br>HitDamage=30<br>maxRange=120<br>AccurateRange=120<br>BaseAccuracy=0.000000<br>Misc1Sound=Sound'DeusExSounds.Animal.KarkianAttack'<br>Misc2Sound=Sound'DeusExSounds.Animal.KarkianAttack'<br>Misc3Sound=Sound'DeusExSounds.Animal.KarkianAttack'</div>
<br><br><hr>
<a class="headerlink" href="#WeaponHostageDevice.uc" title="Permanent link"><h2 id="WeaponHostageDevice.uc">WeaponHostageDevice.uc (extends WeaponStealthPistol)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var int currentMode;<br>var string cycleMessages[6];<br>var Pawn hostage;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">cycleMessages(0)="Take Hostage"<br>cycleMessages(1)="Release Hostage"<br>cycleMessages(2)="Teleport to Hostage"<br>cycleMessages(3)="Summon Hostage"<br>cycleMessages(4)="Kill Hostage"<br>cycleMessages(5)="Cheat View Hostage"<br>ShotTime=0.100000<br>HitDamage=0<br>BaseAccuracy=0.000000<br>ReloadCount=0<br>PickupAmmoCount=0<br>FireSound=Sound'DeusExSounds.Generic.Beep1'<br>InventoryGroup=201<br>ItemName="Hostage Device"<br>PickupViewMesh=LodMesh'DeusExItems.Multitool'<br>ThirdPersonMesh=LodMesh'DeusExItems.Multitool3rd'<br>Icon=Texture'DeusExUI.Icons.BeltIconMultitool'<br>largeIcon=None<br>Description="An interesting device..."<br>beltDescription="HOSTAGE"</div>
<h3 id="WeaponHostageDevice.GetDisplayString"><a class="headerlink" href="#WeaponHostageDevice.GetDisplayString" title="Permanent link">GetDisplayString</a> (Pawn P) -> string</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(P.isA('DeusExPlayer'))<br>&#9;&#9;return DeusExPlayer(p).PlayerReplicationInfo.PlayerName;<br>&#9;else if(P.isA('ScriptedPawn'))<br>&#9;&#9;return ScriptedPawn(P).FamiliarName;<br><br></div>
<h3 id="WeaponHostageDevice.GiveTo"><a class="headerlink" href="#WeaponHostageDevice.GiveTo" title="Permanent link">GiveTo</a> (pawn Other)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>    super.Giveto(Other);<br>    super.GiveAmmo(Other);<br>&#9;hostage = none;<br>&#9;currentMode = 0;<br>&#9;Other.ClientMessage("|P3Press Ammochange to cycle through the modes");<br><br><br></div>
<h3 id="WeaponHostageDevice.PreBeginPlay"><a class="headerlink" href="#WeaponHostageDevice.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>    return;<br><br></div>
<h3 id="WeaponHostageDevice.ProcessTraceHit"><a class="headerlink" href="#WeaponHostageDevice.ProcessTraceHit" title="Permanent link">ProcessTraceHit</a> (Actor Other, Vector HitLocation, Vector HitNormal, Vector X, Vector Y, Vector Z)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExWeapon W;<br>&#9;local Pawn P;<br>&#9;local vector hostageLocation;<br>&#9;local string checkedhostage;<br><br><br><br>&#9;if(currentMode == 0)<br>&#9;{<br>&#9;&#9;//Hooking<br>&#9;&#9;Other = Pawn(Other);<br>&#9;&#9;&#9;&#9;if(hostage != none)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(Other != None)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;foreach allactors(class'Pawn',P)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(P == hostage)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;checkedhostage = GetDisplayString(P);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;DeusExPlayer(Owner).ClientMessage("|P3Current hostage will be released: "$checkedhostage,'TeamSay');<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Other != None)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(Other.isA('DXScriptedPawn'))<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXHumanMilitary(Other).bSpecial)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;DeusExPlayer(Owner).ClientMessage("|P2You can not take this person as a hostage. [Special]");<br>&#9;&#9;&#9;&#9;&#9;&#9;return;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;}<br><br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;if(Other.isA('DeusExPlayer'))<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DeusExPlayer(Other).bAdmin)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;DeusExPlayer(Owner).ClientMessage("|P2You can not take this person as a hostage. [Admin Protection]");<br>&#9;&#9;&#9;&#9;&#9;&#9;return;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;}<br><br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;checkedhostage = GetDisplayString(pawn(other));<br>&#9;&#9;&#9;&#9;DeusExPlayer(Owner).ClientMessage("|P3Hostage Hooked: "$checkedhostage,'TeamSay');<br>&#9;&#9;&#9;&#9;hostage = pawn(Other);<br>&#9;&#9;&#9;&#9;SpawnSphere(Other.Location);<br>&#9;&#9;&#9;&#9;SpawnSphere(Owner.Location);<br>&#9;&#9;&#9;}<br>&#9;}<br>&#9;else if(currentMode == 1)<br>&#9;{<br>&#9;&#9;//Releasing<br>&#9;&#9;if(hostage != none)<br>&#9;&#9;{<br>&#9;&#9;&#9;foreach allactors(class'Pawn',P)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(P == hostage)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;SpawnSphere(P.Location);<br>&#9;&#9;&#9;&#9;SpawnSphere(Owner.Location);<br>&#9;&#9;&#9;&#9;checkedhostage = GetDisplayString(p);<br>&#9;&#9;&#9;&#9;DeusExPlayer(Owner).ClientMessage("|P3Hostage Unhooked: "$checkedhostage,'TeamSay');<br>&#9;&#9;&#9;&#9;hostage = None;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}&#9;<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;{<br>&#9;&#9;DeusExPlayer(Owner).ClientMessage("|P3There is no hostage hooked!",'TeamSay');<br>&#9;&#9;currentMode = 0;<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;}<br>&#9;else if(currentMode == 2)<br>&#9;{<br>&#9;&#9;//Teleporting to<br>&#9;&#9;if(hostage != none)<br>&#9;&#9;{<br>&#9;&#9;&#9;foreach allactors(class'Pawn',P)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(P == hostage)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;checkedhostage = GetDisplayString(p);<br>&#9;&#9;&#9;&#9;DeusExPlayer(Owner).ClientMessage("|P3Hostage Located: "$checkedhostage);<br>&#9;&#9;&#9;&#9;Owner.SetLocation(P.location+vect(50,0,0));<br>&#9;&#9;&#9;&#9;SpawnSphere(P.Location);<br>&#9;&#9;&#9;&#9;SpawnSphere(Owner.Location);<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}&#9;<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;{<br>&#9;&#9;DeusExPlayer(Owner).ClientMessage("|P3There is no hostage hooked!",'TeamSay');<br>&#9;&#9;currentMode = 0;<br>&#9;&#9;}<br>&#9;}<br>&#9;else if(currentMode == 3)<br>&#9;{<br>&#9;&#9;//Summoning<br>&#9;&#9;if(hostage != none)<br>&#9;&#9;{<br>&#9;&#9;&#9;foreach allactors(class'Pawn',P)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(P == hostage)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;checkedhostage = GetDisplayString(p);<br>&#9;&#9;&#9;&#9;DeusExPlayer(Owner).ClientMessage("|P3Hostage Summoned: "$checkedhostage);<br>&#9;&#9;&#9;&#9;P.SetLocation(Owner.location+vect(50,0,0));<br>&#9;&#9;&#9;&#9;SpawnSphere(P.Location);<br>&#9;&#9;&#9;&#9;SpawnSphere(Owner.Location);<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}&#9;<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;{<br>&#9;&#9;DeusExPlayer(Owner).ClientMessage("|P3There is no hostage hooked!",'TeamSay');<br>&#9;&#9;currentMode = 0;<br>&#9;&#9;}<br>&#9;}<br>&#9;else if(currentMode == 4)<br>&#9;{<br>&#9;&#9;//Killing<br>&#9;&#9;if(hostage != none)<br>&#9;&#9;{<br>&#9;&#9;&#9;foreach allactors(class'Pawn',P)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(P == hostage)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;checkedhostage = GetDisplayString(p);<br>&#9;&#9;&#9;&#9;DeusExPlayer(Owner).ClientMessage("|P3Hostage Killed: "$checkedhostage);<br>&#9;&#9;&#9;&#9;DeusExPlayer(P).ReducedDamageType = '';<br>&#9;&#9;&#9;&#9;ScriptedPawn(P).bInvincible=False;<br>&#9;&#9;&#9;&#9;SpawnExplosion(P.Location);<br>&#9;&#9;&#9;&#9;P.setPhysics(PHYS_Falling);<br>&#9;&#9;&#9;&#9;P.Velocity = vect(0,0,512);<br>&#9;&#9;&#9;&#9;P.TakeDamage(5000,none,vect(0,0,7),vect(0,0,0),'Exploded');<br>&#9;&#9;&#9;&#9;&#9;if(P.isa('ScriptedPawn'))<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;DeusExPlayer(Owner).ClientMessage("|P3Hostage is an scriptedPawn, and permenantly dead. Hostage Device no longer hooked.");<br>&#9;&#9;&#9;&#9;&#9;&#9;hostage = none;<br>&#9;&#9;&#9;&#9;&#9;&#9;currentMode = 0;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}&#9;<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;{<br>&#9;&#9;DeusExPlayer(Owner).ClientMessage("|P3There is no hostage hooked!",'TeamSay');<br>&#9;&#9;currentMode = 0;<br>&#9;&#9;}<br>&#9;}<br>&#9;else if(currentMode == 5)<br>&#9;{<br>&#9;&#9;//Viewing<br>&#9;&#9;/*if(hostage != "")<br>&#9;&#9;{<br>&#9;&#9;&#9;foreach allactors(class'Pawn',P)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(P == hostage)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(bViewing)<br>&#9;&#9;&#9;&#9;checkedhostage = GetDisplayString(p);<br>&#9;&#9;&#9;&#9;DeusExPlayer(Owner).ClientMessage("|P3Hostage Viewed: "$checkedhostage);<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}&#9;<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;{<br>&#9;&#9;DeusExPlayer(Owner).ClientMessage("|P3There is no hostage hooked!",'TeamSay');<br>&#9;&#9;currentMode = 0;<br>&#9;&#9;}*/<br>&#9;}<br><br></div>
<h3 id="WeaponHostageDevice.SpawnExplosion"><a class="headerlink" href="#WeaponHostageDevice.SpawnExplosion" title="Permanent link">SpawnExplosion</a> (vector Loc)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>    spawn(class'ShockRing',,,Loc,rot(16384,0,0));<br>    spawn(class'ShockRing',,,Loc,rot(0,16384,0));<br>    spawn(class'ShockRing',,,Loc,rot(0,0,16384));<br>&#9;spawn(class'SphereEffect',,,Loc,rot(16384,0,0));<br><br></div>
<h3 id="WeaponHostageDevice.SpawnSphere"><a class="headerlink" href="#WeaponHostageDevice.SpawnSphere" title="Permanent link">SpawnSphere</a> (vector Loc)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local SphereEffect S;<br><br>&#9;s = spawn(class'SphereEffect',,,Loc,rot(16384,0,0));<br><br></div>
<h3 id="WeaponHostageDevice.TestMPBeltSpot"><a class="headerlink" href="#WeaponHostageDevice.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<h3 id="WeaponHostageDevice.cycleammo"><a class="headerlink" href="#WeaponHostageDevice.cycleammo" title="Permanent link">cycleammo</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(Hostage != None)<br>&#9;{<br>&#9;&#9;currentMode++;<br>&#9;&#9;if(currentMode > 4)<br>&#9;&#9;{<br>&#9;&#9;&#9;currentMode = 0;<br>&#9;&#9;}<br>&#9;&#9;DeusExPlayer(Owner).ClientMessage(cycleMessages[currentMode]);&#9;<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;DeusExPlayer(Owner).ClientMessage("Features unavailable while no hostage is hooked.");<br>&#9;currentMode = 0;<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WeaponHostageGun.uc" title="Permanent link"><h2 id="WeaponHostageGun.uc">WeaponHostageGun.uc (extends WeaponGEPGun)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">ProjectileClass=Class'PartyStuff.RocketHostage'<br>InventoryGroup=182<br>ItemName="Hostage Weapon"<br>Description="Blablabla takes people hostage blablabla."<br>beltDescription="HOSTAGE"</div>
<h3 id="WeaponHostageGun.CycleAmmo"><a class="headerlink" href="#WeaponHostageGun.CycleAmmo" title="Permanent link">CycleAmmo</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Hostager Selector;<br><br>  foreach AllActors(class 'Hostager', Selector)<br>  {<br>    if(Selector != None)<br>    {<br>      if(Selector.Instigator == Instigator)<br>      {<br>        Selector.Destroy();<br>        DeusExPlayer(Owner).ClientMessage(GetDisplayString(Selector.Player)@"has been released.");<br>      }<br>    }<br>  }<br><br></div>
<h3 id="WeaponHostageGun.GetDisplayString"><a class="headerlink" href="#WeaponHostageGun.GetDisplayString" title="Permanent link">GetDisplayString</a> (Actor P) -> string</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(P.isA('DeusExPlayer'))<br>&#9;&#9;return DeusExPlayer(p).PlayerReplicationInfo.PlayerName;<br>&#9;else if(P.isA('ScriptedPawn'))<br>&#9;&#9;return ScriptedPawn(P).FamiliarName;<br>&#9;else if(P.isA('DeusExDecoration'))<br>&#9;&#9;return DeusExDecoration(P).ItemName;<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WeaponHoverBotSuicide.uc" title="Permanent link"><h2 id="WeaponHoverBotSuicide.uc">WeaponHoverBotSuicide.uc (extends WeaponNPCmelee)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">ShotTime=0.100000<br>HitDamage=15<br>maxRange=80<br>AccurateRange=80<br>BaseAccuracy=0.000000<br>AITimeLimit=10.000000<br>AIFireDelay=8.000000<br>Misc1Sound=Sound'DeusExSounds.Animal.KarkianAttack'<br>Misc2Sound=Sound'DeusExSounds.Animal.KarkianAttack'<br>Misc3Sound=Sound'DeusExSounds.Animal.KarkianAttack'<br>ItemName="Suicide Attack"</div>
<br><br><hr>
<a class="headerlink" href="#WeaponInflatableSword.uc" title="Permanent link"><h2 id="WeaponInflatableSword.uc">WeaponInflatableSword.uc (extends WeaponSword)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">mpHitDamage=3<br>mpAccurateRange=150<br>mpMaxRange=150<br>InventoryGroup=133<br>ItemName="Heavy Inflatable Sword"<br>Description="A strange, ancient triad weapon. You would be hard pressed finding out anything else about it."<br>beltDescription="INFLATABLE"<br>Fatness=255</div>
<br><br><hr>
<a class="headerlink" href="#WeaponJTazer.uc" title="Permanent link"><h2 id="WeaponJTazer.uc">WeaponJTazer.uc (extends WeaponProd)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">ShotTime=1.500000<br>reloadTime=1.000000<br>HitDamage=20<br>maxRange=1920<br>AccurateRange=1280<br>BaseAccuracy=0.000000<br>bPenetrating=True<br>StunDuration=15.000000<br>ReloadCount=250<br>PickupAmmoCount=80<br>FireOffset=(X=-16.000000)<br>shakemag=0.000000<br>shaketime=0.000000<br>shakevert=0.000000<br>InventoryGroup=108<br>ItemName="Tazer"<br>bToggleSteadyFlash=False<br>beltDescription="TAZER"</div>
<h3 id="WeaponJTazer.ProcessTraceHit"><a class="headerlink" href="#WeaponJTazer.ProcessTraceHit" title="Permanent link">ProcessTraceHit</a> (Actor Other, Vector HitLocation, Vector HitNormal, Vector X, Vector Y, Vector Z)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int i;<br>&#9;local DeusExPlayer PlayerOwner;<br><br>&#9;PlayerOwner = DeusExPlayer(Owner);<br><br>&#9;if (PlayerOwner != None && ScriptedPawn(Owner) == None)<br>&#9;{<br>&#9;&#9;<br>&#9;&#9;Other.TakeDamage(HitDamage, Pawn(Owner), HitLocation, Vect(0,0,0), 'Shocked');<br>&#9;&#9;Other.TakeDamage(HitDamage, Pawn(Owner), HitLocation, Vect(0,0,0), 'EMP');<br>&#9;&#9;if(DeusExPlayer(Other) != None)<br>&#9;&#9;{<br>&#9;&#9;&#9;PlayerOwner.ClientInstantFlash(-0.4, vect(450, 190, 650));<br>&#9;&#9;&#9;DeusExPlayer(Other).ConsoleCommand("feigndeath");<br>&#9;&#9;&#9;DeusExPlayer(Other).ClientFlash(1,Vect(20000,20000,20000));<br>&#9;&#9;&#9;DeusExPlayer(Other).IncreaseClientFlashLength(12.0); //Drag that flash out for miles!!!<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="WeaponJTazer.TestMPBeltSpot"><a class="headerlink" href="#WeaponJTazer.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ((BeltSpot <= 9) && (BeltSpot >= 1));<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WeaponKarkianOldBiteL.uc" title="Permanent link"><h2 id="WeaponKarkianOldBiteL.uc">WeaponKarkianOldBiteL.uc (extends WeaponNPCMelee)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">ShotTime=0.100000<br>HitDamage=25<br>maxRange=120<br>AccurateRange=120<br>BaseAccuracy=0.000000<br>bFallbackWeapon=True<br>Misc1Sound=Sound'DeusExSounds.Animal.KarkianAttack'<br>Misc2Sound=Sound'DeusExSounds.Animal.KarkianAttack'<br>Misc3Sound=Sound'DeusExSounds.Animal.KarkianAttack'</div>
<br><br><hr>
<a class="headerlink" href="#WeaponKarkianOldBumpL.uc" title="Permanent link"><h2 id="WeaponKarkianOldBumpL.uc">WeaponKarkianOldBumpL.uc (extends WeaponNPCMelee)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">ShotTime=0.100000<br>HitDamage=30<br>maxRange=90<br>AccurateRange=90<br>BaseAccuracy=0.000000<br>AITimeLimit=10.000000<br>AIFireDelay=8.000000<br>Misc1Sound=Sound'DeusExSounds.Animal.KarkianAttack'<br>Misc2Sound=Sound'DeusExSounds.Animal.KarkianAttack'<br>Misc3Sound=Sound'DeusExSounds.Animal.KarkianAttack'</div>
<br><br><hr>
<a class="headerlink" href="#WeaponKnifeBomb.uc" title="Permanent link"><h2 id="WeaponKnifeBomb.uc">WeaponKnifeBomb.uc (extends WeaponEMPGrenade)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">AmmoName=Class'PartyStuff.AmmoKB'<br>ProjectileClass=Class'PartyStuff.KnifeBomb'<br>InventoryGroup=35<br>ItemName="Knife Grenade"<br>ItemArticle="a"<br>Description="A knifer.."<br>beltDescription="KNIFE"<br>MultiSkins(4)=Texture'DeusExDeco.Skins.AlarmLightTex3'</div>
<h3 id="WeaponKnifeBomb.BecomePickup"><a class="headerlink" href="#WeaponKnifeBomb.BecomePickup" title="Permanent link">BecomePickup</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.BecomePickup();<br>   if (Level.NetMode != NM_Standalone)<br>      if (bTossedOut)<br>         Lifespan = 0.0;<br><br></div>
<h3 id="WeaponKnifeBomb.Fire"><a class="headerlink" href="#WeaponKnifeBomb.Fire" title="Permanent link">Fire</a> (float Value)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if (Pawn(Owner) != None)<br>&#9;{<br>&#9;&#9;if (bNearWall)<br>&#9;&#9;{<br>&#9;&#9;&#9;bReadyToFire = False;<br>&#9;&#9;&#9;GotoState('NormalFire');<br>&#9;&#9;&#9;bPointing = True;<br>&#9;&#9;&#9;PlayAnim('Place',, 0.1);<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br>&#9;Super.Fire(Value);<br><br></div>
<h3 id="WeaponKnifeBomb.PostBeginPlay"><a class="headerlink" href="#WeaponKnifeBomb.PostBeginPlay" title="Permanent link">PostBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   Super.PostBeginPlay();<br>   bWeaponStay=False;<br><br></div>
<h3 id="WeaponKnifeBomb.ProjectileFire"><a class="headerlink" href="#WeaponKnifeBomb.ProjectileFire" title="Permanent link">ProjectileFire</a> (class<projectile> ProjClass, float ProjSpeed, bool bWarn) -> Projectile</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Projectile proj;<br><br><br>&#9;proj = Super.ProjectileFire(ProjClass, ProjSpeed, bWarn);<br><br>&#9;if (proj != None)<br>&#9;&#9;proj.PlayAnim('Open');<br><br></div>
<h3 id="WeaponKnifeBomb.TestMPBeltSpot"><a class="headerlink" href="#WeaponKnifeBomb.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return (BeltSpot == 4);<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WeaponLaserAssault.uc" title="Permanent link"><h2 id="WeaponLaserAssault.uc">WeaponLaserAssault.uc (extends WeaponAssaultGun)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">HitDamage=8<br>bInstantHit=False<br>ProjectileClass=Class'PartyStuff.LB'<br>InventoryGroup=132<br>ItemName="|P2Charged Laser Rifle"<br>beltDescription="LASER"<br>Mass=1.000000</div>
<h3 id="WeaponLaserAssault.TestMPBeltSpot"><a class="headerlink" href="#WeaponLaserAssault.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WeaponLightdartGun.uc" title="Permanent link"><h2 id="WeaponLightdartGun.uc">WeaponLightdartGun.uc (extends DeusExWeapon)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var bool bTorchOn;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">GoverningSkill=Class'DeusEx.SkillWeaponPistol'<br>NoiseLevel=0.010000<br>ShotTime=0.150000<br>reloadTime=0.000000<br>HitDamage=8<br>maxRange=4800<br>AccurateRange=2400<br>BaseAccuracy=0.800000<br>bCanHaveScope=True<br>bHasScope=True<br>ScopeFOV=25<br>bCanHaveLaser=True<br>bHasLaser=True<br>recoilStrength=0.100000<br>mpReloadTime=1.500000<br>mpHitDamage=30<br>mpBaseAccuracy=0.200000<br>mpAccurateRange=1200<br>mpMaxRange=8200<br>bCanHaveModBaseAccuracy=True<br>bCanHaveModReloadCount=True<br>bCanHaveModAccurateRange=True<br>bCanHaveModReloadTime=True<br>FireOffset=(X=-24.000000,Y=10.000000,Z=14.000000)<br>ProjectileClass=Class'PartyStuff.DartLight'<br>shakemag=50.000000<br>FireSound=Sound'DeusExSounds.Weapons.StealthPistolFire'<br>AltFireSound=Sound'DeusExSounds.Weapons.StealthPistolReloadEnd'<br>CockingSound=Sound'DeusExSounds.Weapons.StealthPistolReload'<br>SelectSound=Sound'DeusExSounds.Weapons.StealthPistolSelect'<br>InventoryGroup=3<br>ItemName="|P2Light Gun"<br>PlayerViewOffset=(X=24.000000,Y=-10.000000,Z=-14.000000)<br>PlayerViewMesh=LodMesh'DeusExItems.StealthPistol'<br>PickupViewMesh=LodMesh'DeusExItems.StealthPistolPickup'<br>ThirdPersonMesh=LodMesh'DeusExItems.StealthPistol3rd'<br>Icon=Texture'DeusExUI.Icons.BeltIconStealthPistol'<br>largeIcon=Texture'DeusExUI.Icons.LargeIconStealthPistol'<br>largeIconWidth=47<br>largeIconHeight=37<br>Description="A modified nail pistol with extra nail capacity and more accuracy than a regular nailgun."<br>beltDescription="|p2LGUN"<br>Mesh=LodMesh'DeusExItems.StealthPistolPickup'<br>CollisionRadius=8.000000<br>CollisionHeight=0.800000</div>
<h3 id="WeaponLightdartGun.LaserOff"><a class="headerlink" href="#WeaponLightdartGun.LaserOff" title="Permanent link">LaserOff</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>if(bTorchOn)<br>&#9;TorchToggle();<br><br></div>
<h3 id="WeaponLightdartGun.LaserToggle"><a class="headerlink" href="#WeaponLightdartGun.LaserToggle" title="Permanent link">LaserToggle</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>TorchToggle();<br><br></div>
<h3 id="WeaponLightdartGun.OffTorch"><a class="headerlink" href="#WeaponLightdartGun.OffTorch" title="Permanent link">OffTorch</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>owner.LightType=LT_None;<br><br></div>
<h3 id="WeaponLightdartGun.OnTorch"><a class="headerlink" href="#WeaponLightdartGun.OnTorch" title="Permanent link">OnTorch</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>owner.LightEffect=LE_Spotlight;<br>owner.LightBrightness=120;<br>owner.LightSaturation=255;<br>owner.LightRadius=64;<br>owner.LightPeriod=32;<br>owner.LightCone=64;<br>owner.LightType=LT_Steady;<br><br></div>
<h3 id="WeaponLightdartGun.PreBeginPlay"><a class="headerlink" href="#WeaponLightdartGun.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;// If this is a netgame, then override defaults<br>&#9;if ( Level.NetMode != NM_StandAlone )<br>&#9;{<br>&#9;&#9;HitDamage = mpHitDamage;<br>&#9;&#9;BaseAccuracy = mpBaseAccuracy;<br>&#9;&#9;ReloadTime = mpReloadTime;<br>&#9;&#9;AccurateRange = mpAccurateRange;<br>&#9;&#9;MaxRange = mpMaxRange;<br>&#9;&#9;ReloadCount = mpReloadCount;<br>&#9;}<br><br></div>
<h3 id="WeaponLightdartGun.TestMPBeltSpot"><a class="headerlink" href="#WeaponLightdartGun.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<h3 id="WeaponLightdartGun.TorchToggle"><a class="headerlink" href="#WeaponLightdartGun.TorchToggle" title="Permanent link">TorchToggle</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>if (bTorchOn)<br>&#9;{<br>&#9;bTorchOn=False;<br>&#9;OffTorch();<br>&#9;}<br>else<br>&#9;{<br>&#9;bTorchOn=True;<br>&#9;OnTorch();<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WeaponLightshow.uc" title="Permanent link"><h2 id="WeaponLightshow.uc">WeaponLightshow.uc (extends WeaponEMPGrenade)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">AmmoName=Class'PartyStuff.AmmoLS'<br>ProjectileClass=Class'PartyStuff.Lightshow'<br>InventoryGroup=35<br>ItemName="Lightshow"<br>ItemArticle="a"<br>Description="A Lighter.."<br>beltDescription="LIGHT"<br>MultiSkins(4)=Texture'DeusExDeco.Skins.AlarmLightTex3'</div>
<h3 id="WeaponLightshow.BecomePickup"><a class="headerlink" href="#WeaponLightshow.BecomePickup" title="Permanent link">BecomePickup</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.BecomePickup();<br>   if (Level.NetMode != NM_Standalone)<br>      if (bTossedOut)<br>         Lifespan = 0.0;<br><br></div>
<h3 id="WeaponLightshow.Fire"><a class="headerlink" href="#WeaponLightshow.Fire" title="Permanent link">Fire</a> (float Value)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if (Pawn(Owner) != None)<br>&#9;{<br>&#9;&#9;if (bNearWall)<br>&#9;&#9;{<br>&#9;&#9;&#9;bReadyToFire = False;<br>&#9;&#9;&#9;GotoState('NormalFire');<br>&#9;&#9;&#9;bPointing = True;<br>&#9;&#9;&#9;PlayAnim('Place',, 0.1);<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br>&#9;Super.Fire(Value);<br><br></div>
<h3 id="WeaponLightshow.PostBeginPlay"><a class="headerlink" href="#WeaponLightshow.PostBeginPlay" title="Permanent link">PostBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   Super.PostBeginPlay();<br>   bWeaponStay=False;<br><br></div>
<h3 id="WeaponLightshow.ProjectileFire"><a class="headerlink" href="#WeaponLightshow.ProjectileFire" title="Permanent link">ProjectileFire</a> (class<projectile> ProjClass, float ProjSpeed, bool bWarn) -> Projectile</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Projectile proj;<br><br><br>&#9;proj = Super.ProjectileFire(ProjClass, ProjSpeed, bWarn);<br><br>&#9;if (proj != None)<br>&#9;&#9;proj.PlayAnim('Open');<br><br></div>
<h3 id="WeaponLightshow.TestMPBeltSpot"><a class="headerlink" href="#WeaponLightshow.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return (BeltSpot == 4);<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WeaponMagnum.uc" title="Permanent link"><h2 id="WeaponMagnum.uc">WeaponMagnum.uc (extends WeaponPistol)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var float	mpRecoilStrength;<br>var MuzzleFlash flash;<br>var float mpNoScopeMult;<br>var() float Thick;<br>var() float PawnThick;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">Thick=64.000000<br>PawnThick=32.000000<br>HitDamage=45<br>bHasScope=True<br>mpHitDamage=100<br>FireSound=Sound'DeusExSounds.Weapons.RifleFire'<br>AltFireSound=Sound'DeusExSounds.Weapons.RifleReloadEnd'<br>CockingSound=Sound'DeusExSounds.Weapons.RifleReload'<br>SelectSound=Sound'DeusExSounds.Weapons.RifleSelect'<br>InventoryGroup=122<br>ItemName="Magnum"<br>ItemArticle="the"<br>beltDescription="MGNM"<br>Mass=1.000000</div>
<h3 id="WeaponMagnum.Fire"><a class="headerlink" href="#WeaponMagnum.Fire" title="Permanent link">Fire</a> (float value)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Local Vector offset,x,y,z;<br>&#9;local rotator rot;<br><br>     if (owner==none)<br>        return;<br>     else if (!bHasMuzzleFlash)<br>         {<br>         super.fire(value);<br>         return;<br>         }<br>     GetAxes(pawn(owner).ViewRotation,x,y,z);<br>     if (owner.IsA('DeusExPlayer'))<br>        {<br>        offset = Owner.Location + CalcDrawOffset() + FireOffset.X * X + FireOffset.Y * Y + FireOffset.Z * Z;<br>        rot=DeusExPlayer(owner).viewRotation;<br>        }<br>     else<br>         {<br>         offset= Owner.Location;<br>         offset += X * Owner.CollisionRadius*2;<br>         rot=owner.rotation;<br>         }<br>     Flash = spawn(class'muzzleflash',,,offset,rot);<br>     if(flash!=none)<br>         {<br>         Flash.setbase(owner);<br>         //Flash.playanim('shoot');<br>         }<br>     super.fire(value);<br><br></div>
<h3 id="WeaponMagnum.TestMPBeltSpot"><a class="headerlink" href="#WeaponMagnum.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<h3 id="WeaponMagnum.TraceFire"><a class="headerlink" href="#WeaponMagnum.TraceFire" title="Permanent link">TraceFire</a> (float Accuracy)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Vector HitLocation;<br>&#9;local Vector HitNormal;<br>&#9;local Vector StartTrace;<br>&#9;local Vector EndTrace;<br>&#9;local Vector X;<br>&#9;local Vector Y;<br>&#9;local Vector Z;<br>&#9;local Actor Other;<br>&#9;local Pawn PawnOwner;<br>&#9;local float Penetration;<br>&#9;local Rotator rot;<br><br>&#9;<br>&#9;PawnOwner=Pawn(Owner);<br>&#9;Owner.MakeNoise(PawnOwner.SoundDampening);<br>&#9;GetAxes(PawnOwner.ViewRotation,X,Y,Z);<br>&#9;StartTrace=Owner.Location + CalcDrawOffset() + FireOffset.X * X + FireOffset.Y * Y + FireOffset.Z * Z;<br>&#9;AdjustedAim=PawnOwner.AdjustAim(1000000.00,StartTrace,2 * aimerror,False,False);<br>&#9;EndTrace=StartTrace + Accuracy * (FRand() - 0.50) * Y * 1000 + Accuracy * (FRand() - 0.50) * Z * 1000;<br>&#9;X=vector(AdjustedAim);<br>&#9;EndTrace += 10000 * X;<br>&#9;Other=PawnOwner.TraceShot(HitLocation,HitNormal,EndTrace,StartTrace);<br>&#9;rot = Rotator(EndTrace - StartTrace);<br>&#9;Spawn(class'Tracer',,, StartTrace + 96 * Vector(rot), rot);<br>&#9;ProcessTraceHit(Other,HitLocation,HitNormal,X,Y,Z);<br>&#9;if ( Other.IsA('Pawn') )<br>&#9;{<br>&#9;&#9;Penetration=PawnThick;<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;Penetration=Thick;<br>&#9;}<br>&#9;StartTrace=HitLocation + HitNormal + Penetration * X;<br>&#9;EndTrace=StartTrace + Accuracy * (FRand() - 0.50) * Y * 1000 + Accuracy * (FRand() - 0.50) * Z * 1000;<br>&#9;EndTrace += 10000 * X;<br>&#9;Other=PawnOwner.TraceShot(HitLocation,HitNormal,EndTrace,StartTrace);<br>&#9;ProcessTraceHit(Other,HitLocation,HitNormal,X,Y,Z);<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WeaponMomsKnife.uc" title="Permanent link"><h2 id="WeaponMomsKnife.uc">WeaponMomsKnife.uc (extends DeusExWeapon)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">LowAmmoWaterMark=0<br>GoverningSkill=Class'DeusEx.SkillWeaponLowTech'<br>NoiseLevel=0.050000<br>EnemyEffective=ENMEFF_Organic<br>Concealability=CONC_Visual<br>reloadTime=0.000000<br>HitDamage=5<br>maxRange=80<br>AccurateRange=80<br>BaseAccuracy=1.000000<br>bHasMuzzleFlash=False<br>bFallbackWeapon=True<br>mpHitDamage=20<br>mpBaseAccuracy=1.000000<br>mpAccurateRange=96<br>mpMaxRange=96<br>AmmoName=Class'DeusEx.AmmoNone'<br>ReloadCount=0<br>FireOffset=(X=-5.000000,Y=8.000000,Z=14.000000)<br>ProjectileClass=Class'PartyStuff.MomsKnife'<br>shakemag=20.000000<br>FireSound=Sound'DeusExSounds.Weapons.CombatKnifeFire'<br>SelectSound=Sound'DeusExSounds.Weapons.CombatKnifeSelect'<br>Misc1Sound=Sound'DeusExSounds.Weapons.CombatKnifeHitFlesh'<br>Misc2Sound=Sound'DeusExSounds.Weapons.CombatKnifeHitHard'<br>Misc3Sound=Sound'DeusExSounds.Weapons.CombatKnifeHitSoft'<br>InventoryGroup=11<br>ItemName="Knife"<br>ItemArticle="Mom's"<br>PlayerViewOffset=(X=5.000000,Y=-8.000000,Z=-14.000000)<br>PlayerViewMesh=LodMesh'DeusExItems.CombatKnife'<br>PickupViewMesh=LodMesh'DeusExItems.CombatKnifePickup'<br>ThirdPersonMesh=LodMesh'DeusExItems.CombatKnife3rd'<br>Icon=Texture'DeusExUI.Icons.BeltIconCombatKnife'<br>largeIcon=Texture'DeusExUI.Icons.LargeIconCombatKnife'<br>largeIconWidth=49<br>largeIconHeight=45<br>Description="An ultra-high carbon stainless steel knife."<br>beltDescription="MOMS"<br>Mesh=LodMesh'DeusExItems.CombatKnifePickup'<br>CollisionRadius=12.650000<br>CollisionHeight=0.800000</div>
<h3 id="WeaponMomsKnife.Fire"><a class="headerlink" href="#WeaponMomsKnife.Fire" title="Permanent link">Fire</a> (float Value)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local MomsKnifeRespawner MKR;<br><br>&#9;super.Fire(value);<br>&#9;MKR = Spawn(class'MomsKnifeRespawner',,, Location);<br>&#9;MKR.Giver = PlayerPawn(Owner);<br>&#9;MKR.SetTimer(2,False);<br>&#9;Destroy();<br><br></div>
<h3 id="WeaponMomsKnife.PreBeginPlay"><a class="headerlink" href="#WeaponMomsKnife.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;// If this is a netgame, then override defaults<br>&#9;if ( Level.NetMode != NM_StandAlone )<br>&#9;{<br>&#9;&#9;HitDamage = mpHitDamage;<br>&#9;&#9;BaseAccuracy = mpBaseAccuracy;<br>&#9;&#9;ReloadTime = mpReloadTime;<br>&#9;&#9;AccurateRange = mpAccurateRange;<br>&#9;&#9;MaxRange = mpMaxRange;<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WeaponMomsKnives.uc" title="Permanent link"><h2 id="WeaponMomsKnives.uc">WeaponMomsKnives.uc (extends WeaponShuriken)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">AmmoName=Class'PartyStuff.AmmoPoisonKnife'<br>ProjectileClass=Class'PartyStuff.MomsKnife'<br>ItemName="Mom's Knives"<br>PlayerViewOffset=(X=5.000000,Y=-8.000000,Z=-14.000000)<br>PlayerViewMesh=LodMesh'DeusExItems.CombatKnife'<br>PickupViewMesh=LodMesh'DeusExItems.CombatKnifePickup'<br>ThirdPersonMesh=LodMesh'DeusExItems.CombatKnife3rd'<br>Icon=Texture'DeusExUI.Icons.BeltIconCombatKnife'<br>largeIcon=Texture'DeusExUI.Icons.LargeIconCombatKnife'<br>largeIconWidth=49<br>Description="An ultra-high carbon stainless steel knife."<br>beltDescription="MOMS T"<br>Mesh=LodMesh'DeusExItems.CombatKnifePickup'<br>CollisionRadius=12.650000<br>CollisionHeight=0.800000</div>
<br><br><hr>
<a class="headerlink" href="#WeaponNailGun.uc" title="Permanent link"><h2 id="WeaponNailGun.uc">WeaponNailGun.uc (extends DeusExWeapon)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var bool bTorchOn;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">GoverningSkill=Class'DeusEx.SkillWeaponPistol'<br>NoiseLevel=0.010000<br>ShotTime=0.150000<br>reloadTime=0.000000<br>HitDamage=8<br>maxRange=4800<br>AccurateRange=2400<br>BaseAccuracy=0.800000<br>bCanHaveScope=True<br>bHasScope=True<br>ScopeFOV=25<br>bCanHaveLaser=True<br>bHasLaser=True<br>recoilStrength=0.100000<br>mpReloadTime=1.500000<br>mpHitDamage=30<br>mpBaseAccuracy=0.200000<br>mpAccurateRange=1200<br>mpMaxRange=8200<br>bCanHaveModBaseAccuracy=True<br>bCanHaveModReloadCount=True<br>bCanHaveModAccurateRange=True<br>bCanHaveModReloadTime=True<br>FireOffset=(X=-24.000000,Y=10.000000,Z=14.000000)<br>ProjectileClass=Class'PartyStuff.Nail'<br>shakemag=50.000000<br>FireSound=Sound'DeusExSounds.Weapons.MiniCrossbowFire'<br>AltFireSound=Sound'DeusExSounds.Weapons.StealthPistolReloadEnd'<br>CockingSound=Sound'DeusExSounds.Weapons.StealthPistolReload'<br>SelectSound=Sound'DeusExSounds.Weapons.StealthPistolSelect'<br>InventoryGroup=113<br>ItemName="|P2Nail Gun"<br>PlayerViewOffset=(X=24.000000,Y=-10.000000,Z=-14.000000)<br>PlayerViewMesh=LodMesh'DeusExItems.StealthPistol'<br>PickupViewMesh=LodMesh'DeusExItems.StealthPistolPickup'<br>ThirdPersonMesh=LodMesh'DeusExItems.StealthPistol3rd'<br>Icon=Texture'DeusExUI.Icons.BeltIconStealthPistol'<br>largeIcon=Texture'DeusExUI.Icons.LargeIconStealthPistol'<br>largeIconWidth=47<br>largeIconHeight=37<br>Description="A modified nail pistol with extra nail capacity and more accuracy than a regular nailgun."<br>beltDescription="|p2NGUN"<br>Mesh=LodMesh'DeusExItems.StealthPistolPickup'<br>CollisionRadius=8.000000<br>CollisionHeight=0.800000</div>
<h3 id="WeaponNailGun.Fire"><a class="headerlink" href="#WeaponNailGun.Fire" title="Permanent link">Fire</a> (float Value)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.Fire(Value);<br>   &#9;  SpawnSmoke();<br><br></div>
<h3 id="WeaponNailGun.LaserOff"><a class="headerlink" href="#WeaponNailGun.LaserOff" title="Permanent link">LaserOff</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>if(bTorchOn)<br>&#9;TorchToggle();<br><br></div>
<h3 id="WeaponNailGun.LaserToggle"><a class="headerlink" href="#WeaponNailGun.LaserToggle" title="Permanent link">LaserToggle</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>TorchToggle();<br><br></div>
<h3 id="WeaponNailGun.OffTorch"><a class="headerlink" href="#WeaponNailGun.OffTorch" title="Permanent link">OffTorch</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>owner.LightType=LT_None;<br><br></div>
<h3 id="WeaponNailGun.OnTorch"><a class="headerlink" href="#WeaponNailGun.OnTorch" title="Permanent link">OnTorch</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>owner.LightEffect=LE_Spotlight;<br>owner.LightBrightness=120;<br>owner.LightSaturation=255;<br>owner.LightRadius=64;<br>owner.LightPeriod=32;<br>owner.LightCone=64;<br>owner.LightType=LT_Steady;<br><br></div>
<h3 id="WeaponNailGun.PreBeginPlay"><a class="headerlink" href="#WeaponNailGun.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;// If this is a netgame, then override defaults<br>&#9;if ( Level.NetMode != NM_StandAlone )<br>&#9;{<br>&#9;&#9;HitDamage = mpHitDamage;<br>&#9;&#9;BaseAccuracy = mpBaseAccuracy;<br>&#9;&#9;ReloadTime = mpReloadTime;<br>&#9;&#9;AccurateRange = mpAccurateRange;<br>&#9;&#9;MaxRange = mpMaxRange;<br>&#9;&#9;ReloadCount = mpReloadCount;<br>&#9;}<br><br></div>
<h3 id="WeaponNailGun.SpawnSmoke"><a class="headerlink" href="#WeaponNailGun.SpawnSmoke" title="Permanent link">SpawnSmoke</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local SmokeTrail trail;<br>&#9;local Vector X,Y,Z;<br><br><br>   if (Owner != None)<br> <br>    trail = Spawn(Class'SmokeTrail',,, self.Location + CalcDrawOffset() + (FireOffset.X)* X + (FireOffset.Y) * Y  + (FireOffset.Z) * Z + vect(1,-0.8,1) * 3 );<br>              if (trail != None)<br>           <br>             trail.SetBase(self);<br>             trail.DrawScale = 1.00000;<br>             trail.OrigScale = trail.DrawScale;<br>         //    trail.RemoteRole = ROLE_None;<br>            <br><br></div>
<h3 id="WeaponNailGun.TestMPBeltSpot"><a class="headerlink" href="#WeaponNailGun.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<h3 id="WeaponNailGun.TorchToggle"><a class="headerlink" href="#WeaponNailGun.TorchToggle" title="Permanent link">TorchToggle</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>if (bTorchOn)<br>&#9;{<br>&#9;bTorchOn=False;<br>&#9;OffTorch();<br>&#9;}<br>else<br>&#9;{<br>&#9;bTorchOn=True;<br>&#9;OnTorch();<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WeaponNailGunWeaker.uc" title="Permanent link"><h2 id="WeaponNailGunWeaker.uc">WeaponNailGunWeaker.uc (extends DeusExWeapon)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var bool bTorchOn;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">GoverningSkill=Class'DeusEx.SkillWeaponPistol'<br>NoiseLevel=0.010000<br>ShotTime=0.150000<br>reloadTime=0.000000<br>HitDamage=8<br>maxRange=4800<br>AccurateRange=2400<br>BaseAccuracy=0.800000<br>bCanHaveScope=True<br>bHasScope=True<br>ScopeFOV=25<br>bCanHaveLaser=True<br>bHasLaser=True<br>recoilStrength=0.100000<br>mpReloadTime=1.500000<br>mpHitDamage=30<br>mpBaseAccuracy=0.200000<br>mpAccurateRange=1200<br>mpMaxRange=8200<br>bCanHaveModBaseAccuracy=True<br>bCanHaveModReloadCount=True<br>bCanHaveModAccurateRange=True<br>bCanHaveModReloadTime=True<br>FireOffset=(X=-24.000000,Y=10.000000,Z=14.000000)<br>ProjectileClass=Class'PartyStuff.Nail2'<br>shakemag=50.000000<br>FireSound=Sound'DeusExSounds.Weapons.MiniCrossbowFire'<br>AltFireSound=Sound'DeusExSounds.Weapons.StealthPistolReloadEnd'<br>CockingSound=Sound'DeusExSounds.Weapons.StealthPistolReload'<br>SelectSound=Sound'DeusExSounds.Weapons.StealthPistolSelect'<br>InventoryGroup=113<br>ItemName="|P2Nail Gun"<br>PlayerViewOffset=(X=24.000000,Y=-10.000000,Z=-14.000000)<br>PlayerViewMesh=LodMesh'DeusExItems.StealthPistol'<br>PickupViewMesh=LodMesh'DeusExItems.StealthPistolPickup'<br>ThirdPersonMesh=LodMesh'DeusExItems.StealthPistol3rd'<br>Icon=Texture'DeusExUI.Icons.BeltIconStealthPistol'<br>largeIcon=Texture'DeusExUI.Icons.LargeIconStealthPistol'<br>largeIconWidth=47<br>largeIconHeight=37<br>Description="A modified nail pistol with extra nail capacity and more accuracy than a regular nailgun."<br>beltDescription="|p2NGUN"<br>Mesh=LodMesh'DeusExItems.StealthPistolPickup'<br>CollisionRadius=8.000000<br>CollisionHeight=0.800000</div>
<h3 id="WeaponNailGunWeaker.Fire"><a class="headerlink" href="#WeaponNailGunWeaker.Fire" title="Permanent link">Fire</a> (float Value)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.Fire(Value);<br>   &#9;  SpawnSmoke();<br><br></div>
<h3 id="WeaponNailGunWeaker.LaserOff"><a class="headerlink" href="#WeaponNailGunWeaker.LaserOff" title="Permanent link">LaserOff</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>if(bTorchOn)<br>&#9;TorchToggle();<br><br></div>
<h3 id="WeaponNailGunWeaker.LaserToggle"><a class="headerlink" href="#WeaponNailGunWeaker.LaserToggle" title="Permanent link">LaserToggle</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>TorchToggle();<br><br></div>
<h3 id="WeaponNailGunWeaker.OffTorch"><a class="headerlink" href="#WeaponNailGunWeaker.OffTorch" title="Permanent link">OffTorch</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>owner.LightType=LT_None;<br><br></div>
<h3 id="WeaponNailGunWeaker.OnTorch"><a class="headerlink" href="#WeaponNailGunWeaker.OnTorch" title="Permanent link">OnTorch</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>owner.LightEffect=LE_Spotlight;<br>owner.LightBrightness=120;<br>owner.LightSaturation=255;<br>owner.LightRadius=64;<br>owner.LightPeriod=32;<br>owner.LightCone=64;<br>owner.LightType=LT_Steady;<br><br></div>
<h3 id="WeaponNailGunWeaker.PreBeginPlay"><a class="headerlink" href="#WeaponNailGunWeaker.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;// If this is a netgame, then override defaults<br>&#9;if ( Level.NetMode != NM_StandAlone )<br>&#9;{<br>&#9;&#9;HitDamage = mpHitDamage;<br>&#9;&#9;BaseAccuracy = mpBaseAccuracy;<br>&#9;&#9;ReloadTime = mpReloadTime;<br>&#9;&#9;AccurateRange = mpAccurateRange;<br>&#9;&#9;MaxRange = mpMaxRange;<br>&#9;&#9;ReloadCount = mpReloadCount;<br>&#9;}<br><br></div>
<h3 id="WeaponNailGunWeaker.SpawnSmoke"><a class="headerlink" href="#WeaponNailGunWeaker.SpawnSmoke" title="Permanent link">SpawnSmoke</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local SmokeTrail trail;<br>&#9;local Vector X,Y,Z;<br><br><br>   if (Owner != None)<br> <br>    trail = Spawn(Class'SmokeTrail',,, self.Location + CalcDrawOffset() + (FireOffset.X)* X + (FireOffset.Y) * Y  + (FireOffset.Z) * Z + vect(1,-0.8,1) * 3 );<br>              if (trail != None)<br>           <br>             trail.SetBase(self);<br>             trail.DrawScale = 1.00000;<br>             trail.OrigScale = trail.DrawScale;<br>         //    trail.RemoteRole = ROLE_None;<br>            <br><br></div>
<h3 id="WeaponNailGunWeaker.TestMPBeltSpot"><a class="headerlink" href="#WeaponNailGunWeaker.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<h3 id="WeaponNailGunWeaker.TorchToggle"><a class="headerlink" href="#WeaponNailGunWeaker.TorchToggle" title="Permanent link">TorchToggle</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>if (bTorchOn)<br>&#9;{<br>&#9;bTorchOn=False;<br>&#9;OffTorch();<br>&#9;}<br>else<br>&#9;{<br>&#9;bTorchOn=True;<br>&#9;OnTorch();<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WeaponNanoSword2.uc" title="Permanent link"><h2 id="WeaponNanoSword2.uc">WeaponNanoSword2.uc (extends DeusExWeapon)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">Var EModeNum Mode;<br>var DeusExPlayer DXPl;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">LowAmmoWaterMark=0<br>GoverningSkill=Class'DeusEx.SkillWeaponLowTech'<br>NoiseLevel=0.050000<br>reloadTime=0.000000<br>HitDamage=20<br>maxRange=96<br>AccurateRange=96<br>BaseAccuracy=1.000000<br>AreaOfEffect=AOE_Cone<br>bHasMuzzleFlash=False<br>bHandToHand=True<br>mpHitDamage=10<br>mpBaseAccuracy=1.000000<br>mpAccurateRange=150<br>mpMaxRange=150<br>AmmoName=Class'DeusEx.AmmoNone'<br>ReloadCount=0<br>bInstantHit=True<br>FireOffset=(X=-21.000000,Y=16.000000,Z=27.000000)<br>shakemag=20.000000<br>FireSound=Sound'DeusExSounds.Weapons.NanoSwordFire'<br>SelectSound=Sound'DeusExSounds.Weapons.NanoSwordSelect'<br>Misc1Sound=Sound'DeusExSounds.Weapons.NanoSwordHitFlesh'<br>Misc2Sound=Sound'DeusExSounds.Weapons.NanoSwordHitHard'<br>Misc3Sound=Sound'DeusExSounds.Weapons.NanoSwordHitSoft'<br>InventoryGroup=14<br>ItemName="Dragon's Tooth Sword"<br>ItemArticle="the"<br>PlayerViewOffset=(X=21.000000,Y=-16.000000,Z=-27.000000)<br>PlayerViewMesh=LodMesh'DeusExItems.NanoSword'<br>PickupViewMesh=LodMesh'DeusExItems.NanoSwordPickup'<br>ThirdPersonMesh=LodMesh'DeusExItems.NanoSword3rd'<br>LandSound=Sound'DeusExSounds.Generic.DropLargeWeapon'<br>Icon=Texture'DeusExUI.Icons.BeltIconDragonTooth'<br>largeIcon=Texture'DeusExUI.Icons.LargeIconDragonTooth'<br>largeIconWidth=205<br>largeIconHeight=46<br>invSlotsX=4<br>Description="The true weapon of a modern warrior, the Dragon's Tooth is not a sword in the traditional sense, but a nanotechnologically constructed blade that is dynamically 'forged' on command into a non-eutactic solid. Nanoscale whetting devices insure that the blade is both unbreakable and lethally sharp."<br>beltDescription="DRAGON"<br>Mesh=LodMesh'DeusExItems.NanoSwordPickup'<br>CollisionRadius=32.000000<br>CollisionHeight=2.400000<br>LightType=LT_Steady<br>LightEffect=LE_WateryShimmer<br>LightBrightness=224<br>LightHue=160<br>LightSaturation=64<br>LightRadius=4<br>Mass=20.000000</div>
<h3 id="WeaponNanoSword2.BeginState"><a class="headerlink" href="#WeaponNanoSword2.BeginState" title="Permanent link">BeginState</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;Super.BeginState();<br>&#9;&#9;LightType = LT_Steady;<br>&#9;<br></div>
<h3 id="WeaponNanoSword2.EndState"><a class="headerlink" href="#WeaponNanoSword2.EndState" title="Permanent link">EndState</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;Super.EndState();<br>&#9;&#9;LightType = LT_None;<br>&#9;<br></div>
<h3 id="WeaponNanoSword2.Fire"><a class="headerlink" href="#WeaponNanoSword2.Fire" title="Permanent link">Fire</a> (Float value)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local ThrownnanoSword S;<br><br>&#9;DXPL=DeusExPlayer(Owner);<br>&#9;If(Mode==Mode_Throw)<br>&#9;{<br>&#9;&#9;S=Spawn(class'ThrownnanoSword',Pawn(Owner),,Location+vect(0,0,-2),DXPL.ViewRotation);<br>&#9;&#9;if(S!=None)<br>&#9;&#9;{<br>&#9;&#9;&#9;S.SetOwner(DXPL);<br>&#9;&#9;&#9;S.Lifespan=15;<br>&#9;&#9;}<br>&#9;&#9;Destroy();<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;Super.Fire(Value);<br>&#9;}<br><br></div>
<h3 id="WeaponNanoSword2.PreBeginPlay"><a class="headerlink" href="#WeaponNanoSword2.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;// If this is a netgame, then override defaults<br>&#9;if ( Level.NetMode != NM_StandAlone )<br>&#9;{<br>&#9;&#9;HitDamage = mpHitDamage;<br>&#9;&#9;BaseAccuracy = mpBaseAccuracy;<br>&#9;&#9;ReloadTime = mpReloadTime;<br>&#9;&#9;AccurateRange = mpAccurateRange;<br>&#9;&#9;MaxRange = mpMaxRange;<br>&#9;}<br><br></div>
<h3 id="WeaponNanoSword2.cycleammo"><a class="headerlink" href="#WeaponNanoSword2.cycleammo" title="Permanent link">cycleammo</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;switch Mode<br>&#9;&#9;{<br>&#9;&#9;case MODE_Normal:<br>&#9;&#9;&#9;Mode = MODE_Throw;<br>&#9;&#9;&#9;if (Role == ROLE_Authority)<br>&#9;&#9;&#9;Pawn(Owner).Clientmessage("Throwing mode");<br>&#9;&#9;&#9;break;<br><br>&#9;&#9;case MODE_Throw:<br>&#9;&#9;&#9;Mode = MODE_Normal;<br>&#9;&#9;&#9;if (Role == ROLE_Authority)<br>&#9;&#9;&#9;Pawn(Owner).Clientmessage("Normal mode");<br>&#9;&#9;&#9;break;<br>&#9;&#9;&#9;<br>&#9;&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WeaponNeedler.uc" title="Permanent link"><h2 id="WeaponNeedler.uc">WeaponNeedler.uc (extends WeaponAssaultGun)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">HitDamage=8<br>bInstantHit=False<br>ProjectileClass=Class'DeusEx.Dart'<br>InventoryGroup=217<br>ItemName="|P1Needle Gun"<br>beltDescription="NEEDLE"<br>Mass=1.000000</div>
<h3 id="WeaponNeedler.TestMPBeltSpot"><a class="headerlink" href="#WeaponNeedler.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WeaponNeedler2.uc" title="Permanent link"><h2 id="WeaponNeedler2.uc">WeaponNeedler2.uc (extends WeaponAssaultGun)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">HitDamage=8<br>bInstantHit=False<br>ProjectileClass=Class'PartyStuff.DartLight'<br>InventoryGroup=255<br>ItemName="|P1Disco Needle Gun"<br>beltDescription="D-NEEDLE"<br>Mass=1.000000</div>
<h3 id="WeaponNeedler2.TestMPBeltSpot"><a class="headerlink" href="#WeaponNeedler2.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WeaponPhatRifle.uc" title="Permanent link"><h2 id="WeaponPhatRifle.uc">WeaponPhatRifle.uc (extends DeusExWeapon)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var float	mpRecoilStrength;<br>var bool bReverse;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">LowAmmoWaterMark=30<br>GoverningSkill=Class'DeusEx.SkillWeaponRifle'<br>bAutomatic=True<br>ShotTime=0.100000<br>reloadTime=3.000000<br>HitDamage=0<br>BaseAccuracy=0.700000<br>bCanHaveLaser=True<br>bCanHaveSilencer=True<br>recoilStrength=0.500000<br>MinWeaponAcc=0.200000<br>mpReloadTime=0.500000<br>mpBaseAccuracy=1.000000<br>mpAccurateRange=2400<br>mpMaxRange=2400<br>mpReloadCount=30<br>bCanHaveModBaseAccuracy=True<br>bCanHaveModReloadCount=True<br>bCanHaveModAccurateRange=True<br>bCanHaveModReloadTime=True<br>bCanHaveModRecoilStrength=True<br>AmmoName=Class'DeusEx.Ammo762mm'<br>ReloadCount=30<br>PickupAmmoCount=30<br>bInstantHit=True<br>FireOffset=(X=-16.000000,Y=5.000000,Z=11.500000)<br>shakemag=200.000000<br>FireSound=Sound'DeusExSounds.Weapons.AssaultGunFire'<br>AltFireSound=Sound'DeusExSounds.Weapons.AssaultGunReloadEnd'<br>CockingSound=Sound'DeusExSounds.Weapons.AssaultGunReload'<br>SelectSound=Sound'DeusExSounds.Weapons.AssaultGunSelect'<br>InventoryGroup=4<br>ItemName="phat rifel ermergerd"<br>PlayerViewOffset=(X=16.000000,Y=-5.000000,Z=-11.500000)<br>PlayerViewMesh=LodMesh'DeusExItems.AssaultGun'<br>PickupViewMesh=LodMesh'DeusExItems.AssaultGunPickup'<br>ThirdPersonMesh=LodMesh'DeusExItems.AssaultGun3rd'<br>LandSound=Sound'DeusExSounds.Generic.DropMediumWeapon'<br>Icon=Texture'DeusExUI.Icons.BeltIconAssaultGun'<br>largeIcon=Texture'DeusExUI.Icons.LargeIconAssaultGun'<br>largeIconWidth=94<br>largeIconHeight=65<br>invSlotsX=2<br>invSlotsY=2<br>Description="The 7.62x51mm assault rifle is designed for close-quarters combat, utilizing a shortened barrel and 'bullpup' design for increased maneuverability. An additional underhand 20mm HE launcher increases the rifle's effectiveness against a variety of targets."<br>beltDescription="PHAT"<br>Mesh=LodMesh'DeusExItems.AssaultGunPickup'<br>Fatness=255<br>CollisionRadius=15.000000<br>CollisionHeight=1.100000<br>Mass=30.000000</div>
<h3 id="WeaponPhatRifle.CycleAmmo"><a class="headerlink" href="#WeaponPhatRifle.CycleAmmo" title="Permanent link">CycleAmmo</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;bReverse = !bReverse;<br>&#9;DeusExPlayer(Owner).ClientMessage("Reversing:"@bReverse);<br><br></div>
<h3 id="WeaponPhatRifle.GetDisplayString"><a class="headerlink" href="#WeaponPhatRifle.GetDisplayString" title="Permanent link">GetDisplayString</a> (Actor P) -> string</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(P.isA('DeusExPlayer'))<br>&#9;&#9;return DeusExPlayer(p).PlayerReplicationInfo.PlayerName;<br>&#9;else if(P.isA('ScriptedPawn'))<br>&#9;&#9;return ScriptedPawn(P).FamiliarName;<br>&#9;else if(P.isA('DeusExDecoration'))<br>&#9;&#9;return DeusExDecoration(P).ItemName;<br><br></div>
<h3 id="WeaponPhatRifle.PreBeginPlay"><a class="headerlink" href="#WeaponPhatRifle.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;// If this is a netgame, then override defaults<br>&#9;if ( Level.NetMode != NM_StandAlone )<br>&#9;{<br>&#9;&#9;HitDamage = mpHitDamage;<br>&#9;&#9;BaseAccuracy = mpBaseAccuracy;<br>&#9;&#9;ReloadTime = mpReloadTime;<br>&#9;&#9;AccurateRange = mpAccurateRange;<br>&#9;&#9;MaxRange = mpMaxRange;<br>&#9;&#9;ReloadCount = mpReloadCount;<br><br>&#9;&#9;// Tuned for advanced -> master skill system (Monte & Ricardo's number) client-side<br>&#9;&#9;recoilStrength = 0.75;<br>&#9;}<br><br></div>
<h3 id="WeaponPhatRifle.ProcessTraceHit"><a class="headerlink" href="#WeaponPhatRifle.ProcessTraceHit" title="Permanent link">ProcessTraceHit</a> (Actor Other, Vector HitLocation, Vector HitNormal, Vector X, Vector Y, Vector Z)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local float        mult;<br>&#9;local name         damageType;<br>&#9;local DeusExPlayer dxPlayer;<br>&#9;local Pawn P;<br>&#9;local PSSing PSF;<br><br>&#9;<br>&#9;if( Other.isA('DeusExDecoration') || Other.isA('Pawn') )<br>&#9;{<br>&#9;&#9;if(!bReverse)<br>&#9;&#9;{<br>&#9;&#9;&#9;Other.Fatness += 5;<br>&#9;&#9;&#9;&#9;if(Other.Fatness >= 249)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DeusExPlayer(Owner).bAdmin)<br>&#9;&#9;&#9;&#9;&#9;&#9;DeusExPlayer(Other).ReducedDamageType = '';<br>&#9;&#9;&#9;&#9;&#9;ScriptedPawn(Other).bInvincible=False;<br>&#9;&#9;&#9;&#9;&#9;DeusExDecoration(Other).bInvincible=False;<br>&#9;&#9;&#9;&#9;&#9;Other.TakeDamage(200,DeusExPlayer(Owner),vect(0,0,0),vect(0,0,1),'Exploded');<br>&#9;&#9;&#9;&#9;&#9;Other.Fatness=Other.Default.Fatness;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;{<br>&#9;&#9;&#9;Other.Fatness -= 5;<br>&#9;&#9;&#9;&#9;if(Other.Fatness <= 90)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DeusExPlayer(Owner).bAdmin)<br>&#9;&#9;&#9;&#9;&#9;&#9;DeusExPlayer(Other).ReducedDamageType = '';<br>&#9;&#9;&#9;&#9;&#9;ScriptedPawn(Other).bInvincible=False;<br>&#9;&#9;&#9;&#9;&#9;DeusExDecoration(Other).bInvincible=False;<br>&#9;&#9;&#9;&#9;&#9;Other.TakeDamage(200,DeusExPlayer(Owner),vect(0,0,0),vect(0,0,1),'Exploded');<br>&#9;&#9;&#9;&#9;&#9;Other.Fatness=Other.Default.Fatness;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;return;<br>&#9;}<br><br>super.ProcessTraceHit(other, hitlocation, hitnormal, x, y, z);<br><br></div>
<h3 id="WeaponPhatRifle.TestMPBeltSpot"><a class="headerlink" href="#WeaponPhatRifle.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WeaponPlasmaAssault.uc" title="Permanent link"><h2 id="WeaponPlasmaAssault.uc">WeaponPlasmaAssault.uc (extends WeaponAssaultGun)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">HitDamage=8<br>bInstantHit=False<br>ProjectileClass=Class'DeusEx.PlasmaBolt'<br>InventoryGroup=41<br>ItemName="|P4Plasma Assault Gun"<br>beltDescription="PLAS"<br>Mass=1.000000</div>
<h3 id="WeaponPlasmaAssault.TestMPBeltSpot"><a class="headerlink" href="#WeaponPlasmaAssault.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WeaponPlasmaSword.uc" title="Permanent link"><h2 id="WeaponPlasmaSword.uc">WeaponPlasmaSword.uc (extends WeaponNanoSword)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var Name WeaponDamageType;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">WeaponDamageType=exploded<br>InventoryGroup=111<br>ItemName="Plasma Sword"<br>Description="A strange, ancient triad weapon. You would be hard pressed finding out anything else about it."<br>beltDescription="PLASMA"<br>MultiSkins(1)=FireTexture'Effects.Fire.OneFlame_G'<br>MultiSkins(2)=FireTexture'Effects.Fire.OneFlame_G'<br>MultiSkins(4)=FireTexture'Effects.Smoke.SmokePuff1'<br>MultiSkins(5)=FireTexture'Effects.Fire.OneFlame_G'<br>MultiSkins(6)=FireTexture'Effects.Fire.OneFlame_G'<br>LightHue=128</div>
<h3 id="WeaponPlasmaSword.BeginState"><a class="headerlink" href="#WeaponPlasmaSword.BeginState" title="Permanent link">BeginState</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;Super.BeginState();<br>&#9;&#9;LightType = LT_Steady;<br>&#9;<br></div>
<h3 id="WeaponPlasmaSword.EndState"><a class="headerlink" href="#WeaponPlasmaSword.EndState" title="Permanent link">EndState</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;Super.EndState();<br>&#9;&#9;LightType = LT_None;<br>&#9;<br></div>
<h3 id="WeaponPlasmaSword.ProcessTraceHit"><a class="headerlink" href="#WeaponPlasmaSword.ProcessTraceHit" title="Permanent link">ProcessTraceHit</a> (Actor Other, Vector HitLocation, Vector HitNormal, Vector X, Vector Y, Vector Z)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local float        mult;<br>&#9;local name         damageType;<br>&#9;local DeusExPlayer dxPlayer;<br><br><br>&#9;if (Other != None)<br>&#9;{<br>&#9;&#9;// AugCombat increases our damage if hand to hand<br>&#9;&#9;mult = 1.0;<br>&#9;&#9;if (bHandToHand && (DeusExPlayer(Owner) != None))<br>&#9;&#9;{<br>&#9;&#9;&#9;mult = DeusExPlayer(Owner).AugmentationSystem.GetAugLevelValue(class'AugCombat');<br>&#9;&#9;&#9;if (mult == -1.0)<br>&#9;&#9;&#9;&#9;mult = 1.0;<br>&#9;&#9;}<br><br>&#9;&#9;// skill also affects our damage<br>&#9;&#9;// GetWeaponSkill returns 0.0 to -0.7 (max skill/aug)<br>&#9;&#9;mult += -2.0 * GetWeaponSkill();<br><br>&#9;&#9;// Determine damage type<br>&#9;&#9;damageType = WeaponDamageType;<br><br>&#9;&#9;if (Other != None)<br>&#9;&#9;{<br>&#9;&#9;&#9;if (Other.bOwned)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;dxPlayer = DeusExPlayer(Owner);<br>&#9;&#9;&#9;&#9;if (dxPlayer != None)<br>&#9;&#9;&#9;&#9;&#9;dxPlayer.AISendEvent('Futz', EAITYPE_Visual);<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;if ((Other == Level) || (Other.IsA('Mover')))<br>&#9;&#9;{<br>&#9;&#9;&#9;if ( Role == ROLE_Authority )<br>&#9;&#9;&#9;&#9;Other.TakeDamage(HitDamage * mult, Pawn(Owner), HitLocation, 1000.0*X, damageType);<br><br>&#9;&#9;&#9;SelectiveSpawnEffects( HitLocation, HitNormal, Other, HitDamage * mult);<br>&#9;&#9;}<br>&#9;&#9;else if ((Other != self) && (Other != Owner))<br>&#9;&#9;{<br>&#9;&#9;&#9;if ( Role == ROLE_Authority )<br>&#9;&#9;&#9;&#9;Other.TakeDamage(HitDamage * mult, Pawn(Owner), HitLocation, 1000.0*X, damageType);<br>&#9;&#9;&#9;if (bHandToHand)<br>&#9;&#9;&#9;&#9;SelectiveSpawnEffects( HitLocation, HitNormal, Other, HitDamage * mult);<br><br>&#9;&#9;&#9;if (bPenetrating && Other.IsA('Pawn') && !Other.IsA('Robot'))<br>&#9;&#9;&#9;&#9;SpawnBlood(HitLocation, HitNormal);<br>&#9;&#9;}<br>&#9;}<br>   if (DeusExMPGame(Level.Game) != None)<br>   {<br>      if (DeusExPlayer(Other) != None)<br>         DeusExMPGame(Level.Game).TrackWeapon(self,HitDamage * mult);<br>      else<br>         DeusExMPGame(Level.Game).TrackWeapon(self,0);<br>   }<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WeaponPoisonKnives.uc" title="Permanent link"><h2 id="WeaponPoisonKnives.uc">WeaponPoisonKnives.uc (extends WeaponShuriken)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">AmmoName=Class'PartyStuff.AmmoPoisonKnife'<br>ProjectileClass=Class'PartyStuff.PoisonKnife'<br>ItemName="Poisoned Throwing Knives"<br>Description="A favorite weapon of assassins in the Far East for centuries, throwing knives can be deadly when wielded by a master but are more generally used when it becomes desirable to send a message. The message is usually 'Your death is coming on swift feet.'|n|nThese throwing knives have been coated with a deadly toxin which is virtually guaranteed to kill within seconds."<br>beltDescription="PSN KNIFE"</div>
<h3 id="WeaponPoisonKnives.WeaponDamageType"><a class="headerlink" href="#WeaponPoisonKnives.WeaponDamageType" title="Permanent link">WeaponDamageType</a> -> name</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;return 'Poison';<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WeaponPoisonSword.uc" title="Permanent link"><h2 id="WeaponPoisonSword.uc">WeaponPoisonSword.uc (extends WeaponNanoSword)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var Name WeaponDamageType;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">WeaponDamageType=Poison<br>InventoryGroup=110<br>ItemName="Snake's Tooth"<br>Description="A strange, ancient triad weapon. You would be hard pressed finding out anything else about it."<br>beltDescription="SNAKE"<br>MultiSkins(1)=Texture'Effects.Corona.Corona_D'<br>MultiSkins(2)=FireTexture'Effects.liquid.ambrosia_SFX'<br>MultiSkins(4)=FireTexture'Effects.Fire.flmethrwr_flme'<br>MultiSkins(5)=Texture'Effects.Corona.Corona_D'<br>MultiSkins(6)=Texture'Effects.Corona.Corona_D'<br>LightHue=40</div>
<h3 id="WeaponPoisonSword.BeginState"><a class="headerlink" href="#WeaponPoisonSword.BeginState" title="Permanent link">BeginState</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;Super.BeginState();<br>&#9;&#9;LightType = LT_Steady;<br>&#9;<br></div>
<h3 id="WeaponPoisonSword.EndState"><a class="headerlink" href="#WeaponPoisonSword.EndState" title="Permanent link">EndState</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;Super.EndState();<br>&#9;&#9;LightType = LT_None;<br>&#9;<br></div>
<h3 id="WeaponPoisonSword.ProcessTraceHit"><a class="headerlink" href="#WeaponPoisonSword.ProcessTraceHit" title="Permanent link">ProcessTraceHit</a> (Actor Other, Vector HitLocation, Vector HitNormal, Vector X, Vector Y, Vector Z)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local float        mult;<br>&#9;local name         damageType;<br>&#9;local DeusExPlayer dxPlayer;<br><br><br>&#9;if (Other != None)<br>&#9;{<br>&#9;&#9;// AugCombat increases our damage if hand to hand<br>&#9;&#9;mult = 1.0;<br>&#9;&#9;if (bHandToHand && (DeusExPlayer(Owner) != None))<br>&#9;&#9;{<br>&#9;&#9;&#9;mult = DeusExPlayer(Owner).AugmentationSystem.GetAugLevelValue(class'AugCombat');<br>&#9;&#9;&#9;if (mult == -1.0)<br>&#9;&#9;&#9;&#9;mult = 1.0;<br>&#9;&#9;}<br><br>&#9;&#9;// skill also affects our damage<br>&#9;&#9;// GetWeaponSkill returns 0.0 to -0.7 (max skill/aug)<br>&#9;&#9;mult += -2.0 * GetWeaponSkill();<br><br>&#9;&#9;// Determine damage type<br>&#9;&#9;damageType = WeaponDamageType;<br><br>&#9;&#9;if (Other != None)<br>&#9;&#9;{<br>&#9;&#9;&#9;if (Other.bOwned)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;dxPlayer = DeusExPlayer(Owner);<br>&#9;&#9;&#9;&#9;if (dxPlayer != None)<br>&#9;&#9;&#9;&#9;&#9;dxPlayer.AISendEvent('Futz', EAITYPE_Visual);<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;if ((Other == Level) || (Other.IsA('Mover')))<br>&#9;&#9;{<br>&#9;&#9;&#9;if ( Role == ROLE_Authority )<br>&#9;&#9;&#9;&#9;Other.TakeDamage(HitDamage * mult, Pawn(Owner), HitLocation, 1000.0*X, damageType);<br><br>&#9;&#9;&#9;SelectiveSpawnEffects( HitLocation, HitNormal, Other, HitDamage * mult);<br>&#9;&#9;}<br>&#9;&#9;else if ((Other != self) && (Other != Owner))<br>&#9;&#9;{<br>&#9;&#9;&#9;if ( Role == ROLE_Authority )<br>&#9;&#9;&#9;&#9;Other.TakeDamage(HitDamage * mult, Pawn(Owner), HitLocation, 1000.0*X, damageType);<br>&#9;&#9;&#9;if (bHandToHand)<br>&#9;&#9;&#9;&#9;SelectiveSpawnEffects( HitLocation, HitNormal, Other, HitDamage * mult);<br><br>&#9;&#9;&#9;if (bPenetrating && Other.IsA('Pawn') && !Other.IsA('Robot'))<br>&#9;&#9;&#9;&#9;SpawnBlood(HitLocation, HitNormal);<br>&#9;&#9;}<br>&#9;}<br>   if (DeusExMPGame(Level.Game) != None)<br>   {<br>      if (DeusExPlayer(Other) != None)<br>         DeusExMPGame(Level.Game).TrackWeapon(self,HitDamage * mult);<br>      else<br>         DeusExMPGame(Level.Game).TrackWeapon(self,0);<br>   }<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WeaponRailgun.uc" title="Permanent link"><h2 id="WeaponRailgun.uc">WeaponRailgun.uc (extends WeaponPlasmaRifle)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var LaserEmitter FireBeamEmitter; //== For firing effects</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">LowAmmoWaterMark=5<br>NoiseLevel=0.250000<br>reloadTime=5.000000<br>HitDamage=25<br>maxRange=36000<br>AccurateRange=14000<br>BaseAccuracy=0.300000<br>bHasScope=True<br>bPenetrating=True<br>recoilStrength=0.600000<br>ReloadCount=1<br>PickupAmmoCount=4<br>bInstantHit=True<br>InventoryGroup=98<br>ItemName="Railgun"<br>Description="A one-of-a-kind prototype, the Railgun compacts standard plasma slugs into a significantly smaller shape, then magnetically accelerates them to near-light speeds.  The force of the projectile allows it to penetrate multiple objects in succession; to compliment this the Railgun has been equipped with a heat scope."<br>beltDescription="RAILGUN"<br>MultiSkins(1)=FireTexture'Effects.Electricity.BioCell_SFX'</div>
<h3 id="WeaponRailgun.CalculateAccuracy"><a class="headerlink" href="#WeaponRailgun.CalculateAccuracy" title="Permanent link">CalculateAccuracy</a> -> float</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(bLasing || bZoomed)<br>&#9;&#9;return 0.0;<br><br>&#9;return FMax(0.0, Super.CalculateAccuracy() - 0.5);<br><br></div>
<h3 id="WeaponRailgun.DoTraceFire"><a class="headerlink" href="#WeaponRailgun.DoTraceFire" title="Permanent link">DoTraceFire</a> (float Accuracy)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local vector HitLocation, HitNormal, StartTrace, EndTrace, X, Y, Z, LastHit;<br>&#9;local Rotator rot;<br>&#9;local actor Other, Last;<br>&#9;local Pawn pOther;<br>&#9;local float dist;<br>&#9;local float volume, radius;<br>&#9;local float i;<br>&#9;local int j;<br><br>//&#9;local Decoration dOther;<br><br>&#9;GetAIVolume(volume, radius);<br>&#9;Owner.AISendEvent('WeaponFire', EAITYPE_Audio, volume, radius);<br>&#9;Owner.AISendEvent('LoudNoise', EAITYPE_Audio, volume, radius);<br>&#9;if (!Owner.IsA('PlayerPawn'))<br>&#9;&#9;Owner.AISendEvent('Distress', EAITYPE_Audio, volume, radius);<br><br>&#9;//PlayFiringSound();<br><br>&#9;GetAxes(Pawn(owner).ViewRotation,X,Y,Z);<br>&#9;StartTrace = ComputeProjectileStart(X, Y, Z);<br>&#9;AdjustedAim = pawn(owner).AdjustAim(1000000, StartTrace, 2.75*AimError, False, False);<br><br>&#9;EndTrace = StartTrace + Accuracy * (FRand()-0.5)*Y*1000 + Accuracy * (FRand()-0.5)*Z*1000 ;<br>&#9;EndTrace += (FMax(1024.0, MaxRange) * vector(AdjustedAim));<br><br>&#9;Other = Pawn(Owner).TraceShot(HitLocation,HitNormal,EndTrace,StartTrace);<br>&#9;dist = Abs(VSize(HitLocation - Owner.Location));<br>&#9;j = 0;<br>&#9;//=== Note to self, rewrite with less accuracy but make so it does a backwards check when it clears a wall<br>&#9;while(Other != None && dist <= MaxRange && j <= 250)<br>&#9;{<br>&#9;&#9;j++;<br>&#9;&#9;i = 1.000000;<br>&#9;&#9;ProcessTraceHit(Other, HitLocation, HitNormal, vector(AdjustedAim),Y,Z);<br>&#9;&#9;StartTrace = HitLocation + (0.100000 * vector(AdjustedAim));<br>&#9;&#9;Last = Other;<br>&#9;&#9;Other = Pawn(Owner).TraceShot(HitLocation,HitNormal,EndTrace,StartTrace);<br>&#9;&#9;//== If the trace hits the same object we want to force it to continue on.  For Level (map) shapes we want<br>&#9;&#9;//== it to make sure the hit location is close, since it's possible to intersect the Level multiple times<br>&#9;&#9;while(Last == Other && i <= 300.000000 && (Other != Level || (Other == Level && Abs(VSize(HitLocation - StartTrace)) <= 0.200000)))<br>&#9;&#9;{<br>&#9;&#9;&#9;i += 1.000000;<br>&#9;&#9;&#9;if(i > 300.000000)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;dist = MaxRange + 2.000000;<br>&#9;&#9;&#9;&#9;Other = None;<br>&#9;&#9;&#9;&#9;break;<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;StartTrace = HitLocation + (0.200000 * vector(AdjustedAim));<br>&#9;&#9;&#9;Other = Pawn(Owner).TraceShot(HitLocation,HitNormal,EndTrace,StartTrace);<br>&#9;&#9;}<br>&#9;&#9;dist = Abs(VSize(HitLocation - Owner.Location));<br>&#9;}<br><br>&#9;FireBeamEmitter = Spawn(class'LaserEmitter', None, , Location, Pawn(Owner).ViewRotation);<br>&#9;if(FireBeamEmitter != None)<br>&#9;{<br>&#9;&#9;FireBeamEmitter.AmbientSound = None;<br>&#9;&#9;if(FireBeamEmitter.proxy != None)<br>&#9;&#9;&#9;FireBeamEmitter.proxy.Skin = Texture'Wepn_Prifle_SFX';<br>&#9;&#9;FireBeamEmitter.TurnOn();<br>&#9;&#9;FireBeamEmitter.Lifespan = 0.5;<br><br>&#9;&#9;for(j=0; j<ArrayCount(FireBeamEmitter.spot); j++)<br>&#9;&#9;{<br>&#9;&#9;&#9;if (FireBeamEmitter.spot[j] != None)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;FireBeamEmitter.spot[j].Skin = Texture'proj_Prifle';<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br><br>&#9;&#9;//== This code is supposed to make the beam go through walls, but it doesn't<br>/*&#9;&#9;for (j=0; j<ArrayCount(FireBeamEmitter.spot); j++)<br>&#9;&#9;{<br>&#9;&#9;&#9;if (FireBeamEmitter.spot[j] != None)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;FireBeamEmitter.spot[j].Destroy();<br>&#9;&#9;&#9;&#9;FireBeamEmitter.spot[j] = None;<br>&#9;&#9;&#9;&#9;if (LaserIterator(FireBeamEmitter.RenderInterface) != None)<br>&#9;&#9;&#9;&#9;&#9;LaserIterator(FireBeamEmitter.RenderInterface).DeleteBeam(j);<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br><br>&#9;&#9;if (LaserIterator(FireBeamEmitter.RenderInterface) != None)<br>&#9;&#9;&#9;LaserIterator(FireBeamEmitter.RenderInterface).AddBeam(0, Location, FireBeamEmitter.Rotation, 1200);<br><br>&#9;&#9;FireBeamEmitter.spot[0] = Spawn(class'LaserSpot', FireBeamEmitter, , Location, FireBeamEmitter.Rotation);<br>&#9;&#9;if(FireBeamEmitter.spot[0] != None)<br>&#9;&#9;&#9;FireBeamEmitter.spot[0].Skin = Texture'proj_Prifle';<br><br>&#9;&#9;FireBeamEmitter.bIsOn = False;<br>*/<br>&#9;&#9;<br><br>&#9;&#9;SetTimer(0.6, False); //== Deactivate the laser trail after a little while<br>&#9;}<br><br>&#9;EndTrace = Pawn(Owner).Location;<br>&#9;EndTrace.Z += Pawn(Owner).BaseEyeHeight;<br><br>&#9;//== This will make absolutely sure that we hit a target we're aiming at, just not necessarily in the right place<br>&#9;foreach allActors(class'Pawn', pOther)<br>&#9;{<br>&#9;&#9;dist = Abs(VSize(pOther.Location - EndTrace));<br><br>&#9;&#9;if(pOther != Owner && dist <= AccurateRange)<br>&#9;&#9;{<br>&#9;&#9;&#9;LastHit = pOther.Location;<br>&#9;&#9;&#9;LastHit.Z += pOther.CollisionHeight / 2;<br>&#9;<br>&#9;&#9;&#9;//== Manually calculate the collision and offset.  Bleh.<br>&#9;&#9;&#9;if(pOther.CollisionRadius > VSize( ( (dist * Normal(LastHit - EndTrace) ) - ( dist * Normal(vector(AdjustedAim)) ) ) * vect(1,1,0) ) &&<br>&#9;&#9;&#9;&#9;(pOther.CollisionHeight / 2) > VSize( ( (dist * Normal(LastHit - EndTrace) ) - ( dist * Normal(vector(AdjustedAim)) ) ) * vect(0,0,1) ) )<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;//== Switch this with some code that does trace shot backwards and then forwards really quickly to get a proper hit location<br>&#9;&#9;&#9;&#9;LastHit = dist * Normal(vector(AdjustedAim));<br>&#9;&#9;&#9;&#9;Other = Pawn(Owner).TraceShot(HitLocation, HitNormal, LastHit - ( Normal(vector(AdjustedAim)) * pOther.CollisionRadius * 5.000000 / 9.000000), LastHit + (Normal(vector(AdjustedAim)) * pOther.CollisionRadius * 5.000000 / 9.000000));<br><br>&#9;&#9;&#9;&#9;//== Since headshot/etc. calculation isn't working properly yet, let's just up the damage to absurd levels<br>&#9;&#9;&#9;&#9;for(j = 0; j < 5; j++)<br>&#9;&#9;&#9;&#9;&#9;ProcessTraceHit(pOther, HitLocation, HitNormal, vector(AdjustedAim), Y, Z);<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br><br><br>&#9;//== This code needs to check for rotation, as decorations can have non-zero Z orientations<br>/*&#9;foreach allActors(class'Decoration', dOther)<br>&#9;{<br>&#9;&#9;LastHit = dOther.Location;<br>&#9;&#9;LastHit.Z += dOther.CollisionHeight / 2;<br><br>&#9;&#9;EndTrace = Pawn(Owner).Location;<br>&#9;&#9;EndTrace.Z += Pawn(Owner).BaseEyeHeight;<br><br>&#9;&#9;if(dOther.CollisionRadius > VSize( ( (dist * Normal(LastHit - EndTrace) ) - ( dist * vector(Pawn(Owner).ViewRotation) ) ) * vect(1,1,0) ) &&<br>&#9;&#9;&#9;(dOther.CollisionHeight / 2) > VSize( ( (dist * Normal(LastHit - EndTrace) ) - ( dist * vector(Pawn(Owner).ViewRotation) ) ) * vect(0,0,1) ) )<br>&#9;&#9;{<br>&#9;&#9;&#9;LastHit = dist * vector(Pawn(Owner).ViewRotation);<br><br>&#9;&#9;&#9;ProcessTraceHit(dOther, LastHit, -1 * vector(Pawn(Owner).ViewRotation), vector(AdjustedAim), Y, Z);<br>&#9;&#9;}<br>&#9;} */<br><br><br></div>
<h3 id="WeaponRailgun.Tick"><a class="headerlink" href="#WeaponRailgun.Tick" title="Permanent link">Tick</a> (float deltaTime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.Tick(deltaTime);<br><br>&#9;//== No timer set and a beam effect active<br>&#9;if(FireBeamEmitter != None && TimerRate <=0)<br>&#9;{<br>&#9;&#9;FireBeamEmitter.bIsOn = True;<br>&#9;&#9;FireBeamEmitter.TurnOff();<br>&#9;&#9;FireBeamEmitter.Destroy();<br>&#9;}<br><br></div>
<h3 id="WeaponRailgun.Timer"><a class="headerlink" href="#WeaponRailgun.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(FireBeamEmitter != None)<br>&#9;{<br>&#9;&#9;FireBeamEmitter.bIsOn = True;<br>&#9;&#9;FireBeamEmitter.TurnOff();<br>&#9;&#9;FireBeamEmitter.Destroy();<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WeaponSingularity.uc" title="Permanent link"><h2 id="WeaponSingularity.uc">WeaponSingularity.uc (extends DeusExWeapon)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">GoverningSkill=Class'DeusEx.SkillWeaponPistol'<br>NoiseLevel=0.010000<br>ShotTime=0.150000<br>reloadTime=1.500000<br>HitDamage=0<br>maxRange=4800<br>AccurateRange=2400<br>BaseAccuracy=0.800000<br>bCanHaveScope=True<br>ScopeFOV=25<br>bCanHaveLaser=True<br>recoilStrength=0.100000<br>mpReloadTime=1.500000<br>mpBaseAccuracy=0.200000<br>mpAccurateRange=1200<br>mpMaxRange=1200<br>mpReloadCount=12<br>bCanHaveModBaseAccuracy=True<br>bCanHaveModReloadCount=True<br>bCanHaveModAccurateRange=True<br>bCanHaveModReloadTime=True<br>AmmoName=Class'DeusEx.Ammo10mm'<br>PickupAmmoCount=10<br>bInstantHit=True<br>FireOffset=(X=-24.000000,Y=10.000000,Z=14.000000)<br>shakemag=50.000000<br>FireSound=Sound'DeusExSounds.Weapons.StealthPistolFire'<br>AltFireSound=Sound'DeusExSounds.Weapons.StealthPistolReloadEnd'<br>CockingSound=Sound'DeusExSounds.Weapons.StealthPistolReload'<br>SelectSound=Sound'DeusExSounds.Weapons.StealthPistolSelect'<br>InventoryGroup=2<br>ItemName="Singularity Gun"<br>PlayerViewOffset=(X=24.000000,Y=-10.000000,Z=-14.000000)<br>PlayerViewMesh=LodMesh'DeusExItems.StealthPistol'<br>PickupViewMesh=LodMesh'DeusExItems.StealthPistolPickup'<br>ThirdPersonMesh=LodMesh'DeusExItems.StealthPistol3rd'<br>Icon=Texture'DeusExUI.Icons.BeltIconStealthPistol'<br>largeIcon=Texture'DeusExUI.Icons.LargeIconStealthPistol'<br>largeIconWidth=47<br>largeIconHeight=37<br>Description="The stealth pistol is a variant of the standard 10mm pistol with a larger clip and integrated silencer designed for wet work at very close ranges."<br>beltDescription="SING"<br>Mesh=LodMesh'DeusExItems.StealthPistolPickup'<br>CollisionRadius=8.000000<br>CollisionHeight=0.800000</div>
<h3 id="WeaponSingularity.GetDisplayString"><a class="headerlink" href="#WeaponSingularity.GetDisplayString" title="Permanent link">GetDisplayString</a> (Actor P) -> string</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(P.isA('DeusExPlayer'))<br>&#9;&#9;return DeusExPlayer(p).PlayerReplicationInfo.PlayerName;<br>&#9;else if(P.isA('ScriptedPawn'))<br>&#9;&#9;return ScriptedPawn(P).FamiliarName;<br>&#9;else if(P.isA('DeusExDecoration'))<br>&#9;&#9;return DeusExDecoration(P).ItemName;<br><br></div>
<h3 id="WeaponSingularity.PreBeginPlay"><a class="headerlink" href="#WeaponSingularity.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;// If this is a netgame, then override defaults<br>&#9;if ( Level.NetMode != NM_StandAlone )<br>&#9;{<br>&#9;&#9;HitDamage = mpHitDamage;<br>&#9;&#9;BaseAccuracy = mpBaseAccuracy;<br>&#9;&#9;ReloadTime = mpReloadTime;<br>&#9;&#9;AccurateRange = mpAccurateRange;<br>&#9;&#9;MaxRange = mpMaxRange;<br>&#9;&#9;ReloadCount = mpReloadCount;<br>&#9;}<br><br></div>
<h3 id="WeaponSingularity.ProcessTraceHit"><a class="headerlink" href="#WeaponSingularity.ProcessTraceHit" title="Permanent link">ProcessTraceHit</a> (Actor Other, Vector HitLocation, Vector HitNormal, Vector X, Vector Y, Vector Z)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local float        mult;<br>&#9;local name         damageType;<br>&#9;local DeusExPlayer dxPlayer;<br>&#9;local Pawn P;<br>&#9;local PSSing PSF;<br><br>&#9;<br>&#9;if( Other.isA('Decoration') || Other.isA('Pawn') )<br>&#9;{<br>&#9;&#9;foreach AllActors(class'PSSing',PSF)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(PSF.Fattener == Other)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;DeusExPlayer(Owner).ClientMessage("Singularity already attached.");<br>&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;if(DeusExPlayer(Other).ReducedDamageType == 'All')<br>&#9;&#9;{<br>&#9;&#9;&#9;DeusExPlayer(Owner).ClientMessage("God mode blocks the singularity.");<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;&#9;PSF = Spawn( class'PSSing',Owner,,Other.Location);<br>&#9;&#9;PSF.Fattener = Other;<br>&#9;&#9;DeusExPlayer(Owner).ClientMessage("Singularity attached to "$GetDisplayString(Other)$".");<br>&#9;&#9;return;<br>&#9;}<br><br>super.ProcessTraceHit(other, hitlocation, hitnormal, x, y, z);<br><br></div>
<h3 id="WeaponSingularity.TestMPBeltSpot"><a class="headerlink" href="#WeaponSingularity.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WeaponSkullGun.uc" title="Permanent link"><h2 id="WeaponSkullGun.uc">WeaponSkullGun.uc (extends DeusExWeapon)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">LowAmmoWaterMark=7<br>reloadTime=0.000000<br>HitDamage=35<br>maxRange=24000<br>AccurateRange=24400<br>BaseAccuracy=0.100000<br>bCanHaveScope=True<br>bHasScope=True<br>ScopeFOV=30<br>bCanHaveLaser=True<br>bHasLaser=True<br>mpHitDamage=10<br>mpBaseAccuracy=0.100000<br>mpAccurateRange=8000<br>mpMaxRange=8000<br>mpReloadCount=17<br>bCanHaveModBaseAccuracy=True<br>bCanHaveModReloadCount=True<br>bCanHaveModAccurateRange=True<br>bCanHaveModReloadTime=True<br>bCanHaveModRecoilStrength=True<br>AmmoName=Class'PartyStuff.AmmoSkull'<br>ReloadCount=17<br>PickupAmmoCount=17<br>ProjectileClass=Class'PartyStuff.SkullBolt'<br>shakemag=0.000000<br>FireSound=Sound'DeusExSounds.Weapons.PlasmaRifleFire'<br>AltFireSound=Sound'DeusExSounds.Weapons.PlasmaRifleReloadEnd'<br>CockingSound=Sound'DeusExSounds.Weapons.PlasmaRifleReload'<br>SelectSound=Sound'DeusExSounds.Weapons.PlasmaRifleSelect'<br>InventoryGroup=2<br>ItemName="Skullgun"<br>PlayerViewOffset=(X=22.000000,Y=-10.000000,Z=-14.000000)<br>PlayerViewMesh=LodMesh'DeusExItems.Glock'<br>PickupViewMesh=LodMesh'DeusExItems.GlockPickup'<br>ThirdPersonMesh=LodMesh'DeusExItems.Glock3rd'<br>LandSound=Sound'DeusExSounds.Generic.DropLargeWeapon'<br>Icon=Texture'DeusExUI.Icons.BeltIconPistol'<br>Description="A powerfull weapon that is currently being produced for terrorists such as you, the skull gun superheats skulls and accelerates the resulting armor-peircing-bone-mass. Extremely deadly."<br>beltDescription="SKULLGUN"<br>Mesh=LodMesh'DeusExItems.Glock'<br>CollisionRadius=7.000000<br>CollisionHeight=1.000000<br>Mass=3.000000</div>
<h3 id="WeaponSkullGun.PreBeginPlay"><a class="headerlink" href="#WeaponSkullGun.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre">uper.PreBeginPlay()<br></div>
<br><br><hr>
<a class="headerlink" href="#WeaponSmokeGrenade.uc" title="Permanent link"><h2 id="WeaponSmokeGrenade.uc">WeaponSmokeGrenade.uc (extends WeaponGasGrenade)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">AmmoName=Class'PartyStuff.AmmoSmokeGrenade'<br>ProjectileClass=Class'PartyStuff.SmokeGrenade'<br>InventoryGroup=223<br>ItemName="Smoke Grenade"<br>Description="Upon detonation, this grenade releases a large amount of smoke which will cause irritation to all exposed mucous membranes leading to temporary blindness. Unlike the standard tear gas grenades, even agents outside its area of effect won't be able to see through the density of the cloud."<br>beltDescription="SMOKE GREN"</div>
<br><br><hr>
<a class="headerlink" href="#WeaponSpazmSpray.uc" title="Permanent link"><h2 id="WeaponSpazmSpray.uc">WeaponSpazmSpray.uc (extends WeaponPepperGun)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">LowAmmoWaterMark=100<br>reloadTime=2.000000<br>maxRange=200<br>AccurateRange=200<br>AmmoName=Class'PartyStuff.AmmoSpazmGas'<br>PickupAmmoCount=200<br>ProjectileClass=Class'PartyStuff.SpazmGas'<br>InventoryGroup=168<br>ItemName="Spazm Spray Gun"<br>Description="This spazm spray gun shoots gas out, resulting in any pawns in the area having a seizure of some kind."<br>beltDescription="Spasm"</div>
<h3 id="WeaponSpazmSpray.PreBeginPlay"><a class="headerlink" href="#WeaponSpazmSpray.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre">}<br><br>simulated function bool TestMPBeltSpot(int BeltSpot)<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WeaponSpitRifle.uc" title="Permanent link"><h2 id="WeaponSpitRifle.uc">WeaponSpitRifle.uc (extends WeaponAssaultGun)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">HitDamage=8<br>bInstantHit=False<br>ProjectileClass=Class'PartyStuff.GreaselShoot'<br>InventoryGroup=197<br>ItemName="|P2Bio Spitter Gun"<br>beltDescription="SPIT"<br>Mass=1.000000</div>
<h3 id="WeaponSpitRifle.TestMPBeltSpot"><a class="headerlink" href="#WeaponSpitRifle.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WeaponStealthShotgun.uc" title="Permanent link"><h2 id="WeaponStealthShotgun.uc">WeaponStealthShotgun.uc (extends DeusExWeapon)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var float	mpRecoilStrength;<br>var MuzzleFlash flash;<br>var float mpNoScopeMult;<br>var() float Thick;<br>var() float PawnThick;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">Thick=64.000000<br>PawnThick=32.000000<br>GoverningSkill=Class'DeusEx.SkillWeaponPistol'<br>NoiseLevel=0.010000<br>ShotTime=0.150000<br>reloadTime=1.500000<br>HitDamage=8<br>maxRange=4800<br>AccurateRange=2400<br>BaseAccuracy=0.800000<br>bCanHaveScope=True<br>ScopeFOV=25<br>bCanHaveLaser=True<br>AreaOfEffect=AOE_Cone<br>recoilStrength=0.100000<br>mpReloadTime=1.500000<br>mpHitDamage=12<br>mpBaseAccuracy=0.200000<br>mpAccurateRange=1200<br>mpMaxRange=1200<br>mpReloadCount=12<br>bCanHaveModBaseAccuracy=True<br>bCanHaveModReloadCount=True<br>bCanHaveModAccurateRange=True<br>bCanHaveModReloadTime=True<br>AmmoName=Class'DeusEx.Ammo10mm'<br>PickupAmmoCount=10<br>bInstantHit=True<br>FireOffset=(X=-24.000000,Y=10.000000,Z=14.000000)<br>shakemag=50.000000<br>FireSound=Sound'DeusExSounds.Weapons.StealthPistolFire'<br>AltFireSound=Sound'DeusExSounds.Weapons.StealthPistolReloadEnd'<br>CockingSound=Sound'DeusExSounds.Weapons.StealthPistolReload'<br>SelectSound=Sound'DeusExSounds.Weapons.StealthPistolSelect'<br>InventoryGroup=186<br>ItemName="Stealth Shotgun"<br>PlayerViewOffset=(X=24.000000,Y=-10.000000,Z=-14.000000)<br>PlayerViewMesh=LodMesh'DeusExItems.StealthPistol'<br>PickupViewMesh=LodMesh'DeusExItems.StealthPistolPickup'<br>ThirdPersonMesh=LodMesh'DeusExItems.StealthPistol3rd'<br>Icon=Texture'DeusExUI.Icons.BeltIconStealthPistol'<br>largeIcon=Texture'DeusExUI.Icons.LargeIconStealthPistol'<br>largeIconWidth=47<br>largeIconHeight=37<br>Description="The stealth pistol is a variant of the standard 10mm pistol with a larger clip and integrated silencer designed for wet work at very close ranges."<br>beltDescription="SSH"<br>Mesh=LodMesh'DeusExItems.StealthPistolPickup'<br>CollisionRadius=8.000000<br>CollisionHeight=0.800000</div>
<h3 id="WeaponStealthShotgun.PreBeginPlay"><a class="headerlink" href="#WeaponStealthShotgun.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;// If this is a netgame, then override defaults<br>&#9;if ( Level.NetMode != NM_StandAlone )<br>&#9;{<br>&#9;&#9;HitDamage = mpHitDamage;<br>&#9;&#9;BaseAccuracy = mpBaseAccuracy;<br>&#9;&#9;ReloadTime = mpReloadTime;<br>&#9;&#9;AccurateRange = mpAccurateRange;<br>&#9;&#9;MaxRange = mpMaxRange;<br>&#9;&#9;ReloadCount = mpReloadCount;<br>&#9;}<br><br></div>
<h3 id="WeaponStealthShotgun.TestMPBeltSpot"><a class="headerlink" href="#WeaponStealthShotgun.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WeaponSurf.uc" title="Permanent link"><h2 id="WeaponSurf.uc">WeaponSurf.uc (extends DeusExWeapon)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var localized String shortName;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">ShortName="Surf"<br>LowAmmoWaterMark=2<br>GoverningSkill=Class'DeusEx.SkillDemolition'<br>Concealability=CONC_All<br>ShotTime=0.300000<br>reloadTime=0.100000<br>HitDamage=50<br>maxRange=4800<br>AccurateRange=2400<br>BaseAccuracy=1.000000<br>bHasMuzzleFlash=False<br>bHandToHand=True<br>bUseAsDrawnWeapon=False<br>bNeedToSetMPPickupAmmo=False<br>mpReloadTime=0.100000<br>mpHitDamage=50<br>mpBaseAccuracy=1.000000<br>mpAccurateRange=2400<br>mpMaxRange=2400<br>FireOffset=(Y=10.000000,Z=20.000000)<br>ProjectileClass=Class'PartyStuff.SurfRocket'<br>shakemag=50.000000<br>SelectSound=Sound'DeusExSounds.Weapons.LAMSelect'<br>InventoryGroup=32<br>ItemName="Suicide Bomber"<br>PlayerViewOffset=(X=24.000000,Y=-15.000000,Z=-17.000000)<br>PlayerViewMesh=LodMesh'DeusExItems.LAM'<br>PickupViewMesh=LodMesh'DeusExItems.LAMPickup'<br>ThirdPersonMesh=LodMesh'DeusExItems.LAM3rd'<br>Icon=Texture'DeusExUI.Icons.BeltIconLAM'<br>largeIcon=Texture'DeusExUI.Icons.LargeIconLAM'<br>largeIconWidth=35<br>largeIconHeight=45<br>Description="Places a deadly laser wire that will instantly kill anything that touches it"<br>beltDescription="ALLAH"<br>Mesh=LodMesh'DeusExItems.LAMPickup'<br>CollisionRadius=3.800000<br>CollisionHeight=3.500000<br>Mass=5.000000<br>Buoyancy=2.000000</div>
<h3 id="WeaponSurf.BecomePickup"><a class="headerlink" href="#WeaponSurf.BecomePickup" title="Permanent link">BecomePickup</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.BecomePickup();<br>   if (Level.NetMode != NM_Standalone)<br>      if (bTossedOut)<br>         Lifespan = 0.0;<br><br></div>
<h3 id="WeaponSurf.PostBeginPlay"><a class="headerlink" href="#WeaponSurf.PostBeginPlay" title="Permanent link">PostBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   Super.PostBeginPlay();<br>   bWeaponStay=False;<br><br></div>
<h3 id="WeaponSurf.PreBeginPlay"><a class="headerlink" href="#WeaponSurf.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;// If this is a netgame, then override defaults<br>&#9;if ( Level.NetMode != NM_StandAlone )<br>&#9;{<br>&#9;&#9;HitDamage = mpHitDamage;<br>&#9;&#9;BaseAccuracy = mpBaseAccuracy;<br>&#9;&#9;ReloadTime = mpReloadTime;<br>&#9;&#9;AccurateRange = mpAccurateRange;<br>&#9;&#9;MaxRange = mpMaxRange;<br>&#9;&#9;ReloadCount = mpReloadCount;<br>      PickupAmmoCount = mpReloadCount;<br>&#9;}<br><br></div>
<h3 id="WeaponSurf.TestMPBeltSpot"><a class="headerlink" href="#WeaponSurf.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WeaponSurfKnife.uc" title="Permanent link"><h2 id="WeaponSurfKnife.uc">WeaponSurfKnife.uc (extends DeusExWeapon)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var localized String shortName;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">LowAmmoWaterMark=5<br>GoverningSkill=Class'DeusEx.SkillWeaponLowTech'<br>NoiseLevel=0.050000<br>EnemyEffective=ENMEFF_Organic<br>EnviroEffective=ENVEFF_AirVacuum<br>Concealability=CONC_Visual<br>ShotTime=0.200000<br>reloadTime=0.200000<br>HitDamage=15<br>maxRange=1280<br>AccurateRange=640<br>BaseAccuracy=0.900000<br>bHasMuzzleFlash=False<br>bHandToHand=True<br>mpReloadTime=0.200000<br>mpHitDamage=35<br>mpBaseAccuracy=0.100000<br>mpAccurateRange=640<br>mpMaxRange=640<br>FireOffset=(X=-10.000000,Y=14.000000,Z=22.000000)<br>ProjectileClass=Class'PartyStuff.SurfKnives'<br>shakemag=5.000000<br>InventoryGroup=12<br>ItemName="Surfin' Knives"<br>ItemArticle="some"<br>PlayerViewOffset=(X=24.000000,Y=-12.000000,Z=-21.000000)<br>PlayerViewMesh=LodMesh'DeusExItems.Shuriken'<br>PickupViewMesh=LodMesh'DeusExItems.ShurikenPickup'<br>ThirdPersonMesh=LodMesh'DeusExItems.Shuriken3rd'<br>Icon=Texture'DeusExUI.Icons.BeltIconShuriken'<br>largeIcon=Texture'DeusExUI.Icons.LargeIconShuriken'<br>largeIconWidth=36<br>largeIconHeight=45<br>Description="A favorite weapon of assassins in the Far East for centuries, throwing knives can be deadly when wielded by a master but are more generally used when it becomes desirable to send a message. The message is usually 'Your death is coming on swift feet.'"<br>beltDescription="SURF KNIFE"<br>Texture=Texture'DeusExItems.Skins.ReflectionMapTex1'<br>Mesh=LodMesh'DeusExItems.ShurikenPickup'<br>CollisionRadius=7.500000<br>CollisionHeight=0.300000</div>
<h3 id="WeaponSurfKnife.BecomePickup"><a class="headerlink" href="#WeaponSurfKnife.BecomePickup" title="Permanent link">BecomePickup</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.BecomePickup();<br>   if (Level.NetMode != NM_Standalone)<br>      if (bTossedOut)<br>         Lifespan = 0.0;<br><br></div>
<h3 id="WeaponSurfKnife.PostBeginPlay"><a class="headerlink" href="#WeaponSurfKnife.PostBeginPlay" title="Permanent link">PostBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   Super.PostBeginPlay();<br>   bWeaponStay=False;<br><br></div>
<h3 id="WeaponSurfKnife.PreBeginPlay"><a class="headerlink" href="#WeaponSurfKnife.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;// If this is a netgame, then override defaults<br>&#9;if ( Level.NetMode != NM_StandAlone )<br>&#9;{<br>&#9;&#9;HitDamage = mpHitDamage;<br>&#9;&#9;BaseAccuracy = mpBaseAccuracy;<br>&#9;&#9;ReloadTime = mpReloadTime;<br>&#9;&#9;AccurateRange = mpAccurateRange;<br>&#9;&#9;MaxRange = mpMaxRange;<br>&#9;&#9;ReloadCount = mpReloadCount;<br>      PickupAmmoCount = mpReloadCount;<br>&#9;}<br><br></div>
<h3 id="WeaponSurfKnife.TestMPBeltSpot"><a class="headerlink" href="#WeaponSurfKnife.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WeaponSword2.uc" title="Permanent link"><h2 id="WeaponSword2.uc">WeaponSword2.uc (extends DeusExWeapon)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">Var EModeNum Mode;<br>var DeusExPlayer DXPl;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">LowAmmoWaterMark=0<br>GoverningSkill=Class'DeusEx.SkillWeaponLowTech'<br>NoiseLevel=0.050000<br>EnemyEffective=ENMEFF_Organic<br>reloadTime=0.000000<br>maxRange=64<br>AccurateRange=64<br>BaseAccuracy=1.000000<br>bHasMuzzleFlash=False<br>bHandToHand=True<br>bFallbackWeapon=True<br>mpHitDamage=20<br>mpBaseAccuracy=1.000000<br>mpAccurateRange=100<br>mpMaxRange=100<br>AmmoName=Class'DeusEx.AmmoNone'<br>ReloadCount=0<br>bInstantHit=True<br>FireOffset=(X=-25.000000,Y=10.000000,Z=24.000000)<br>shakemag=20.000000<br>FireSound=Sound'DeusExSounds.Weapons.SwordFire'<br>SelectSound=Sound'DeusExSounds.Weapons.SwordSelect'<br>Misc1Sound=Sound'DeusExSounds.Weapons.SwordHitFlesh'<br>Misc2Sound=Sound'DeusExSounds.Weapons.SwordHitHard'<br>Misc3Sound=Sound'DeusExSounds.Weapons.SwordHitSoft'<br>InventoryGroup=13<br>ItemName="Sword"<br>PlayerViewOffset=(X=25.000000,Y=-10.000000,Z=-24.000000)<br>PlayerViewMesh=LodMesh'DeusExItems.Sword'<br>PickupViewMesh=LodMesh'DeusExItems.SwordPickup'<br>ThirdPersonMesh=LodMesh'DeusExItems.Sword3rd'<br>LandSound=Sound'DeusExSounds.Generic.DropLargeWeapon'<br>Icon=Texture'DeusExUI.Icons.BeltIconSword'<br>largeIcon=Texture'DeusExUI.Icons.LargeIconSword'<br>largeIconWidth=130<br>largeIconHeight=40<br>invSlotsX=3<br>Description="A rather nasty-looking sword."<br>beltDescription="SWORD"<br>Texture=Texture'DeusExItems.Skins.ReflectionMapTex1'<br>Mesh=LodMesh'DeusExItems.SwordPickup'<br>CollisionRadius=26.000000<br>CollisionHeight=0.500000<br>Mass=20.000000</div>
<h3 id="WeaponSword2.Fire"><a class="headerlink" href="#WeaponSword2.Fire" title="Permanent link">Fire</a> (Float value)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local ThrownSword S;<br><br>&#9;DXPL=DeusExPlayer(Owner);<br>&#9;If(Mode==Mode_Throw)<br>&#9;{<br>&#9;&#9;S=Spawn(class'ThrownSword',Pawn(Owner),,Location+vect(0,0,-2),DXPL.ViewRotation);<br>&#9;&#9;if(S!=None)<br>&#9;&#9;{<br>&#9;&#9;&#9;S.SetOwner(DXPL);<br>&#9;&#9;&#9;S.Lifespan=15;<br>&#9;&#9;}<br>&#9;&#9;Destroy();<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;Super.Fire(Value);<br>&#9;}<br><br></div>
<h3 id="WeaponSword2.PreBeginPlay"><a class="headerlink" href="#WeaponSword2.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;// If this is a netgame, then override defaults<br>&#9;if ( Level.NetMode != NM_StandAlone )<br>&#9;{<br>&#9;&#9;HitDamage = mpHitDamage;<br>&#9;&#9;BaseAccuracy = mpBaseAccuracy;<br>&#9;&#9;ReloadTime = mpReloadTime;<br>&#9;&#9;AccurateRange = mpAccurateRange;<br>&#9;&#9;MaxRange = mpMaxRange;<br>&#9;}<br><br></div>
<h3 id="WeaponSword2.cycleammo"><a class="headerlink" href="#WeaponSword2.cycleammo" title="Permanent link">cycleammo</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;switch Mode<br>&#9;&#9;{<br>&#9;&#9;case MODE_Normal:<br>&#9;&#9;&#9;Mode = MODE_Throw;<br>&#9;&#9;&#9;if (Role == ROLE_Authority)<br>&#9;&#9;&#9;Pawn(Owner).Clientmessage("Throwing mode");<br>&#9;&#9;&#9;break;<br><br>&#9;&#9;case MODE_Throw:<br>&#9;&#9;&#9;Mode = MODE_Normal;<br>&#9;&#9;&#9;if (Role == ROLE_Authority)<br>&#9;&#9;&#9;Pawn(Owner).Clientmessage("Normal mode");<br>&#9;&#9;&#9;break;<br>&#9;&#9;&#9;<br>&#9;&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WeaponTazer.uc" title="Permanent link"><h2 id="WeaponTazer.uc">WeaponTazer.uc (extends WeaponProd)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">ShotTime=1.500000<br>reloadTime=1.000000<br>HitDamage=20<br>maxRange=1920<br>AccurateRange=1280<br>BaseAccuracy=0.000000<br>bPenetrating=True<br>StunDuration=15.000000<br>ReloadCount=250<br>PickupAmmoCount=80<br>FireOffset=(X=-16.000000)<br>shakemag=0.000000<br>shaketime=0.000000<br>shakevert=0.000000<br>InventoryGroup=108<br>ItemName="Tazer"<br>bToggleSteadyFlash=False<br>beltDescription="TAZER"</div>
<h3 id="WeaponTazer.ProcessTraceHit"><a class="headerlink" href="#WeaponTazer.ProcessTraceHit" title="Permanent link">ProcessTraceHit</a> (Actor Other, Vector HitLocation, Vector HitNormal, Vector X, Vector Y, Vector Z)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int i;<br>&#9;local DeusExPlayer PlayerOwner;<br><br>&#9;PlayerOwner = DeusExPlayer(Owner);<br><br>&#9;if (PlayerOwner != None && ScriptedPawn(Owner) == None)<br>&#9;{<br>&#9;&#9;<br>&#9;&#9;Other.TakeDamage(HitDamage, Pawn(Owner), HitLocation, Vect(0,0,0), 'Shocked');<br>&#9;&#9;Other.TakeDamage(HitDamage, Pawn(Owner), HitLocation, Vect(0,0,0), 'EMP');<br>&#9;&#9;if(DeusExPlayer(Other) != None)<br>&#9;&#9;{<br>&#9;&#9;&#9;PlayerOwner.ClientInstantFlash(-0.4, vect(450, 190, 650));<br>&#9;&#9;&#9;DeusExPlayer(Other).ConsoleCommand("feigndeath");<br>&#9;&#9;&#9;DeusExPlayer(Other).ClientFlash(1,Vect(20000,20000,20000));<br>&#9;&#9;&#9;DeusExPlayer(Other).IncreaseClientFlashLength(12.0); //Drag that flash out for miles!!!<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="WeaponTazer.TestMPBeltSpot"><a class="headerlink" href="#WeaponTazer.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ((BeltSpot <= 9) && (BeltSpot >= 1));<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WeaponThinSword.uc" title="Permanent link"><h2 id="WeaponThinSword.uc">WeaponThinSword.uc (extends WeaponSword)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">mpHitDamage=45<br>mpAccurateRange=150<br>mpMaxRange=150<br>InventoryGroup=133<br>ItemName="Thin Sword"<br>Description="A strange, ancient triad weapon. You would be hard pressed finding out anything else about it."<br>beltDescription="Thin"<br>Fatness=105</div>
<br><br><hr>
<a class="headerlink" href="#WeaponToyAssault.uc" title="Permanent link"><h2 id="WeaponToyAssault.uc">WeaponToyAssault.uc (extends WeaponAssaultGun)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">DrawScale=0.100000</div>
<br><br><hr>
<a class="headerlink" href="#WeaponTrainingLam.uc" title="Permanent link"><h2 id="WeaponTrainingLam.uc">WeaponTrainingLam.uc (extends DeusExWeapon)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var localized String shortName;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">ShortName="TLAM"<br>LowAmmoWaterMark=2<br>GoverningSkill=Class'DeusEx.SkillDemolition'<br>ShotTime=0.300000<br>reloadTime=0.100000<br>HitDamage=50<br>maxRange=4800<br>AccurateRange=2400<br>BaseAccuracy=1.000000<br>bHasMuzzleFlash=False<br>bHandToHand=True<br>bUseAsDrawnWeapon=False<br>AITimeLimit=3.500000<br>AIFireDelay=5.000000<br>bNeedToSetMPPickupAmmo=False<br>mpReloadTime=0.100000<br>mpHitDamage=50<br>mpBaseAccuracy=1.000000<br>mpAccurateRange=2400<br>mpMaxRange=2400<br>AmmoName=Class'DeusEx.AmmoLAM'<br>ReloadCount=1<br>PickupAmmoCount=1<br>FireOffset=(Y=10.000000,Z=20.000000)<br>ProjectileClass=Class'PartyStuff.TrainingLam'<br>shakemag=50.000000<br>SelectSound=Sound'DeusExSounds.Weapons.LAMSelect'<br>InventoryGroup=20<br>ItemName="Training Lightweight Attack Munitions (TLAM)"<br>PlayerViewOffset=(X=24.000000,Y=-15.000000,Z=-17.000000)<br>PlayerViewMesh=LodMesh'DeusExItems.LAM'<br>PickupViewMesh=LodMesh'DeusExItems.LAMPickup'<br>ThirdPersonMesh=LodMesh'DeusExItems.LAM3rd'<br>Icon=Texture'DeusExUI.Icons.BeltIconLAM'<br>largeIcon=Texture'DeusExUI.Icons.LargeIconLAM'<br>largeIconWidth=35<br>largeIconHeight=45<br>Description="A multi-functional explosive with electronic priming system that can either be thrown or attached to any surface with its polyhesive backing and used as a proximity mine.|n|n<UNATCO OPS FILE NOTE SC093-BLUE> Disarming a proximity device should only be attempted with the proper demolitions training. Trust me on this. -- Sam Carter <END NOTE>"<br>beltDescription="TLAM"<br>Mesh=LodMesh'DeusExItems.LAMPickup'<br>CollisionRadius=3.800000<br>CollisionHeight=3.500000<br>Mass=5.000000<br>Buoyancy=2.000000</div>
<h3 id="WeaponTrainingLam.BecomePickup"><a class="headerlink" href="#WeaponTrainingLam.BecomePickup" title="Permanent link">BecomePickup</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.BecomePickup();<br>   if (Level.NetMode != NM_Standalone)<br>      if (bTossedOut)<br>         Lifespan = 0.0;<br><br></div>
<h3 id="WeaponTrainingLam.Fire"><a class="headerlink" href="#WeaponTrainingLam.Fire" title="Permanent link">Fire</a> (float Value)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;// if facing a wall, affix the LAM to the wall<br>&#9;if (Pawn(Owner) != None)<br>&#9;{<br>&#9;&#9;if (bNearWall)<br>&#9;&#9;{<br>&#9;&#9;&#9;bReadyToFire = False;<br>&#9;&#9;&#9;GotoState('NormalFire');<br>&#9;&#9;&#9;bPointing = True;<br>&#9;&#9;&#9;PlayAnim('Place',, 0.1);<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br><br>&#9;// otherwise, throw as usual<br>&#9;Super.Fire(Value);<br><br></div>
<h3 id="WeaponTrainingLam.PostBeginPlay"><a class="headerlink" href="#WeaponTrainingLam.PostBeginPlay" title="Permanent link">PostBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   Super.PostBeginPlay();<br>   bWeaponStay=False;<br><br></div>
<h3 id="WeaponTrainingLam.PreBeginPlay"><a class="headerlink" href="#WeaponTrainingLam.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;// If this is a netgame, then override defaults<br>&#9;if ( Level.NetMode != NM_StandAlone )<br>&#9;{<br>&#9;&#9;HitDamage = mpHitDamage;<br>&#9;&#9;BaseAccuracy = mpBaseAccuracy;<br>&#9;&#9;ReloadTime = mpReloadTime;<br>&#9;&#9;AccurateRange = mpAccurateRange;<br>&#9;&#9;MaxRange = mpMaxRange;<br>&#9;}<br><br></div>
<h3 id="WeaponTrainingLam.TestMPBeltSpot"><a class="headerlink" href="#WeaponTrainingLam.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return (BeltSpot == 6);<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WeaponTrainingPistol.uc" title="Permanent link"><h2 id="WeaponTrainingPistol.uc">WeaponTrainingPistol.uc (extends WeaponPistol)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var bool bSafety;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bHasScope=True<br>bHasSilencer=True<br>InventoryGroup=147<br>ItemName="Training Pistol"<br>beltDescription="T-PISTOL"</div>
<h3 id="WeaponTrainingPistol.CalcHitLoc"><a class="headerlink" href="#WeaponTrainingPistol.CalcHitLoc" title="Permanent link">CalcHitLoc</a> (int HitPart) -> string</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(HitPart == 1)<br>&#9;&#9;return "Head";<br><br>&#9;if(HitPart == 2)<br>&#9;&#9;return "Torso";<br>&#9;&#9;<br>&#9;if(HitPart == 3)<br>&#9;&#9;return "Legs";<br><br>&#9;if(HitPart == 4)<br>&#9;&#9;return "Legs";<br>&#9;<br>&#9;if(HitPart == 5)<br>&#9;&#9;return "Torso";<br><br>&#9;if(HitPart == 6)<br>&#9;&#9;return "Torso";<br><br></div>
<h3 id="WeaponTrainingPistol.CalculateAccuracy"><a class="headerlink" href="#WeaponTrainingPistol.CalculateAccuracy" title="Permanent link">CalculateAccuracy</a> -> float</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;return 0.000000; //Dirty hack to always return dead on accuracy.<br><br></div>
<h3 id="WeaponTrainingPistol.GetDisplayString"><a class="headerlink" href="#WeaponTrainingPistol.GetDisplayString" title="Permanent link">GetDisplayString</a> (Actor P) -> string</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(P.isA('DeusExPlayer'))<br>&#9;&#9;return DeusExPlayer(p).PlayerReplicationInfo.PlayerName;<br>&#9;else if(P.isA('ScriptedPawn'))<br>&#9;&#9;return ScriptedPawn(P).FamiliarName;<br>&#9;else if(P.isA('DeusExDecoration'))<br>&#9;&#9;return DeusExDecoration(P).ItemName;<br><br></div>
<h3 id="WeaponTrainingPistol.GiveTo"><a class="headerlink" href="#WeaponTrainingPistol.GiveTo" title="Permanent link">GiveTo</a> (pawn Other)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>    super.Giveto(Other);<br>&#9;bSafety=True;<br>&#9;Other.ClientMessage("Training Weapon: Laser Toggle to turn safety off.");<br><br></div>
<h3 id="WeaponTrainingPistol.ProcessTraceHit"><a class="headerlink" href="#WeaponTrainingPistol.ProcessTraceHit" title="Permanent link">ProcessTraceHit</a> (Actor Other, Vector HitLocation, Vector HitNormal, Vector X, Vector Y, Vector Z)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local float        mult;<br>&#9;local name         damageType;<br>&#9;local DeusExPlayer dxPlayer;<br>&#9;local Pawn P;<br>&#9;local PSSing PSF;<br><br><br>&#9;&#9;if(!bSafety)<br>&#9;&#9;{<br>&#9;&#9;&#9;super.ProcessTraceHit(other, hitlocation, hitnormal, x, y, z);<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;if( Other.isA('PlayerPawn') )<br>&#9;{<br>&#9;&#9;if ( CalcHitLoc(DeusExPlayer(Other).GetMPHitLocation(HitLocation)) == "Head" ) <br>&#9;&#9;{<br>&#9;&#9;&#9;Broadcastmessage(DeusExPlayer(Owner).PlayerReplicationInfo.PlayerName$" got a headshot!");&#9;&#9;&#9;<br>&#9;&#9;}<br>&#9;&#9;DeusExPlayer(Owner).ClientMessage(GetDisplayString(Other)$" hit: "$CalcHitLoc(DeusExPlayer(Other).GetMPHitLocation(HitLocation)));<br>&#9;&#9;<br>&#9;}<br>&#9;<br>&#9;if(Other.isA('LAM') || Other.isA('TrainingLAM'))<br>&#9;{<br>&#9;&#9;&#9;super.ProcessTraceHit(other, hitlocation, hitnormal, x, y, z);<br>&#9;&#9;&#9;Broadcastmessage(DeusExPlayer(Owner).PlayerReplicationInfo.PlayerName$" hit a training LAM!");<br>&#9;&#9;&#9;DeusExPlayer(Owner).PlayerReplicationInfo.Score += 1;<br>&#9;}<br><br></div>
<h3 id="WeaponTrainingPistol.TestMPBeltSpot"><a class="headerlink" href="#WeaponTrainingPistol.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<h3 id="WeaponTrainingPistol.lasertoggle"><a class="headerlink" href="#WeaponTrainingPistol.lasertoggle" title="Permanent link">lasertoggle</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;bSafety = !bSafety;<br>&#9;DeusExPlayer(Owner).ClientMessage("Player Safety:"@bSafety);<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WeaponTrainingRifle.uc" title="Permanent link"><h2 id="WeaponTrainingRifle.uc">WeaponTrainingRifle.uc (extends WeaponRifle)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var bool bSafety;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bHasSilencer=True<br>InventoryGroup=148<br>ItemName="Training Sniper Rifle"<br>beltDescription="T-RIFLE"</div>
<h3 id="WeaponTrainingRifle.CalcHitLoc"><a class="headerlink" href="#WeaponTrainingRifle.CalcHitLoc" title="Permanent link">CalcHitLoc</a> (int HitPart) -> string</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(HitPart == 1)<br>&#9;&#9;return "Head";<br><br>&#9;if(HitPart == 2)<br>&#9;&#9;return "Torso";<br>&#9;&#9;<br>&#9;if(HitPart == 3)<br>&#9;&#9;return "Legs";<br><br>&#9;if(HitPart == 4)<br>&#9;&#9;return "Legs";<br>&#9;<br>&#9;if(HitPart == 5)<br>&#9;&#9;return "Torso";<br><br>&#9;if(HitPart == 6)<br>&#9;&#9;return "Torso";<br><br></div>
<h3 id="WeaponTrainingRifle.GetDisplayString"><a class="headerlink" href="#WeaponTrainingRifle.GetDisplayString" title="Permanent link">GetDisplayString</a> (Actor P) -> string</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(P.isA('DeusExPlayer'))<br>&#9;&#9;return DeusExPlayer(p).PlayerReplicationInfo.PlayerName;<br>&#9;else if(P.isA('ScriptedPawn'))<br>&#9;&#9;return ScriptedPawn(P).FamiliarName;<br>&#9;else if(P.isA('DeusExDecoration'))<br>&#9;&#9;return DeusExDecoration(P).ItemName;<br><br></div>
<h3 id="WeaponTrainingRifle.GiveTo"><a class="headerlink" href="#WeaponTrainingRifle.GiveTo" title="Permanent link">GiveTo</a> (pawn Other)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>    super.Giveto(Other);<br>&#9;bSafety=True;<br>&#9;Other.ClientMessage("Training Weapon: Laser Toggle to turn safety off.");<br><br></div>
<h3 id="WeaponTrainingRifle.ProcessTraceHit"><a class="headerlink" href="#WeaponTrainingRifle.ProcessTraceHit" title="Permanent link">ProcessTraceHit</a> (Actor Other, Vector HitLocation, Vector HitNormal, Vector X, Vector Y, Vector Z)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local float        mult;<br>&#9;local name         damageType;<br>&#9;local DeusExPlayer dxPlayer;<br>&#9;local Pawn P;<br>&#9;local PSSing PSF;<br><br><br>&#9;&#9;if(!bSafety)<br>&#9;&#9;{<br>&#9;&#9;&#9;super.ProcessTraceHit(other, hitlocation, hitnormal, x, y, z);<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;if( Other.isA('PlayerPawn') )<br>&#9;{<br>&#9;&#9;if ( CalcHitLoc(DeusExPlayer(Other).GetMPHitLocation(HitLocation)) == "Head" ) <br>&#9;&#9;{<br>&#9;&#9;&#9;Broadcastmessage(DeusExPlayer(Owner).PlayerReplicationInfo.PlayerName$" got a headshot!");&#9;&#9;&#9;<br>&#9;&#9;}<br>&#9;&#9;DeusExPlayer(Owner).ClientMessage(GetDisplayString(Other)$" hit: "$CalcHitLoc(DeusExPlayer(Other).GetMPHitLocation(HitLocation)));<br>&#9;&#9;<br>&#9;}<br>&#9;<br>&#9;if(Other.isA('LAM') || Other.isA('TrainingLAM'))<br>&#9;{<br>&#9;&#9;&#9;super.ProcessTraceHit(other, hitlocation, hitnormal, x, y, z);<br>&#9;&#9;&#9;Broadcastmessage(DeusExPlayer(Owner).PlayerReplicationInfo.PlayerName$" hit a training LAM!");<br>&#9;&#9;&#9;DeusExPlayer(Owner).PlayerReplicationInfo.Score += 1;<br>&#9;}<br><br></div>
<h3 id="WeaponTrainingRifle.TestMPBeltSpot"><a class="headerlink" href="#WeaponTrainingRifle.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<h3 id="WeaponTrainingRifle.lasertoggle"><a class="headerlink" href="#WeaponTrainingRifle.lasertoggle" title="Permanent link">lasertoggle</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;bSafety = !bSafety;<br>&#9;DeusExPlayer(Owner).ClientMessage("Player Safety:"@bSafety);<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WeaponTravelGun.uc" title="Permanent link"><h2 id="WeaponTravelGun.uc">WeaponTravelGun.uc (extends WeaponGEPGun)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">ProjectileClass=Class'PartyStuff.TRocket'<br>InventoryGroup=182<br>ItemName="Travel Weapon"<br>Description="Blablabla takes people to places blablabla."<br>beltDescription="TRAVEL"</div>
<br><br><hr>
<a class="headerlink" href="#WeaponTripBomb.uc" title="Permanent link"><h2 id="WeaponTripBomb.uc">WeaponTripBomb.uc (extends DeusExWeapon)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var localized String shortName;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">ShortName="Laser"<br>LowAmmoWaterMark=1<br>GoverningSkill=Class'DeusEx.SkillDemolition'<br>Concealability=CONC_All<br>ShotTime=0.300000<br>reloadTime=0.100000<br>HitDamage=50<br>maxRange=4800<br>AccurateRange=2400<br>BaseAccuracy=1.000000<br>bHasMuzzleFlash=False<br>bHandToHand=True<br>bUseAsDrawnWeapon=False<br>bNeedToSetMPPickupAmmo=False<br>mpReloadTime=0.100000<br>mpHitDamage=50<br>mpBaseAccuracy=1.000000<br>mpAccurateRange=2400<br>mpMaxRange=2400<br>mpPickupAmmoCount=6<br>AmmoName=Class'PartyStuff.AmmoTripB'<br>ReloadCount=1<br>PickupAmmoCount=6<br>FireOffset=(Y=10.000000,Z=20.000000)<br>ProjectileClass=Class'PartyStuff.TripProj'<br>shakemag=50.000000<br>SelectSound=Sound'DeusExSounds.Weapons.LAMSelect'<br>InventoryGroup=128<br>ItemName="Laser Wire"<br>PlayerViewOffset=(X=24.000000,Y=-15.000000,Z=-17.000000)<br>PlayerViewMesh=LodMesh'DeusExItems.LAM'<br>PickupViewMesh=LodMesh'DeusExItems.LAMPickup'<br>ThirdPersonMesh=LodMesh'DeusExItems.LAM3rd'<br>Icon=Texture'DeusExUI.Icons.BeltIconLAM'<br>largeIcon=Texture'DeusExUI.Icons.LargeIconLAM'<br>largeIconWidth=35<br>largeIconHeight=45<br>Description="Places a deadly laser wire that will instantly kill anything that touches it"<br>beltDescription="LASMINE"<br>Mesh=LodMesh'DeusExItems.LAMPickup'<br>CollisionRadius=3.800000<br>CollisionHeight=3.500000<br>Mass=5.000000<br>Buoyancy=2.000000</div>
<h3 id="WeaponTripBomb.BecomePickup"><a class="headerlink" href="#WeaponTripBomb.BecomePickup" title="Permanent link">BecomePickup</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.BecomePickup();<br>   if (Level.NetMode != NM_Standalone)<br>      if (bTossedOut)<br>         Lifespan = 0.0;<br><br></div>
<h3 id="WeaponTripBomb.Fire"><a class="headerlink" href="#WeaponTripBomb.Fire" title="Permanent link">Fire</a> (float Value)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;// if facing a wall, affix the LAM to the wall<br>&#9;if (Pawn(Owner) != None)<br>&#9;{<br>&#9;&#9;if (!NearWallCheck())<br>&#9;&#9;{<br>&#9;&#9;&#9;DeusExPlayer(Owner).bJustFired = False;<br>&#9;&#9;&#9;bReadyToFire = True;<br>&#9;&#9;&#9;bPointing = False;<br>&#9;&#9;&#9;bFiring = False;<br>&#9;&#9;&#9;GotoState('Idle');<br>&#9;&#9;&#9;DeusExPlayer(Owner).ConsoleCommand("ThrowWeapon");<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;{<br>&#9;&#9;&#9;bReadyToFire = False;<br>&#9;&#9;&#9;GotoState('NormalFire');<br>&#9;&#9;&#9;bPointing = True;<br>&#9;&#9;&#9;PlayAnim('Place',, 0.0);<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="WeaponTripBomb.PostBeginPlay"><a class="headerlink" href="#WeaponTripBomb.PostBeginPlay" title="Permanent link">PostBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   Super.PostBeginPlay();<br>   bWeaponStay=False;<br><br></div>
<h3 id="WeaponTripBomb.PreBeginPlay"><a class="headerlink" href="#WeaponTripBomb.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;// If this is a netgame, then override defaults<br>&#9;if ( Level.NetMode != NM_StandAlone )<br>&#9;{<br>&#9;&#9;HitDamage = mpHitDamage;<br>&#9;&#9;BaseAccuracy = mpBaseAccuracy;<br>&#9;&#9;ReloadTime = mpReloadTime;<br>&#9;&#9;AccurateRange = mpAccurateRange;<br>&#9;&#9;MaxRange = mpMaxRange;<br>&#9;}<br><br></div>
<h3 id="WeaponTripBomb.TestMPBeltSpot"><a class="headerlink" href="#WeaponTripBomb.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return (BeltSpot == 6);<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WeaponTripBombEMP.uc" title="Permanent link"><h2 id="WeaponTripBombEMP.uc">WeaponTripBombEMP.uc (extends DeusExWeapon)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var localized String shortName;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">ShortName="EMP"<br>LowAmmoWaterMark=1<br>GoverningSkill=Class'DeusEx.SkillDemolition'<br>Concealability=CONC_All<br>ShotTime=0.300000<br>reloadTime=0.100000<br>HitDamage=50<br>maxRange=4800<br>AccurateRange=2400<br>BaseAccuracy=1.000000<br>bHasMuzzleFlash=False<br>bHandToHand=True<br>bUseAsDrawnWeapon=False<br>bNeedToSetMPPickupAmmo=False<br>mpReloadTime=0.100000<br>mpHitDamage=50<br>mpBaseAccuracy=1.000000<br>mpAccurateRange=2400<br>mpMaxRange=2400<br>mpPickupAmmoCount=6<br>AmmoName=Class'PartyStuff.AmmoTripBEMP'<br>ReloadCount=1<br>PickupAmmoCount=6<br>FireOffset=(Y=10.000000,Z=20.000000)<br>ProjectileClass=Class'PartyStuff.TripProjEMP'<br>shakemag=50.000000<br>SelectSound=Sound'DeusExSounds.Weapons.LAMSelect'<br>InventoryGroup=128<br>ItemName="EMP Laser Wire"<br>PlayerViewOffset=(X=24.000000,Y=-15.000000,Z=-17.000000)<br>PlayerViewMesh=LodMesh'DeusExItems.LAM'<br>PickupViewMesh=LodMesh'DeusExItems.LAMPickup'<br>ThirdPersonMesh=LodMesh'DeusExItems.LAM3rd'<br>Icon=Texture'DeusExUI.Icons.BeltIconLAM'<br>largeIcon=Texture'DeusExUI.Icons.LargeIconLAM'<br>largeIconWidth=35<br>largeIconHeight=45<br>Description="EMP Laser"<br>beltDescription="EMPLAS"<br>Mesh=LodMesh'DeusExItems.LAMPickup'<br>CollisionRadius=3.800000<br>CollisionHeight=3.500000<br>Mass=5.000000<br>Buoyancy=2.000000</div>
<h3 id="WeaponTripBombEMP.BecomePickup"><a class="headerlink" href="#WeaponTripBombEMP.BecomePickup" title="Permanent link">BecomePickup</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.BecomePickup();<br>   if (Level.NetMode != NM_Standalone)<br>      if (bTossedOut)<br>         Lifespan = 0.0;<br><br></div>
<h3 id="WeaponTripBombEMP.Fire"><a class="headerlink" href="#WeaponTripBombEMP.Fire" title="Permanent link">Fire</a> (float Value)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;// if facing a wall, affix the LAM to the wall<br>&#9;if (Pawn(Owner) != None)<br>&#9;{<br>&#9;&#9;if (!NearWallCheck())<br>&#9;&#9;{<br>&#9;&#9;&#9;DeusExPlayer(Owner).bJustFired = False;<br>&#9;&#9;&#9;bReadyToFire = True;<br>&#9;&#9;&#9;bPointing = False;<br>&#9;&#9;&#9;bFiring = False;<br>&#9;&#9;&#9;GotoState('Idle');<br>&#9;&#9;&#9;DeusExPlayer(Owner).ConsoleCommand("ThrowWeapon");<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;{<br>&#9;&#9;&#9;bReadyToFire = False;<br>&#9;&#9;&#9;GotoState('NormalFire');<br>&#9;&#9;&#9;bPointing = True;<br>&#9;&#9;&#9;PlayAnim('Place',, 0.0);<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="WeaponTripBombEMP.PostBeginPlay"><a class="headerlink" href="#WeaponTripBombEMP.PostBeginPlay" title="Permanent link">PostBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   Super.PostBeginPlay();<br>   bWeaponStay=False;<br><br></div>
<h3 id="WeaponTripBombEMP.PreBeginPlay"><a class="headerlink" href="#WeaponTripBombEMP.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;// If this is a netgame, then override defaults<br>&#9;if ( Level.NetMode != NM_StandAlone )<br>&#9;{<br>&#9;&#9;HitDamage = mpHitDamage;<br>&#9;&#9;BaseAccuracy = mpBaseAccuracy;<br>&#9;&#9;ReloadTime = mpReloadTime;<br>&#9;&#9;AccurateRange = mpAccurateRange;<br>&#9;&#9;MaxRange = mpMaxRange;<br>&#9;}<br><br></div>
<h3 id="WeaponTripBombEMP.TestMPBeltSpot"><a class="headerlink" href="#WeaponTripBombEMP.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return (BeltSpot == 6);<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WeaponTripBombFire.uc" title="Permanent link"><h2 id="WeaponTripBombFire.uc">WeaponTripBombFire.uc (extends DeusExWeapon)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var localized String shortName;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">ShortName="Laser"<br>LowAmmoWaterMark=1<br>GoverningSkill=Class'DeusEx.SkillDemolition'<br>Concealability=CONC_All<br>ShotTime=0.300000<br>reloadTime=0.100000<br>HitDamage=50<br>maxRange=4800<br>AccurateRange=2400<br>BaseAccuracy=1.000000<br>bHasMuzzleFlash=False<br>bHandToHand=True<br>bUseAsDrawnWeapon=False<br>bNeedToSetMPPickupAmmo=False<br>mpReloadTime=0.100000<br>mpHitDamage=50<br>mpBaseAccuracy=1.000000<br>mpAccurateRange=2400<br>mpMaxRange=2400<br>mpPickupAmmoCount=6<br>AmmoName=Class'PartyStuff.AmmoTripBFire'<br>ReloadCount=1<br>PickupAmmoCount=6<br>FireOffset=(Y=10.000000,Z=20.000000)<br>ProjectileClass=Class'PartyStuff.TripProjFire'<br>shakemag=50.000000<br>SelectSound=Sound'DeusExSounds.Weapons.LAMSelect'<br>InventoryGroup=128<br>ItemName="Fire Laser"<br>PlayerViewOffset=(X=24.000000,Y=-15.000000,Z=-17.000000)<br>PlayerViewMesh=LodMesh'DeusExItems.LAM'<br>PickupViewMesh=LodMesh'DeusExItems.LAMPickup'<br>ThirdPersonMesh=LodMesh'DeusExItems.LAM3rd'<br>Icon=Texture'DeusExUI.Icons.BeltIconLAM'<br>largeIcon=Texture'DeusExUI.Icons.LargeIconLAM'<br>largeIconWidth=35<br>largeIconHeight=45<br>Description="Places a deadly laser wire that will instantly kill anything that touches it"<br>beltDescription="LASFIRE"<br>Mesh=LodMesh'DeusExItems.LAMPickup'<br>CollisionRadius=3.800000<br>CollisionHeight=3.500000<br>Mass=5.000000<br>Buoyancy=2.000000</div>
<h3 id="WeaponTripBombFire.BecomePickup"><a class="headerlink" href="#WeaponTripBombFire.BecomePickup" title="Permanent link">BecomePickup</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.BecomePickup();<br>   if (Level.NetMode != NM_Standalone)<br>      if (bTossedOut)<br>         Lifespan = 0.0;<br><br></div>
<h3 id="WeaponTripBombFire.Fire"><a class="headerlink" href="#WeaponTripBombFire.Fire" title="Permanent link">Fire</a> (float Value)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;// if facing a wall, affix the LAM to the wall<br>&#9;if (Pawn(Owner) != None)<br>&#9;{<br>&#9;&#9;if (!NearWallCheck())<br>&#9;&#9;{<br>&#9;&#9;&#9;DeusExPlayer(Owner).bJustFired = False;<br>&#9;&#9;&#9;bReadyToFire = True;<br>&#9;&#9;&#9;bPointing = False;<br>&#9;&#9;&#9;bFiring = False;<br>&#9;&#9;&#9;GotoState('Idle');<br>&#9;&#9;&#9;DeusExPlayer(Owner).ConsoleCommand("ThrowWeapon");<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;{<br>&#9;&#9;&#9;bReadyToFire = False;<br>&#9;&#9;&#9;GotoState('NormalFire');<br>&#9;&#9;&#9;bPointing = True;<br>&#9;&#9;&#9;PlayAnim('Place',, 0.0);<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="WeaponTripBombFire.PostBeginPlay"><a class="headerlink" href="#WeaponTripBombFire.PostBeginPlay" title="Permanent link">PostBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   Super.PostBeginPlay();<br>   bWeaponStay=False;<br><br></div>
<h3 id="WeaponTripBombFire.PreBeginPlay"><a class="headerlink" href="#WeaponTripBombFire.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;// If this is a netgame, then override defaults<br>&#9;if ( Level.NetMode != NM_StandAlone )<br>&#9;{<br>&#9;&#9;HitDamage = mpHitDamage;<br>&#9;&#9;BaseAccuracy = mpBaseAccuracy;<br>&#9;&#9;ReloadTime = mpReloadTime;<br>&#9;&#9;AccurateRange = mpAccurateRange;<br>&#9;&#9;MaxRange = mpMaxRange;<br>&#9;}<br><br></div>
<h3 id="WeaponTripBombFire.TestMPBeltSpot"><a class="headerlink" href="#WeaponTripBombFire.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return (BeltSpot == 6);<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WeaponUtilBow.uc" title="Permanent link"><h2 id="WeaponUtilBow.uc">WeaponUtilBow.uc (extends DeusExWeapon)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var int Mode;<br>var int Grapvel, JumpVel;<br>var int rMode;<br>var int rGrapvel, rJumpVel;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">Grapvel=1500<br>JumpVel=-950<br>rGrapvel=1500<br>rJumpVel=-950<br>LowAmmoWaterMark=4<br>GoverningSkill=Class'DeusEx.SkillWeaponPistol'<br>NoiseLevel=0.050000<br>EnemyEffective=ENMEFF_Organic<br>Concealability=CONC_All<br>ShotTime=0.800000<br>reloadTime=2.000000<br>HitDamage=25<br>maxRange=1600<br>AccurateRange=800<br>BaseAccuracy=0.800000<br>bCanHaveScope=True<br>ScopeFOV=15<br>bCanHaveLaser=True<br>bHasSilencer=True<br>StunDuration=10.000000<br>bHasMuzzleFlash=False<br>mpReloadTime=0.500000<br>mpHitDamage=30<br>mpBaseAccuracy=0.100000<br>mpAccurateRange=2000<br>mpMaxRange=2000<br>bCanHaveModBaseAccuracy=True<br>bCanHaveModAccurateRange=True<br>bCanHaveModReloadTime=True<br>FireOffset=(X=-25.000000,Y=8.000000,Z=14.000000)<br>ProjectileClass=Class'PartyStuff.DartUtil'<br>shakemag=30.000000<br>FireSound=Sound'DeusExSounds.Weapons.MiniCrossbowFire'<br>AltFireSound=Sound'DeusExSounds.Weapons.MiniCrossbowReloadEnd'<br>CockingSound=Sound'DeusExSounds.Weapons.MiniCrossbowReload'<br>SelectSound=Sound'DeusExSounds.Weapons.MiniCrossbowSelect'<br>InventoryGroup=253<br>ItemName="Utility-Crossbow"<br>PlayerViewOffset=(X=25.000000,Y=-8.000000,Z=-14.000000)<br>PlayerViewMesh=LodMesh'DeusExItems.MiniCrossbow'<br>PickupViewMesh=LodMesh'DeusExItems.MiniCrossbowPickup'<br>ThirdPersonMesh=LodMesh'DeusExItems.MiniCrossbow3rd'<br>Icon=Texture'DeusExUI.Icons.BeltIconCrossbow'<br>largeIcon=Texture'DeusExUI.Icons.LargeIconCrossbow'<br>largeIconWidth=47<br>largeIconHeight=46<br>Description="The mini-crossbow was specifically developed for espionage work, and accepts a range of dart types (normal, tranquilizer, or flare) that can be changed depending upon the mission requirements."<br>beltDescription="UTIL"<br>Mesh=LodMesh'DeusExItems.MiniCrossbowPickup'<br>CollisionRadius=8.000000<br>CollisionHeight=1.000000<br>Mass=15.000000</div>
<h3 id="WeaponUtilBow.CycleAmmo"><a class="headerlink" href="#WeaponUtilBow.CycleAmmo" title="Permanent link">CycleAmmo</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(DeusExPlayer(Owner).bAdmin)<br>&#9;{<br>&#9;Mode++;<br>&#9;if(Mode == 4)<br>&#9;&#9;Mode = 0;<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;Mode++;<br>&#9;if(Mode == 4)<br>&#9;&#9;Mode = 1;<br>&#9;}<br>&#9;<br>&#9;rmode=mode;<br>&#9;/*if(Mode == 0)<br>&#9;&#9;OwnerMsg("Trigger mode.");<br>&#9;else if(Mode == 1)<br>&#9;&#9;OwnerMsg("Ladder mode.");<br>&#9;else if(Mode == 2)<br>&#9;&#9;OwnerMsg("Jump Pad mode.");<br>&#9;else if(Mode == 3)<br>&#9;&#9;OwnerMsg("Grapple mode.");*/<br><br></div>
<h3 id="WeaponUtilBow.GiveTo"><a class="headerlink" href="#WeaponUtilBow.GiveTo" title="Permanent link">GiveTo</a> (pawn Other)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>    super.Giveto(Other);<br>        Mode = 3;<br>        rMode = 3;<br>&#9;Other.ClientMessage("Cycle ammo to change modes.");<br><br></div>
<h3 id="WeaponUtilBow.LaserToggle"><a class="headerlink" href="#WeaponUtilBow.LaserToggle" title="Permanent link">LaserToggle</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(Mode == 3)<br>&#9;{<br>&#9;Grapvel += 500;<br>&#9;rGrapvel = Grapvel;<br>//&#9;OwnerMsg("Grapple force"@Grapvel);<br>&#9;}<br>&#9;if(Mode == 2)<br>&#9;{<br>&#9;Jumpvel += 10;<br>&#9;rJumpvel = Jumpvel;<br>//&#9;OwnerMsg("Jump force"@Jumpvel);<br>&#9;}<br><br></div>
<h3 id="WeaponUtilBow.OwnerMsg"><a class="headerlink" href="#WeaponUtilBow.OwnerMsg" title="Permanent link">OwnerMsg</a> (string str)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;DeusExPlayer(Owner).ClientMessage(str,'TeamSay');<br><br></div>
<h3 id="WeaponUtilBow.PreBeginPlay"><a class="headerlink" href="#WeaponUtilBow.PreBeginPlay" title="Permanent link">PreBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PreBeginPlay();<br><br>&#9;// If this is a netgame, then override defaults<br>&#9;if ( Level.NetMode != NM_StandAlone )<br>&#9;{<br>&#9;&#9;HitDamage = mpHitDamage;<br>&#9;&#9;BaseAccuracy = mpBaseAccuracy;<br>&#9;&#9;ReloadTime = mpReloadTime;<br>&#9;&#9;AccurateRange = mpAccurateRange;<br>&#9;&#9;MaxRange = mpMaxRange;<br>&#9;&#9;ReloadCount = mpReloadCount;<br>      PickupAmmoCount = mpReloadCount;<br>&#9;}<br><br></div>
<h3 id="WeaponUtilBow.RenderOverlays"><a class="headerlink" href="#WeaponUtilBow.RenderOverlays" title="Permanent link">RenderOverlays</a> (canvas Canvas)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer P;<br>&#9;local int i;<br>&#9;local Pawn CrosshairTarget;<br>&#9;local float Scale, Accuracy, Dist;<br>&#9;local vector HitLocation, HitNormal, StartTrace, EndTrace, X,Y,Z;<br>&#9;local String KeyNamescope, Aliasscope, curKeyNamescope;<br>&#9;local String KeyNamelaser, Aliaslaser, curKeyNamelaser;<br>&#9;local String KeyNameammo, Aliasammo, curKeyNameammo;<br><br>&#9;Super.RenderOverlays(Canvas);<br>&#9;P = DeusExPlayer(Owner);<br>&#9;if ( P != None ) <br>&#9;{&#9;<br>&#9;&#9;&#9;&#9;/*curKeyNamescope = "";<br>&#9;&#9;&#9;&#9;for ( i=0; i<255; i++ )<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;KeyNamescope = Owner.ConsoleCommand ( "KEYNAME "$i );<br>&#9;&#9;&#9;&#9;&#9;if ( KeyNamescope != "" )<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;Aliasscope = Owner.ConsoleCommand( "KEYBINDING "$KeyNamescope );<br>&#9;&#9;&#9;&#9;&#9;&#9;if ( Aliasscope ~= "Togglescope" )<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;curKeyNamescope = KeyNamescope;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;break;<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;if ( curKeyNamescope ~= "" )<br>&#9;&#9;&#9;&#9;&#9;curKeyNamescope = "NONE";<br>&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;curKeyNamelaser = "";<br>&#9;&#9;&#9;&#9;for ( i=0; i<255; i++ )<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;KeyNamelaser = Owner.ConsoleCommand ( "KEYNAME "$i );<br>&#9;&#9;&#9;&#9;&#9;if ( KeyNamelaser != "" )<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;Aliaslaser = Owner.ConsoleCommand( "KEYBINDING "$KeyNamelaser );<br>&#9;&#9;&#9;&#9;&#9;&#9;if ( Aliaslaser ~= "ToggleLaser" )<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;curKeyNamelaser = KeyNamelaser;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;break;<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;if ( curKeyNamelaser ~= "" )<br>&#9;&#9;&#9;&#9;&#9;curKeyNamelaser = "NONE";<br>&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;curKeyNameammo = "";<br>&#9;&#9;&#9;&#9;for ( i=0; i<255; i++ )<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;KeyNameammo = Owner.ConsoleCommand ( "KEYNAME "$i );<br>&#9;&#9;&#9;&#9;&#9;if ( KeyNameammo != "" )<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;Aliasammo = Owner.ConsoleCommand( "KEYBINDING "$KeyNameammo );<br>&#9;&#9;&#9;&#9;&#9;&#9;if ( Aliasammo ~= "SwitchAmmo" )<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;curKeyNameammo = KeyNameammo;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;break;<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;if ( curKeyNameammo ~= "" )<br>&#9;&#9;&#9;&#9;&#9;curKeyNameammo = "NONE";*/<br>&#9;&#9;GetAxes(Pawn(Owner).ViewRotation,X,Y,Z);&#9;<br>&#9;&#9;StartTrace = ComputeProjectileStart(X, Y, Z);<br>&#9;&#9;AdjustedAim = P.AdjustAim(1000000, StartTrace, 2*AimError, False, False);<br>&#9;&#9;EndTrace = StartTrace + Accuracy * (FRand()-0.5)*Y*1000 + Accuracy * (FRand()-0.5)*Z*1000 ;&#9;<br>&#9;&#9;EndTrace += (FMax(1024.0, MaxRange) * Vector(AdjustedAim));<br>&#9;&#9;&#9;&#9;bOwnsCrossHair = True; <br>&#9;&#9;&#9;&#9;Scale = Canvas.ClipX/640;<br>&#9;&#9;&#9;&#9;Canvas.SetPos(0.5 * Canvas.ClipX - 16 * Scale, 0.5 * Canvas.ClipY - 16 * Scale );<br>&#9;&#9;&#9;&#9;//Canvas.Style = ERenderStyle.STY_Translucent;<br>&#9;&#9;&#9;&#9;Canvas.DrawColor.R = 0;<br>&#9;&#9;&#9;&#9;Canvas.DrawColor.G = Rand(128);<br>&#9;&#9;&#9;&#9;Canvas.DrawColor.B = Rand(128);<br>&#9;&#9;&#9;&#9;Canvas.Font = Canvas.SmallFont;<br>&#9;&#9;&#9;&#9;//Canvas.DrawIcon(Texture'DeusExUI.UserInterface.AugIcontarget_Small', Scale);<br>&#9;&#9;&#9;&#9;//Canvas.bCenter=True;<br>&#9;&#9;&#9;&#9;if(rMode == 0)<br>&#9;&#9;&#9;&#9;&#9;Canvas.DrawText("     (Next Mode = Ammo Change) Trigger");<br>&#9;&#9;&#9;&#9;else if(rMode == 1)<br>&#9;&#9;&#9;&#9;&#9;Canvas.DrawText("     (Next Mode = Ammo Change) Ladder creation");<br>&#9;&#9;&#9;&#9;else if(rMode == 2)<br>&#9;&#9;&#9;&#9;&#9;Canvas.DrawText("     (Next Mode = Ammo Change) Jump Pad - [ <- SCOPE] "$rJumpVel$" [LASER -> ]");<br>&#9;&#9;&#9;&#9;else if(rMode == 3)<br>&#9;&#9;&#9;&#9;&#9;Canvas.DrawText("     (Next Mode = Ammo Change) Grapple - [ <- SCOPE] "$rGrapVel$" [LASER -> ]");<br>&#9;&#9;&#9;&#9;//Canvas.DrawPortal(0.5 * Canvas.ClipX - 16 * Scale, 0.5 * Canvas.ClipY - 16 * Scale , 30, 30, CrosshairTarget, CrosshairTarget.Location, CrosshairTarget.Rotation);<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;bOwnsCrossHair = False; // Only for compatibility with HDX50&#9;&#9;&#9;<br><br></div>
<h3 id="WeaponUtilBow.ScopeToggle"><a class="headerlink" href="#WeaponUtilBow.ScopeToggle" title="Permanent link">ScopeToggle</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(Mode == 3)<br>&#9;{<br>&#9;Grapvel -= 500;<br>&#9;&#9;rGrapvel = Grapvel;<br>&#9;//&#9;OwnerMsg("Grapple force"@Grapvel);<br>&#9;}<br>&#9;if(Mode == 2)<br>&#9;{<br>&#9;Jumpvel -= 10;<br>&#9;rJumpvel = Jumpvel;<br>&#9;//OwnerMsg("Jump force"@Jumpvel);<br>&#9;}<br><br></div>
<h3 id="WeaponUtilBow.TestMPBeltSpot"><a class="headerlink" href="#WeaponUtilBow.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WeaponWPGrenade.uc" title="Permanent link"><h2 id="WeaponWPGrenade.uc">WeaponWPGrenade.uc (extends WeaponGasGrenade)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">AIFireDelay=5.000000<br>AmmoName=Class'PartyStuff.AmmoWPGrenade'<br>ProjectileClass=Class'PartyStuff.WPGrenade'<br>ItemName="WP Grenade"<br>Description="Upon detonation, the WP grenade will spread a cloud of particularized white phosphorus that ignites immediately upon contact with the air."<br>beltDescription="WP GREN"</div>
<br><br><hr>
<a class="headerlink" href="#WeaponZoomSniper.uc" title="Permanent link"><h2 id="WeaponZoomSniper.uc">WeaponZoomSniper.uc (extends DeusExWeapon)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var float ZoomScale,ZoomInc,</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">ZoomScale=1.000000<br>ZoomInc=0.100000<br>MaxScale=1.000000<br>MinScale=0.100000<br>LowAmmoWaterMark=6<br>GoverningSkill=Class'DeusEx.SkillWeaponRifle'<br>NoiseLevel=2.000000<br>ShotTime=1.500000<br>reloadTime=2.000000<br>HitDamage=25<br>maxRange=48000<br>AccurateRange=28800<br>bCanHaveScope=True<br>bHasScope=True<br>ScopeFOV=80<br>bCanHaveLaser=True<br>bCanHaveSilencer=True<br>bHasMuzzleFlash=False<br>recoilStrength=0.400000<br>bUseWhileCrouched=False<br>mpReloadTime=2.000000<br>mpHitDamage=25<br>mpAccurateRange=28800<br>mpMaxRange=28800<br>mpReloadCount=6<br>bCanHaveModBaseAccuracy=True<br>bCanHaveModReloadCount=True<br>bCanHaveModAccurateRange=True<br>bCanHaveModReloadTime=True<br>bCanHaveModRecoilStrength=True<br>AmmoName=Class'DeusEx.Ammo3006'<br>ReloadCount=6<br>PickupAmmoCount=6<br>bInstantHit=True<br>FireOffset=(X=-20.000000,Y=2.000000,Z=30.000000)<br>shakemag=50.000000<br>FireSound=Sound'DeusExSounds.Weapons.RifleFire'<br>AltFireSound=Sound'DeusExSounds.Weapons.RifleReloadEnd'<br>CockingSound=Sound'DeusExSounds.Weapons.RifleReload'<br>SelectSound=Sound'DeusExSounds.Weapons.RifleSelect'<br>InventoryGroup=5<br>ItemName="Sniper Rifle [+Zoomable Scope & Attached Silencer]"<br>PlayerViewOffset=(X=20.000000,Y=-2.000000,Z=-30.000000)<br>PlayerViewMesh=LodMesh'DeusExItems.SniperRifle'<br>PickupViewMesh=LodMesh'DeusExItems.SniperRiflePickup'<br>ThirdPersonMesh=LodMesh'DeusExItems.SniperRifle3rd'<br>LandSound=Sound'DeusExSounds.Generic.DropMediumWeapon'<br>Icon=Texture'DeusExUI.Icons.BeltIconRifle'<br>largeIcon=Texture'DeusExUI.Icons.LargeIconRifle'<br>largeIconWidth=159<br>largeIconHeight=47<br>invSlotsX=2<br>Description="The military sniper rifle is the superior tool for the interdiction of long-range targets. When coupled with the proven 30.06 round, a marksman can achieve tight groupings at better than 1 MOA (minute of angle) depending on environmental conditions."<br>beltDescription="(Z)SNIPER"<br>Mesh=LodMesh'DeusExItems.SniperRiflePickup'<br>CollisionRadius=26.000000<br>CollisionHeight=2.000000<br>Mass=30.000000</div>
<h3 id="WeaponZoomSniper.AltFire"><a class="headerlink" href="#WeaponZoomSniper.AltFire" title="Permanent link">AltFire</a> (float Value)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(bHasSilencer)<br>&#9;{<br>&#9;DeusExPlayer(Owner).ClientMessage("Silencer off");<br>&#9;bHasSilencer = False;<br>&#9;BaseAccuracy=Default.BaseAccuracy;<br>&#9;HitDamage = Default.HitDamage;<br>&#9;}<br>&#9;&#9;else<br>&#9;{<br>&#9;DeusExPlayer(Owner).ClientMessage("Silencer on");<br>&#9;bHasSilencer = True;<br>&#9;BaseAccuracy=0.000001;<br>&#9;HitDamage = 100;<br>&#9;}<br><br></div>
<h3 id="WeaponZoomSniper.CycleAmmo"><a class="headerlink" href="#WeaponZoomSniper.CycleAmmo" title="Permanent link">CycleAmmo</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;ZoomOff();<br>&#9;ScopeOff();<br>&#9;DisableScope();<br>&#9;ZoomScale=MaxScale;<br>&#9;bZoomed=False;<br>&#9;UpdateScope(ScopeFOV,bZoomed);<br><br></div>
<h3 id="WeaponZoomSniper.DisableScope"><a class="headerlink" href="#WeaponZoomSniper.DisableScope" title="Permanent link">DisableScope</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>ScopeOff();<br><br></div>
<h3 id="WeaponZoomSniper.LaserToggle"><a class="headerlink" href="#WeaponZoomSniper.LaserToggle" title="Permanent link">LaserToggle</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>ZoomOut();<br><br></div>
<h3 id="WeaponZoomSniper.ScopeOff"><a class="headerlink" href="#WeaponZoomSniper.ScopeOff" title="Permanent link">ScopeOff</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>ZoomOff();<br>UpdateScope(ScopeFOV,False);<br><br></div>
<h3 id="WeaponZoomSniper.ScopeToggle"><a class="headerlink" href="#WeaponZoomSniper.ScopeToggle" title="Permanent link">ScopeToggle</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>ZoomIn();<br><br></div>
<h3 id="WeaponZoomSniper.UpdateScope"><a class="headerlink" href="#WeaponZoomSniper.UpdateScope" title="Permanent link">UpdateScope</a> (float FOV, bool bShow)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>bZoomed=bShow;<br>ScopeFOV=FOV;<br><br>RefreshScopeDisplay(DeusExPlayer(Owner), False, bZoomed);<br><br></div>
<h3 id="WeaponZoomSniper.ZoomIn"><a class="headerlink" href="#WeaponZoomSniper.ZoomIn" title="Permanent link">ZoomIn</a> -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>bZoomed=True;<br><br>ZoomScale-=ZoomInc;<br><br>if(ZoomScale<MinScale)<br>&#9;ZoomScale=MinScale;<br>ScopeFOV=80*ZoomScale;<br>BaseAccuracy=0.12/ZoomScale;<br>UpdateScope(ScopeFOV,True);<br><br>return bZoomed;<br><br></div>
<h3 id="WeaponZoomSniper.ZoomOff"><a class="headerlink" href="#WeaponZoomSniper.ZoomOff" title="Permanent link">ZoomOff</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>if(bHasScope && bZoomed && (Owner != None) && Owner.IsA('DeusExPlayer'))<br>&#9;{<br>&#9;bZoomed = False;<br>&#9;ZoomScale=MaxScale;<br>&#9;ScopeFOV=80*ZoomScale;<br>&#9;BaseAccuracy=0.12/ZoomScale;<br>&#9;UpdateScope(ScopeFOV,False);<br>&#9;}<br><br></div>
<h3 id="WeaponZoomSniper.ZoomOut"><a class="headerlink" href="#WeaponZoomSniper.ZoomOut" title="Permanent link">ZoomOut</a> -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>if(bZoomed)<br>&#9;{<br>&#9;ZoomScale+=ZoomInc;<br>&#9;if(ZoomScale>MaxScale)<br>&#9;&#9;{<br>&#9;&#9;ZoomScale=MaxScale;<br>&#9;&#9;bZoomed=False;<br>&#9;&#9;}<br>&#9;ScopeFOV=80*ZoomScale;<br>&#9;BaseAccuracy=0.12/ZoomScale;<br>&#9;UpdateScope(ScopeFOV,bZoomed);<br>&#9;}<br><br>return bZoomed;<br><br></div>
<br><br><hr>
<a class="headerlink" href="#WoodenBird.uc" title="Permanent link"><h2 id="WoodenBird.uc">WoodenBird.uc (extends DeusExDecoration)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bInvincible=True<br>FragType=Class'DeusEx.WoodFragment'<br>ItemName="Wooden Bird"<br>Mesh=LodMesh'DeusExCharacters.Seagull'<br>DrawScale=0.600000<br>MultiSkins(0)=Texture'CoreTexWood.Wood.ClenBrwnWood_A'<br>CollisionRadius=10.000000<br>CollisionHeight=3.600000<br>Mass=5.000000<br>Buoyancy=30.000000</div>
<br><br><hr>
<a class="headerlink" href="#WoodenBuddha.uc" title="Permanent link"><h2 id="WoodenBuddha.uc">WoodenBuddha.uc (extends HongKongDecoration)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bInvincible=True<br>FragType=Class'DeusEx.WoodFragment'<br>ItemName="Wooden Buddha"<br>Mesh=LodMesh'DeusExDeco.HKBuddha'<br>DrawScale=0.150000<br>MultiSkins(0)=Texture'CoreTexWood.Wood.ClenBrwnWood_A'<br>CollisionRadius=5.000000<br>CollisionHeight=8.000000<br>Mass=25.000000<br>Buoyancy=5.000000</div>
<br><br><hr>
<a class="headerlink" href="#WoodenCat.uc" title="Permanent link"><h2 id="WoodenCat.uc">WoodenCat.uc (extends DeusExDecoration)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bInvincible=True<br>FragType=Class'DeusEx.WoodFragment'<br>ItemName="Wooden Cat"<br>Mesh=LodMesh'DeusExCharacters.Cat'<br>DrawScale=0.500000<br>MultiSkins(0)=Texture'CoreTexWood.Wood.ClenBrwnWood_A'<br>CollisionRadius=5.500000<br>CollisionHeight=4.200000<br>Mass=5.000000<br>Buoyancy=30.000000</div>
<br><br><hr>
<a class="headerlink" href="#WoodenGreasel.uc" title="Permanent link"><h2 id="WoodenGreasel.uc">WoodenGreasel.uc (extends DeusExDecoration)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bInvincible=True<br>FragType=Class'DeusEx.WoodFragment'<br>ItemName="Wooden Greasel"<br>Mesh=LodMesh'DeusExCharacters.Greasel'<br>DrawScale=0.300000<br>MultiSkins(0)=Texture'CoreTexWood.Wood.ClenBrwnWood_A'<br>CollisionRadius=10.000000<br>CollisionHeight=5.000000<br>Mass=5.000000<br>Buoyancy=30.000000</div>
<br><br><hr>
<a class="headerlink" href="#WoodenKarkian.uc" title="Permanent link"><h2 id="WoodenKarkian.uc">WoodenKarkian.uc (extends DeusExDecoration)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bInvincible=True<br>FragType=Class'DeusEx.WoodFragment'<br>ItemName="Wooden Karkian"<br>Mesh=LodMesh'DeusExCharacters.Karkian'<br>DrawScale=0.100000<br>MultiSkins(0)=Texture'CoreTexWood.Wood.ClenBrwnWood_A'<br>CollisionRadius=6.000000<br>CollisionHeight=3.500000<br>Mass=5.000000<br>Buoyancy=30.000000</div>
<br><br><hr>
<a class="headerlink" href="#WoodenMutt.uc" title="Permanent link"><h2 id="WoodenMutt.uc">WoodenMutt.uc (extends DeusExDecoration)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bInvincible=True<br>FragType=Class'DeusEx.WoodFragment'<br>ItemName="Wooden Mutt"<br>Mesh=LodMesh'DeusExCharacters.Mutt'<br>DrawScale=0.300000<br>MultiSkins(0)=Texture'CoreTexWood.Wood.ClenBrwnWood_A'<br>CollisionRadius=10.000000<br>CollisionHeight=8.000000<br>Mass=5.000000<br>Buoyancy=30.000000</div>
<br><br><hr>
<a class="headerlink" href="#acrate.uc" title="Permanent link"><h2 id="acrate.uc">acrate.uc (extends Containers)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var localized String AmmoReceived;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">AmmoReceived="Ammo restocked"<br>HitPoints=4000<br>bFlammable=False<br>ItemName="Ammo Crate"<br>bPushable=False<br>bBlockSight=True<br>Mesh=LodMesh'DeusExItems.GEPAmmo'<br>bAlwaysRelevant=True<br>CollisionRadius=18.000000<br>CollisionHeight=7.800000<br>Mass=3000.000000<br>Buoyancy=40.000000</div>
<h3 id="acrate.Frob"><a class="headerlink" href="#acrate.Frob" title="Permanent link">Frob</a> (Actor Frobber, Inventory frobWith)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Actor A;<br>&#9;local Pawn P;<br>&#9;local DeusExPlayer Player;<br>&#9;local Inventory CurInventory;<br>&#9;local RadarDrone RD;<br>&#9;local WeaponAirget air;<br>&#9;local ToolRadarD TD;<br>&#9;local Estus es;<br><br>&#9;<br>   //Don't call superclass frob.<br><br>   P = Pawn(Frobber);<br>&#9;Player = DeusExPlayer(Frobber);<br><br>   if (Player != None)<br>   {<br>      CurInventory = Player.Inventory;<br>      while (CurInventory != None)<br>      {<br>         if (CurInventory.IsA('DeusExWeapon'))<br>            RestockWeapon(Player,DeusExWeapon(CurInventory));<br>         CurInventory = CurInventory.Inventory;<br>      }<br>      Player.ClientMessage(AmmoReceived);<br>&#9;&#9;PlaySound(sound'WeaponPickup', SLOT_None, 0.5+FRand()*0.25, , 256, 0.95+FRand()*0.1);<br>   }<br>   <br>   Foreach AllActors(class'RadarDrone',RD)<br>   {<br>&#9;if(RD.myOwner == Player)<br>&#9;{<br>&#9;&#9;if(RD.RocketsRemain < 30)<br>&#9;&#9;{<br>&#9;&#9;&#9;RD.RocketsRemain = 30;<br>&#9;&#9;&#9;RD.rRocketsRemain = RD.rocketsRemain;<br>&#9;&#9;&#9;Player.ClientMessage("Drone rockets restocked.");<br>&#9;&#9;&#9;    Foreach AllActors(class'ToolRadarD',TD)<br>&#9;&#9;&#9;&#9;&#9;if(TD.Owner == Player)<br>&#9;&#9;&#9;&#9;&#9;&#9;TD.DroneAmmo = RD.RocketsRemain;<br>&#9;&#9;}<br>&#9;}<br>   }<br><br>           <br>   Foreach AllActors(class'Weaponairget',air)<br>   {<br>&#9;if(air.Owner == Player)<br>&#9;{<br>&#9;&#9;if(air.Airammo < 10)<br>&#9;&#9;{<br>&#9;&#9;&#9;air.AirAmmo = 10;<br>&#9;&#9;&#9;air.rAirAmmo = air.Airammo;<br>&#9;&#9;&#9;Player.ClientMessage("Airget rockets restocked.");<br>&#9;&#9;}<br>&#9;}<br>   }<br>    Foreach AllActors(class'Estus',es)<br>   {<br>&#9;if(es.Owner == Player)<br>&#9;{<br>&#9;&#9;if(es.eUses < es.eMaxUses)<br>&#9;&#9;{<br>&#9;&#9;&#9;es.eUses = es.eMaxUses;<br>&#9;&#9;&#9;Player.ClientMessage("Estus refilled.");<br>&#9;&#9;}<br>&#9;}<br>   }<br><br></div>
<h3 id="acrate.RestockWeapon"><a class="headerlink" href="#acrate.RestockWeapon" title="Permanent link">RestockWeapon</a> (DeusExPlayer Player, DeusExWeapon WeaponToStock)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Ammo AmmoType;<br><br>   if (WeaponToStock.AmmoType != None)<br>   {<br>      if (WeaponToStock.AmmoNames[0] == None)<br>         AmmoType = Ammo(Player.FindInventoryType(WeaponToStock.AmmoName));<br>      else<br>         AmmoType = Ammo(Player.FindInventoryType(WeaponToStock.AmmoNames[0]));<br>      <br>      if ((AmmoType != None) && (AmmoType.AmmoAmount < WeaponToStock.PickupAmmoCount))<br>      {<br>         AmmoType.AddAmmo(WeaponToStock.PickupAmmoCount - AmmoType.AmmoAmount);<br>      }<br>   }   <br><br></div>
<br><br><hr>
<a class="headerlink" href="#bed2.uc" title="Permanent link"><h2 id="bed2.uc">bed2.uc (extends DeusExDecoration)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var DeusExPlayer Player;<br>var bool bBusy;<br>var(Bed2) int WaitTime;<br>var(Special) string DisString;<br>var() bool bTeleport;<br>var() name TeleportTag;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">WaitTime=2<br>bInvincible=True<br>bCanBeBase=True<br>ItemName="Bed"<br>bPushable=False<br>Mesh=LodMesh'PGAssets.bedsmall'<br>MultiSkins(0)=Texture'CoreTexTextile.Textile.ClenBlueGrey_A'<br>MultiSkins(1)=Texture'CoreTexWood.Wood.ClenMedmWalnt_A'<br>MultiSkins(2)=Texture'CoreTexPaper.Paper.ClenWhitPaint_A'<br>CollisionRadius=60.000000<br>CollisionHeight=24.000000</div>
<h3 id="bed2.Frob"><a class="headerlink" href="#bed2.Frob" title="Permanent link">Frob</a> (Actor Frobber, Inventory Frobwith)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(DisString != "")<br>&#9;{<br>&#9;&#9;DeusExPlayer(Frobber).ClientMessage(DisString);<br>&#9;&#9;return;<br>&#9;}<br>&#9;<br>&#9;&#9;if(DeusExPlayer(Frobber) != None)<br>&#9;&#9;{<br>&#9;&#9;&#9;DisString = "The bed is in use!";<br>&#9;&#9;&#9;Player = DeusExPlayer(Frobber);<br>&#9;&#9;&#9;Player.ClientMessage("You begin to rest...");<br>&#9;&#9;&#9;player.ClientFlash(1,Vect(20000,20000,20000));<br>&#9;&#9;&#9;player.IncreaseClientFlashLength(5.0);<br>&#9;&#9;&#9;SetTimer(WaitTime,False);<br>&#9;&#9;&#9;Player.SetPhysics(Phys_None);<br>&#9;&#9;}<br><br></div>
<h3 id="bed2.Timer"><a class="headerlink" href="#bed2.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Teleporter tp;<br><br>&#9;<br>&#9;if(bTeleport)<br>&#9;&#9;foreach AllActors(class'Teleporter', TP)<br>&#9;&#9;&#9;if(TP.Tag == TeleportTag)<br>&#9;&#9;&#9;&#9;player.SetLocation(TP.Location);<br>&#9;player.HealPlayer(9999, True);<br>&#9;DisString = "";<br>&#9;Player.SetPhysics(Phys_Falling);<br><br></div>
<br><br><hr>
<a class="headerlink" href="#cheesesandwich.uc" title="Permanent link"><h2 id="cheesesandwich.uc">cheesesandwich.uc (extends sandwich)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">ItemName="Cheese Sandwich"<br>beltDescription="CHSE.SDWCH"<br>MultiSkins(1)=Texture'PGAssets.Skins.CheeseTex1'</div>
<br><br><hr>
<a class="headerlink" href="#coopMode.uc" title="Permanent link"><h2 id="coopMode.uc">coopMode.uc (extends mutator)</h2></a>

<h3 id="coopMode.ModifyPlayer"><a class="headerlink" href="#coopMode.ModifyPlayer" title="Permanent link">ModifyPlayer</a> (Pawn Other)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPickup DXP;<br>&#9;local Augmentation Augz;<br><br>   <br>&#9;super.ModifyPlayer(Other);<br>&#9;<br>   foreach AllActors(Class'DeusExPickup', DXP)<br>   {<br>      if(DXP.Owner == DeusExPlayer(Other))<br>      {<br>         DXP.Destroy();<br>      }<br>   }<br>    DeusExPlayer(Other).AugmentationSystem.ResetAugmentations();<br>&#9;ConsoleCommand("Admin KillAll AugLight");<br>&#9;ConsoleCommand("Set AugLight Lifespan 0.1");<br>&#9;    DeusExPlayer(Other).AugmentationSystem.ResetAugmentations();<br><br></div>
<h3 id="coopMode.PostBeginPlay"><a class="headerlink" href="#coopMode.PostBeginPlay" title="Permanent link">PostBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.PostBeginPlay ();<br>&#9;Level.Game.BaseMutator.AddMutator (Self);<br><br></div>
<br><br><hr>
<a class="headerlink" href="#coopWeaponCombatKnife.uc" title="Permanent link"><h2 id="coopWeaponCombatKnife.uc">coopWeaponCombatKnife.uc (extends WeaponCombatKnife)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">InventoryGroup=153<br>ItemName="Rusty Knife"</div>
<h3 id="coopWeaponCombatKnife.GiveTo"><a class="headerlink" href="#coopWeaponCombatKnife.GiveTo" title="Permanent link">GiveTo</a> (pawn Other)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>    super.Giveto(Other);<br>&#9;Other.ClientMessage("Special Weapon: Can't be used on Players.");<br><br></div>
<h3 id="coopWeaponCombatKnife.ProcessTraceHit"><a class="headerlink" href="#coopWeaponCombatKnife.ProcessTraceHit" title="Permanent link">ProcessTraceHit</a> (Actor Other, Vector HitLocation, Vector HitNormal, Vector X, Vector Y, Vector Z)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;if(Other.isa('DeusExPlayer'))<br>&#9;&#9;{<br>&#9;&#9;&#9;DeusExPlayer(Owner).ClientMessage("Weapon can not be used on players.");<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;&#9;&#9;super.ProcessTraceHit(other, hitlocation, hitnormal, x, y, z);<br>&#9;<br><br></div>
<h3 id="coopWeaponCombatKnife.TestMPBeltSpot"><a class="headerlink" href="#coopWeaponCombatKnife.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<br><br><hr>
<a class="headerlink" href="#coopWeaponMiniCrossbow.uc" title="Permanent link"><h2 id="coopWeaponMiniCrossbow.uc">coopWeaponMiniCrossbow.uc (extends WeaponMiniCrossbow)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">InventoryGroup=212<br>ItemName="Rusted Mini-Crossbow"<br>beltDescription="RUSTED CRSSBW"</div>
<h3 id="coopWeaponMiniCrossbow.Fire"><a class="headerlink" href="#coopWeaponMiniCrossbow.Fire" title="Permanent link">Fire</a> (float Value)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local vector loc, line, HitLocation, hitNormal;<br>&#9;local Actor Hitactor;<br><br>&#9;<br>&#9;loc = DeusExPlayer(Owner).Location;<br>&#9;loc.Z += DeusExPlayer(Owner).BaseEyeHeight;<br>&#9;line = Vector(DeusExPlayer(Owner).ViewRotation) * 10000;<br>&#9;HitActor = Trace(hitLocation, hitNormal, loc+line, loc, true);<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;if(!HitActor.isA('DeusExPlayer'))<br>&#9;&#9;{<br>&#9;&#9;&#9;super.Fire(Value);<br>&#9;&#9;}<br><br></div>
<h3 id="coopWeaponMiniCrossbow.GiveTo"><a class="headerlink" href="#coopWeaponMiniCrossbow.GiveTo" title="Permanent link">GiveTo</a> (pawn Other)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>    super.Giveto(Other);<br>&#9;Other.ClientMessage("Special Weapon: Can't be used on Players.");<br><br></div>
<h3 id="coopWeaponMiniCrossbow.TestMPBeltSpot"><a class="headerlink" href="#coopWeaponMiniCrossbow.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<br><br><hr>
<a class="headerlink" href="#coopWeaponPistol.uc" title="Permanent link"><h2 id="coopWeaponPistol.uc">coopWeaponPistol.uc (extends WeaponPistol)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">InventoryGroup=163<br>ItemName="Glock"<br>beltDescription="GLOCK"</div>
<h3 id="coopWeaponPistol.GiveTo"><a class="headerlink" href="#coopWeaponPistol.GiveTo" title="Permanent link">GiveTo</a> (pawn Other)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>    super.Giveto(Other);<br>&#9;Other.ClientMessage("Special Weapon: Can't be used on Players.");<br><br></div>
<h3 id="coopWeaponPistol.ProcessTraceHit"><a class="headerlink" href="#coopWeaponPistol.ProcessTraceHit" title="Permanent link">ProcessTraceHit</a> (Actor Other, Vector HitLocation, Vector HitNormal, Vector X, Vector Y, Vector Z)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br><br>&#9;&#9;if(Other.isa('DeusExPlayer'))<br>&#9;&#9;{<br>&#9;&#9;&#9;DeusExPlayer(Owner).ClientMessage("Weapon can not be used on players.");<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;&#9;&#9;super.ProcessTraceHit(other, hitlocation, hitnormal, x, y, z);<br>&#9;<br><br></div>
<h3 id="coopWeaponPistol.TestMPBeltSpot"><a class="headerlink" href="#coopWeaponPistol.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<br><br><hr>
<a class="headerlink" href="#coopWeaponPistolLight.uc" title="Permanent link"><h2 id="coopWeaponPistolLight.uc">coopWeaponPistolLight.uc (extends WeaponPistol)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var bool bTorchOn;<br>var Beam s;<br>var float TimeChange;<br>var() float TorchRadius, TorchBrightness;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">TorchRadius=7.000000<br>TorchBrightness=70.000000<br>bHasLaser=True<br>InventoryGroup=164<br>ItemName="Glock w/ Torch"<br>beltDescription="GLOCK+"</div>
<h3 id="coopWeaponPistolLight.Destroyed"><a class="headerlink" href="#coopWeaponPistolLight.Destroyed" title="Permanent link">Destroyed</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;OffTorch();<br>&#9;Super.destroyed();<br><br></div>
<h3 id="coopWeaponPistolLight.GiveTo"><a class="headerlink" href="#coopWeaponPistolLight.GiveTo" title="Permanent link">GiveTo</a> (pawn Other)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>    super.Giveto(Other);<br>&#9;Other.ClientMessage("Special Weapon: Can't be used on Players.");<br>&#9;Other.ClientMessage("Special Weapon: Weapon has a Torch function.");<br><br></div>
<h3 id="coopWeaponPistolLight.LaserOff"><a class="headerlink" href="#coopWeaponPistolLight.LaserOff" title="Permanent link">LaserOff</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(bTorchOn)<br>&#9;&#9;TorchToggle();<br><br></div>
<h3 id="coopWeaponPistolLight.LaserToggle"><a class="headerlink" href="#coopWeaponPistolLight.LaserToggle" title="Permanent link">LaserToggle</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;TorchToggle();<br><br></div>
<h3 id="coopWeaponPistolLight.OffTorch"><a class="headerlink" href="#coopWeaponPistolLight.OffTorch" title="Permanent link">OffTorch</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>DeusExPlayer(Owner).PlaySound(sound'Switch1Click', SLOT_Talk,2,,1024,);<br>&#9;s.Destroy();<br><br></div>
<h3 id="coopWeaponPistolLight.OnTorch"><a class="headerlink" href="#coopWeaponPistolLight.OnTorch" title="Permanent link">OnTorch</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Vector HitNormal,HitLocation,EndTrace,StartTrace,X,Y,Z,NewHitLocation;<br><br>&#9;<br>&#9;DeusExPlayer(Owner).PlaySound(sound'Switch1Click', SLOT_Talk,2,,1024,);<br>&#9;if(s == None)<br>&#9;{<br>&#9;&#9;s = Spawn(class'Beam',Owner,, HitLocation+HitNormal*40);<br>&#9;&#9;s.LightRadius = TorchRadius;<br>&#9;&#9;s.LightBrightness = TorchBrightness;<br>&#9;&#9;GetAxes(Pawn(Owner).ViewRotation,X,Y,Z);&#9;<br>&#9;&#9;EndTrace = Pawn(Owner).Location + 10000* Vector(Pawn(Owner).ViewRotation);<br>&#9;&#9;Trace(HitLocation,HitNormal,EndTrace,Pawn(Owner).Location, True);<br>&#9;&#9;s.SetLocation(HitLocation-vector(Pawn(Owner).ViewRotation)*64);<br>&#9;}<br><br></div>
<h3 id="coopWeaponPistolLight.ProcessTraceHit"><a class="headerlink" href="#coopWeaponPistolLight.ProcessTraceHit" title="Permanent link">ProcessTraceHit</a> (Actor Other, Vector HitLocation, Vector HitNormal, Vector X, Vector Y, Vector Z)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br><br>&#9;&#9;if(Other.isa('DeusExPlayer'))<br>&#9;&#9;{<br>&#9;&#9;&#9;DeusExPlayer(Owner).ClientMessage("Weapon can not be used on players.");<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;&#9;&#9;super.ProcessTraceHit(other, hitlocation, hitnormal, x, y, z);<br>&#9;<br><br></div>
<h3 id="coopWeaponPistolLight.TestMPBeltSpot"><a class="headerlink" href="#coopWeaponPistolLight.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<h3 id="coopWeaponPistolLight.Tick"><a class="headerlink" href="#coopWeaponPistolLight.Tick" title="Permanent link">Tick</a> (Float Deltatime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Vector HitNormal,HitLocation,EndTrace,StartTrace,X,Y,Z,NewHitLocation;<br><br>&#9;super.Tick(Deltatime);<br>&#9;if(Owner == None)<br>&#9;&#9;OffTorch();<br>&#9;&#9;<br>&#9;if(bTorchOn && Owner != None && s != None)<br>&#9;{<br>&#9;&#9;GetAxes(Pawn(Owner).ViewRotation,X,Y,Z);&#9;<br>&#9;&#9;EndTrace = Pawn(Owner).Location + 10000* Vector(Pawn(Owner).ViewRotation);<br>&#9;&#9;Trace(HitLocation,HitNormal,EndTrace,Pawn(Owner).Location, True);<br>&#9;&#9;s.SetLocation(HitLocation-vector(Pawn(Owner).ViewRotation)*64);<br>&#9;}<br><br></div>
<h3 id="coopWeaponPistolLight.TorchToggle"><a class="headerlink" href="#coopWeaponPistolLight.TorchToggle" title="Permanent link">TorchToggle</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if (bTorchOn)<br>&#9;{<br>&#9;&#9;bTorchOn=False;<br>&#9;&#9;OffTorch();<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;bTorchOn=True;<br>&#9;&#9;OnTorch();<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#coopWeaponRifle.uc" title="Permanent link"><h2 id="coopWeaponRifle.uc">coopWeaponRifle.uc (extends WeaponRifle)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">InventoryGroup=100<br>ItemName="Rifle"<br>beltDescription="RIFLE"</div>
<h3 id="coopWeaponRifle.GiveTo"><a class="headerlink" href="#coopWeaponRifle.GiveTo" title="Permanent link">GiveTo</a> (pawn Other)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>    super.Giveto(Other);<br>&#9;Other.ClientMessage("Special Weapon: Can't be used on Players.");<br><br></div>
<h3 id="coopWeaponRifle.ProcessTraceHit"><a class="headerlink" href="#coopWeaponRifle.ProcessTraceHit" title="Permanent link">ProcessTraceHit</a> (Actor Other, Vector HitLocation, Vector HitNormal, Vector X, Vector Y, Vector Z)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br><br>&#9;&#9;if(Other.isa('DeusExPlayer'))<br>&#9;&#9;{<br>&#9;&#9;&#9;DeusExPlayer(Owner).ClientMessage("Weapon can not be used on players.");<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;&#9;&#9;super.ProcessTraceHit(other, hitlocation, hitnormal, x, y, z);<br>&#9;<br><br></div>
<h3 id="coopWeaponRifle.TestMPBeltSpot"><a class="headerlink" href="#coopWeaponRifle.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<br><br><hr>
<a class="headerlink" href="#coopWeaponShotgun.uc" title="Permanent link"><h2 id="coopWeaponShotgun.uc">coopWeaponShotgun.uc (extends WeaponSawedOffShotgun)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">InventoryGroup=96<br>ItemName="Shotgun"<br>beltDescription="SHOT"</div>
<h3 id="coopWeaponShotgun.GiveTo"><a class="headerlink" href="#coopWeaponShotgun.GiveTo" title="Permanent link">GiveTo</a> (pawn Other)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>    super.Giveto(Other);<br>&#9;Other.ClientMessage("Special Weapon: Can't be used on Players.");<br><br></div>
<h3 id="coopWeaponShotgun.ProcessTraceHit"><a class="headerlink" href="#coopWeaponShotgun.ProcessTraceHit" title="Permanent link">ProcessTraceHit</a> (Actor Other, Vector HitLocation, Vector HitNormal, Vector X, Vector Y, Vector Z)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br><br>&#9;&#9;if(Other.isa('DeusExPlayer'))<br>&#9;&#9;{<br>&#9;&#9;&#9;DeusExPlayer(Owner).ClientMessage("Weapon can not be used on players.");<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;&#9;&#9;super.ProcessTraceHit(other, hitlocation, hitnormal, x, y, z);<br>&#9;<br><br></div>
<h3 id="coopWeaponShotgun.TestMPBeltSpot"><a class="headerlink" href="#coopWeaponShotgun.TestMPBeltSpot" title="Permanent link">TestMPBeltSpot</a> (int BeltSpot) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>   return ( (BeltSpot >= 1) && (BeltSpot <=9) );<br><br></div>
<br><br><hr>
<a class="headerlink" href="#kebab.uc" title="Permanent link"><h2 id="kebab.uc">kebab.uc (extends FoodMMRPG)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">ItemName="Kebab"<br>PlayerViewMesh=LodMesh'PGAssets.kebab'<br>PlayerViewScale=0.150000<br>PickupViewMesh=LodMesh'PGAssets.kebab'<br>PickupViewScale=0.150000<br>ThirdPersonMesh=LodMesh'PGAssets.kebab'<br>ThirdPersonScale=0.150000<br>Icon=Texture'PGAssets.Skins.KebabBelt'<br>largeIcon=Texture'PGAssets.Skins.KebabBelt'<br>largeIconWidth=42<br>largeIconHeight=46<br>beltDescription="KEBAB"<br>Mesh=LodMesh'PGAssets.kebab'<br>DrawScale=0.150000<br>MultiSkins(0)=Texture'CoreTexEarth.Earth.LakeBed_A'<br>MultiSkins(1)=Texture'CoreTexMetal.Metal.Galvanzd'<br>CollisionRadius=7.000000<br>CollisionHeight=2.000000<br>Mass=3.000000</div>
<br><br><hr>
<a class="headerlink" href="#mpCigaretteMachine.uc" title="Permanent link"><h2 id="mpCigaretteMachine.uc">mpCigaretteMachine.uc (extends ElectronicDevices)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var() class<Inventory> ItemSale;<br>var() int Price;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">ItemName="Cigarette Machine"<br>Physics=PHYS_None<br>Mesh=LodMesh'DeusExDeco.CigaretteMachine'<br>SoundRadius=8<br>SoundVolume=96<br>AmbientSound=Sound'Ambient.Ambient.HumLight3'<br>CollisionRadius=27.000000<br>CollisionHeight=26.320000<br>Mass=150.000000<br>Buoyancy=100.000000</div>
<h3 id="mpCigaretteMachine.BeginPlay"><a class="headerlink" href="#mpCigaretteMachine.BeginPlay" title="Permanent link">BeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.BeginPlay();<br>&#9;<br>&#9;if(ItemSale == None)<br>&#9;&#9;ItemSale = class'DeusEx.Cigarettes';  <br><br></div>
<h3 id="mpCigaretteMachine.Frob"><a class="headerlink" href="#mpCigaretteMachine.Frob" title="Permanent link">Frob</a> (actor Frobber, Inventory frobWith)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer player;<br>&#9;local Vector loc;<br>&#9;local Inventory product;<br><br><br>&#9;Super.Frob(Frobber, frobWith);<br>&#9;<br>&#9;player = DeusExPlayer(Frobber);<br><br>&#9;if (player != None)<br>&#9;{<br>&#9;&#9;if (player.Credits >= price)<br>&#9;&#9;{<br>&#9;&#9;&#9;PlaySound(sound'VendingCoin', SLOT_None);<br>&#9;&#9;&#9;loc = Vector(Rotation) * CollisionRadius * 0.8;<br>&#9;&#9;&#9;loc.Z -= CollisionHeight * 0.6; <br>&#9;&#9;&#9;loc += Location;<br><br>&#9;&#9;&#9;product = Spawn(ItemSale, None,, loc);<br><br>&#9;&#9;&#9;if (product != None)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;PlaySound(sound'VendingSmokes', SLOT_None);<br>&#9;&#9;&#9;&#9;if(product.isA('Estus'))<br>&#9;&#9;&#9;&#9;&#9;Estus(product).bEstusArmed=False;<br>&#9;&#9;&#9;&#9;if(product.isA('PoisonEstus'))<br>&#9;&#9;&#9;&#9;&#9;PoisonEstus(product).bEstusArmed=False;<br>&#9;&#9;&#9;&#9;product.Velocity = Vector(Rotation) * 100;<br>&#9;&#9;&#9;&#9;product.bFixedRotationDir = True;<br>&#9;&#9;&#9;&#9;product.Lifespan = 6;<br>&#9;&#9;&#9;&#9;product.RotationRate.Pitch = (32768 - Rand(65536)) * 4.0;<br>&#9;&#9;&#9;&#9;product.RotationRate.Yaw = (32768 - Rand(65536)) * 4.0;<br>&#9;&#9;&#9;}<br><br>&#9;&#9;&#9;player.Credits -= price;<br>&#9;&#9;&#9;player.ClientMessage("Bought "$Product.itemname$" for "$Price$" credits.");<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;&#9;player.ClientMessage("Needs"@Price@"credits.");<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#mpVendingMachine.uc" title="Permanent link"><h2 id="mpVendingMachine.uc">mpVendingMachine.uc (extends ElectronicDevices)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var() ESkinColor SkinColor;<br>var() class<Inventory> ItemSale;<br>var() int Price;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bCanBeBase=True<br>ItemName="Vending Machine"<br>Mesh=LodMesh'DeusExDeco.VendingMachine'<br>SoundRadius=8<br>SoundVolume=96<br>AmbientSound=Sound'Ambient.Ambient.HumLow3'<br>CollisionRadius=34.000000<br>CollisionHeight=50.000000<br>Mass=150.000000<br>Buoyancy=100.000000</div>
<h3 id="mpVendingMachine.BeginPlay"><a class="headerlink" href="#mpVendingMachine.BeginPlay" title="Permanent link">BeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Super.BeginPlay();<br><br>&#9;switch (SkinColor)<br>&#9;{<br>&#9;&#9;case SC_Drink:&#9;Skin = Texture'VendingMachineTex1'; ItemSale = class'DeusEx.Sodacan'; break;<br>&#9;&#9;case SC_Snack:&#9;Skin = Texture'VendingMachineTex2'; break;<br>&#9;}<br>&#9;<br>&#9;if(ItemSale == None)<br>&#9;&#9;ItemSale = class'DeusEx.Candybar';  <br><br></div>
<h3 id="mpVendingMachine.Frob"><a class="headerlink" href="#mpVendingMachine.Frob" title="Permanent link">Frob</a> (actor Frobber, Inventory frobWith)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer player;<br>&#9;local Vector loc;<br>&#9;local Inventory product;<br><br><br>&#9;Super.Frob(Frobber, frobWith);<br>&#9;<br>&#9;player = DeusExPlayer(Frobber);<br><br>&#9;if (player != None)<br>&#9;{<br>&#9;&#9;if (player.Credits >= Price)<br>&#9;&#9;{<br>&#9;&#9;&#9;PlaySound(sound'VendingCoin', SLOT_None);<br>&#9;&#9;&#9;loc = Vector(Rotation) * CollisionRadius * 0.8;<br>&#9;&#9;&#9;loc.Z -= CollisionHeight * 0.7; <br>&#9;&#9;&#9;loc += Location;<br><br>&#9;&#9;&#9;product = Spawn(ItemSale, None,, loc);<br><br>&#9;&#9;&#9;if (product != None)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if (product.IsA('Sodacan'))<br>&#9;&#9;&#9;&#9;&#9;PlaySound(sound'VendingCan', SLOT_None);<br>&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;PlaySound(sound'VendingSmokes', SLOT_None);<br>&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;if(product.isA('Estus'))<br>&#9;&#9;&#9;&#9;&#9;Estus(product).bEstusArmed=False;<br>&#9;&#9;&#9;&#9;if(product.isA('PoisonEstus'))<br>&#9;&#9;&#9;&#9;&#9;PoisonEstus(product).bEstusArmed=False;<br>&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;product.Velocity = Vector(Rotation) * 100;<br>&#9;&#9;&#9;&#9;product.bFixedRotationDir = True;<br>&#9;&#9;&#9;&#9;product.Lifespan = 6;<br>&#9;&#9;&#9;&#9;product.RotationRate.Pitch = (32768 - Rand(65536)) * 4.0;<br>&#9;&#9;&#9;&#9;product.RotationRate.Yaw = (32768 - Rand(65536)) * 4.0;<br>&#9;&#9;&#9;}<br><br>&#9;&#9;&#9;player.Credits -= Price;<br>&#9;&#9;&#9;player.ClientMessage("Bought "$Product.itemname$" for "$Price$" credits.");<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;&#9;player.ClientMessage("Needs"@Price@"credits.");<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#psRepeater.uc" title="Permanent link"><h2 id="psRepeater.uc">psRepeater.uc (extends PGActors)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var() string RepeaterString;<br>var() int RepeaterTimes;<br>var int TimesRun;<br>var() string psRef;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">RepeaterTimes=5</div>
<h3 id="psRepeater.BeepToAll"><a class="headerlink" href="#psRepeater.BeepToAll" title="Permanent link">BeepToAll</a> (string str)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer DXP;<br><br>&#9;<br>&#9;foreach allactors(class'DeusExPlayer',DXP)<br>&#9;{<br>&#9;&#9;DXP.ClientMessage(str,'Say');<br>&#9;}<br><br></div>
<h3 id="psRepeater.Engage"><a class="headerlink" href="#psRepeater.Engage" title="Permanent link">Engage</a> (string Stringz, int Timerz, int Repeatz)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;SetTimer(float(Timerz),False);<br><br></div>
<h3 id="psRepeater.Timer"><a class="headerlink" href="#psRepeater.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(TimesRun != RepeaterTimes)<br>&#9;{<br>&#9;&#9;BeepToAll(RepeaterString);<br>&#9;&#9;TimesRun++;<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;BeepToAll(RepeaterString);<br>&#9;&#9;Destroy();<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#psTeleRing1.uc" title="Permanent link"><h2 id="psTeleRing1.uc">psTeleRing1.uc (extends Actor)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var DeusExPlayer Target;<br>var int QT;<br>var vector OriginLoc, TPLoc;<br>var float size;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">size=5.000000<br>LifeSpan=0.500000<br>DrawType=DT_Mesh<br>Style=STY_Translucent<br>Skin=Texture'DeusExItems.Skins.FlatFXTex41'<br>Mesh=LodMesh'DeusExItems.FlatFX'<br>bUnlit=True</div>
<h3 id="psTeleRing1.PostBeginPlay"><a class="headerlink" href="#psTeleRing1.PostBeginPlay" title="Permanent link">PostBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Rotator rot;<br><br><br>&#9;Super.PostBeginPlay();<br>&#9;<br>&#9;rot.Pitch = 16384;<br>&#9;rot.Roll = 0;<br>&#9;rot.Yaw = Rand(65535);<br>&#9;SetRotation(rot);<br>&#9;<br>&#9;if (size > 5)<br>&#9;&#9;Skin = Texture'FlatFXTex43';<br>&#9;<br>&#9;SetTimer(0.7,False);<br><br></div>
<h3 id="psTeleRing1.Tick"><a class="headerlink" href="#psTeleRing1.Tick" title="Permanent link">Tick</a> (float deltaTime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;DrawScale = size * (Default.LifeSpan - LifeSpan) / Default.LifeSpan;<br>&#9;ScaleGlow = LifeSpan / Default.LifeSpan;<br><br></div>
<h3 id="psTeleRing1.Timer"><a class="headerlink" href="#psTeleRing1.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local psTeleRing1 pn1, pn2;<br>&#9;local vector finLoc;<br>&#9;local PSAfterEffect PSAE;<br><br>&#9;<br>&#9;if(QT==0)<br>&#9;{<br>&#9;&#9;if(Target != None)<br>&#9;&#9;&#9;finLoc = Target.Location;&#9;&#9;<br>&#9;&#9;else<br>&#9;&#9;&#9;finLoc = OriginLoc;<br>&#9;&#9;&#9;<br>&#9;&#9;finloc.Z += 25;<br>&#9;&#9;<br>&#9;&#9;pn1 = Spawn(class'psTeleRing1',,,finLoc);<br>&#9;&#9;pn1.QT = 1;<br>&#9;&#9;pn1.Target = Target;<br>&#9;&#9;pn1.TPLoc = TPLoc;<br>&#9;&#9;<br>&#9;&#9;if(Target != None)<br>&#9;&#9;&#9;finLoc = Target.Location;&#9;&#9;<br>&#9;&#9;else<br>&#9;&#9;&#9;finLoc = OriginLoc;<br>&#9;&#9;&#9;<br>&#9;&#9;finloc.Z -= 25;<br>&#9;&#9;<br>&#9;&#9;pn2 = Spawn(class'psTeleRing1',,,finLoc);<br>&#9;&#9;pn2.QT = 2;<br>&#9;&#9;pn2.Target = Target;<br>&#9;&#9;pn2.TPLoc = TPLoc;<br>&#9;}<br>&#9;<br>&#9;if(QT==1)<br>&#9;{<br>&#9;&#9;if(Target != None)<br>&#9;&#9;&#9;finLoc = Target.Location;&#9;&#9;<br>&#9;&#9;else<br>&#9;&#9;&#9;finLoc = OriginLoc;<br>&#9;&#9;&#9;<br>&#9;&#9;finloc.Z += 50;<br>&#9;&#9;<br>&#9;&#9;pn1 = Spawn(class'psTeleRing1',,,finLoc);<br>&#9;&#9;pn1.QT = 3;<br>&#9;&#9;pn1.Target = Target;<br>&#9;&#9;pn1.TPLoc = TPLoc;<br>&#9;}<br>&#9;<br>&#9;if(QT==2)<br>&#9;{<br>&#9;&#9;if(Target != None)<br>&#9;&#9;&#9;finLoc = Target.Location;&#9;&#9;<br>&#9;&#9;else<br>&#9;&#9;&#9;finLoc = OriginLoc;<br>&#9;&#9;&#9;<br>&#9;&#9;finloc.Z -= 50;<br>&#9;&#9;<br>&#9;&#9;pn1 = Spawn(class'psTeleRing1',,,finLoc);<br>&#9;&#9;pn1.QT = 4;<br>&#9;&#9;pn1.Target = Target;<br>&#9;&#9;pn1.TPLoc = TPLoc;<br>&#9;}<br>&#9;<br>&#9;if(QT==3)<br>&#9;{<br>&#9;&#9;if(Target != None)<br>&#9;&#9;&#9;finLoc = Target.Location;&#9;&#9;<br>&#9;&#9;else<br>&#9;&#9;&#9;finLoc = OriginLoc;<br>&#9;&#9;&#9;<br>&#9;&#9;finloc.Z += 75;<br>&#9;&#9;<br>&#9;&#9;pn1 = Spawn(class'psTeleRing1',,,finLoc);<br>&#9;&#9;pn1.QT = 5;<br>&#9;&#9;pn1.Target = Target;<br>&#9;&#9;pn1.TPLoc = TPLoc;<br>&#9;}<br>&#9;<br>&#9;if(QT==4)<br>&#9;{<br>&#9;&#9;if(Target != None)<br>&#9;&#9;&#9;finLoc = Target.Location;&#9;&#9;<br>&#9;&#9;else<br>&#9;&#9;&#9;finLoc = OriginLoc;<br>&#9;&#9;&#9;<br>&#9;&#9;finloc.Z -= 75;<br>&#9;&#9;<br>&#9;&#9;pn1 = Spawn(class'psTeleRing1',,,finLoc);<br>&#9;&#9;pn1.QT = 6;<br>&#9;&#9;pn1.Target = Target;<br>&#9;&#9;pn1.TPLoc = TPLoc;<br>&#9;}<br>&#9;<br>&#9;if(QT==6)<br>&#9;{<br>&#9;&#9;PSAE = Spawn(class'PSAfterEffect');<br>&#9;&#9;PSAE.AttachToPlayer(Target);<br>&#9;&#9;Target.bMovable=True;<br>&#9;&#9;Target.SetCollision(false, false, false);<br>&#9;&#9;Target.bCollideWorld = true;<br>&#9;&#9;Target.GotoState('PlayerWalking');<br>&#9;&#9;Target.SetLocation(TPLoc);<br>&#9;&#9;Target.SetCollision(true, true , true);<br>&#9;&#9;Target.SetPhysics(PHYS_Walking);<br>&#9;&#9;Target.bCollideWorld = true;<br>&#9;&#9;Target.GotoState('PlayerWalking');<br>&#9;&#9;Target.ClientReStart();<br>&#9;&#9;<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#redbull.uc" title="Permanent link"><h2 id="redbull.uc">redbull.uc (extends FoodMMRPG)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">rechargeAmount=100<br>ItemName="Red Bull"<br>ItemArticle="a can of"<br>PlayerViewMesh=LodMesh'DeusExItems.Sodacan'<br>PlayerViewScale=1.200000<br>PickupViewMesh=LodMesh'DeusExItems.Sodacan'<br>PickupViewScale=1.200000<br>ThirdPersonMesh=LodMesh'DeusExItems.Sodacan'<br>ThirdPersonScale=1.200000<br>Icon=Texture'DeusExUI.Icons.BeltIconSoyFood'<br>largeIcon=Texture'DeusExUI.Icons.LargeIconSoyFood'<br>largeIconWidth=42<br>largeIconHeight=46<br>beltDescription="REDBULL"<br>Skin=Texture'PGAssets.Skins.RedBullTex1'<br>Mesh=LodMesh'DeusExItems.Sodacan'<br>DrawScale=1.200000<br>MultiSkins(0)=Texture'PGAssets.Skins.RedBullTex1'<br>CollisionRadius=3.000000<br>CollisionHeight=4.500000<br>Mass=3.000000</div>
<br><br><hr>
<a class="headerlink" href="#sandwich.uc" title="Permanent link"><h2 id="sandwich.uc">sandwich.uc (extends FoodMMRPG)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">rechargeAmount=30<br>ItemName="Chicken Salad Sandwich"<br>PlayerViewMesh=LodMesh'PGAssets.sandwich'<br>PickupViewMesh=LodMesh'PGAssets.sandwich'<br>ThirdPersonMesh=LodMesh'PGAssets.sandwich'<br>Icon=Texture'PGAssets.Skins.SandwichBelt'<br>largeIcon=Texture'PGAssets.Skins.SandwichBelt'<br>largeIconWidth=42<br>largeIconHeight=46<br>beltDescription="CHK.SNDWCH"<br>Mesh=LodMesh'PGAssets.sandwich'<br>MultiSkins(0)=Texture'PGAssets.Skins.SandwichTex2'<br>MultiSkins(1)=Texture'PGAssets.Skins.SandwichTex1'<br>CollisionRadius=8.000000<br>CollisionHeight=4.000000<br>Mass=3.000000</div>
<br><br><hr>
	</article>
    </section>
    <footer> By Kaiser, The Coded Mind (C) 2021</footer>
  </body>
</html>
