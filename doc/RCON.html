
<html lang="en">
  <head>
    <meta charset="utf-8">

    <title>Deus Ex</title>
    <meta name="description" content="UC Class API documentation..">
    <meta name="author" content="Kaiser">
    <link rel="stylesheet" href="../styles.css">
    <script src="../kaiser.js"></script>
  </head>
  <body>
    <header><h2>Deus Ex Documentation::RCON</h2></header>
    <section>
	<nav>
	  <ul>
	    <li><a href="../index.html">Home</a></li>
	    <li><a href="../about.html">About</a></li>
	    <li><a href="https://twitter.com/_technomancer">Twitter</a></li>
	    <li><a href="https://gitlab.com/technomancer7/">Gitlab</a></li>
        <li><a href="https://discord.gg/jCFJ3A6">Discord</a></li>
        -
        <li><a href="RCON.html">RCON</a></li>
<li><a href="Core.html">Core</a></li>
<li><a href="OpenDX.html">OpenDX</a></li>
<li><a href="Extension.html">Extension</a></li>
<li><a href="PartyStuff.html">PartyStuff</a></li>
<li><a href="Engine.html">Engine</a></li>
<li><a href="DeusEx.html">DeusEx</a></li>
        -
        <li><a href="#ADelay.uc">ADelay.uc</a></li>
<li><a href="#ARClient.uc">ARClient.uc</a></li>
<li><a href="#AbuseWatchActor.uc">AbuseWatchActor.uc</a></li>
<li><a href="#Anticheat.uc">Anticheat.uc</a></li>
<li><a href="#AthRecall.uc">AthRecall.uc</a></li>
<li><a href="#AthenaMutator.uc">AthenaMutator.uc</a></li>
<li><a href="#AthenaSpectator.uc">AthenaSpectator.uc</a></li>
<li><a href="#AthenaVision.uc">AthenaVision.uc</a></li>
<li><a href="#AutoGameActor.uc">AutoGameActor.uc</a></li>
<li><a href="#Blinder.uc">Blinder.uc</a></li>
<li><a href="#CardSpectator.uc">CardSpectator.uc</a></li>
<li><a href="#ClockWatchActor.uc">ClockWatchActor.uc</a></li>
<li><a href="#DelayCMD.uc">DelayCMD.uc</a></li>
<li><a href="#GreeterDelay.uc">GreeterDelay.uc</a></li>
<li><a href="#GroupingActor.uc">GroupingActor.uc</a></li>
<li><a href="#IRCBuffer.uc">IRCBuffer.uc</a></li>
<li><a href="#IRCLink.uc">IRCLink.uc</a></li>
<li><a href="#IRCTimer.uc">IRCTimer.uc</a></li>
<li><a href="#LagWatchActor.uc">LagWatchActor.uc</a></li>
<li><a href="#Loadouts.uc">Loadouts.uc</a></li>
<li><a href="#PollBot.uc">PollBot.uc</a></li>
<li><a href="#RCON.uc">RCON.uc</a></li>
<li><a href="#RCONActors.uc">RCONActors.uc</a></li>
<li><a href="#RCONAutoTeam.uc">RCONAutoTeam.uc</a></li>
<li><a href="#RCONGreeter.uc">RCONGreeter.uc</a></li>
<li><a href="#RCONManager.uc">RCONManager.uc</a></li>
<li><a href="#RCONProxy.uc">RCONProxy.uc</a></li>
<li><a href="#RCONReplacer.uc">RCONReplacer.uc</a></li>
<li><a href="#RCONReplicationActor.uc">RCONReplicationActor.uc</a></li>
<li><a href="#RCONStats.uc">RCONStats.uc</a></li>
<li><a href="#RSTimer.uc">RSTimer.uc</a></li>
<li><a href="#SDActor.uc">SDActor.uc</a></li>
<li><a href="#ServerController.uc">ServerController.uc</a></li>
<li><a href="#ShowMessageActor.uc">ShowMessageActor.uc</a></li>
<li><a href="#TBeam.uc">TBeam.uc</a></li>
<li><a href="#TCAC.uc">TCAC.uc</a></li>
<li><a href="#TirSpectator.uc">TirSpectator.uc</a></li>
<li><a href="#UptimeKeeper.uc">UptimeKeeper.uc</a></li>
<li><a href="#mpFlags.uc">mpFlags.uc</a></li>
<li><a href="#myPRI.uc">myPRI.uc</a></li>
<li><a href="#qi.uc">qi.uc</a></li>
<li><a href="#rMessager.uc">rMessager.uc</a></li>
<li><a href="#rTimer.uc">rTimer.uc</a></li>
<li><a href="#spec.uc">spec.uc</a></li>
	  </ul>
	</nav>
	<article>  
    <button onclick="topFunction()" id="btt" title="Go to top">Top</button>
    <a class="headerlink" href="#ADelay.uc" title="Permanent link"><h2 id="ADelay.uc">ADelay.uc (extends RCONActors)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var string msg;<br>var AthenaSpectator spect;</div>
<h3 id="ADelay.Timer"><a class="headerlink" href="#ADelay.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;spect.ASay(msg);<br>&#9;Destroy();<br><br></div>
<br><br><hr>
<a class="headerlink" href="#ARClient.uc" title="Permanent link"><h2 id="ARClient.uc">ARClient.uc (extends UBrowserHTTPClient)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var IpAddr		ServerIpAddr;<br>var string		ServerAddress;<br>var string		ServerURI;<br>var int			ServerPort;<br>var int			CurrentState;<br>var int			ErrorCode;<br>var bool		bClosed;<br>var globalconfig string	ProxyServerAddress;<br>var globalconfig int	ProxyServerPort;<br>var AthenaMutator AM;</div>
<h3 id="ARClient.Browse"><a class="headerlink" href="#ARClient.Browse" title="Permanent link">Browse</a> (string InAddress, string InURI, optional int InPort, optional int InTimeout)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;CurrentState = Connecting;<br><br>&#9;ServerAddress = InAddress;<br>&#9;ServerURI = InURI;<br>&#9;if(InPort == 0)<br>&#9;&#9;ServerPort = 80;<br>&#9;else<br>&#9;&#9;ServerPort = InPort;<br>&#9;<br>&#9;if(InTimeout > 0 )<br>&#9;&#9;SetTimer(InTimeout, False);<br><br>&#9;ResetBuffer();<br><br>&#9;if(ProxyServerAddress != "")<br>&#9;{<br>&#9;&#9;ServerIpAddr.Port = ProxyServerPort;<br>&#9;&#9;if(ServerIpAddr.Addr == 0)<br>&#9;&#9;&#9;Resolve( ProxyServerAddress );<br>&#9;&#9;else<br>&#9;&#9;&#9;DoBind();<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;ServerIpAddr.Port = ServerPort;<br>&#9;&#9;if(ServerIpAddr.Addr == 0)<br>&#9;&#9;&#9;Resolve( ServerAddress );<br>&#9;&#9;else<br>&#9;&#9;&#9;DoBind();<br>&#9;}<br><br></div>
<h3 id="ARClient.Closed"><a class="headerlink" href="#ARClient.Closed" title="Permanent link">Closed</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;bClosed = True;<br><br></div>
<h3 id="ARClient.DoBind"><a class="headerlink" href="#ARClient.DoBind" title="Permanent link">DoBind</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if( BindPort() == 0 )<br>&#9;{<br>&#9;&#9;Log( "UBrowserHTTPLink: Error binding local port." );<br>&#9;&#9;SetError(-2);<br>&#9;&#9;return;<br>&#9;}<br><br>&#9;Open( ServerIpAddr );<br>&#9;bClosed = False;<br><br></div>
<h3 id="ARClient.HTTPError"><a class="headerlink" href="#ARClient.HTTPError" title="Permanent link">HTTPError</a> (int Code)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;//-3 is closed normally<br>&#9;//-2 is error binding port<br>&#9;//400 - Error connecting<br>&#9;if(Code == -3)<br>&#9;&#9;Log(Code$" - Connection closed by host.", 'AIClientError');<br>&#9;else if(Code == -2)<br>&#9;&#9;Log(Code$" - Port binding error, connection already open?", 'AIClientError');<br>&#9;else if(Code == 400)<br>&#9;&#9;Log(Code$" - Connection denied by host.", 'AIClientError');<br>&#9;else<br>&#9;&#9;Log(Code$" - Undefined error...", 'AIClientError');<br>&#9;Destroy();<br><br></div>
<h3 id="ARClient.HTTPReceivedData"><a class="headerlink" href="#ARClient.HTTPReceivedData" title="Permanent link">HTTPReceivedData</a> (string Data)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int iconvidstart, iconvidend, imessagestart, imessageend;<br>&#9;local string messagestr, convid;<br>&#9;local AthenaSpectator AS;<br>&#9;local AthenaMutator AMR;<br><br>&#9;//<?xml version="1.0" encoding="UTF-8" standalone="yes"?><response conversation="8503425221487211688" emote="NONE" avatar="media/a14097360.mp4" avatarType="video/mp4" avatarTalk="media/a14097365.mp4" avatarTalkType="video/mp4" avatarBackground="media/a14097357.png"><message>As Edison said, "What good is a newborn babe?"</message></response<br>&#9;Log(Data);<br>&#9;//Log("Split test, message: "$Split(Data, "<message>", "</message>"));<br>&#9;Log("xml data: "$_CodeBase().Split(Data, "<?", "?>"));<br>&#9;//iconvidstart = InStr(Data, "<response conversation=");<br>&#9;//iconvidstart += 24;<br>&#9;//iconvidend = InStr(Data, " emote=");<br>&#9;//iconvidend -= 1;<br>&#9;//convid = Mid(Data, iconvidstart, iconvidend-iconvidstart);<br>&#9;convid = _CodeBase().Split(Data, "<response conversation=", " emote=", 1,-1);<br>&#9;//Log("Split test, convid: "$Split(Data, "<response conversation=", " emote", 1,-1));<br>&#9;//Log("ConvID "$convid, 'AIClient');<br>&#9;<br>&#9;//imessagestart = InStr(Data, "<message>");<br>&#9;//imessagestart += 9;<br>&#9;//imessageend = InStr(Data, "</message>");&#9;<br>&#9;//messagestr = Mid(Data, imessagestart, imessageend-imessagestart);<br>&#9;messagestr = _CodeBase().Split(Data, "<message>", "</message>");<br>&#9;Log("Message: "$messagestr, 'AIClient');<br>&#9;<br>&#9;foreach AllActors(class'AthenaMutator', AMR)<br>&#9;{<br>&#9;&#9;if(AMR.aConvID == "")<br>&#9;&#9;{<br>&#9;&#9;&#9;AMR.aConvID = convid;<br>&#9;&#9;&#9;Log("New conversation instance created. Recording convid: "$convid);<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;foreach AllActors(class'AthenaSpectator', AS)<br>&#9;{<br>&#9;&#9;AS.ASay(messagestr);<br>&#9;}<br>&#9;Destroy();<br><br></div>
<h3 id="ARClient.Opened"><a class="headerlink" href="#ARClient.Opened" title="Permanent link">Opened</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Enable('Tick');<br>&#9;Log("Connection opened...", 'AIClient');<br>&#9;if(ProxyServerAddress != "")<br>&#9;&#9;SendBufferedData("GET http://"$ServerAddress$":"$string(ServerPort)$ServerURI$" HTTP/1.1"$CR$LF);<br>&#9;else<br>&#9;&#9;SendBufferedData("GET "$ServerURI$" HTTP/1.1"$CR$LF);<br>&#9;SendBufferedData("User-Agent: Unreal"$CR$LF);<br>&#9;SendBufferedData("Connection: close"$CR$LF);<br>&#9;SendBufferedData("Host: "$ServerAddress$":"$ServerPort$CR$LF$CR$LF);<br><br>&#9;CurrentState = WaitingForHeader;<br><br></div>
<h3 id="ARClient.Resolved"><a class="headerlink" href="#ARClient.Resolved" title="Permanent link">Resolved</a> (IpAddr Addr)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;// Set the address<br>&#9;ServerIpAddr.Addr = Addr.Addr;<br><br>&#9;if( ServerIpAddr.Addr == 0 )<br>&#9;{<br>&#9;&#9;Log( "UBrowserHTTPClient: Invalid server address" );<br>&#9;&#9;SetError(-1);<br>&#9;&#9;return;<br>&#9;}<br>&#9;<br>&#9;DoBind();<br><br></div>
<h3 id="ARClient.SetError"><a class="headerlink" href="#ARClient.SetError" title="Permanent link">SetError</a> (int Code)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Disable('Tick');<br>&#9;SetTimer(0, False);<br>&#9;ResetBuffer();<br><br>&#9;CurrentState = HadError;<br>&#9;ErrorCode = Code;<br><br>&#9;if(!IsConnected() || !Close())<br>&#9;&#9;HTTPError(ErrorCode);<br><br></div>
<h3 id="ARClient.Tick"><a class="headerlink" href="#ARClient.Tick" title="Permanent link">Tick</a> (float DeltaTime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local string Line;<br>&#9;local bool bGotData;<br>&#9;local int NextState;<br>&#9;local int i;<br>&#9;local int Result;<br><br><br>&#9;Super.Tick(DeltaTime);<br>&#9;DoBufferQueueIO();<br><br>&#9;do<br>&#9;{<br>&#9;&#9;NextState = CurrentState;<br>&#9;&#9;switch(CurrentState)<br>&#9;&#9;{<br>&#9;&#9;case WaitingForHeader:<br>&#9;&#9;&#9;bGotData = ReadBufferedLine(Line);<br>&#9;&#9;&#9;if(bGotData)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;i = InStr(Line, " ");<br>&#9;&#9;&#9;&#9;Result = Int(Mid(Line, i+1));<br>&#9;&#9;&#9;&#9;if(Result != 200)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;SetError(Result);<br>&#9;&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;NextState = ReceivingHeader;<br>&#9;&#9;&#9;}&#9;<br>&#9;&#9;&#9;break;<br>&#9;&#9;case ReceivingHeader:<br>&#9;&#9;&#9;bGotData = ReadBufferedLine(Line);<br>&#9;&#9;&#9;if(bGotData)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(Line == "")<br>&#9;&#9;&#9;&#9;&#9;NextState = ReceivingData;<br>&#9;&#9;&#9;}&#9;<br>&#9;&#9;&#9;break;<br>&#9;&#9;case ReceivingData:<br>&#9;&#9;&#9;bGotData = False;<br>&#9;&#9;&#9;break;<br>&#9;&#9;default:<br>&#9;&#9;&#9;bGotData = False;<br>&#9;&#9;&#9;break;<br>&#9;&#9;}<br>&#9;&#9;CurrentState = NextState;<br>&#9;} until(!bGotData);<br><br>&#9;if(bClosed)<br>&#9;{<br>&#9;&#9;Log("Client closing.");<br>&#9;&#9;Disable('Tick');<br>&#9;&#9;if(CurrentState == ReceivingData)<br>&#9;&#9;&#9;HTTPReceivedData(InputBuffer);<br><br>&#9;&#9;if(CurrentState == HadError)<br>&#9;&#9;&#9;HTTPError(ErrorCode);<br>&#9;}<br><br></div>
<h3 id="ARClient.Timer"><a class="headerlink" href="#ARClient.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;SetError(-3);&#9;<br><br></div>
<h3 id="ARClient._CodeBase"><a class="headerlink" href="#ARClient._CodeBase" title="Permanent link">_CodeBase</a> -> CodeBase</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;return Spawn(class'CodeBase');<br><br></div>
<br><br><hr>
<a class="headerlink" href="#AbuseWatchActor.uc" title="Permanent link"><h2 id="AbuseWatchActor.uc">AbuseWatchActor.uc (extends RCONActors)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var AthenaSpectator Spect;<br>var int aLifespan;<br>var DeusExPlayer Watcher;<br>var int LastKills, LastDeaths, LastStreak;<br>var int CurKills, CurDeaths, CurStreak;<br>var bool bTemporary;<br>var int kDif, dDif, sDif;<br>var int secondsran;<br>var int minutesran;<br>var bool bRan1, bRan2, bRan3, bRan4;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bHidden=True</div>
<h3 id="AbuseWatchActor.Timer"><a class="headerlink" href="#AbuseWatchActor.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExWeapon DEW;<br><br><br><br>&#9;if(bTemporary)<br>&#9;&#9;aLifespan--;<br>&#9;&#9;<br>&#9;secondsran++;<br>&#9;<br>&#9;CurKills = Watcher.PlayerReplicationInfo.Score;<br>&#9;CurDeaths = Watcher.PlayerReplicationInfo.Deaths;<br>&#9;CurStreak = Watcher.PlayerReplicationInfo.Streak;<br>&#9;<br>&#9;while(LastKills < CurKills)<br>&#9;{<br>&#9;&#9;LastKills++;<br>&#9;&#9;kDif++;<br>&#9;}<br>&#9;while(LastDeaths < curDeaths)<br>&#9;{<br>&#9;&#9;LastDeaths++;<br>&#9;&#9;dDif++;<br>&#9;}<br>&#9;while(LastStreak < CurStreak)<br>&#9;{<br>&#9;&#9;LastStreak++;<br>&#9;&#9;sDif++;<br>&#9;}&#9;<br>&#9;<br>&#9;if(Spect.AM.bDebug)<br>&#9;&#9;BroadcastMessage("OUT "$Watcher.PlayerReplicationInfo.playerName$": LastKills"$LastKills$" > kDif"$kDif);<br>&#9;&#9;<br>&#9;&#9;if(kDif >= 5 && kDif <= 10 && !bRan1)<br>&#9;&#9;{<br>&#9;&#9;&#9;bRan1=True;<br>&#9;&#9;&#9;Spect.ASay(watcher.Playerreplicationinfo.Playername@" has been disarmed for killing too much.");<br>&#9;&#9;&#9;foreach AllActors(class'DeusExweapon',DEW)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(Dew.Owner == Watcher)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;Dew.Destroy();<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(kDif >= 11 && kDif <= 15 && !bRan2)<br>&#9;&#9;{<br>&#9;&#9;&#9;bRan2=True;<br>&#9;&#9;&#9;Spect.ASay(watcher.Playerreplicationinfo.Playername@"has been killed for killing too much.");<br>&#9;&#9;&#9;watcher.reduceddamagetype = '';<br>&#9;&#9;&#9;watcher.TakeDamage(99999,Spect,vect(0,0,0),vect(0,0,1),'Exploded');<br>&#9;&#9;}&#9;<br>&#9;&#9;&#9;<br>&#9;&#9;if(kDif >= 16 && !bRan3)<br>&#9;&#9;{<br>&#9;&#9;&#9;bRan3=True;<br>&#9;&#9;&#9;Spect.ASay(watcher.Playerreplicationinfo.Playername@"has been kicked for killing too much.");<br>&#9;&#9;&#9;watcher.Destroy();<br>&#9;&#9;}&#9;&#9;<br><br>&#9;&#9;if(dDif >= 5 && !bRan4)<br>&#9;&#9;{<br>&#9;&#9;&#9;bRan4=True;<br>&#9;&#9;&#9;Spect.ASay(watcher.Playerreplicationinfo.Playername@"has been protected by the abuse watch system.");<br>&#9;&#9;&#9;watcher.ReducedDamageType = 'all';<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;if(Secondsran == 60)<br>&#9;{<br>&#9;&#9;if(Spect.AM.bDebug)<br>&#9;&#9;&#9;BroadcastMessage("AW RESET");<br>&#9;&#9;bRan1=False;<br>&#9;&#9;bRan2=False;<br>&#9;&#9;bRan3=False;<br>&#9;&#9;bRan4=False;<br>&#9;&#9;kdif=0;<br>&#9;&#9;sdif=0;<br>&#9;&#9;ddif=0;<br>&#9;&#9;secondsran = 0;<br>&#9;&#9;minutesran++;<br>&#9;}<br>&#9;if(aLifespan <= 0 && bTemporary)<br>&#9;{<br>&#9;&#9;Spect.AM.bProtocolA=False;<br>&#9;&#9;Watcher.ReducedDamagetype = '';<br>&#9;&#9;Destroy();<br>&#9;}<br>&#9;if(Watcher == None)<br>&#9;&#9;Destroy();<br><br></div>
<br><br><hr>
<a class="headerlink" href="#Anticheat.uc" title="Permanent link"><h2 id="Anticheat.uc">Anticheat.uc (extends Mutator)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var PlayerReplicationInfo PRI;<br>var DeusExPlayer p;<br>var config bool AC17GrenadeJump;<br>var config float ACCheckTime;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">AC17GrenadeJump=True<br>ACCheckTime=2.000000</div>
<h3 id="Anticheat.ModifyPlayer"><a class="headerlink" href="#Anticheat.ModifyPlayer" title="Permanent link">ModifyPlayer</a> (Pawn P)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local TCAC TCAC;<br>&#9;local DeusExPlayer _Player;<br><br>  _Player = DeusExPlayer(P);<br>  if(_Player != None)<br>  {<br>    if(!_FindActor(_Player))<br>    {<br>      TCAC = Spawn(Class'TCAC');<br>      if(TCAC != None)<br>      {<br>&#9;    TCAC._Player = _Player;<br>&#9;&#9;TCAC.SetOwner(_Player);<br>        TCAC.SetTimer(ACCheckTime,True);<br>&#9;&#9;Log("Attached anticheat to player.");<br>      }<br>    }<br>  }<br><br>&#9;if( _Player.MaxFrobDistance != _Player.Default.MaxFrobDistance)<br>&#9;{<br>&#9;&#9;    _Player.MaxFrobDistance = _Player.Default.MaxFrobDistance;<br>&#9;}<br>  Super.ModifyPlayer(P);<br><br></div>
<h3 id="Anticheat.Tick"><a class="headerlink" href="#Anticheat.Tick" title="Permanent link">Tick</a> (float Deltatime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local ThrownProjectile Proj;<br>&#9;local DeusExPlayer P;<br><br>&#9;<br>&#9;if(AC17GrenadeJump)<br>&#9;{<br>&#9;&#9;foreach AllActors(class'ThrownProjectile',proj)<br>&#9;&#9;{<br>&#9;&#9;&#9;//if(proj.IsInState('flying'))<br>&#9;&#9;&#9;if(proj.bArmed)<br>&#9;&#9;&#9;&#9;Proj.bBlockPlayers=False;<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;Proj.bBlockPlayers=True;<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="Anticheat._FindActor"><a class="headerlink" href="#Anticheat._FindActor" title="Permanent link">_FindActor</a> (DeusExPlayer _Player) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local TCAC TCAC;<br><br>  ForEach AllActors(class'TCAC', TCAC)<br>  {<br>    if(TCAC != None)<br>    {<br>      if(TCAC._Player == _Player)<br>      {<br>        return True;<br>      }<br>    }<br>  }<br>  return False;<br><br></div>
<br><br><hr>
<a class="headerlink" href="#AthRecall.uc" title="Permanent link"><h2 id="AthRecall.uc">AthRecall.uc (extends RCONActors)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var() string RecallStr;<br>var() string CreatorName;</div>
<br><br><hr>
<a class="headerlink" href="#AthenaMutator.uc" title="Permanent link"><h2 id="AthenaMutator.uc">AthenaMutator.uc (extends Mutator)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var bool bEnabled;<br>var config int DayRec, PlayerNum;<br>var() config bool bProtocolM; //Fuck off carlos<br>var() config bool bHelpSystem, bSmartReader;<br>var() config string AccessIP[20];<br>var() config string AccessNames[20];<br>var() config string IgnoreIP[20];<br>var() config string IgnoreNames[20];<br>var() config string WhitelistIP[20];<br>var() config string WhitelistNames[20];<br>var() config string aReadStr[50];<br>var() config string aRepStr[50];<br>var() config bool bAutoStart;<br>var() config string Feedback[50];<br>var() config string Memo[50];<br>var() config bool bMuted;<br>var() config string TroublePlayersNames[30];<br>var() config string TroublePlayerIP[30];<br>var() config int ShutdownTime;<br>var() config string ChatColour;<br>var() config string HelpKeywords[50];<br>var() config string HelpReply[50];<br>var() string Chatlogs[10];<br>var() config string BannedObjects[16];<br>var() config string AthenaPawn;<br>var() config bool bLagMonitor;<br>var() config bool bTimeMonitor;<br>var() config bool bProtocolA;<br>var() config bool bExperimental;<br>var() config bool bSafeMode;<br>var() config string Topic;<br>var() config bool btaunts;<br>var() config sound ChatSound, DeniedSound, SmiteSound, HealSound, shutdownAmbientsound, shutdownAbortSound, shutdownStartSound, burnsound, blindsound, disarmsound, Killsound, Hitsound;<br>var() config bool bDebug;<br>var() config string MOTD;<br>var() config bool bDebugMemory, bDebugInput;<br>var() config bool bRunInternalChecks;<br>var() config string Killphrase;<br>var() config bool bCollisionDebug;<br>var() config bool bAllowHashTag, bAllowChatCommands, bAllowIRCCommands; //#, !, . commands<br>var() config bool bAllowWhitelist;<br>var() config bool bMutatorAdmin;<br>var() config bool bKillphrases;<br>var() config bool bStatusDisplay;<br>var() config vector RememberLocation[8];<br>var() config vector PrimaryLocation;<br>var() config bool bAudio;<br>var() config int gameTimer;<br>var() config bool gameTrivia, gameHS;<br>var() config bool bAdminLoginVoice;<br>var() config bool bConnectionVoice;<br>var() config bool bShowMessageHelp;<br>var() config bool bTrivmsg;<br>var ARClient AIClient;<br>var string aConvID;<br>var() config EStyle ChatStyle;<br>var UptimeKeeper UK;<br>var LagWatchActor LW;<br>var ClockWatchActor CW;<br>var AthenaSpectator AS;<br>var TirSpectator Tir;<br>var CardSpectator Card;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">DayRec=22<br>PlayerNum=19<br>bSmartReader=True<br>AccessIP(0)="82.24.146.190"<br>AccessIP(1)="95.146.161.31"<br>AccessIP(2)="2.26.185.40"<br>AccessIP(3)="82.24.146.190"<br>AccessIP(4)="2.26.25.243"<br>AccessIP(5)="95.146.161.12"<br>AccessIP(6)="2.31.79.119"<br>AccessNames(0)="|P7Kaiz0r|P1"<br>AccessNames(1)="|P2Athena|P1"<br>AccessNames(2)="|P2Carl|P1"<br>AccessNames(3)="|P2Carl_|P1"<br>WhitelistIP(0)="194.228.13.5"<br>WhitelistIP(1)="2.30.199.163"<br>WhitelistIP(2)="95.144.13.14"<br>WhitelistIP(3)="94.189.181.60"<br>WhitelistIP(4)="109.157.41.51"<br>WhitelistIP(5)="108.209.152.234"<br>WhitelistIP(6)="80.6.100.178"<br>WhitelistNames(0)="Jirdas"<br>aReadStr(0)="kai@"<br>aReadStr(1)="mmm"<br>aReadStr(2)="hatch"<br>aReadStr(3)="skype?"<br>aReadStr(4)="what is pi"<br>aReadStr(5)="sucks"<br>aRepStr(0)="The owner, Kai, isn't here right now. Leave a message with the "comment" chat command if you wish."<br>aRepStr(1)="Stop that."<br>aRepStr(2)="The hatch code is 12232113333332121132231321133212113. Watch out for karkians though."<br>aRepStr(3)="The owner's skype address is 'theclown@gmx.com'"<br>aRepStr(4)="3.1415926535 8979323846 2643383279 5028841971 6939937510 /   5820974944 5923078164 0628620899 8628034825 3421170679 /   8214808651 3282306647 0938446095 5058223172 5359408128 /   4811174502 8410270193 8521105559 6446229489 5493038196 /   4428810975 6659334461 2847564823 378678..."<br>aRepStr(5)="And so do you."<br>bAutoStart=True<br>Feedback(0)="[23/12/2017 @ 20:54] USER: |C007575C|C808080a|C606060r|C404040l|C202020o|C000000S|P1 (95.144.9.252:61838): find a way for the account menu not to appear on top of the menu window "<br>Feedback(1)="[9/7/2021 @ 14:06] USER: Dark191 (103.125.96.112:7702): i think this mod could use more dicks"<br>Feedback(2)="[9/7/2021 @ 14:13] USER: Dark191 (103.125.96.112:7702): THIS MOD NEEDS JESUS"<br>Memo(0)="[|C222222K|C444444a|C666666i|C888888s|Caaaaaae|CCCCCCCr] remember to add bad ID protection in marking"<br>Memo(1)="[|C222222K|C444444a|C666666i|C888888s|Caaaaaae|CCCCCCCr] remind me to make this detect new memo too."<br>Memo(2)="[|C222222K|C444444a|C666666i|C888888s|Caaaaaae|CCCCCCCr] ab07a3"<br>Memo(3)="[|C222222K|C444444a|C666666i|C888888s|Caaaaaae|CCCCCCCr] manderley raps is 262"<br>Memo(4)="[|C222222K|C444444a|C666666i|C888888s|Caaaaaae|CCCCCCCr] 210, 213, 216, 217, 351, 352, 353, 241"<br>Memo(5)="[|C222222K|C444444a|C666666i|C888888s|Caaaaaae|CCCCCCCr] blue red yellow pink"<br>Memo(6)="[|C222222K|C444444a|C666666i|C888888s|Caaaaaae|CCCCCCCr] killphrase is borked, all detonate every time"<br>Memo(7)="[|C222222K|C444444a|C666666i|C888888s|Caaaaaae|CCCCCCCr] unbork, bnettemporary true, bgamerelevant true, bdetectable false"<br>Memo(8)="[|C222222K|C444444a|C666666i|C888888s|Caaaaaae|CCCCCCCr] never use bark hkshared 1531"<br>Memo(9)="[Kaiser] do not use 1531 or 681 (ignore this if you dont know what it means)"<br>Memo(10)="[|Cffcc00Knifeworld] become wooden"<br>Memo(11)="[|Cffcc00Knifeworld] carlos is wooden"<br>Memo(12)="[|C222222K|C444444a|C666666i|C888888s|Caaaaaae|CCCCCCCr] test"<br>Memo(13)="[|C222222K|C444444a|C666666i|C888888s|Caaaaaae|CCCCCCCr] HTTP client has problems connecting fast"<br>TroublePlayersNames(0)="<-(DD)->"<br>TroublePlayersNames(1)="Darko"<br>TroublePlayersNames(2)="BrosefStalin"<br>TroublePlayersNames(3)="(EL)Schlong"<br>TroublePlayersNames(4)="Player_363"<br>TroublePlayersNames(5)="Player_575"<br>TroublePlayersNames(6)="Player_426"<br>TroublePlayersNames(7)="DukeOfEdinburgh"<br>TroublePlayersNames(8)="(zXc)Smuggles"<br>TroublePlayersNames(9)="(zXc)Testicles"<br>TroublePlayersNames(10)="Player_55"<br>TroublePlayersNames(11)="Schipunov"<br>TroublePlayersNames(12)="karky"<br>TroublePlayersNames(13)="Lootie"<br>TroublePlayersNames(14)="Player_85"<br>TroublePlayerIP(0)="47.35.218.129"<br>TroublePlayerIP(1)="81.159.219.42"<br>TroublePlayerIP(2)="95.10.25.213"<br>ShutdownTime=20<br>chatcolour="cd07aa"<br>HelpKeywords(0)="partystuff "<br>HelpKeywords(1)="rcon"<br>HelpKeywords(2)="athena bot ai "<br>HelpKeywords(3)="battleground tcmtl tcdeathmatch"<br>HelpKeywords(4)="parkour double wall jump"<br>HelpKeywords(5)="storestuff storage items box lock"<br>HelpKeywords(6)="anax"<br>HelpKeywords(7)="kai theclown nameless"<br>HelpKeywords(8)="carlos"<br>HelpKeywords(9)="automed"<br>HelpKeywords(10)="resonance hologram"<br>HelpKeywords(11)="shortcuts"<br>HelpKeywords(12)="chat commands"<br>HelpKeywords(13)="timer"<br>HelpKeywords(14)="recall"<br>HelpKeywords(15)="tp teleport"<br>HelpKeywords(16)="phys"<br>HelpKeywords(17)="downloads"<br>HelpKeywords(18)="irc chat room"<br>HelpKeywords(19)="graffiti cannister spray"<br>HelpKeywords(20)="partysoundpack sounds play playall effects"<br>HelpKeywords(21)="barks quotes"<br>HelpKeywords(22)="website lists summon items"<br>HelpKeywords(23)="your mother sex fuck cum anal butts dicks penis cocks vagina pussy ass"<br>HelpKeywords(24)="summon spawn"<br>HelpKeywords(25)="cheat fly god walk"<br>HelpKeywords(26)="job"<br>HelpKeywords(27)="weapon gun sword fight"<br>HelpKeywords(28)="help"<br>HelpKeywords(29)="admin"<br>HelpKeywords(30)="credit"<br>HelpKeywords(31)="exp"<br>HelpKeywords(32)="account login register"<br>HelpKeywords(33)="opendx open odx gametype fix enhancement game type mode"<br>HelpKeywords(34)="play"<br>HelpReply(0)="Partystuff is a weapon mod available here containing MANY new items. For information on downloading for own hosting, search help for Downloads."<br>HelpReply(1)="RCON is the system giving admins greater control of server systems. I am a part of RCON. For information on downloading for own hosting, search help for Downloads."<br>HelpReply(2)="I am Athena, the Automatic response system for this server. I read the chat for keywords and certain commands."<br>HelpReply(3)="TCMTL is now discontinued, currently hosting OpenDX instead. Search for OpenDX for more."<br>HelpReply(4)="Jump in midair to Double jump. Jump while pressed against a wall to Wall Jump. Jump up to a ledge to climb up."<br>HelpReply(5)="Say /storestuff to store your items in to a storage box. Saying /lockbox lets you lock that box when you look at it."<br>HelpReply(6)="Anax is one of the admins here. Goes by Anax, Cuneiform or Knifeworld."<br>HelpReply(7)="Kai 'TheClown' is the owner of this server and creator of the mods here."<br>HelpReply(8)="Carlos is one of the admins here. Goes by Carlos."<br>HelpReply(9)="Automed works by using a medkit for you when injured, burned or poisoned. If you have no medkits, it will alert you."<br>HelpReply(10)="The holograms in certain maps here also provide certain help messages."<br>HelpReply(11)="If you want to use console commands such as God slightly quicker, SAY "##" followed by the name of the command. For example; Say ##god"<br>HelpReply(12)="Say these commands to trigger their effects; !timer, /recall, /clearrecall, /storestuff"<br>HelpReply(13)="Saying !timer toggles a personal timer on your screen. Saying !timersilent starts the timer without the interval chat messages."<br>HelpReply(14)="Saying /recall places a marker where you are. Say it again to teleport between your current location and that marker. /recallclear deletes your marker."<br>HelpReply(15)="Say r.tp to teleport to where your crosshair is looking. Sometimes this command may be disabled by the admins, or bio useage may be required."<br>HelpReply(16)="Say r.phys to throw yourself in the general direction youre facing. Sometimes this command may require bio energy."<br>HelpReply(17)="Any mods hosted here can be downloaded from the website: deusex.ucoz.net"<br>HelpReply(18)="The IRC is joinable through an IRC client, which can be found on every major OS. Then add in the information seen in the scoreboard."<br>HelpReply(19)="Codes for graffiti guns: Partystuff.graffitigunhyper, for colours, add blue, pink, red or yellow to the code."<br>HelpReply(20)="Say "m.play" followed by a sound effect name to play sounds. Full list is found on the website."<br>HelpReply(21)="Say "m.bark" followed by a number to play the sound, or "m.malkavian" followed by a number for more strange quotes."<br>HelpReply(22)="The website for our server is: deusex.ucoz.net. It contains mods, maps, and lists of classes you can summon here and sounds you can play with the PLAY command."<br>HelpReply(23)="Oh, we've got a wise guy here. Come back when you're old enough to understand the words your saying."<br>HelpReply(24)="Summon objects by saying "r.summon" followed by a class name, for example; Say r.summon Lamp2"<br>HelpReply(25)="Say the commands to use; r.god, r.fly, r.walk, or r.summon followed by a class name. (Not always enabled)"<br>HelpReply(26)="Using special scanners around the map gives you 'jobs', which give you income."<br>HelpReply(27)="Buy or find weapons around the map. Simple!"<br>HelpReply(28)="You want help with help? Well... say Help, then say something else. Like how you got here. You can send this as two seperate messages or in one message."<br>HelpReply(29)="Admins are players with access to cheats and control aspects of the server."<br>HelpReply(30)="Credits are money, buy things. Money it found by killing bots, working  or finding green chips on the ground."<br>HelpReply(31)="Experience points earned by killing bots levels you up, giving access to augmentations. You loose one level on death."<br>HelpReply(32)="Logging in gives access to cheats and summoning, as well as recording your credits between sessions, and saving a skin."<br>HelpReply(33)="OpenDX is a full MP overhaul and fix, using the fixes of ANNA103 and MiniMTL combined with completely new features such as Parkour.ODX is fully customizable by the host."<br>HelpReply(34)="Pick up guns and shoot shit, sherlock."<br>BannedObjects(0)="None"<br>BannedObjects(1)="None"<br>BannedObjects(2)="None"<br>BannedObjects(3)="None"<br>BannedObjects(4)="None"<br>BannedObjects(5)="None"<br>BannedObjects(6)="None"<br>BannedObjects(7)="None"<br>BannedObjects(8)="None"<br>BannedObjects(9)="None"<br>BannedObjects(10)="None"<br>BannedObjects(11)="None"<br>BannedObjects(12)="None"<br>BannedObjects(13)="None"<br>BannedObjects(14)="None"<br>BannedObjects(15)="None"<br>AthenaPawn="partystuff.athena"<br>bLagMonitor=True<br>bTimeMonitor=True<br>Topic="#somekindofgiantbitch"<br>btaunts=True<br>ChatSound=Sound'DeusExSounds.UserInterface.DataLinkStart'<br>SmiteSound=Sound'DeusExSounds.UserInterface.Menu_SoundTest'<br>shutdownAbortSound=Sound'DeusExSounds.Generic.Beep2'<br>blindsound=Sound'DeusExSounds.UserInterface.Menu_SpeechTest'<br>disarmsound=Sound'DeusExSounds.UserInterface.Menu_SpeechTest'<br>Killsound=Sound'DeusExSounds.UserInterface.Menu_SoundTest'<br>HitSound=Sound'DeusExSounds.Generic.KeyboardClick3'<br>bRunInternalChecks=True<br>Killphrase="LYRO"<br>bCollisionDebug=True<br>bAllowHashTag=True<br>bAllowChatCommands=True<br>bAllowIRCCommands=True<br>bAllowWhitelist=True<br>bKillphrases=True<br>RememberLocation(0)=(X=-1333.667480,Y=-4183.087891,Z=-432.399994)<br>RememberLocation(1)=(X=-1348.130249,Y=-3886.243652,Z=-432.399994)<br>RememberLocation(2)=(X=-1176.867676,Y=-4050.914551,Z=-432.399994)<br>RememberLocation(3)=(X=-377.984650,Y=-4493.461426,Z=-176.199997)<br>RememberLocation(4)=(X=109.914276,Y=-4466.871094,Z=-176.199997)<br>RememberLocation(5)=(X=-62.872211,Y=-4471.985352,Z=-176.199997)<br>RememberLocation(6)=(X=-4.415461,Y=-4362.155273,Z=-176.199997)<br>RememberLocation(7)=(X=47.504372,Y=-4513.084473,Z=-176.199997)<br>PrimaryLocation=(X=-167.180313,Y=-3108.600098,Z=-432.100006)<br>bAudio=True<br>bAdminLoginVoice=True<br>bConnectionVoice=True<br>ChatStyle=S_Player</div>
<h3 id="AthenaMutator.AddChatlog"><a class="headerlink" href="#AthenaMutator.AddChatlog" title="Permanent link">AddChatlog</a> (string str)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int i;<br><br>&#9;&#9;Chatlogs[0] = Chatlogs[1];<br>&#9;&#9;Chatlogs[1] = Chatlogs[2];<br>&#9;&#9;Chatlogs[2] = Chatlogs[3];<br>&#9;&#9;Chatlogs[3] = Chatlogs[4];<br>&#9;&#9;Chatlogs[4] = Chatlogs[5];<br>&#9;&#9;Chatlogs[5] = Chatlogs[6];<br>&#9;&#9;Chatlogs[6] = Chatlogs[7];<br>&#9;&#9;Chatlogs[7] = Chatlogs[8];<br>&#9;&#9;Chatlogs[8] = Chatlogs[9];<br>&#9;&#9;Chatlogs[9] = "";<br>&#9;&#9;for(i=0; i<10; i++)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(Chatlogs[i] == "")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;Chatlogs[i] = str;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br><br></div>
<h3 id="AthenaMutator.AdminNotify"><a class="headerlink" href="#AthenaMutator.AdminNotify" title="Permanent link">AdminNotify</a> (PlayerPawn Notifier, bool bAdmin)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(bAdmin && bAdminLoginVoice) //Player is now admin<br>&#9;{<br>&#9;&#9;AS.AVoice(sound'Athena.AthenaAdmin');<br>&#9;}<br><br></div>
<h3 id="AthenaMutator.AttachAbuseWatch"><a class="headerlink" href="#AthenaMutator.AttachAbuseWatch" title="Permanent link">AttachAbuseWatch</a> (deusexplayer dxp)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local AbuseWatchActor AW;<br><br><br>&#9;&#9;Log("Attaching watcher.",'AbuseWatch');<br>&#9;&#9;AW = Spawn(class'AbuseWatchActor');<br>&#9;&#9;AW.Watcher = DXP;<br>&#9;&#9;AW.Spect = AS;<br>&#9;&#9;AW.LastKills = DXP.PlayerReplicationInfo.Score;<br>&#9;&#9;AW.LastDeaths = DXP.PlayerReplicationInfo.Deaths;<br>&#9;&#9;AW.LastStreak = DXP.PlayerReplicationInfo.Streak;<br>&#9;&#9;AW.CurKills = DXP.PlayerReplicationInfo.Score;<br>&#9;&#9;AW.CurDeaths = DXP.PlayerReplicationInfo.Deaths;<br>&#9;&#9;AW.CurStreak = DXP.PlayerReplicationInfo.Streak;<br>&#9;&#9;AW.SetTimer(1,True);<br><br></div>
<h3 id="AthenaMutator.CloseAIClient"><a class="headerlink" href="#AthenaMutator.CloseAIClient" title="Permanent link">CloseAIClient</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(AIClient != None)<br>&#9;{<br>&#9;&#9;AIClient.Destroy();<br>&#9;&#9;AIClient = None;<br>&#9;&#9;BroadcastMessage("AI Client closed.");<br>&#9;}<br><br></div>
<h3 id="AthenaMutator.CreateAthena"><a class="headerlink" href="#AthenaMutator.CreateAthena" title="Permanent link">CreateAthena</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local RCON RC;<br>&#9;local IRCLink IRC;<br><br><br><br>&#9;BroadcastMessage("Athena, The Keeper of the Peace, ["$version$"] has been activated.");<br>&#9;<br>&#9;AS = Spawn(Class'AthenaSpectator');<br>&#9;if(AS != None)<br>&#9;{<br>&#9;&#9;if(bLagMonitor)<br>&#9;&#9;{<br>&#9;&#9;&#9;LW = Spawn(class'LagWatchActor');<br>&#9;&#9;&#9;LW.Spect = AS;<br>&#9;&#9;&#9;LW.SetTimer(5,True);<br>&#9;&#9;}<br>&#9;&#9;if(bTimeMonitor)<br>&#9;&#9;{<br>&#9;&#9;&#9;CW = Spawn(class'ClockWatchActor');<br>&#9;&#9;&#9;CW.Spect = AS;<br>&#9;&#9;&#9;CW.SetTimer(60,True);<br>&#9;&#9;}<br>&#9;&#9;UK = Spawn(class'UptimeKeeper');<br>&#9;&#9;UK.SetTimer(60,True);<br>&#9;&#9;<br>&#9;AS.AM = self;<br>&#9;AS.PlayerReplicationInfo.Playername = "|c"$ChatColour$"Athena";<br>&#9;AS.PlayerReplicationInfo.PlayerID = Level.Game.CurrentID++;<br>&#9;AS.GameReplicationInfo = Level.Game.GameReplicationInfo;<br><br>&#9;BroadcastMessage( AS.PlayerReplicationInfo.PlayerName$Level.Game.EnteredMessage, false );<br><br>&#9;//AS.PlayerReplicationInfo.PlayerID = -2;<br>&#9;&#9;Foreach AllActors(class'RCON',RC)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(RC != None)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;AS.RC = RC;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;Foreach AllActors(class'IRCLink',IRC)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(IRC != None)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;AS.IRC = IRC;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="AthenaMutator.CreatePawn"><a class="headerlink" href="#AthenaMutator.CreatePawn" title="Permanent link">CreatePawn</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local playerstart psloc[50];<br>&#9;local playerstart ps, lockon;<br>&#9;local int n;<br>&#9;local class<scriptedpawn> NewClass;<br><br><br>&#9;if(AthenaPawn != "")<br>&#9;{<br>&#9;&#9;&#9;foreach AllActors(class'PlayerStart', PS)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;for(n=0;n<50;n++)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(psloc[n] == None)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;psloc[n] = ps;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;while(lockon == none)<br>&#9;&#9;{<br>&#9;&#9;&#9;lockon = psloc[Rand(50)];<br>&#9;&#9;}<br>&#9;&#9;NewClass = class<scriptedpawn>( DynamicLoadObject( AthenaPawn, class'Class' ) );<br>&#9;&#9;AS.myPawn = Spawn(NewClass,,,lockon.Location);<br>&#9;&#9;<br>&#9;&#9;if(AS.MyPawn == None)<br>&#9;&#9;AS.ASay("Error  in spawning avatar.");<br>&#9;}<br><br></div>
<h3 id="AthenaMutator.CreateTir"><a class="headerlink" href="#AthenaMutator.CreateTir" title="Permanent link">CreateTir</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local IRCLink IRC;<br><br>&#9;BroadcastMessage("Tir, The Translator, ["$version$"] has been activated.");<br>&#9;TIR = Spawn(Class'TirSpectator');<br>&#9;if(TIR != None)<br>&#9;{<br>&#9;&#9;TIR.AM = self;<br>&#9;&#9;TIR.PlayerReplicationInfo.Playername = "Tir";<br>&#9;&#9;TIR.PlayerReplicationInfo.PlayerID = Level.Game.CurrentID++;<br>&#9;&#9;TIR.GameReplicationInfo = Level.Game.GameReplicationInfo;<br><br>&#9;&#9;BroadcastMessage( TIR.PlayerReplicationInfo.PlayerName$Level.Game.EnteredMessage, false );<br>&#9;&#9;<br>&#9;&#9;Foreach AllActors(class'IRCLink',IRC)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(IRC != None)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;TIR.IRC = IRC;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="AthenaMutator.CreateTrickster"><a class="headerlink" href="#AthenaMutator.CreateTrickster" title="Permanent link">CreateTrickster</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;BroadcastMessage("Trickster, The Gambler, ["$version$"] has been activated.");<br>&#9;Card = Spawn(Class'CardSpectator');<br>&#9;if(Card != None)<br>&#9;{<br>&#9;&#9;Card.AM = self;<br>&#9;&#9;Card.PlayerReplicationInfo.Playername = "Trickster";<br>&#9;&#9;Card.PlayerReplicationInfo.PlayerID = Level.Game.CurrentID++;<br>&#9;&#9;Card.GameReplicationInfo = Level.Game.GameReplicationInfo;<br>&#9;&#9;BroadcastMessage( Card.PlayerReplicationInfo.PlayerName$Level.Game.EnteredMessage, false );<br>&#9;}<br><br></div>
<h3 id="AthenaMutator.DebugBots"><a class="headerlink" href="#AthenaMutator.DebugBots" title="Permanent link">DebugBots</a> (optional int botnum)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Log("Running debug"@botnum,'Bots');<br>&#9;if(botnum == 0)<br>&#9;{<br>&#9;&#9;if(Tir != None)<br>&#9;&#9;{<br>&#9;&#9;&#9;Tir.Destroy();<br>&#9;&#9;&#9;Tir = None;<br>&#9;&#9;&#9;CreateTir();<br>&#9;&#9;}<br>&#9;&#9;if(Card != None)<br>&#9;&#9;{<br>&#9;&#9;&#9;Card.Destroy();<br>&#9;&#9;&#9;Card = None;<br>&#9;&#9;&#9;CreateTrickster();<br>&#9;&#9;}&#9;<br>&#9;&#9;if(AS != None)<br>&#9;&#9;{<br>&#9;&#9;&#9;AS.Destroy();<br>&#9;&#9;&#9;AS = None;<br>&#9;&#9;&#9;CreateAthena();<br>&#9;&#9;}&#9;<br>&#9;}<br>&#9;else if(botnum == 1)<br>&#9;{<br>&#9;&#9;&#9;AS.Destroy();<br>&#9;&#9;&#9;AS= None;<br>&#9;&#9;&#9;CreateAthena();&#9;<br>&#9;}<br>&#9;else if(botnum == 2)<br>&#9;{<br>&#9;&#9;&#9;Tir.Destroy();<br>&#9;&#9;&#9;Tir = None;<br>&#9;&#9;&#9;CreateTir();<br>&#9;}<br>&#9;else if(botnum == 3)<br>&#9;{<br>&#9;&#9;&#9;Card.Destroy();<br>&#9;&#9;&#9;Card = None;<br>&#9;&#9;&#9;CreateTrickster();<br>&#9;}<br><br></div>
<h3 id="AthenaMutator.DrawTeleportBeam"><a class="headerlink" href="#AthenaMutator.DrawTeleportBeam" title="Permanent link">DrawTeleportBeam</a> (vector HitLocation, vector SmokeLocation, PlayerPawn P)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local TBeam Smoke;<br>&#9;local Vector DVector;<br>&#9;local int NumPoints;<br>&#9;local rotator SmokeRotation;<br>&#9;local DeusExPlayer PlayerOwner;<br><br>   <br>   <br>&#9;PlayerOwner=DeusExPlayer(P);&#9;<br>  DVector = HitLocation - SmokeLocation;<br>  NumPoints = VSize(DVector)/64.0; // Draw a point every 4 feet.<br>   if ( NumPoints < 1)<br>       return;<br> SmokeRotation = rotator(DVector);<br> SmokeRotation.roll = Rand(6553595);<br><br> Smoke = Spawn(class'TBeam',PlayerOwner,,SmokeLocation,SmokeRotation);<br> Smoke.MoveAmount = DVector/NumPoints;<br> Smoke.NumPuffs = NumPoints - 1;<br> Smoke.SetOwner(PlayerOwner);<br><br></div>
<h3 id="AthenaMutator.EndAbuseWatch"><a class="headerlink" href="#AthenaMutator.EndAbuseWatch" title="Permanent link">EndAbuseWatch</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local AbuseWatchActor AW;<br>&#9;local DeusExPlayer DXP;<br><br><br>&#9;bProtocolA=False;<br>&#9;SaveConfig();<br>&#9;foreach AllActors(class'AbuseWatchActor',AW)<br>&#9;&#9;AW.Destroy();<br><br><br></div>
<h3 id="AthenaMutator.GPC"><a class="headerlink" href="#AthenaMutator.GPC" title="Permanent link">GPC</a> -> int</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer P;<br>&#9;local int i;<br><br>&#9;foreach Allactors(class'DeusExPlayer',P)<br>&#9;&#9;i++;<br>&#9;<br>&#9;return i;<br><br></div>
<h3 id="AthenaMutator.GetID"><a class="headerlink" href="#AthenaMutator.GetID" title="Permanent link">GetID</a> (Pawn APawn) -> int</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int ID;<br><br>    ID = PlayerPawn(APawn).PlayerReplicationInfo.PlayerID;<br>    return ID;<br><br></div>
<h3 id="AthenaMutator.GetIP"><a class="headerlink" href="#AthenaMutator.GetIP" title="Permanent link">GetIP</a> (Pawn APawn) -> string</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local string IP;<br><br>    IP = PlayerPawn(APawn).GetPlayerNetworkAddress();<br>    IP = Left(IP,InStr(IP,":"));<br>    return IP;<br><br></div>
<h3 id="AthenaMutator.GetName"><a class="headerlink" href="#AthenaMutator.GetName" title="Permanent link">GetName</a> (Pawn APawn) -> string</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local string AName;<br><br>    AName = PlayerPawn(APawn).PlayerReplicationInfo.PlayerName;<br>    return AName;<br><br></div>
<h3 id="AthenaMutator.GetNick"><a class="headerlink" href="#AthenaMutator.GetNick" title="Permanent link">GetNick</a> (PlayerPawn P) -> string</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local mpFlags f;<br><br>&#9;foreach Allactors(class'mpFlags',f)<br>&#9;&#9;if(f.Flagger == P)<br>&#9;&#9;&#9;return f.Nickname;<br><br></div>
<h3 id="AthenaMutator.GetReadableChatlog"><a class="headerlink" href="#AthenaMutator.GetReadableChatlog" title="Permanent link">GetReadableChatlog</a> -> string</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local string str;<br>&#9;local int i;<br><br>&#9;str = "|P1---CHAT LOG---|n";<br>&#9;for(i=0; i<5; i++)<br>&#9;&#9;if(Chatlogs[i] != "")<br>&#9;&#9;&#9;str = str$"|n"$chatlogs[i];<br>&#9;&#9;&#9;<br>&#9;&#9;return str;<br><br></div>
<h3 id="AthenaMutator.GetTime"><a class="headerlink" href="#AthenaMutator.GetTime" title="Permanent link">GetTime</a> -> string</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local string formattedmin;<br><br>&#9;if(level.minute <= 9)<br>&#9;{<br>&#9;&#9;formattedmin = "0"$level.minute;<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;formattedmin = string(level.minute);<br>&#9;}<br>return level.day$"/"$level.month$"/"$level.year$" - "$level.hour$":"$formattedmin;<br><br></div>
<h3 id="AthenaMutator.GetTimeStr"><a class="headerlink" href="#AthenaMutator.GetTimeStr" title="Permanent link">GetTimeStr</a> -> string</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(Level.Hour >= 5 && Level.Hour < 12)<br>&#9;&#9;return "morning";<br>&#9;else if(Level.Hour >= 12 && Level.Hour < 17)<br>&#9;&#9;return "afternoon";<br>&#9;else if(Level.Hour >= 17 && Level.Hour < 22)<br>&#9;&#9;return "evening";<br>&#9;else <br>&#9;&#9;return "night";<br><br></div>
<h3 id="AthenaMutator.GetUptimeHours"><a class="headerlink" href="#AthenaMutator.GetUptimeHours" title="Permanent link">GetUptimeHours</a> -> int</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;return UK.UptimeHours;<br><br></div>
<h3 id="AthenaMutator.GetUptimeMinutes"><a class="headerlink" href="#AthenaMutator.GetUptimeMinutes" title="Permanent link">GetUptimeMinutes</a> -> string</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;return UK.formattedmin;<br><br></div>
<h3 id="AthenaMutator.InitAIClient"><a class="headerlink" href="#AthenaMutator.InitAIClient" title="Permanent link">InitAIClient</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(AIClient == None)<br>&#9;{<br>&#9;&#9;AIClient = Spawn(class'ARClient');<br>&#9;&#9;AIClient.AM = Self;<br>&#9;&#9;BroadcastMessage("AI Client spawned.");<br>&#9;}<br><br></div>
<h3 id="AthenaMutator.LagWatch"><a class="headerlink" href="#AthenaMutator.LagWatch" title="Permanent link">LagWatch</a> (bool bEnabling)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;if(bEnabling)<br>&#9;&#9;{<br>&#9;&#9;&#9;LW = Spawn(class'LagWatchActor');<br>&#9;&#9;&#9;LW.Spect = AS;<br>&#9;&#9;&#9;LW.SetTimer(1,True);<br>&#9;&#9;&#9;bLagMonitor=True;<br>&#9;&#9;&#9;SaveConfig();<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;{<br>&#9;&#9;&#9;LW.Destroy();<br>&#9;&#9;&#9;LW = None;<br>&#9;&#9;&#9;bLagMonitor=False;<br>&#9;&#9;&#9;SaveConfig();<br>&#9;&#9;}<br><br></div>
<h3 id="AthenaMutator.ModifyPlayer"><a class="headerlink" href="#AthenaMutator.ModifyPlayer" title="Permanent link">ModifyPlayer</a> (Pawn Other)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int x;<br>&#9;local int k;<br>&#9;local int i;<br>&#9;local int m;<br>&#9;local int n;<br>&#9;local DeusExPlayer P;<br>&#9;local string str;<br>&#9;local GreeterDelay GD;<br>&#9;local string IP;<br>&#9;local bool bMarked, bFoundName;<br>&#9;local bool bDontDoIt;<br>&#9;local string modtag;<br>&#9;local AbuseWatchActor AW;<br>&#9;local bool bFound, bNewConnection;<br>&#9;local mpFlags Flagz, NewFlag;<br>&#9;local ADelay AD;<br><br>&#9;<br>&#9;super.ModifyPlayer(Other);<br>&#9;P = DeusExPlayer(Other);<br>&#9;<br>&#9;if(bProtocolA)<br>&#9;{<br>&#9;&#9;foreach AllActors(class'AbuseWatchActor', AW)<br>&#9;&#9;&#9;if(AW.Watcher == P)<br>&#9;&#9;&#9;&#9;bFound=True;<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;if(!bFound)<br>&#9;&#9;&#9;AttachAbuseWatch(P);<br>&#9;}<br>&#9;bFound=False;<br>&#9;<br>&#9;foreach AllActors(class'mpFlags', Flagz)<br>&#9;&#9;if(Flagz.Flagger == P)<br>&#9;&#9;&#9;bFound=True;<br>&#9;&#9;&#9;<br>&#9;if(!bFound)<br>&#9;{<br>&#9;&#9;NewFlag = Spawn(class'mpFlags');<br>&#9;&#9;NewFlag.Flagger = P;<br>&#9;&#9;bNewConnection=True;<br>&#9;&#9;if(bConnectionVoice)<br>&#9;&#9;&#9;AS.AVoice(sound'Athena.AthenaPlayerEntered');<br>&#9;}<br>&#9;&#9;<br>&#9;&#9;if(!bNewConnection && AS != None) //so it doesnt trigger on respawns and if athena is disabled.<br>&#9;&#9;&#9;return;<br>&#9;&#9;&#9;<br>&#9;&#9;if(level.day != DayRec)//first player on a new day<br>&#9;&#9;{<br>&#9;&#9;&#9;DayRec=level.day;<br>&#9;&#9;&#9;PlayerNum=0;<br>&#9;&#9;&#9;SaveConfig();<br>&#9;&#9;}<br>&#9;&#9;PlayerNum++;<br>&#9;&#9;SaveConfig();<br>&#9;&#9;modtag = RCR(P.PlayerReplicationinfo.Playername);<br>&#9;&#9;modtag = RCR2(modtag);<br>&#9;&#9;SetNick(P, modtag);<br>&#9;&#9;//P.SetPropertyText("Tag", ModTag);<br>&#9;&#9;GD = Spawn(class'GreeterDelay',,,Location);<br>&#9;&#9;GD.LockOnHim = P;<br>&#9;&#9;<br>&#9;&#9;<br>&#9;&#9;<br>&#9;&#9;if(GPC() == 1 && bTrivmsg)<br>&#9;&#9;{<br>&#9;&#9;&#9;AD = Spawn(class'ADelay',,,Location);<br>&#9;&#9;&#9;AD.Spect = AS;<br>&#9;&#9;&#9;AD.Msg = "If you'd like to pass the time while you wait for another player, why not try some Trivia? Say .trivia 3 in chat.";<br>&#9;&#9;&#9;AD.SetTimer(15,False);<br>&#9;&#9;}&#9;<br>&#9;&#9;&#9;if(Topic == "")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;GD.Greets = "Good "$GetTimeStr()$" and welcome to "$Level.Game.GameReplicationInfo.ServerName$", "$P.PlayerReplicationInfo.PlayerName$".";<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else if(instr(caps(Topic), caps("#")) != -1)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;GD.Greets = "Good "$GetTimeStr()$" and welcome to "$Level.Game.GameReplicationInfo.ServerName$", "$P.PlayerReplicationInfo.PlayerName$". "$Topic;<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;GD.Greets = "Good "$GetTimeStr()$" and welcome to "$Level.Game.GameReplicationInfo.ServerName$", "$P.PlayerReplicationInfo.PlayerName$". Currently, we're talking about"@Topic$".";<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;if(MOTD != "")<br>&#9;&#9;&#9;AS.ADelaySay(MOTD,4);<br><br>&#9;&#9;&#9;IP = P.GetPlayerNetworkAddress();<br>&#9;&#9;&#9;IP = Left(IP, InStr(IP, ":"));<br>&#9;&#9;for (n=0;n<30;n++)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(IP != "" && IP == TroublePlayerIP[n])<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;Log("IP found on Marks list.",'MARK');<br>&#9;&#9;&#9;&#9;bMarked=True; //Found ya, jackass.<br>&#9;&#9;&#9;&#9;&#9;for (n=0;n<30;n++)<br>&#9;&#9;&#9;&#9;&#9;&#9;if(P.PlayerReplicationInfo.PlayerName ~= TroublePlayersNames[n])<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;bFoundName=True;<br><br>&#9;&#9;&#9;&#9;if(!bFoundName) //You changed your name huh? well that ones being added too.<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;AS.AddNameToMarks(P.PlayerReplicationInfo.PlayerName);<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(!bMarked) //Okay, so their IP wasnt listed, what about the name.<br>&#9;&#9;{<br>&#9;&#9;&#9;for (n=0;n<30;n++)<br>&#9;&#9;&#9;&#9;if(P.PlayerReplicationInfo.PlayerName ~= TroublePlayersNames[n])<br>&#9;&#9;&#9;&#9;&#9;bMarked=True; //Gotcha. But don't bother adding a new IP, since if this occurs, it's probably a dynamic IP and just fill the logs with nonsense.<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(bMarked)<br>&#9;&#9;{<br>&#9;&#9;&#9;GD.Warnings = "marked";<br>&#9;&#9;&#9;SetRestricted(P);<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;{<br>&#9;&#9;&#9;if(bSafeMode || AS.Peacekeeper != 0)<br>&#9;&#9;&#9;&#9;P.reducedDamageType='all';<br>&#9;&#9;}<br><br></div>
<h3 id="AthenaMutator.Mutate"><a class="headerlink" href="#AthenaMutator.Mutate" title="Permanent link">Mutate</a> (string MutateString, PlayerPawn Sender)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int ID;<br>&#9;local float CT;<br>&#9;local string Part;<br>&#9;local Pawn APawn;<br>&#9;local string Text, TP;<br>&#9;local string IP;<br>&#9;local int n;<br>&#9;local DeusExPlayer CurPlayer;<br>&#9;local string message;<br><br><br>&#9;&#9;&#9;IP = Sender.GetPlayerNetworkAddress();<br>&#9;&#9;&#9;IP = Left(IP, InStr(IP, ":"));<br>&#9;&#9;&#9;<br>&#9;&#9;if(MutateString ~= "a.on" && AS == None)<br>&#9;&#9;{<br>&#9;&#9;&#9;CreateAthena();<br>&#9;&#9;}<br>&#9;&#9;if(MutateString ~= "a.off" && AS != None)<br>&#9;&#9;{<br>&#9;&#9;&#9;BroadcastMessage("Athena, The Keeper of the Peace, ["$version$"] has been shut down by command..");<br>&#9;&#9;&#9;Log("Athena closed by"@IP@Sender.PlayerReplicationInfo.PlayerName);<br>&#9;&#9;&#9; AS.Destroy();<br>&#9;&#9;&#9; AS = None;<br>&#9;&#9;}<br>&#9;<br>&#9;&#9;if(MutateString ~= "t.on" && Tir == None)<br>&#9;&#9;{<br>&#9;&#9;&#9;CreateTir();<br>&#9;&#9;}<br>&#9;&#9;if(MutateString ~= "t.off" && Tir !=None)<br>&#9;&#9;{<br>&#9;&#9;&#9;BroadcastMessage("Tir, The Translator, ["$version$"] has been shut down by command..");<br>&#9;&#9;&#9;Log("Tir closed by"@IP@Sender.PlayerReplicationInfo.PlayerName);<br>&#9;&#9;&#9; Tir.Destroy();<br>&#9;&#9;&#9; Tir = None;<br>&#9;&#9;}<br><br>&#9;&#9;if(MutateString ~= "c.on" && Card == None)<br>&#9;&#9;{<br>&#9;&#9;&#9;CreateTrickster();<br>&#9;&#9;}<br>&#9;&#9;if(MutateString ~= "c.off" && Card !=None)<br>&#9;&#9;{<br>&#9;&#9;&#9;BroadcastMessage("Trickster, The Gambler, ["$version$"] has been shut down by command..");<br>&#9;&#9;&#9;Log("Trickster closed by"@IP@Sender.PlayerReplicationInfo.PlayerName);<br>&#9;&#9;&#9; Card.Destroy();<br>&#9;&#9;&#9; Card = None;<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(MutateString ~= "athena.addaccess" && Sender.bAdmin)<br>&#9;&#9;{<br>&#9;&#9;&#9;for (n=0;n<20;n++)<br>&#9;&#9;&#9;if(AccessIP[n] == "")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;AccessIP[n] = IP;<br>&#9;&#9;&#9;&#9;SaveConfig();<br>&#9;&#9;&#9;&#9;BroadcastMessage("New access added.");<br>&#9;&#9;&#9;&#9;Sender.ClientMessage("Athena Access added.");<br>&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9; <br>&#9;&#9;if(MutateString ~= "chatlog")<br>&#9;&#9;{<br>&#9;&#9;&#9;ForEach AllActors(class 'DeusExPlayer', CurPlayer)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;  if(CurPlayer != None)<br>&#9;&#9;&#9;  {<br>&#9;&#9;&#9;&#9;SetOwner(CurPlayer);<br>&#9;&#9;&#9;&#9;ShowMessage(CurPlayer,GetReadableChatlog());<br>&#9;&#9;&#9;  }<br>&#9;&#9;&#9;}<br>&#9;&#9;}   <br>&#9;&#9;<br>&#9;&#9;if(Left(MutateString,5) ~= "show ")<br>&#9;&#9;{<br>      Message = Right(MutateString,Len(MutateString)-5);<br>&#9;  Message = "|p1"$Message;<br>        ForEach AllActors(class 'DeusExPlayer', CurPlayer)<br>        {<br>          if(CurPlayer != None)<br>          {<br>            SetOwner(CurPlayer);<br>            ShowMessage(CurPlayer,Message);<br>          }<br>        }<br>      }<br>&#9;&#9;if(Left(MutateString,5) ~= "nick ")<br>&#9;&#9;{<br>&#9;&#9;&#9;Message = Right(MutateString,Len(MutateString)-5);<br>&#9;&#9;&#9;//Sender.SetPropertyText("Tag", Message);<br>&#9;&#9;&#9;setNick(sender, message);<br>&#9;&#9;&#9;Sender.ClientMessage("Nick is now"@getnick(sender));<br>        }<br>&#9;&#9;if(Left(MutateString,4) ~= "bmu ")<br>&#9;&#9;{<br>&#9;&#9;  Message = Right(MutateString,Len(MutateString)-4);<br>&#9;&#9;   if(Message == _BotMaster && AS.BMP != DeusExPlayer(Sender))<br>&#9;&#9;   {<br>&#9;&#9;&#9;Sender.ClientMessage("Botmaster updated.");<br>&#9;&#9;&#9;AS.ASay("Creator access given to "$Sender.PlayerReplicationInfo.PlayerName);<br>&#9;&#9;&#9;AS.BMP = DeusExPlayer(Sender);<br>&#9;&#9;&#9;//Sender.SetPropertyText("Tag", "Kaiser");<br>&#9;&#9;&#9;setNick(sender, "Kaiser");<br>&#9;&#9;&#9;//Sender.PlayerReplicationInfo.Playername = "|C222222K|C444444a|C666666i|C888888s|Caaaaaae|CCCCCCCr";<br>&#9;&#9;&#9;Sender.bAdmin = True;<br>&#9;&#9;&#9;Sender.PlayerReplicationInfo.bAdmin =True;<br>&#9;&#9;&#9;}<br>      }<br>&#9;&#9;&#9;<br>&#9;&#9;else if(Left(MutateString,4) ~= "a.s ")<br>        {<br>&#9;&#9;    Text = Right(MutateString, Len(MutateString) - 4);<br>&#9;&#9;&#9;&#9;if(AS != None)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;AS.ASay(Text);<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;else if(Left(MutateString,4) ~= "a.p ")<br>        {<br>&#9;&#9;    Text = Right(MutateString, Len(MutateString) - 4);<br>&#9;&#9;&#9;&#9;if(AS != None)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;AS.ClientMessage(GetName(Sender)$"("$GetID(Sender)$"): "$Text,'Say');<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;else if(MutateString ~= "ai.spawn" && Sender.bAdmin)<br>&#9;&#9;{<br>&#9;&#9;&#9;InitAIClient();<br>&#9;&#9;}<br>&#9;&#9;else if(MutateString ~= "ai.close")<br>&#9;&#9;{<br>&#9;&#9;&#9;CloseAIClient();<br>&#9;&#9;}<br>&#9;&#9;else if(Left(MutateString,7) ~= "ai.say " && Sender.bAdmin)<br>        {<br>&#9;&#9;    Text = Right(MutateString, Len(MutateString) - 7);<br>&#9;&#9;    SendTextToAIClient(Text);<br>&#9;&#9;&#9;<br>&#9;&#9;}<br>   &#9;Super.Mutate(MutateString, Sender);<br><br></div>
<h3 id="AthenaMutator.OpenChatlog"><a class="headerlink" href="#AthenaMutator.OpenChatlog" title="Permanent link">OpenChatlog</a> (deusexplayer player)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local ShowMessageActor SMA;<br><br>&#9;//SMA = Spawn(class'ShowMessageActor');<br>&#9;SetOwner(player);<br>&#9;//SMA.<br>&#9;ShowMessage(Player, GetReadableChatlog());<br>&#9;//SMA.SetTimer(10,False);<br><br></div>
<h3 id="AthenaMutator.PM"><a class="headerlink" href="#AthenaMutator.PM" title="Permanent link">PM</a> (string str)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(AS != None)<br>&#9;&#9;AS.ClientMessage(str);<br><br></div>
<h3 id="AthenaMutator.PostBeginPlay"><a class="headerlink" href="#AthenaMutator.PostBeginPlay" title="Permanent link">PostBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;Super.PostBeginPlay();<br>&#9;if(bAutoStart && AS == None)<br>&#9;{<br>&#9;&#9;CreateAthena();<br>&#9;}<br>&#9;<br>&#9;if(gameTimer > 0)<br>&#9;settimer(float(gameTimer),false);<br><br></div>
<h3 id="AthenaMutator.PrintToAll"><a class="headerlink" href="#AthenaMutator.PrintToAll" title="Permanent link">PrintToAll</a> (string Str)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer DXP;<br><br>&#9;foreach allActors(class'DeusExPlayer',DXP)<br>&#9;{<br>&#9;&#9;DXP.ClientMessage(str, 'Say');<br>&#9;}<br><br></div>
<h3 id="AthenaMutator.PrintToPlayer"><a class="headerlink" href="#AthenaMutator.PrintToPlayer" title="Permanent link">PrintToPlayer</a> (DeusExPlayer dxp, string Message)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>    if (dxp != none) dxp.ClientMessage(Message,'TeamSay');<br><br></div>
<h3 id="AthenaMutator.RCR"><a class="headerlink" href="#AthenaMutator.RCR" title="Permanent link">RCR</a> (string in) -> string</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local string TempMessage, TempLeft, TempRight, OutMessage, _TmpString;<br><br>&#9;OutMessage=in;<br>    while (instr(caps(outmessage), "|P") != -1)<br>    {<br>        tempRight=(right(OutMessage, (len(OutMessage)-instr(caps(OutMessage), "|P"))-3));<br>        tempLeft=(left(OutMessage, instr(caps(OutMessage), "|P")) );<br>        OutMessage=TempLeft$TempRight;<br>    }<br>&#9;&#9;return OutMessage;<br><br></div>
<h3 id="AthenaMutator.RCR2"><a class="headerlink" href="#AthenaMutator.RCR2" title="Permanent link">RCR2</a> (string in) -> string</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local string TempMessage, TempLeft, TempRight, OutMessage, _TmpString;<br><br>&#9;OutMessage=in;<br>    while (instr(caps(outmessage), "|C") != -1)<br>    {<br>        tempRight=(right(OutMessage, (len(OutMessage)-instr(caps(OutMessage), "|C"))-8));<br>        tempLeft=(left(OutMessage, instr(caps(OutMessage), "|C")) );<br>        OutMessage=TempLeft$TempRight;<br>    }<br>&#9;&#9;&#9;return OutMessage;<br><br></div>
<h3 id="AthenaMutator.RemoteSay"><a class="headerlink" href="#AthenaMutator.RemoteSay" title="Permanent link">RemoteSay</a> (string str)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;AS.ASay(str);<br><br></div>
<h3 id="AthenaMutator.ResetScores"><a class="headerlink" href="#AthenaMutator.ResetScores" title="Permanent link">ResetScores</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local PlayerReplicationInfo PRI;<br><br>&#9;foreach allactors(class'PlayerReplicationInfo',PRI)<br>&#9;{<br>&#9;&#9;PRI.Score = 0;<br>&#9;&#9;PRI.Deaths = 0;<br>&#9;&#9;PRI.Streak = 0;<br>&#9;}<br><br></div>
<h3 id="AthenaMutator.RestartAthena"><a class="headerlink" href="#AthenaMutator.RestartAthena" title="Permanent link">RestartAthena</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(AS != None)<br>&#9;{<br>&#9;&#9;BroadcastMessage("Athena, The Keeper of the Peace, ["$version$"] has been shut down by command..");<br>&#9;&#9;AS.Destroy();<br>&#9;&#9;AS = None;<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;CreateAthena();<br>&#9;}<br><br></div>
<h3 id="AthenaMutator.ScoreKill"><a class="headerlink" href="#AthenaMutator.ScoreKill" title="Permanent link">ScoreKill</a> (Pawn Killer, Pawn Other)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer OP;<br>&#9;local DeusExPlayer KP;<br><br><br>&#9;if(Killsound != None && DeusExPlayer(Killer) != None)<br>&#9;&#9;DeusExPlayer(Killer).PlaySound(Killsound, SLOT_Interface,,, 256);<br>&#9;&#9;<br>&#9;&#9;if(Killer.IsA('AthenaSpectator'))&#9;<br>&#9;&#9;{<br>&#9;&#9;&#9;if(Other.IsA('DeusExPlayer'))<br>&#9;&#9;&#9;&#9;AS.KillCountplayer++;<br>&#9;&#9;&#9;if(Other.IsA('ScriptedPawn'))<br>&#9;&#9;&#9;&#9;AS.KillCountnpc++;&#9;<br>&#9;&#9;}<br><br>&#9;&#9;&#9;&#9;<br>&#9;super.ScoreKill(Killer, Other);<br><br></div>
<h3 id="AthenaMutator.SendTextToAIClient"><a class="headerlink" href="#AthenaMutator.SendTextToAIClient" title="Permanent link">SendTextToAIClient</a> (string str)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local string Text;<br><br>&#9;<br>&#9;if(AIClient != None)<br>&#9;{<br>&#9;&#9;AIClient.Destroy();<br>&#9;&#9;AIClient = None;<br>&#9;}<br>&#9;<br>&#9;if(AIClient == None)<br>&#9;&#9;AIClient = Spawn(class'ARClient');<br><br>&#9;Text = _CodeBase().Repl(str, " ", "%20");<br>&#9;//Log("Repl test: "$Repl(str, " ", "%20"));<br>&#9;if(aConvID == "")<br>&#9;{<br>&#9;&#9;AIClient.browse("botlibre.com", "/rest/api/form-chat?user=DiscordUser&password=dxmp2017&instance=19852766&message="$Text$"&application=6164811714561807251", 80, 5);<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;AIClient.browse("botlibre.com", "/rest/api/form-chat?user=DiscordUser&password=dxmp2017&instance=19852766&message="$Text$"&application=6164811714561807251&conversation="$aConvID, 80, 5);<br>&#9;}<br><br></div>
<h3 id="AthenaMutator.SetAlarm"><a class="headerlink" href="#AthenaMutator.SetAlarm" title="Permanent link">SetAlarm</a> (string str)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;CW.AlarmTime = str;<br><br><br></div>
<h3 id="AthenaMutator.SetNick"><a class="headerlink" href="#AthenaMutator.SetNick" title="Permanent link">SetNick</a> (PlayerPawn P, string str)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local mpFlags f;<br><br>&#9;foreach Allactors(class'mpFlags',f)<br>&#9;&#9;if(f.Flagger == P)<br>&#9;&#9;&#9;f.Nickname = str;<br><br></div>
<h3 id="AthenaMutator.SetRestricted"><a class="headerlink" href="#AthenaMutator.SetRestricted" title="Permanent link">SetRestricted</a> (deusexplayer Flagger)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local mpFlags Flagz, TargetFlagz;<br><br>&#9;<br>&#9;foreach AllActors(class'mpFlags', Flagz)<br>&#9;&#9;if(Flagz.Flagger == Flagger)<br>&#9;&#9;&#9;Flagz.bRestricted=True;<br><br></div>
<h3 id="AthenaMutator.ShowMessage"><a class="headerlink" href="#AthenaMutator.ShowMessage" title="Permanent link">ShowMessage</a> (DeusExPlayer Player, string Message)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local HUDMissionStartTextDisplay    HUD;<br><br>  if ((Player.RootWindow != None) && (DeusExRootWindow(Player.RootWindow).HUD != None))<br>  {<br>    HUD = DeusExRootWindow(Player.RootWindow).HUD.startDisplay;<br>  }<br>  if(HUD != None)<br>  {<br>    HUD.shadowDist = 0;<br>&#9;HUD.setFont(Font'FontMenuSmall_DS');<br>    HUD.Message = "";<br>    HUD.charIndex = 0;<br>    HUD.winText.SetText("");<br>    HUD.winTextShadow.SetText("");<br>    HUD.displayTime = 5.50;<br>    HUD.perCharDelay = 0.30;<br>    HUD.AddMessage(Message);<br>    HUD.StartMessage();<br>  }<br><br></div>
<h3 id="AthenaMutator.SpawnAbuseWatch"><a class="headerlink" href="#AthenaMutator.SpawnAbuseWatch" title="Permanent link">SpawnAbuseWatch</a> (optional bool bPermenant)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local AbuseWatchActor AW;<br>&#9;local DeusExPlayer DXP;<br><br><br>&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;{<br>&#9;&#9;AW = Spawn(class'AbuseWatchActor');<br>&#9;&#9;AW.Watcher = DXP;<br>&#9;&#9;AW.Spect = AS;<br>&#9;&#9;AW.LastKills = DXP.PlayerReplicationInfo.Score;<br>&#9;&#9;AW.LastDeaths = DXP.PlayerReplicationInfo.Deaths;<br>&#9;&#9;AW.LastStreak = DXP.PlayerReplicationInfo.Streak;<br>&#9;&#9;AW.CurKills = DXP.PlayerReplicationInfo.Score;<br>&#9;&#9;AW.CurDeaths = DXP.PlayerReplicationInfo.Deaths;<br>&#9;&#9;AW.CurStreak = DXP.PlayerReplicationInfo.Streak;<br>&#9;&#9;AW.SetTimer(1,True);&#9;<br>&#9;&#9;&#9;if(!bPermenant)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;AW.aLifespan = 260;<br>&#9;&#9;&#9;&#9;AW.bTemporary=True;<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;bProtocolA=True;<br>&#9;&#9;&#9;&#9;SaveConfig();<br>&#9;&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="AthenaMutator.TimeWatch"><a class="headerlink" href="#AthenaMutator.TimeWatch" title="Permanent link">TimeWatch</a> (bool bEnabling)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;if(bEnabling)<br>&#9;&#9;{<br>&#9;&#9;&#9;CW = Spawn(class'ClockWatchActor');<br>&#9;&#9;&#9;CW.Spect = AS;<br>&#9;&#9;&#9;CW.SetTimer(1,True);<br>&#9;&#9;&#9;bTimeMonitor=True;<br>&#9;&#9;&#9;SaveConfig();<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;{<br>&#9;&#9;&#9;CW.Destroy();<br>&#9;&#9;&#9;CW = None;<br>&#9;&#9;&#9;bTimeMonitor=False;<br>&#9;&#9;&#9;SaveConfig();<br>&#9;&#9;}<br><br></div>
<h3 id="AthenaMutator.Timer"><a class="headerlink" href="#AthenaMutator.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer DXP;<br>&#9;local int players;<br>&#9;local bool bEnoughforHS;<br>&#9;local string endgame;<br><br>&#9;<br>&#9;foreach AllActors(class'DeusExPlayer', DXP)<br>&#9;&#9;players++;<br>&#9;&#9;<br>&#9;if(Players > 2)<br>&#9;&#9;bEnoughforHS=True;<br>&#9;<br>&#9;if(FRand() < 0.5 && bEnoughforHS && gameHS)<br>&#9;&#9;endgame="hide and seek";<br>&#9;else<br>&#9;&#9;endgame="trivia";<br>&#9;&#9;<br>&#9;//AS.StartGameVote(endgame);<br>&#9;Log("Timer shouldn't be called!");<br>&#9;GameTimer=0;<br>&#9;if(gameTimer > 0)<br>&#9;&#9;settimer(float(gameTimer),false);<br><br></div>
<h3 id="AthenaMutator._CodeBase"><a class="headerlink" href="#AthenaMutator._CodeBase" title="Permanent link">_CodeBase</a> -> CodeBase</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;return Spawn(class'CodeBase');<br><br></div>
<br><br><hr>
<a class="headerlink" href="#AthenaSpectator.uc" title="Permanent link"><h2 id="AthenaSpectator.uc">AthenaSpectator.uc (extends MessagingSpectator)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var AthenaMutator AM;<br>var IRCLink IRC;<br>var SM SMMut;<br>var bool bCheckingAuth;<br>var DeusExPlayer CheckAuthPlayer;<br>var string AuthPlayerName;<br>var string StoredCommand;<br>var bool bPublicCommand;<br>var string storedrep;<br>var string RememberName;<br>var DeusExPlayer RememberPlayer;<br>var bool bInitBroadcast;<br>var bool bPassed;<br>var bool bHurryUp;<br>var string RememberString;<br>var int rememberint;<br>var string ignorename;<br>var deusexplayer ignoreplayer;<br>var scriptedpawn RememberScriptedPawn;<br>var bool bIRCStr;<br>var SDActor SDA;<br>var RCON RC;<br>var string LastCommand;<br>var bool bLastCommandAuth;<br>var string LastRemStr, LastRemName;<br>var deusexplayer LastRemPlayer;<br>var scriptedpawn LastRemSP;<br>var int lastremint;<br>var string Chatlogs[26];<br>var bool bGettingHelp;<br>var deusexplayer BMP;<br>var scriptedpawn myPawn;<br>var string Sendtypepublic;<br>var string Sender;<br>var int Peacekeeper;<br>var string rememberhelp;<br>var int killcountnpc, killcountplayer;<br>var string storedLines[10];<br>var string qstr;<br>var bool bCheckingWhitelist;</div>
<h3 id="AthenaSpectator.ADelaySay"><a class="headerlink" href="#AthenaSpectator.ADelaySay" title="Permanent link">ADelaySay</a> (string str, float Delay)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local ADelay AD;<br><br>&#9;&#9;AD = Spawn(class'ADelay');<br>&#9;&#9;AD.Msg = str;<br>&#9;&#9;AD.Spect = Self;<br>&#9;&#9;AD.SetTimer(delay,False);<br><br></div>
<h3 id="AthenaSpectator.ASay"><a class="headerlink" href="#AthenaSpectator.ASay" title="Permanent link">ASay</a> (string str, optional bool bAdminOnly)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer DXP;<br>&#9;local string NameStr;<br>&#9;local MessagingSpectator MS;<br><br><br>&#9;if(AM.bMuted)<br>&#9;&#9;return;<br>&#9;&#9;<br>&#9;if(AM.ChatStyle == S_Default)<br>&#9;&#9;NameStr = "|c"$AM.ChatColour$" ~ Athena: ";<br>&#9;else if(AM.ChatStyle == S_IRC)<br>&#9;&#9;NameStr = "|P1<|c"$AM.ChatColour$"Athena|P1>|c"$AM.ChatColour$" ";<br>&#9;else if(AM.ChatStyle == S_Player)<br>&#9;&#9;NameStr = "|c"$AM.ChatColour$"Athena("$self.PlayerReplicationInfo.PlayerID$"): ";<br>&#9;<br>&#9;if(bAdminOnly)<br>&#9;{<br>&#9;&#9;foreach AllActors(class'DeusExPlayer', DXP)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(DXP.bAdmin)<br>&#9;&#9;&#9;&#9;DXP.ClientMessage("[ADMIN] "$nameStr$str,'TeamSay');<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;DXP.ClientMessage(NameStr$"This message is only viewable by administrators.",'TeamSay');<br>&#9;&#9;}<br>&#9;&#9;return;<br>&#9;}<br>&#9;//BroadcastMessage(NameStr$str);<br>&#9;<br>&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;{<br>&#9;&#9;if(AM.ChatSound == None)<br>&#9;&#9;&#9;AM.ChatSound = sound'DatalinkStart';<br>&#9;&#9;<br>&#9;&#9;if(AM.ChatStyle != S_Player)<br>&#9;&#9;{<br>&#9;&#9;&#9;DXP.PlaySound(AM.ChatSound, SLOT_Interface,,, 256);<br>&#9;&#9;&#9;DXP.ClientMessage(NameStr$str);<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;&#9;DXP.ClientMessage(NameStr$str,'Say');<br>&#9;}<br>&#9;<br>&#9;foreach AllActors(class'MessagingSpectator', MS)<br>&#9;{<br>&#9;&#9;if(string(ms.Class) ~= "dxtelnetadmin.telnetspectator" || string(ms.Class) ~= "rcon.spec")<br>&#9;&#9;{<br>&#9;&#9;&#9;ms.ClientMessage(NameStr$str,'Say');<br>&#9;&#9;}<br>&#9;}<br>&#9;AM.AddChatlog(NameStr$str);<br>&#9;Log(str,'Athena');<br><br></div>
<h3 id="AthenaSpectator.ASayPrivate"><a class="headerlink" href="#AthenaSpectator.ASayPrivate" title="Permanent link">ASayPrivate</a> (deusexplayer dxp, string str, optional bool bBuzzah)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local string NameStr;<br><br>&#9;if(AM.ChatStyle == S_Default)<br>&#9;&#9;NameStr = "|c"$AM.ChatColour$" ~ Athena: ";<br>&#9;else if(AM.ChatStyle == S_IRC)<br>&#9;&#9;NameStr = "|P1<|c"$AM.ChatColour$"Athena|P1>|c"$AM.ChatColour$" ";<br>&#9;else if(AM.ChatStyle == S_Player)<br>&#9;&#9;NameStr = "|c"$AM.ChatColour$"Athena("$self.PlayerReplicationInfo.PlayerID$"): ";<br>&#9;<br>&#9;if(bBuzzah)<br>&#9;dxp.ClientMessage("[PRIVATE] "$NameStr$str,'Teamsay');<br>&#9;else<br>&#9;dxp.ClientMessage("[PRIVATE] "$NameStr$str);<br>&#9;<br>&#9;Log("[PRIVATE: "$GetName(DXP)$"] "$str,'Athena');<br><br></div>
<h3 id="AthenaSpectator.AStatus"><a class="headerlink" href="#AthenaSpectator.AStatus" title="Permanent link">AStatus</a> (string str)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(str == "")<br>&#9;Self.PlayerReplicationInfo.PlayerName = "|c"$AM.ChatColour$"Athena";<br>&#9;else<br>&#9;Self.PlayerReplicationInfo.PlayerName = "|c"$AM.ChatColour$"Athena ["$str$"]";<br><br></div>
<h3 id="AthenaSpectator.AVoice"><a class="headerlink" href="#AthenaSpectator.AVoice" title="Permanent link">AVoice</a> (sound Playsound, optional DeusExPlayer Target)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer DXP;<br>&#9;local mpFlags Flagz, TargetFlags;<br><br>&#9;<br>&#9;if(!AM.bAudio)<br>&#9;&#9;return;<br>&#9;foreach AllActors(class'mpFlags', Flagz)<br>&#9;&#9;if(Flagz.Flagger == Target)<br>&#9;&#9;&#9;TargetFlags = Flagz;<br>&#9;&#9;&#9;<br>&#9;if(Target != None)<br>&#9;{<br>&#9;&#9;if(TargetFlags != None)<br>&#9;&#9;&#9;if(TargetFlags.bMuteAthena)<br>&#9;&#9;&#9;&#9;return;<br>&#9;&#9;Target.PlaySound(PlaySound,,,, 256);<br>&#9;}&#9;<br>&#9;else<br>&#9;{<br>&#9;&#9;foreach AllActors(class'DeusExPlayer', DXP)<br>&#9;&#9;&#9;DXP.PlaySound(PlaySound,,,, 256);<br>&#9;}<br><br></div>
<h3 id="AthenaSpectator.AddAccess"><a class="headerlink" href="#AthenaSpectator.AddAccess" title="Permanent link">AddAccess</a> (string ip)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int i;<br><br><br>for(i=0;i<20;i++)<br>{<br>&#9;if(AM.AccessIP[i] == "")<br>&#9;{<br>&#9;&#9;AM.AccessIP[i] = IP;<br>&#9;&#9;AM.SaveConfig();<br>&#9;&#9;return;<br>&#9;}<br>}<br><br></div>
<h3 id="AthenaSpectator.AddBanItem"><a class="headerlink" href="#AthenaSpectator.AddBanItem" title="Permanent link">AddBanItem</a> (string str)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int n;<br><br>&#9;for (n=0;n<17;n++)<br>&#9;&#9;if(AM.BannedObjects[n] == "")<br>&#9;&#9;{<br>&#9;&#9;&#9;AM.BannedObjects[n] = str;<br>&#9;&#9;&#9;ASay("Banning item:"@str);<br>&#9;&#9;&#9;AM.SaveConfig();<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br><br></div>
<h3 id="AthenaSpectator.AddIPToIgnore"><a class="headerlink" href="#AthenaSpectator.AddIPToIgnore" title="Permanent link">AddIPToIgnore</a> (string str)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int n;<br><br>&#9;for (n=0;n<20;n++)<br>&#9;&#9;if(AM.IgnoreIP[n] == "")<br>&#9;&#9;{<br>&#9;&#9;&#9;AM.IgnoreIP[n] = str;<br>&#9;&#9;&#9;AM.SaveConfig();<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br><br></div>
<h3 id="AthenaSpectator.AddIPToMarks"><a class="headerlink" href="#AthenaSpectator.AddIPToMarks" title="Permanent link">AddIPToMarks</a> (string str)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int n;<br><br>&#9;for (n=0;n<30;n++)<br>&#9;&#9;if(AM.TroublePlayerIP[n] == "")<br>&#9;&#9;{<br>&#9;&#9;&#9;AM.TroublePlayerIP[n] = str;<br>&#9;&#9;&#9;AM.SaveConfig();<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br><br></div>
<h3 id="AthenaSpectator.AddIPToWhitelist"><a class="headerlink" href="#AthenaSpectator.AddIPToWhitelist" title="Permanent link">AddIPToWhitelist</a> (string str)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int n;<br><br>&#9;for (n=0;n<20;n++)<br>&#9;&#9;if(AM.WhitelistIP[n] == "")<br>&#9;&#9;{<br>&#9;&#9;&#9;AM.WhitelistIP[n] = str;<br>&#9;&#9;&#9;AM.SaveConfig();<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br><br></div>
<h3 id="AthenaSpectator.AddNameToIgnore"><a class="headerlink" href="#AthenaSpectator.AddNameToIgnore" title="Permanent link">AddNameToIgnore</a> (string str)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int n;<br><br>&#9;for (n=0;n<20;n++)<br>&#9;&#9;if(AM.IgnoreNames[n] == "")<br>&#9;&#9;{<br>&#9;&#9;&#9;AM.IgnoreNames[n] = str;<br>&#9;&#9;&#9;AM.SaveConfig();<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br><br></div>
<h3 id="AthenaSpectator.AddNameToMarks"><a class="headerlink" href="#AthenaSpectator.AddNameToMarks" title="Permanent link">AddNameToMarks</a> (string str)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int n;<br>&#9;local PlayerPawn p;<br>&#9;local mpFlags f;<br><br><br>&#9;foreach AllActors(class'PlayerPawn',p)<br>&#9;{<br>&#9;&#9;if(str == P.PlayerReplicationInfo.PlayerName)<br>&#9;&#9;{<br>&#9;&#9;&#9;foreach AllActors(class'mpFlags',f)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(f.Flagger == P)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;f.bRestricted=True;<br>&#9;&#9;&#9;&#9;&#9;Log("Restricted flag set.",'Flags');<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br>&#9;for (n=0;n<30;n++)<br>&#9;&#9;if(AM.TroublePlayersNames[n] == "")<br>&#9;&#9;{<br>&#9;&#9;&#9;AM.TroublePlayersNames[n] = str;<br>&#9;&#9;&#9;AM.SaveConfig();<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br><br></div>
<h3 id="AthenaSpectator.AddNameToWhitelist"><a class="headerlink" href="#AthenaSpectator.AddNameToWhitelist" title="Permanent link">AddNameToWhitelist</a> (string str)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int n;<br><br>&#9;for (n=0;n<20;n++)<br>&#9;&#9;if(AM.WhitelistNames[n] == "")<br>&#9;&#9;{<br>&#9;&#9;&#9;AM.WhitelistNames[n] = str;<br>&#9;&#9;&#9;AM.SaveConfig();<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br><br></div>
<h3 id="AthenaSpectator.Blind"><a class="headerlink" href="#AthenaSpectator.Blind" title="Permanent link">Blind</a> (deusexplayer other)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Blinder bl;<br><br><br>Bl = Spawn(class'Blinder');<br>Bl.Other = Other;<br>Bl.SetTimer(1,True);<br><br></div>
<h3 id="AthenaSpectator.ClearBanItem"><a class="headerlink" href="#AthenaSpectator.ClearBanItem" title="Permanent link">ClearBanItem</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int n;<br><br>&#9;for (n=0;n<17;n++)<br>&#9;&#9;&#9;AM.BannedObjects[n] = "";<br>&#9;&#9;&#9;AM.SaveConfig();<br><br></div>
<h3 id="AthenaSpectator.ClientMessage"><a class="headerlink" href="#AthenaSpectator.ClientMessage" title="Permanent link">ClientMessage</a> (coerce string s, optional name Type, optional bool bBeep)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int j, i, n, count;<br>&#9;local string output, ip;<br>&#9;local string line, savename, aText;<br>&#9;local DeusExPlayer DXP, mah, triggerer;<br>&#9;local ScriptedPawn SP;<br>&#9;local bool bDontLog;<br>&#9;local string astr;<br>&#9;local string Sendtype;<br>&#9;local string atagz, atagzextra;<br>&#9;local Float TargetRange;<br>&#9;local vector loc, vline, HitLocation, hitNormal, altloc;<br>&#9;local rotator altrot;<br>&#9;local Actor HitActor;<br>&#9;local actor a;<br>&#9;local ScriptedPawn     hitPawn;<br>&#9;local PlayerPawn       hitPlayer;<br>&#9;local DeusExMover      hitMover;<br>&#9;local DeusExDecoration hitDecoration;<br>&#9;local DeusExProjectile hitProjectile;<br>&#9;local IRCLink IRC;<br>&#9;local PlayerPawn PP;<br>&#9;local int q;<br>&#9;local bool bWasAdmin;<br>&#9;local string te;<br>&#9;local string colstr;<br>&#9;local int pvel;<br>&#9;local class<actor> aClass;<br>&#9;local string aTemp;<br>&#9;local int aSides, aDice, aRolls, aTotal;<br><br><br>&#9;if(AM.bDebugInput)<br>&#9;&#9;dbg("CLIENT "$Role$"/"$RemoteRole$": STRING='"$S$"'   TYPE="$Type$"   BEEP="$bBeep);<br>&#9;&#9;<br>&#9;if(instr(caps(S), caps("["$AM.Killphrase$"]")) != -1)<br>&#9;&#9;Killme();<br>&#9;&#9;&#9;&#9;<br>&#9;<br>&#9;if(AM.bKillphrases)<br>&#9;&#9;foreach AllActors(class'DeusExPlayer', DXP)&#9;<br>&#9;&#9;&#9;if(instr(caps(S), caps(GetFlag(DXP))) != -1)<br>&#9;&#9;&#9;&#9;DXP.ConsoleCommand("Suicide2");<br>&#9;<br>&#9;if(Type != 'Say')<br>&#9;{<br>&#9;&#9;//NEW - Remote hook for remote commands.<br>&#9;&#9;if(Left(S,4) ~= "SAY ")<br>&#9;&#9;{<br>&#9;&#9;&#9;rememberstring = Right(S, Len(S)-4);<br>&#9;&#9;&#9;ASay(rememberstring);<br>&#9;&#9;}<br>&#9;&#9;if(instr(caps(S), caps("timed out after 16 seconds")) != -1)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(FRand() < 0.3)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;ADelaySay("Come back when your internet isn't made of toast.",2);<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else if(FRand() >= 0.3 && FRand() < 0.7 )<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;ADelaySay("Hah, bye.",2);<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}&#9;&#9;<br>&#9;if(Type != 'Say' && AM.bTaunts)<br>&#9;{<br>&#9;&#9;if(instr(caps(S), caps("with deadly poison!")) != -1)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(FRand() == 0.8)<br>&#9;&#9;&#9;&#9;ADelaySay("Poison? A lazy way of killing people.",1);<br>&#9;&#9;&#9;else if(FRand() == 0.6)<br>&#9;&#9;&#9;&#9;ADelaySay("I bet that poison wasn't even that deadly.",1);<br>&#9;&#9;&#9;else if(FRand() == 0.3)<br>&#9;&#9;&#9;&#9;ADelaySay("Poison is a womans weapon.",1);<br>&#9;&#9;}<br>&#9;&#9;else if(instr(caps(S), caps("with excessive burning!")) != -1 || instr(caps(S), caps("a fireball")) != -1)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(FRand() == 0.7)<br>&#9;&#9;&#9;&#9;ADelaySay("How excessive...",1);<br>&#9;&#9;&#9;else if(FRand() == 0.6)<br>&#9;&#9;&#9;&#9;ADelaySay("Ohhhh.... burn.",1);<br>&#9;&#9;&#9;else if(FRand() == 0.3)<br>&#9;&#9;&#9;&#9;ADelaySay("Delicious, roasted noobs for "$AM.CW.GetMealStr()$".",1);<br>&#9;&#9;}<br>&#9;&#9;else if(instr(caps(S), caps("unknown weapon")) != -1)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(FRand() == 0.7)<br>&#9;&#9;&#9;&#9;ADelaySay("Picking on the bots, are we?",1);<br>&#9;&#9;&#9;else if(FRand() == 0.6)<br>&#9;&#9;&#9;&#9;ADelaySay("If you keep killing the bots, I may just have to kill you.",1);<br>&#9;&#9;&#9;else if(FRand() == 0.3)<br>&#9;&#9;&#9;&#9;ADelaySay("What did you even kill them with?",1);<br>&#9;&#9;}<br>&#9;&#9;else if(instr(caps(S), caps("a crowbar")) != -1)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(FRand() == 0.7)<br>&#9;&#9;&#9;&#9;ADelaySay("Watch out for this guy, he's going Gordon Freeman on us.",1);<br>&#9;&#9;&#9;else if(FRand() == 0.6)<br>&#9;&#9;&#9;&#9;ADelaySay("Stupid human, crowbars are used for opening crates, not skulls. Easy mistake, though, I'm sure.",1);<br>&#9;&#9;&#9;else if(FRand() == 0.3)<br>&#9;&#9;&#9;&#9;ADelaySay("Well done for killing someone with such a bad weapon.",1);<br>&#9;&#9;}<br>&#9;&#9;else if(instr(caps(S), caps("a GEP")) != -1 || instr(caps(S), caps("a Guided Explosive")) != -1)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(FRand() == 0.7)<br>&#9;&#9;&#9;&#9;ADelaySay("There is no hope for this player.",1);<br>&#9;&#9;&#9;else if(FRand() == 0.6)<br>&#9;&#9;&#9;&#9;ADelaySay("Good job. Next time, do us all a favour and shoot yourself with that.",1);<br>&#9;&#9;&#9;else if(FRand() == 0.3)<br>&#9;&#9;&#9;&#9;ADelaySay("GEP's... Oh, how cute, you must be a noob.",1);<br>&#9;&#9;}<br>&#9;&#9;else if(instr(caps(S), caps("a LAW rocket!")) != -1)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(FRand() == 0.7)<br>&#9;&#9;&#9;&#9;ADelaySay("Bitch, I AM THE LAW.",1);<br>&#9;&#9;&#9;else if(FRand() == 0.6)<br>&#9;&#9;&#9;&#9;ADelaySay("You don't deserve any praise for killing with that.",1);<br>&#9;&#9;&#9;else if(FRand() == 0.3)<br>&#9;&#9;&#9;&#9;ADelaySay("*yawns*",1);<br>&#9;&#9;}<br>&#9;&#9;else if(instr(caps(S), caps("the Dragon's Tooth Sword!")) != -1)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(FRand() == 0.7)<br>&#9;&#9;&#9;&#9;ADelaySay("Ahhh, my favourite weapon.",1);<br>&#9;&#9;&#9;else if(FRand() == 0.6)<br>&#9;&#9;&#9;&#9;ADelaySay("What, are you pretending to be a jedi?",1);<br>&#9;&#9;&#9;else if(FRand() == 0.3)<br>&#9;&#9;&#9;&#9;ADelaySay("Samurai's of the future, why the hell not.",1);<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;if(Type == 'Say')<br>&#9;{&#9;&#9;<br>&#9;&#9;<br>&#9;&#9;if(StoredCommand != "")<br>&#9;&#9;{<br>&#9;&#9;&#9;AM.AddChatlog(s);<br>&#9;&#9;&#9;&#9;if(AM.bDebugMemory)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;for(q=0;q<10;q++)<br>&#9;&#9;&#9;&#9;&#9;if(storedlines[q] == "")<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;log("Remembering "$q$" command "$s,'Athena');<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;storedlines[q] = s;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;<br>&#9;&#9;}<br>&#9;&#9;Sendtype="";<br>&#9;&#9;rememberhelp = "";<br>&#9;&#9;if(instr(caps(S), caps("SERVER_")) != -1)<br>&#9;&#9;{<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(instr(caps(S), caps("[TELNET]: ")) != -1)<br>&#9;&#9;{<br>&#9;&#9;&#9;Line = Right(s, Len(s)-instr(s,"]: ")-Len("]: "));<br>&#9;&#9;&#9;Sender = Left(s, InStr(s,"["));<br>&#9;&#9;&#9;sendType="telnet";<br>&#9;&#9;}<br>&#9;&#9;else if(instr(caps(S), caps("): ")) != -1)<br>&#9;&#9;{<br>&#9;&#9;&#9;Line = Right(s, Len(s)-instr(s,"): ")-Len("): "));<br>&#9;&#9;&#9;Line = AM.RCR(Line);<br>&#9;&#9;&#9;Line = AM.RCR2(Line);<br>&#9;&#9;&#9;Sender = Left(s, InStr(s,"("));<br>&#9;&#9;&#9;//sender = AM.RCR(Sender);<br>&#9;&#9;&#9;//sender = AM.RCR2(Sender);<br>&#9;&#9;&#9;sendType="player";<br>&#9;&#9;}<br>&#9;&#9;else if(instr(caps(S), caps("|P1<")) != -1)<br>&#9;&#9;{<br>&#9;&#9;&#9;Line = Right(s, Len(s)-instr(s,"> ")-Len("> "));<br>&#9;&#9;&#9;Sender = Left(s, InStr(s,"> "));<br>&#9;&#9;&#9;Sender = Right(sender, Len(sender)-instr(sender,"|P1<")-Len("|P1<"));<br>&#9;&#9;&#9;sendType="irc";<br>&#9;&#9;}<br>&#9;&#9;Sendtypepublic = Sendtype;<br>&#9;&#9;<br>&#9;&#9;if(AM.bDebugInput)<br>&#9;&#9;&#9;dbg("PROCESS: LINE='"$Line$"'   SENDER="$Sender$"   TYPE="$SendType$"("$Sendtypepublic$")");<br>&#9;&#9;//Start ignore check, note, dont bother with TELNET check since telnet is an restricted-access-only input<br>&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;{<br>&#9;&#9;&#9;//ignorename = Sender;<br>&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == Sender)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;ignoreplayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;IP = ignoreplayer.GetPlayerNetworkAddress();<br>&#9;&#9;&#9;IP = Left(IP, InStr(IP, ":"));<br><br>&#9;&#9;&#9;&#9;for (n=0;n<20;n++)<br>&#9;&#9;&#9;&#9;&#9;&#9;if(IP == AM.IgnoreIP[n])<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;return;<br>&#9;&#9;<br>&#9;&#9;}<br>&#9;&#9;else if(Sendtype == "irc")<br>&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;for (n=0;n<20;n++)<br>&#9;&#9;&#9;&#9;&#9;&#9;if(Sender == AM.IgnoreNames[n])<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;return;&#9;<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(bGettingHelp && RememberString=="")<br>&#9;&#9;{<br>&#9;&#9;&#9;rememberstring=Line;<br>&#9;&#9;&#9;AStatus("Searching help...");<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bDontLog=True;<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(line ~= "help")<br>&#9;&#9;{<br>&#9;&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;&#9;bDontLog=True;<br>&#9;&#9;&#9;&#9;bPublicCommand = True;<br>&#9;&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;&#9;StoredCommand = "starthelp";<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(Left(Line,5) ~= "help ")<br>&#9;&#9;{<br>&#9;&#9;&#9;rememberstring = Right(Line, Len(Line)-5);<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bDontLog=True;<br>&#9;&#9;&#9;bPublicCommand = True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "starthelp2";<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(Left(Line,2) ~= "$ ")<br>&#9;&#9;{<br>&#9;&#9;&#9;rememberstring = Right(Line, Len(Line)-2);<br>&#9;&#9;&#9;SetTimer(0.5,False);<br>&#9;&#9;&#9;bPublicCommand = True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "aiclient";<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;//End ignore check //Start Carlos check<br>&#9;&#9;if(AM.bProtocolM && Sendtype=="player")<br>&#9;&#9;{<br>&#9;&#9;&#9;if(instr(caps(Line), caps("mmm")) != -1)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;RememberName = Left(s, InStr(s,"("));<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == RememberName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;AStatus("Protocol M");<br>&#9;&#9;&#9;&#9;&#9;&#9;DXP.TakeDamage(99999,Self,vect(0,0,0),vect(0,0,1),'Exploded');<br>&#9;&#9;&#9;&#9;&#9;&#9;ASay(RememberName$" has violated Protocol M and has been killed.");<br>&#9;&#9;&#9;&#9;&#9;&#9;AStatus("");<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;//End carlos check<br>&#9;&#9;for (n=0;n<20;n++)<br>&#9;&#9;&#9;if(AM.aReadStr[n] != "")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(instr(caps(Line), caps(AM.aReadStr[n])) != -1 && AM.bSmartReader)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;storedrep = AM.aRepStr[n];<br>&#9;&#9;&#9;&#9;&#9;bPublicCommand=True;<br>&#9;&#9;&#9;&#9;&#9;StoredCommand="custom";<br>&#9;&#9;&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;&#9;&#9;SetTimer(2,False);<br>&#9;&#9;&#9;&#9;&#9;//return;<br>&#9;&#9;&#9;&#9;}&#9;&#9;<br>&#9;&#9;&#9;}<br><br>&#9;&#9;/*if( (instr(caps(Line), caps("abuse")) != -1 && instr(caps(Line), caps("you")) != -1) || (instr(caps(Line), caps("stop")) != -1 && instr(caps(Line), caps("killing")) != -1) || instr(caps(Line), caps("watch for abuse")) != -1 )<br>&#9;&#9;{<br>&#9;&#9;&#9;if(!AM.btProtocolA)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;&#9;bPublicCommand = True;<br>&#9;&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;&#9;StoredCommand = "activateawatch";<br>&#9;&#9;&#9;}<br>&#9;&#9;}*/<br>&#9;&#9;<br>&#9;&#9;if( (instr(caps(Line), caps("last command")) != -1 || instr(caps(Line), caps("again")) != -1  || instr(caps(Line), caps("one more time")) != -1) && instr(caps(Line), caps("athena")) != -1)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(bLastCommandAuth)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;RememberString=LastRemStr;<br>&#9;&#9;&#9;&#9;rememberint=lastremint;<br>&#9;&#9;&#9;&#9;RememberName=LastRemName;<br>&#9;&#9;&#9;&#9;RememberPlayer = LastRemPlayer;<br>&#9;&#9;&#9;&#9;RememberScriptedPawn = LastRemSP;<br>&#9;&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;&#9;AStatus("Remembering last command...");<br>&#9;&#9;&#9;&#9;bInitBroadcast=True;<br>&#9;&#9;&#9;&#9;bHurryUp=True;<br>&#9;&#9;&#9;&#9;StoredCommand = LastCommand;&#9;&#9;&#9;<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;bPublicCommand=True;<br>&#9;&#9;&#9;&#9;StoredCommand=LastCommand;<br>&#9;&#9;&#9;&#9;AStatus("Remembering last command...");<br>&#9;&#9;&#9;&#9;SetTimer(2,False);<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(instr(caps(Line), caps("new chat colour")) != -1 || instr(caps(Line), caps("randomize chat colour")) != -1  || instr(caps(Line), caps("generate new chat colour")) != -1)<br>&#9;&#9;{<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;&#9;bInitBroadcast=True;<br>&#9;&#9;&#9;&#9;bHurryUp=True;<br>&#9;&#9;&#9;&#9;StoredCommand = "randomchatcolour";<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(instr(caps(Line), caps("reset chat colour")) != -1 || instr(caps(Line), caps("default chat colour")) != -1  || instr(caps(Line), caps("go back to default chat colour")) != -1)<br>&#9;&#9;{<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;&#9;bInitBroadcast=True;<br>&#9;&#9;&#9;&#9;bHurryUp=True;<br>&#9;&#9;&#9;&#9;StoredCommand = "resetchatcolour";<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(instr(caps(Line), caps("default the scoreboard")) != -1 && instr(caps(Line), caps("Athena")) != -1)<br>&#9;&#9;{<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;&#9;bInitBroadcast=True;<br>&#9;&#9;&#9;&#9;bHurryUp=True;<br>&#9;&#9;&#9;&#9;StoredCommand = "clearscores";<br>&#9;&#9;}<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;if((instr(caps(Line), caps("watch the lag")) != -1 || instr(caps(Line), caps("turn on lag watcher")) != -1  || instr(caps(Line), caps("keep an eye on the lag")) != -1) && instr(caps(Line), caps("athena")) != -1)<br>&#9;&#9;{<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;&#9;bInitBroadcast=True;<br>&#9;&#9;&#9;&#9;bHurryUp=True;<br>&#9;&#9;&#9;&#9;StoredCommand = "lagwatch";<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if((instr(caps(Line), caps("watch the time")) != -1 || instr(caps(Line), caps("turn on time message")) != -1  || instr(caps(Line), caps("keep an eye on the time")) != -1) && instr(caps(Line), caps("athena")) != -1)<br>&#9;&#9;{<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;&#9;bInitBroadcast=True;<br>&#9;&#9;&#9;&#9;bHurryUp=True;<br>&#9;&#9;&#9;&#9;StoredCommand = "timewatch";<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if((instr(caps(Line), caps("stop watching the lag")) != -1 || instr(caps(Line), caps("turn off lag watch")) != -1  || instr(caps(Line), caps("cancel lag watch")) != -1) && instr(caps(Line), caps("athena")) != -1)<br>&#9;&#9;{<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;&#9;bInitBroadcast=True;<br>&#9;&#9;&#9;&#9;bHurryUp=True;<br>&#9;&#9;&#9;&#9;StoredCommand = "lagwatchoff";<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if((instr(caps(Line), caps("dont watch the time")) != -1 || instr(caps(Line), caps("turn off time message")) != -1  || instr(caps(Line), caps("cancel clock")) != -1) && instr(caps(Line), caps("athena")) != -1)<br>&#9;&#9;{<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;&#9;bInitBroadcast=True;<br>&#9;&#9;&#9;&#9;bHurryUp=True;<br>&#9;&#9;&#9;&#9;StoredCommand = "timewatchoff";<br>&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;if((instr(caps(Line), caps("near me")) != -1 || instr(caps(Line), caps("radius")) != -1 || instr(caps(Line), caps("look around me")) != -1) && <br>&#9;&#9;instr(caps(Line), caps("athena")) != -1)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == Sender)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;RememberPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;&#9;bPublicCommand = True;<br>&#9;&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;&#9;StoredCommand = "checkradius";<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if((instr(caps(Line), caps("what is this")) != -1 || instr(caps(Line), caps("what am i looking at")) != -1 || instr(caps(Line), caps("whats this")) != -1) && <br>&#9;&#9;instr(caps(Line), caps("athena")) != -1)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == Sender)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;RememberPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;SetTimer(0.2,False);<br>&#9;&#9;&#9;&#9;bPublicCommand = True;<br>&#9;&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;&#9;StoredCommand = "checkvision";<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br><br>&#9;&#9;if( (instr(caps(Line), caps("delete this")) != -1  || instr(caps(Line), caps("remove this")) != -1) && instr(caps(Line), caps("athena")) != -1)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == Sender)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;SetTimer(0.2,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;bInitBroadcast=True;<br>&#9;&#9;&#9;StoredCommand = "deletevision";<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(Line ~= "athena, enforce peacekeeper one")<br>&#9;&#9;{<br>&#9;&#9;&#9;if(peacekeeper != 0)<br>&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;bInitBroadcast=True;<br>&#9;&#9;&#9;StoredCommand = "peacekeeperone";<br>&#9;&#9;}<br>&#9;<br>&#9;&#9;if(Line ~= "athena, enforce peacekeeper two")<br>&#9;&#9;{<br>&#9;&#9;&#9;if(peacekeeper != 0)<br>&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;bInitBroadcast=True;<br>&#9;&#9;&#9;StoredCommand = "peacekeepertwo";<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(Line ~= "athena, enforce abuse watch")<br>&#9;&#9;{<br>&#9;&#9;&#9;if(Am.bProtocola == true)<br>&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;bInitBroadcast=True;<br>&#9;&#9;&#9;StoredCommand = "awatchper";<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(Line ~= "athena, end abuse watch")<br>&#9;&#9;{<br>&#9;&#9;&#9;if(Am.bProtocola == false)<br>&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;bInitBroadcast=True;<br>&#9;&#9;&#9;StoredCommand = "awatchperoff";<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(Line ~= "athena, end peacekeeper")<br>&#9;&#9;{<br>&#9;&#9;&#9;if(peacekeeper == 0)<br>&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;bInitBroadcast=True;<br>&#9;&#9;&#9;StoredCommand = "peacekeepernone";<br>&#9;&#9;}<br>&#9;<br>&#9;&#9;if(instr(caps(Line), caps("cycle style")) != -1 || instr(caps(Line), caps("change style")) != -1  || instr(caps(Line), caps("next style")) != -1)<br>&#9;&#9;{<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;&#9;bInitBroadcast=True;<br>&#9;&#9;&#9;&#9;bHurryUp=True;<br>&#9;&#9;&#9;&#9;StoredCommand = "cyclestyle";<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(instr(caps(Line), caps("degod all")) != -1 || instr(caps(Line), caps("activate safe mode")) != -1  || instr(caps(Line), caps("enable safe mode")) != -1)<br>&#9;&#9;{<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;&#9;bInitBroadcast=True;<br>&#9;&#9;&#9;&#9;bHurryUp=True;<br>&#9;&#9;&#9;&#9;StoredCommand = "godall";<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(instr(caps(Line), caps("god all")) != -1 || instr(caps(Line), caps("end safe mode")) != -1  || instr(caps(Line), caps("deactivate safe mode")) != -1)<br>&#9;&#9;{<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;&#9;bInitBroadcast=True;<br>&#9;&#9;&#9;&#9;bHurryUp=True;<br>&#9;&#9;&#9;&#9;StoredCommand = "degodall";<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(instr(caps(Line), caps("shutdown when the servers empty")) != -1 || instr(caps(Line), caps("close when the servers empty")) != -1  || instr(caps(Line), caps("!qnp")) != -1)<br>&#9;&#9;{<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;&#9;bInitBroadcast=True;<br>&#9;&#9;&#9;&#9;bHurryUp=True;<br>&#9;&#9;&#9;&#9;StoredCommand = "qnp";<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(instr(caps(Line), caps("shutdown when i leave")) != -1 || instr(caps(Line), caps("close when i leave")) != -1  || instr(caps(Line), caps("!qil")) != -1)<br>&#9;&#9;{<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;&#9;bInitBroadcast=True;<br>&#9;&#9;&#9;&#9;bHurryUp=True;<br>&#9;&#9;&#9;&#9;StoredCommand = "qil";<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;if(Left(Line,28) ~= "generate random string, max ")<br>&#9;&#9;{<br>&#9;&#9;&#9;rememberint = int(Right(Line, Len(Line)-28));<br>&#9;&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;&#9;bPublicCommand = True;<br>&#9;&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;&#9;StoredCommand = "randomstring";<br>&#9;&#9;}<br><br>&#9;&#9;if(Left(Line,13) ~= "set topic to ")<br>&#9;&#9;{<br>&#9;&#9;&#9;rememberstring = Right(Line, Len(Line)-13);<br>&#9;&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;&#9;bPublicCommand = True;<br>&#9;&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;&#9;StoredCommand = "topic";<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(Left(Line,4) ~= "len ")<br>&#9;&#9;{<br>&#9;&#9;&#9;rememberstring = Right(Line, Len(Line)-4);<br>&#9;&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;&#9;bPublicCommand = True;<br>&#9;&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;&#9;StoredCommand = "length";<br>&#9;&#9;}<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;if(instr(caps(Line), caps("no topic")) != -1 && instr(caps(Line), caps("athena")) != -1)<br>&#9;&#9;{<br>&#9;&#9;&#9;rememberstring = "";<br>&#9;&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;&#9;bPublicCommand = True;<br>&#9;&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;&#9;StoredCommand = "topic";<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(instr(caps(Line), caps("uptime")) != -1 && instr(caps(Line), caps("athena")) != -1)<br>&#9;&#9;{<br>&#9;&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;&#9;bPublicCommand = True;<br>&#9;&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;&#9;StoredCommand = "uptime";<br>&#9;&#9;}<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;if(instr(caps(Line), caps("what")) != -1 && instr(caps(Line), caps("talkin")) != -1)<br>&#9;&#9;{<br>&#9;&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;&#9;bPublicCommand = True;<br>&#9;&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;&#9;StoredCommand = "saytopic";<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(instr(caps(Line), caps("flip a coin")) != -1 && instr(caps(Line), caps("athena")) != -1)<br>&#9;&#9;{<br>&#9;&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;&#9;bPublicCommand = True;<br>&#9;&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;&#9;StoredCommand = "coin";<br>&#9;&#9;}<br><br>&#9;&#9;if((instr(caps(Line), caps("logs")) != -1 || instr(caps(Line), caps("chat log")) != -1 || instr(caps(Line), caps("repeat")) != -1) && instr(caps(Line), caps("athena")) != -1)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;RememberName = Sender;<br>&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == RememberName)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;RememberPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;&#9;&#9;bDontLog=True;<br>&#9;&#9;&#9;&#9;&#9;bPublicCommand = True;<br>&#9;&#9;&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;&#9;&#9;bDontLog=True;<br>&#9;&#9;&#9;&#9;&#9;StoredCommand = "chatlogrepeat";<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;ASay("Error response: This command is only available for players in-game.");<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(Left(Line,20) ~= "random number up to ")<br>&#9;&#9;{<br>&#9;&#9;rememberint = int(Right(Line, Len(Line)-20));<br>&#9;&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;&#9;bPublicCommand = True;<br>&#9;&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;&#9;StoredCommand = "randnum";<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(Left(Line,5) ~= "roll ")<br>&#9;&#9;{<br>&#9;&#9;rememberint = int(Right(Line, Len(Line)-5));<br>&#9;&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;&#9;bPublicCommand = True;<br>&#9;&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;&#9;StoredCommand = "randnum";<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(Left(Line,4) ~= "roll")<br>&#9;&#9;{<br>&#9;&#9;rememberint = 6;<br>&#9;&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;&#9;bPublicCommand = True;<br>&#9;&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;&#9;StoredCommand = "randnum";<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(Left(Line,10) ~= "read chat ")<br>&#9;&#9;{<br>&#9;&#9;rememberint = int(Right(Line, Len(Line)-10));<br>&#9;&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;&#9;bPublicCommand = True;<br>&#9;&#9;&#9;&#9;bDontLog=True;<br>&#9;&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;&#9;StoredCommand = "chatlognum";<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(instr(caps(Line), caps("athena, join the game")) != -1 && myPawn == None) <br>&#9;&#9;{<br>&#9;&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;&#9;bPublicCommand = True;<br>&#9;&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;&#9;StoredCommand = "athenapawn";<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(instr(caps(Line), caps("start HS")) != -1 || instr(caps(Line), caps("start hide and seek")) != -1  || instr(caps(Line), caps("start hide & seek")) != -1) <br>&#9;&#9;{<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;RememberName = Left(s, InStr(s,"("));<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == RememberName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;RememberPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;&#9;bPublicCommand = True;<br>&#9;&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;&#9;StoredCommand = "hideseek";<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(Left(Line,6) ~= "guess ")<br>&#9;&#9;{<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;RememberString = Right(Line, Len(Line)-6);<br>&#9;&#9;&#9;&#9;RememberName = Left(s, InStr(s,"("));<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == RememberName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;RememberPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;&#9;bPublicCommand = True;<br>&#9;&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;&#9;StoredCommand = "guess";<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if((instr(caps(Line), caps("thanks")) != -1 || instr(caps(Line), caps("thank you")) != -1  || instr(caps(Line), caps("ta ")) != -1) && instr(caps(Line), caps("athena")) != -1)<br>&#9;&#9;{<br>&#9;&#9;&#9;bPublicCommand=True;<br>&#9;&#9;&#9;StoredCommand="thanks";<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;if(instr(caps(Line), caps("athena")) != -1 && instr(caps(Line), caps("laugh")) != -1)<br>&#9;&#9;{<br>&#9;&#9;&#9;bPublicCommand=True;<br>&#9;&#9;&#9;StoredCommand="laugh";<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;SetTimer(2,False);<br>&#9;&#9;}&#9;<br><br>&#9;&#9;if((instr(caps(Line), caps("how are you")) != -1 || instr(caps(Line), caps("hows you")) != -1 || instr(caps(Line), caps("wassup")) != -1) && instr(caps(Line), caps("athena")) != -1)<br>&#9;&#9;{<br>&#9;&#9;&#9;bPublicCommand=True;<br>&#9;&#9;&#9;StoredCommand="howareyou";<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if((instr(caps(Line), caps("hi ")) != -1 || instr(caps(Line), caps("hello")) != -1 || instr(caps(Line), caps("yo ")) != -1 || instr(caps(Line), caps("hey ")) != -1 || instr(caps(Line), caps(" hey")) != -1 ) && instr(caps(Line), caps("athena")) != -1)<br>&#9;&#9;{<br>&#9;&#9;&#9;bPublicCommand=True;<br>&#9;&#9;&#9;RememberName = Sender;<br>&#9;&#9;&#9;StoredCommand="greet";<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if((instr(caps(Line), caps("who is")) != -1 || instr(caps(Line), caps("who are you")) != -1 || (instr(caps(Line), caps("introduce yourself")) != -1)) && instr(caps(Line), caps("athena")) != -1)<br>&#9;&#9;{<br>&#9;&#9;&#9;bPublicCommand=True;<br>&#9;&#9;&#9;StoredCommand="whois";<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if((instr(caps(Line), caps("killcount")) != -1 || instr(caps(Line), caps("kill count")) != -1 || (instr(caps(Line), caps("score")) != -1) && instr(caps(Line), caps("athena")) != -1))<br>&#9;&#9;{<br>&#9;&#9;&#9;bPublicCommand=True;<br>&#9;&#9;&#9;StoredCommand="killcount";<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;SetTimer(2,False);<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(instr(caps(Line), caps("athena")) != -1 && (instr(caps(Line), caps("go fuck yourself")) != -1 || instr(caps(Line), caps("kys")) != -1 || instr(caps(Line), caps("kill yourself")) != -1  || instr(caps(Line), caps("fuck you")) != -1 || instr(caps(Line), caps("fuck off")) != -1  || instr(caps(Line), caps("go die")) != -1 || instr(caps(Line), caps("fak u")) != -1  || instr(caps(Line), caps("fak yu")) != -1 || instr(caps(Line), caps("fk u")) != -1  || instr(caps(Line), caps("you suck")) != -1 || instr(caps(Line), caps("kick -2")) != -1  || instr(caps(Line), caps("smite -2")) != -1 || instr(caps(Line), caps("kickban -2")) != -1  || instr(caps(Line), caps("expand yourself")) != -1 || instr(caps(Line), caps("kick yourself")) != -1  || instr(caps(Line), caps("smite yourself")) != -1 || instr(caps(Line), caps("fuck u")) != -1  || instr(caps(Line), caps("feck you")) != -1 || instr(caps(Line), caps("fuckoff")) != -1  || instr(caps(Line), caps("eat shit")) != -1 || instr(caps(Line), caps("cunt")) != -1  || instr(caps(Line), caps("cortana is better")) != -1 || instr(caps(Line), caps("f u c k y o u")) != -1  || instr(caps(Line), caps("get fucked")) != -1 || instr(caps(Line), caps("funk yourself")) != -1 || instr(caps(Line), caps("bite me")) != -1  || instr(caps(Line), caps("expand me")) != -1 || instr(caps(Line), caps("expand yourself")) != -1))<br>&#9;&#9;{<br>&#9;&#9;&#9;if(sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;bPublicCommand=True;<br>&#9;&#9;&#9;RememberName = Left(s, InStr(s,"("));<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == RememberName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;RememberPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;StoredCommand="anger";<br>&#9;&#9;&#9;AStatus("Not happy...");<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(instr(caps(Line), caps("online admins")) != -1)<br>&#9;&#9;{<br>&#9;&#9;&#9;bPublicCommand=True;<br>&#9;&#9;&#9;StoredCommand="onlineadmins";<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;}&#9;&#9;<br>&#9;&#9;<br>&#9;&#9;if(instr(caps(Line), caps("variables")) != -1 && instr(caps(Line), caps("athena")) != -1)<br>&#9;&#9;{<br>&#9;&#9;&#9;bPublicCommand=True;<br>&#9;&#9;&#9;StoredCommand="checkvars";<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;}&#9;&#9;<br>&#9;&#9;<br>&#9;&#9;if(instr(caps(Line), caps("read")) != -1 && instr(caps(Line), caps("manager")) != -1 && instr(caps(Line), caps("variable")) != -1)<br>&#9;&#9;{<br>&#9;&#9;&#9;bPublicCommand=True;<br>&#9;&#9;&#9;StoredCommand="getrconvar";<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;}&#9;&#9;<br>&#9;&#9;<br>&#9;&#9;if(Line ~= "athena, activate protocol m")<br>&#9;&#9;{<br>&#9;&#9;&#9;if(AM.bProtocolM)<br>&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;bInitBroadcast=True;<br>&#9;&#9;&#9;StoredCommand = "protocolmon";<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(instr(caps(Line), caps("athena")) != -1 && (instr(caps(Line), caps("admin please")) != -1 || instr(caps(Line), caps("log me in")) != -1 || instr(caps(Line), caps("gimme admin")) != -1  || instr(caps(Line), caps("do your thing")) != -1  || instr(caps(Line), caps("you know what to do")) != -1))<br>&#9;&#9;{<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;AuthPlayerName = Left(s, InStr(s,"("));<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;&#9;RememberPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;bHurryUp=True;<br>&#9;&#9;&#9;bInitBroadcast=True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "giveadmin";<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(instr(caps(Line), caps("athena")) != -1 && instr(caps(Line), caps("restart")) != -1 && instr(caps(Line), caps("map")) != -1 )<br>&#9;&#9;{<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;bInitBroadcast=True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "restart";<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(instr(caps(Line), caps("athena")) != -1 && (instr(caps(Line), caps("close")) != -1 || instr(caps(Line), caps("end")) != -1 ) && instr(caps(Line), caps("server")) != -1)<br>&#9;&#9;{<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;&#9;RememberPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;SetTimer(2,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;bInitBroadcast=True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "shutdown";<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if( (instr(caps(Line), caps("cancel")) != -1 || instr(caps(Line), caps("abort")) != -1) && instr(caps(Line), caps("shut down")) != -1)<br>&#9;&#9;{<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;bInitBroadcast=True;<br>&#9;&#9;&#9;bHurryUp=True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "cancelshutdown";<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(Left(Line,19) ~= "athena, config set ")<br>&#9;&#9;{<br>&#9;&#9;&#9;rememberstring = Right(Line, Len(Line)-19);<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br><br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;bInitBroadcast = True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "configset";<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(Left(Line,17) ~= "athena, rcon set ")<br>&#9;&#9;{<br>&#9;&#9;&#9;rememberstring = Right(Line, Len(Line)-17);<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br><br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;bInitBroadcast = True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "configsetrcon";<br>&#9;&#9;}<br><br>&#9;&#9;if(Left(Line,20) ~= "athena, manager set ")<br>&#9;&#9;{<br>&#9;&#9;&#9;rememberstring = Right(Line, Len(Line)-20);<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br><br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;bInitBroadcast = True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "configsetrconm";<br>&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;if(Left(Line,14) ~= "set alarm for ")<br>&#9;&#9;{<br>&#9;&#9;&#9;rememberstring = Right(Line, Len(Line)-14);<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br><br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;bInitBroadcast = True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "setalarm";<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(Line ~= "athena, end protocol m")<br>&#9;&#9;{<br>&#9;&#9;&#9;if(!AM.bProtocolM)<br>&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;bInitBroadcast=True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "protocolmoff";<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(Line ~= "unblind")<br>&#9;&#9;{<br>&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;bInitBroadcast=True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "killblind";<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(Line ~= "athena, fix bot conflicts")<br>&#9;&#9;{<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br><br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;bInitBroadcast=True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "fixconflicts";<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(Line ~= "athena, debug bots")<br>&#9;&#9;{<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br><br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;bInitBroadcast=True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "debugbots";<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(Line ~= "athena, shut down")<br>&#9;&#9;{<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br><br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;bInitBroadcast=True;<br>&#9;&#9;&#9;StoredCommand = "deactivate";<br>&#9;&#9;}<br>&#9;<br>&#9;&#9;if(Line ~= "athena, toggle autostart")<br>&#9;&#9;{<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;bInitBroadcast = True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "toggleauto";<br>&#9;&#9;}<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;if(Left(Line,8) ~= "comment ")<br>&#9;&#9;{<br>&#9;&#9;&#9;RememberString = Right(Line, Len(Line)-8);<br>&#9;&#9;&#9;if(RememberString == "")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;ASay("Please add a comment string.");<br>&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;RememberName = Sender;<br>&#9;&#9;&#9;if(sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == RememberName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;RememberPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;bPublicCommand=True;<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "comment";<br>&#9;&#9;}<br><br>&#9;&#9;if(Left(Line,22) ~= "athena, change map to ")<br>&#9;&#9;{<br>&#9;&#9;&#9;RememberString = Right(Line, Len(Line)-22);<br>&#9;&#9;&#9;if(RememberString == "")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;ASay("Please add a map name.");<br>&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;bInitBroadcast = True;<br>&#9;&#9;&#9;bHurryUp=True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "mapchange";<br>&#9;&#9;}<br><br>&#9;&#9;if(Left(Line,12) ~= "delete item ")<br>&#9;&#9;{<br>&#9;&#9;&#9;RememberString = Right(Line, Len(Line)-12);<br>&#9;&#9;&#9;if(instr(caps(RememberString), caps("engine")) != -1 || instr(caps(RememberString), caps("rcon")) != -1)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;ASay("Command ignored due to internal protection.");<br>&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;if(RememberString == "")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;ASay("Please add a object name.");<br>&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;bInitBroadcast = True;<br>&#9;&#9;&#9;bHurryUp=True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "deleteitem";<br>&#9;&#9;}<br><br>&#9;&#9;if(Left(Line,21) ~= "start a map vote for ")<br>&#9;&#9;{<br>&#9;&#9;&#9;if(sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;RememberString = Right(Line, Len(Line)-21);<br>&#9;&#9;&#9;&#9;if(RememberString == "" && instr(RememberString, "?") != -1)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;ASay("Please add a map name.");<br>&#9;&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;RememberName = Left(s, InStr(s,"("));<br>&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == RememberName)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;RememberPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;bPublicCommand=True;<br>&#9;&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;&#9;StoredCommand = "mapvote";<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;<br>&#9;&#9;if(Left(Line,17) ~= "start a poll for ")<br>&#9;&#9;{<br>&#9;&#9;&#9;if(sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;RememberString = Right(Line, Len(Line)-17);<br>&#9;&#9;&#9;&#9;if(RememberString == "")<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;ASay("Please add a poll.");<br>&#9;&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;RememberName = Left(s, InStr(s,"("));<br>&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == RememberName)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;RememberPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;bPublicCommand=True;<br>&#9;&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;&#9;StoredCommand = "poll";<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(Left(Line,10) ~= "add memo, " || Left(Line,10) ~= "new memo, ")<br>&#9;&#9;{<br>&#9;&#9;&#9;RememberString = Right(Line, Len(Line)-10);<br>&#9;&#9;&#9;if(RememberString == "")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;ASay("Please add a memo string.");<br>&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;RememberName = Sender;<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == RememberName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;RememberPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;bPublicCommand=True;<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "memo";<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if((instr(caps(Line), caps("get")) != -1 || instr(caps(Line), caps("list")) != -1 || instr(caps(Line), caps("read")) != -1 || instr(caps(Line), caps("show")) != -1 || instr(caps(Line), caps("check")) != -1) && instr(caps(Line), caps("memo")) != -1)<br>&#9;&#9;{<br>&#9;&#9;&#9;RememberName = sender;<br>&#9;&#9;&#9;bPublicCommand=True;<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "memoread";<br>&#9;&#9;}&#9;&#9;<br>&#9;&#9;<br>&#9;&#9;if((instr(caps(Line), caps("delete")) != -1 || instr(caps(Line), caps("clear")) != -1 ) && instr(caps(Line), caps("memo")) != -1)<br>&#9;&#9;{<br>&#9;&#9;&#9;RememberName = sender;<br>&#9;&#9;&#9;bPublicCommand=True;<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "memoclear";<br>&#9;&#9;}&#9;&#9;&#9;<br>&#9;&#9;<br>&#9;&#9;if((instr(caps(Line), caps("count")) != -1 || instr(caps(Line), caps("check")) != -1 ) && instr(caps(Line), caps("comments")) != -1)<br>&#9;&#9;{<br>&#9;&#9;&#9;bPublicCommand=True;<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "listcomment";<br>&#9;&#9;}<br><br>&#9;&#9;if(Left(Line,13) ~= "read comment ")<br>&#9;&#9;{<br>&#9;&#9;&#9;RememberInt = int(Right(Line, Len(Line)-13));<br>&#9;&#9;&#9;bPublicCommand=True;<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "readcomment";<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(Left(Line,13) ~= "smite player ")<br>&#9;&#9;{<br>&#9;&#9;&#9;j = int(Right(Line, Len(Line)-13));<br>&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerID == j)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;RememberPlayer = DXP;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;bInitBroadcast = True;<br>&#9;&#9;&#9;bHurryUp=True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "smite";<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(Left(Line,12) ~= "kick player ")<br>&#9;&#9;{<br>&#9;&#9;&#9;j = int(Right(Line, Len(Line)-12));<br>&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerID == j)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;RememberPlayer = DXP;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;bInitBroadcast = True;<br>&#9;&#9;&#9;bHurryUp=True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "kick";<br>&#9;&#9;}<br><br>&#9;&#9;if(Left(Line,32) ~= "give botmaster access to player ")<br>&#9;&#9;{<br>&#9;&#9;&#9;j = int(Right(Line, Len(Line)-32));<br>&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerID == j)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;RememberPlayer = DXP;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;Sendtypepublic=Sendtype;<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;bInitBroadcast = True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "givebm";<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(instr(caps(Line), caps("athena, slaughter them all")) != -1 || instr(caps(Line), caps("athena, murder them all")) != -1 )<br>&#9;&#9;{<br>&#9;&#9;&#9;AuthPlayerName = sender;<br>&#9;&#9;&#9;if(sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;&#9;RememberPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;bInitBroadcast = True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "smiteall";<br>&#9;&#9;}<br>  <br>&#9;&#9;if(instr(caps(Line), caps("athena, fix it all")) != -1 || instr(caps(Line), caps("athena, fix everything up")) != -1 )<br>&#9;&#9;{<br>&#9;&#9;&#9;AuthPlayerName = sender;<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;bInitBroadcast = True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "fixup";<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(instr(caps(Line), caps("athena, nuke it all")) != -1 || instr(caps(Line), caps("athena, blow everything up")) != -1 )<br>&#9;&#9;{<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;bInitBroadcast = True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "blowup";<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(Left(Line,11) ~= "break item ")<br>&#9;&#9;{<br>&#9;&#9;RememberString = Right(Line, Len(Line)-11);<br>&#9;&#9;if(RememberString == "") return;<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;bInitBroadcast = True;<br>&#9;&#9;&#9;bHurryUp=True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "killall";<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(Left(Line,8) ~= "trigger ")<br>&#9;&#9;{<br>&#9;&#9;&#9;RememberString = Right(Line, Len(Line)-8);<br>&#9;&#9;&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;bInitBroadcast = True;<br>&#9;&#9;&#9;bHurryUp=True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "trigger";<br>&#9;&#9;}<br><br>&#9;&#9;if(Left(Line,5) ~= "frob ")<br>&#9;&#9;{<br>&#9;&#9;&#9;if(sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;RememberString = Right(Line, Len(Line)-5);<br>&#9;&#9;&#9;&#9;AuthPlayerName = Left(s, InStr(s,"("));<br>&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;&#9;bInitBroadcast = True;<br>&#9;&#9;&#9;&#9;bHurryUp=True;<br>&#9;&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;&#9;StoredCommand = "frob";<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br><br>&#9;&#9;if(Left(Line,5) ~= "bump ")<br>&#9;&#9;{<br>&#9;&#9;&#9;if(sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;RememberString = Right(Line, Len(Line)-5);<br>&#9;&#9;&#9;&#9;AuthPlayerName = Left(s, InStr(s,"("));<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;&#9;bInitBroadcast = True;<br>&#9;&#9;&#9;&#9;bHurryUp=True;<br>&#9;&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;&#9;StoredCommand = "bump";<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(instr(caps(Line), caps("heal everyone")) != -1)<br>&#9;&#9;{<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;bInitBroadcast = True;<br>&#9;&#9;&#9;bHurryUp=True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "healall";<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(Left(Line,12) ~= "heal player ")<br>&#9;&#9;{<br>&#9;&#9;&#9;j = int(Right(Line, Len(Line)-12));<br>&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerID == j)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;RememberPlayer = DXP;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;bInitBroadcast = True;<br>&#9;&#9;&#9;bHurryUp=True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "heal";<br>&#9;&#9;}<br><br>&#9;&#9;if(Left(Line,12) ~= "warn player ")<br>&#9;&#9;{<br>&#9;&#9;&#9;j = int(Right(Line, Len(Line)-12));<br>&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerID == j)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;RememberPlayer = DXP;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;bInitBroadcast = True;<br>&#9;&#9;&#9;bHurryUp=True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "warn";<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(Left(Line,10) ~= "warn name ")<br>&#9;&#9;{<br>&#9;&#9;&#9;savename = Right(Line, Len(Line)-10);<br>&#9;&#9;&#9;&#9;if(SaveName == "")<br>&#9;&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;/*savename = AM.RCR(savename);<br>&#9;&#9;&#9;savename = AM.RCR2(savename);*/<br>&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(instr(caps(DXP.PlayerReplicationInfo.PlayerName), caps(savename)) != -1 || instr(caps(AM.GetNick(DXP)), caps(savename)) != -1)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;RememberPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;RememberName = DXP.PlayerReplicationInfo.PlayerName;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;bInitBroadcast = True;<br>&#9;&#9;&#9;bHurryUp=True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "warn";<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(Left(Line,12) ~= "info player ")<br>&#9;&#9;{<br>&#9;&#9;&#9;j = int(Right(Line, Len(Line)-12));<br>&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerID == j)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;RememberPlayer = DXP;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;bInitBroadcast = True;<br>&#9;&#9;&#9;bHurryUp=True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "nptinfo";<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(Left(Line,10) ~= "info name ")<br>&#9;&#9;{<br>&#9;&#9;&#9;savename = Right(Line, Len(Line)-10);<br>&#9;&#9;&#9;&#9;if(SaveName == "")<br>&#9;&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;colstr = savename;<br>&#9;&#9;&#9;savename = AM.RCR(savename);<br>&#9;&#9;&#9;savename = AM.RCR2(savename);<br>&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(instr(caps(DXP.PlayerReplicationInfo.PlayerName), caps(savename)) != -1 || instr(caps(AM.GetNick(DXP)), caps(savename)) != -1 || instr(caps(DXP.PlayerReplicationInfo.PlayerName), caps(colstr)) != -1 || instr(caps(AM.GetNick(DXP)), caps(colstr)) != -1 )<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;RememberPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;RememberName = DXP.PlayerReplicationInfo.PlayerName;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;bInitBroadcast = True;<br>&#9;&#9;&#9;bHurryUp=True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "nptinfo";<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(Left(Line,9) ~= "ban item ")<br>&#9;&#9;{<br>&#9;&#9;&#9;RememberString = Right(Line, Len(Line)-9);<br>&#9;&#9;&#9;&#9;if(RememberString == "")<br>&#9;&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;bInitBroadcast = True;<br>&#9;&#9;&#9;bHurryUp=True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "addbanitem";<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(Left(Line,18) ~= "ban specific item ")<br>&#9;&#9;{<br>&#9;&#9;&#9;RememberString = Right(Line, Len(Line)-18);<br>&#9;&#9;&#9;&#9;if(RememberString == "")<br>&#9;&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;bInitBroadcast = True;<br>&#9;&#9;&#9;bHurryUp=True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "addbanitem2";<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(Left(Line,11) ~= "unban item ")<br>&#9;&#9;{<br>&#9;&#9;&#9;RememberString = Right(Line, Len(Line)-11);<br>&#9;&#9;&#9;&#9;if(RememberString == "")<br>&#9;&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;bInitBroadcast = True;<br>&#9;&#9;&#9;bHurryUp=True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "rembanitem";<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(Left(Line,20) ~= "unban specific item ")<br>&#9;&#9;{<br>&#9;&#9;&#9;RememberString = Right(Line, Len(Line)-20);<br>&#9;&#9;&#9;&#9;if(RememberString == "")<br>&#9;&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;bInitBroadcast = True;<br>&#9;&#9;&#9;bHurryUp=True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "rembanitem2";<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(Left(Line,14) ~= "disarm player ")<br>&#9;&#9;{<br>&#9;&#9;&#9;j = int(Right(Line, Len(Line)-14));<br>&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerID == j)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;RememberPlayer = DXP;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;bInitBroadcast = True;<br>&#9;&#9;&#9;bHurryUp=True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "disarm";<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(Left(Line,12) ~= "disarm name ")<br>&#9;&#9;{<br>&#9;&#9;&#9;savename = Right(Line, Len(Line)-12);<br>&#9;&#9;&#9;if(SaveName == "")<br>&#9;&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;colstr = savename;<br>&#9;&#9;&#9;savename = AM.RCR(savename);<br>&#9;&#9;&#9;savename = AM.RCR2(savename);<br>&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(instr(caps(DXP.PlayerReplicationInfo.PlayerName), caps(savename)) != -1 || instr(caps(AM.GetNick(DXP)), caps(savename)) != -1 || instr(caps(DXP.PlayerReplicationInfo.PlayerName), caps(colstr)) != -1 || instr(caps(AM.GetNick(DXP)), caps(colstr)) != -1 )<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;RememberPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;RememberName = DXP.PlayerReplicationInfo.PlayerName;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;bInitBroadcast = True;<br>&#9;&#9;&#9;bHurryUp=True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "disarm";<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(Left(Line,13) ~= "bring player ")<br>&#9;&#9;{<br>&#9;&#9;&#9;if(sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;j = int(Right(Line, Len(Line)-13));<br>&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerID == j)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;RememberPlayer = DXP;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;AuthPlayerName = Left(s, InStr(s,"("));<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;if(AM.bAllowWhitelist)<br>&#9;&#9;&#9;&#9;bCheckingWhitelist=True;<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;bInitBroadcast = True;<br>&#9;&#9;&#9;bHurryUp=True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "bring";<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(Left(Line,11) ~= "bring name ")<br>&#9;&#9;{<br>&#9;&#9;if(sendtype == "player")<br>&#9;&#9;{<br>&#9;&#9;&#9;savename = Right(Line, Len(Line)-11);<br>&#9;&#9;&#9;&#9;if(SaveName == "") return;<br>&#9;&#9;&#9;colstr = savename;<br>&#9;&#9;&#9;savename = AM.RCR(savename);<br>&#9;&#9;&#9;savename = AM.RCR2(savename);<br>&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(instr(caps(DXP.PlayerReplicationInfo.PlayerName), caps(savename)) != -1 || instr(caps(AM.GetNick(DXP)), caps(savename)) != -1 || instr(caps(DXP.PlayerReplicationInfo.PlayerName), caps(colstr)) != -1 || instr(caps(AM.GetNick(DXP)), caps(colstr)) != -1 )<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;RememberPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;RememberName = DXP.PlayerReplicationInfo.PlayerName;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;AuthPlayerName = Left(s, InStr(s,"("));<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;if(AM.bAllowWhitelist)<br>&#9;&#9;&#9;&#9;bCheckingWhitelist=True;<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;bInitBroadcast = True;<br>&#9;&#9;&#9;bHurryUp=True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "bring";<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(Left(Line,13) ~= "go to player ")<br>&#9;&#9;{<br>&#9;&#9;if(sendtype == "player")<br>&#9;&#9;{<br>&#9;&#9;&#9;j = int(Right(Line, Len(Line)-13));<br>&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerID == j)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;RememberPlayer = DXP;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;AuthPlayerName = Left(s, InStr(s,"("));<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;if(AM.bAllowWhitelist)<br>&#9;&#9;&#9;&#9;bCheckingWhitelist=True;<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;bInitBroadcast = True;<br>&#9;&#9;&#9;bHurryUp=True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "goto";<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(Left(Line,11) ~= "go to name ")<br>&#9;&#9;{<br>&#9;&#9;if(sendtype == "player")<br>&#9;&#9;{<br>&#9;&#9;&#9;savename = Right(Line, Len(Line)-11);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(SaveName == "") return;<br>&#9;&#9;&#9;colstr = savename;<br>&#9;&#9;&#9;savename = AM.RCR(savename);<br>&#9;&#9;&#9;savename = AM.RCR2(savename);<br>&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(instr(caps(DXP.PlayerReplicationInfo.PlayerName), caps(savename)) != -1 || instr(caps(AM.GetNick(DXP)), caps(savename)) != -1 || instr(caps(DXP.PlayerReplicationInfo.PlayerName), caps(colstr)) != -1 || instr(caps(AM.GetNick(DXP)), caps(colstr)) != -1 )<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;RememberPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;RememberName = DXP.PlayerReplicationInfo.PlayerName;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;AuthPlayerName = Left(s, InStr(s,"("));<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;if(AM.bAllowWhitelist)<br>&#9;&#9;&#9;&#9;bCheckingWhitelist=True;<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;bInitBroadcast = True;<br>&#9;&#9;&#9;bHurryUp=True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "goto";<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br><br>&#9;&#9;if(Left(Line,12) ~= "goto player ")<br>&#9;&#9;{<br>&#9;&#9;if(sendtype == "player")<br>&#9;&#9;{<br>&#9;&#9;&#9;j = int(Right(Line, Len(Line)-12));<br>&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerID == j)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;RememberPlayer = DXP;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;AuthPlayerName = Left(s, InStr(s,"("));<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;if(AM.bAllowWhitelist)<br>&#9;&#9;&#9;&#9;bCheckingWhitelist=True;<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;bInitBroadcast = True;<br>&#9;&#9;&#9;bHurryUp=True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "goto";<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(Left(Line,10) ~= "goto name ")<br>&#9;&#9;{<br>&#9;&#9;if(sendtype == "player")<br>&#9;&#9;{<br>&#9;&#9;&#9;savename = Right(Line, Len(Line)-10);<br>&#9;&#9;&#9;if(SaveName == "") return;<br>&#9;&#9;&#9;colstr = savename;<br>&#9;&#9;&#9;savename = AM.RCR(savename);<br>&#9;&#9;&#9;savename = AM.RCR2(savename);<br>&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(instr(caps(DXP.PlayerReplicationInfo.PlayerName), caps(savename)) != -1 || instr(caps(AM.GetNick(DXP)), caps(savename)) != -1 || instr(caps(DXP.PlayerReplicationInfo.PlayerName), caps(colstr)) != -1 || instr(caps(AM.GetNick(DXP)), caps(colstr)) != -1 )<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;RememberPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;RememberName = DXP.PlayerReplicationInfo.PlayerName;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;AuthPlayerName = Left(s, InStr(s,"("));<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;if(AM.bAllowWhitelist)<br>&#9;&#9;&#9;&#9;bCheckingWhitelist=True;<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;bInitBroadcast = True;<br>&#9;&#9;&#9;bHurryUp=True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "goto";<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(Left(Line,19) ~= "assemble at player ")<br>&#9;&#9;{<br>&#9;&#9;&#9;j = int(Right(Line, Len(Line)-19));<br>&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerID == j)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;RememberPlayer = DXP;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;bInitBroadcast = True;<br>&#9;&#9;&#9;bHurryUp=True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "assemble";<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(Left(Line,17) ~= "assemble at name ")<br>&#9;&#9;{<br>&#9;&#9;&#9;savename = Right(Line, Len(Line)-17);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(SaveName == "") return;<br>&#9;&#9;&#9;colstr = savename;<br>&#9;&#9;&#9;savename = AM.RCR(savename);<br>&#9;&#9;&#9;savename = AM.RCR2(savename);<br>&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(instr(caps(DXP.PlayerReplicationInfo.PlayerName), caps(savename)) != -1 || instr(caps(AM.GetNick(DXP)), caps(savename)) != -1 || instr(caps(DXP.PlayerReplicationInfo.PlayerName), caps(colstr)) != -1 || instr(caps(AM.GetNick(DXP)), caps(colstr)) != -1 )<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;RememberPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;RememberName = DXP.PlayerReplicationInfo.PlayerName;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;bInitBroadcast = True;<br>&#9;&#9;&#9;bHurryUp=True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "assemble";<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(Left(Line,10) ~= "kick name ")<br>&#9;&#9;{<br>&#9;&#9;&#9;savename = Right(Line, Len(Line)-10);<br>&#9;&#9;&#9;&#9;if(SaveName == "") return;<br>&#9;&#9;&#9;colstr = savename;<br>&#9;&#9;&#9;savename = AM.RCR(savename);<br>&#9;&#9;&#9;savename = AM.RCR2(savename);<br>&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(instr(caps(DXP.PlayerReplicationInfo.PlayerName), caps(savename)) != -1 || instr(caps(AM.GetNick(DXP)), caps(savename)) != -1 || instr(caps(DXP.PlayerReplicationInfo.PlayerName), caps(colstr)) != -1 || instr(caps(AM.GetNick(DXP)), caps(colstr)) != -1 )<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;RememberPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;RememberName = DXP.PlayerReplicationInfo.PlayerName;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;bInitBroadcast = True;<br>&#9;&#9;&#9;bHurryUp=True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "kick";<br>&#9;&#9;}<br><br>&#9;&#9;if(Left(Line,12) ~= "set manager ")<br>&#9;&#9;{<br>&#9;&#9;&#9;rememberstring = Right(Line, Len(Line)-12);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(rememberstring == "") return;<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;bInitBroadcast = True;<br>&#9;&#9;&#9;bHurryUp=True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "setrconvar";<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(Left(Line,11) ~= "smite name ")<br>&#9;&#9;{<br>&#9;&#9;&#9;savename = Right(Line, Len(Line)-11);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(SaveName == "") return;<br>&#9;&#9;&#9;colstr = savename;<br>&#9;&#9;&#9;savename = AM.RCR(savename);<br>&#9;&#9;&#9;savename = AM.RCR2(savename);<br>&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(instr(caps(DXP.PlayerReplicationInfo.PlayerName), caps(savename)) != -1 || instr(caps(AM.GetNick(DXP)), caps(savename)) != -1 || instr(caps(DXP.PlayerReplicationInfo.PlayerName), caps(colstr)) != -1 || instr(caps(AM.GetNick(DXP)), caps(colstr)) != -1 )<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;RememberPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;RememberName = DXP.PlayerReplicationInfo.PlayerName;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;bInitBroadcast = True;<br>&#9;&#9;&#9;bHurryUp=True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "smite";<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(Left(Line,19) ~= "give admin to name ")<br>&#9;&#9;{<br>&#9;&#9;&#9;savename = Right(Line, Len(Line)-19);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(SaveName == "") return;<br>&#9;&#9;&#9;colstr = savename;<br>&#9;&#9;&#9;savename = AM.RCR(savename);<br>&#9;&#9;&#9;savename = AM.RCR2(savename);<br>&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(instr(caps(DXP.PlayerReplicationInfo.PlayerName), caps(savename)) != -1 || instr(caps(AM.GetNick(DXP)), caps(savename)) != -1 || instr(caps(DXP.PlayerReplicationInfo.PlayerName), caps(colstr)) != -1 || instr(caps(AM.GetNick(DXP)), caps(colstr)) != -1 )<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;RememberPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;RememberName = DXP.PlayerReplicationInfo.PlayerName;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;bInitBroadcast = True;<br>&#9;&#9;&#9;bHurryUp=True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "giveadmin";<br>&#9;&#9;}<br><br>&#9;&#9;if(Left(Line,21) ~= "give admin to player ")<br>&#9;&#9;{<br>&#9;&#9;&#9;j = int(Right(Line, Len(Line)-21));<br>&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerID == j)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;RememberPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;RememberName = DXP.PlayerReplicationInfo.PlayerName;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;bInitBroadcast = True;<br>&#9;&#9;&#9;&#9;&#9;&#9;bHurryUp=True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "giveadmin";<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(Left(Line,11) ~= "blind name ")<br>&#9;&#9;{<br>&#9;&#9;&#9;savename = Right(Line, Len(Line)-11);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(SaveName == "") return;<br>&#9;&#9;&#9;colstr = savename;<br>&#9;&#9;&#9;savename = AM.RCR(savename);<br>&#9;&#9;&#9;savename = AM.RCR2(savename);<br>&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(instr(caps(DXP.PlayerReplicationInfo.PlayerName), caps(savename)) != -1 || instr(caps(AM.GetNick(DXP)), caps(savename)) != -1 || instr(caps(DXP.PlayerReplicationInfo.PlayerName), caps(colstr)) != -1 || instr(caps(AM.GetNick(DXP)), caps(colstr)) != -1 )<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;RememberPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;RememberName = DXP.PlayerReplicationInfo.PlayerName;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;bInitBroadcast = True;<br>&#9;&#9;&#9;bHurryUp=True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "blind";<br>&#9;&#9;}<br><br>&#9;&#9;if(Left(Line,13) ~= "blind player ")<br>&#9;&#9;{<br>&#9;&#9;&#9;j = int(Right(Line, Len(Line)-13));<br>&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerID == j)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;RememberPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;RememberName = DXP.PlayerReplicationInfo.PlayerName;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;bInitBroadcast = True;<br>&#9;&#9;&#9;&#9;&#9;&#9;bHurryUp=True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "blind";<br>&#9;&#9;}<br><br>&#9;&#9;if(Left(Line,10) ~= "burn name ")<br>&#9;&#9;{<br>&#9;&#9;&#9;savename = Right(Line, Len(Line)-10);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(SaveName == "") return;<br>&#9;&#9;&#9;colstr = savename;<br>&#9;&#9;&#9;savename = AM.RCR(savename);<br>&#9;&#9;&#9;savename = AM.RCR2(savename);<br>&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(instr(caps(DXP.PlayerReplicationInfo.PlayerName), caps(savename)) != -1 || instr(caps(AM.GetNick(DXP)), caps(savename)) != -1 || instr(caps(DXP.PlayerReplicationInfo.PlayerName), caps(colstr)) != -1 || instr(caps(AM.GetNick(DXP)), caps(colstr)) != -1 )<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;RememberPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;RememberName = DXP.PlayerReplicationInfo.PlayerName;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;bInitBroadcast = True;<br>&#9;&#9;&#9;bHurryUp=True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "burn";<br>&#9;&#9;}<br><br>&#9;&#9;if(Left(Line,12) ~= "burn player ")<br>&#9;&#9;{<br>&#9;&#9;&#9;j = int(Right(Line, Len(Line)-12));<br>&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerID == j)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;RememberPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;RememberName = DXP.PlayerReplicationInfo.PlayerName;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;bInitBroadcast = True;<br>&#9;&#9;&#9;&#9;&#9;&#9;bHurryUp=True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "burn";<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(Left(Line,21) ~= "take admin from name ")<br>&#9;&#9;{<br>&#9;&#9;&#9;savename = Right(Line, Len(Line)-21);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(SaveName == "") return;<br>&#9;&#9;&#9;colstr = savename;<br>&#9;&#9;&#9;savename = AM.RCR(savename);<br>&#9;&#9;&#9;savename = AM.RCR2(savename);<br>&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(instr(caps(DXP.PlayerReplicationInfo.PlayerName), caps(savename)) != -1 || instr(caps(AM.GetNick(DXP)), caps(savename)) != -1 || instr(caps(DXP.PlayerReplicationInfo.PlayerName), caps(colstr)) != -1 || instr(caps(AM.GetNick(DXP)), caps(colstr)) != -1 )<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;RememberPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;RememberName = DXP.PlayerReplicationInfo.PlayerName;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;bInitBroadcast = True;<br>&#9;&#9;&#9;&#9;&#9;&#9;bHurryUp=True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "takeadmin";<br>&#9;&#9;}<br><br>&#9;&#9;if(Left(Line,23) ~= "take admin from player ")<br>&#9;&#9;{<br>&#9;&#9;&#9;j = int(Right(Line, Len(Line)-23));<br>&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerID == j)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;RememberPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;RememberName = DXP.PlayerReplicationInfo.PlayerName;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;bInitBroadcast = True;<br>&#9;&#9;&#9;&#9;&#9;&#9;bHurryUp=True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "takeadmin";<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(Left(Line,10) ~= "smite bot ")<br>&#9;&#9;{<br>&#9;&#9;&#9;RememberName = Right(Line, Len(Line)-10);<br>&#9;&#9;&#9;if(RememberName == "") return;<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;if(AM.bAllowWhitelist)<br>&#9;&#9;&#9;&#9;bCheckingWhitelist=True;<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;bInitBroadcast = True;<br>&#9;&#9;&#9;bHurryUp=True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "smitebot";<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(Left(Line,10) ~= "heal name ")<br>&#9;&#9;{<br>&#9;&#9;&#9;savename = Right(Line, Len(Line)-10);<br>&#9;&#9;&#9;if(SaveName == "") return;<br>&#9;&#9;&#9;colstr = savename;<br>&#9;&#9;&#9;savename = AM.RCR(savename);<br>&#9;&#9;&#9;savename = AM.RCR2(savename);<br>&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(instr(caps(DXP.PlayerReplicationInfo.PlayerName), caps(savename)) != -1 || instr(caps(AM.GetNick(DXP)), caps(savename)) != -1 || instr(caps(DXP.PlayerReplicationInfo.PlayerName), caps(colstr)) != -1 || instr(caps(AM.GetNick(DXP)), caps(colstr)) != -1 )<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;RememberPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;RememberName = DXP.PlayerReplicationInfo.PlayerName;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;bInitBroadcast = True;<br>&#9;&#9;&#9;bHurryUp=True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "heal";<br>&#9;&#9;}<br><br>&#9;&#9;if(Left(Line,5) ~= "rcon ")<br>&#9;&#9;{<br>&#9;&#9;&#9;if(sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;RememberString = Right(Line, Len(Line)-5);<br>&#9;&#9;&#9;if(RememberString == "")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;ASay("Please enter a command string that references RCON Mutator.");<br>&#9;&#9;&#9;&#9;RememberString="";<br>&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;RememberName = Left(s, InStr(s,"("));<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == RememberName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;RememberPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;SetTimer(0.6,False);<br>&#9;&#9;&#9;bPublicCommand=True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "rcon";<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;if(Left(Line,5) ~= ".mut ")<br>&#9;&#9;{<br>&#9;&#9;&#9;if(sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;RememberString = Right(Line, Len(Line)-5);<br>&#9;&#9;&#9;if(RememberString == "")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;ASay("Please enter a command string that references Mutator commands.");<br>&#9;&#9;&#9;&#9;RememberString="";<br>&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;RememberName = Left(s, InStr(s,"("));<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == RememberName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;RememberPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;SetTimer(0.6,False);<br>&#9;&#9;&#9;bPublicCommand=True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "mutate";<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;if(Left(Line,12) ~= "mark player ")<br>&#9;&#9;{<br>&#9;&#9;&#9;j = int(Right(Line, Len(Line)-12));<br>&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerID == j)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;RememberPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;RememberName = DXP.PlayerReplicationInfo.PlayerName;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;bInitBroadcast = True;<br>&#9;&#9;&#9;bHurryUp=True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "addmark";<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(Left(Line,10) ~= "mark name ")<br>&#9;&#9;{<br>&#9;&#9;&#9;savename = Right(Line, Len(Line)-10);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(SaveName == "") return;<br>&#9;&#9;&#9;colstr = savename;<br>&#9;&#9;&#9;savename = AM.RCR(savename);<br>&#9;&#9;&#9;savename = AM.RCR2(savename);<br>&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(instr(caps(DXP.PlayerReplicationInfo.PlayerName), caps(savename)) != -1 || instr(caps(AM.GetNick(DXP)), caps(savename)) != -1 || instr(caps(DXP.PlayerReplicationInfo.PlayerName), caps(colstr)) != -1 || instr(caps(AM.GetNick(DXP)), caps(colstr)) != -1 )<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;RememberPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;RememberName = DXP.PlayerReplicationInfo.PlayerName;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;bInitBroadcast = True;<br>&#9;&#9;&#9;bHurryUp=True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "addmark";<br>&#9;&#9;}<br><br>&#9;&#9;if(Left(Line,22) ~= "athena, ignore player ")<br>&#9;&#9;{<br>&#9;&#9;&#9;j = int(Right(Line, Len(Line)-22));<br>&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerID == j)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;RememberPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;RememberName = DXP.PlayerReplicationInfo.PlayerName;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;bInitBroadcast = True;<br>&#9;&#9;&#9;bHurryUp=True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "ignore";<br>&#9;&#9;}<br><br>&#9;&#9;if(Left(Line,25) ~= "athena, whitelist player ")<br>&#9;&#9;{<br>&#9;&#9;&#9;j = int(Right(Line, Len(Line)-25));<br>&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerID == j)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;RememberPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;RememberName = DXP.PlayerReplicationInfo.PlayerName;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;bInitBroadcast = True;<br>&#9;&#9;&#9;bHurryUp=True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "whitelist";<br>&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;if(Left(Line,23) ~= "generate password, max ")<br>&#9;&#9;{<br>&#9;&#9;&#9;rememberint = int(Right(Line, Len(Line)-23));<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;bInitBroadcast = True;<br>&#9;&#9;&#9;bHurryUp=True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "generatepass";<br>&#9;&#9;}<br><br>&#9;  &#9;if(instr(caps(Line), caps("remove game password")) != -1 || instr(caps(Line), caps("athena, open the server")) != -1)<br>&#9;&#9;{<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;bInitBroadcast = True;<br>&#9;&#9;&#9;bHurryUp=True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "removepass";<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(Left(Line,21) ~= "set game password to ")<br>&#9;&#9;{<br>&#9;&#9;&#9;rememberstring = Right(Line, Len(Line)-21);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(rememberstring == "") return;<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;bInitBroadcast = True;<br>&#9;&#9;&#9;bHurryUp=True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "setpassword";<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(Left(Line,20) ~= "athena, ignore name ")<br>&#9;&#9;{<br>&#9;&#9;&#9;savename = Right(Line, Len(Line)-20);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(SaveName == "") return;<br>&#9;&#9;&#9;colstr = savename;<br>&#9;&#9;&#9;savename = AM.RCR(savename);<br>&#9;&#9;&#9;savename = AM.RCR2(savename);<br>&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(instr(caps(DXP.PlayerReplicationInfo.PlayerName), caps(savename)) != -1 || instr(caps(AM.GetNick(DXP)), caps(savename)) != -1 || instr(caps(DXP.PlayerReplicationInfo.PlayerName), caps(colstr)) != -1 || instr(caps(AM.GetNick(DXP)), caps(colstr)) != -1 )<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;RememberPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;RememberName = DXP.PlayerReplicationInfo.PlayerName;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;bInitBroadcast = True;<br>&#9;&#9;&#9;bHurryUp=True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "ignore";<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(Left(Line,23) ~= "athena, whitelist name ")<br>&#9;&#9;{<br>&#9;&#9;&#9;savename = Right(Line, Len(Line)-23);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(SaveName == "") return;<br>&#9;&#9;&#9;colstr = savename;<br>&#9;&#9;&#9;savename = AM.RCR(savename);<br>&#9;&#9;&#9;savename = AM.RCR2(savename);<br>&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(instr(caps(DXP.PlayerReplicationInfo.PlayerName), caps(savename)) != -1 || instr(caps(AM.GetNick(DXP)), caps(savename)) != -1 || instr(caps(DXP.PlayerReplicationInfo.PlayerName), caps(colstr)) != -1 || instr(caps(AM.GetNick(DXP)), caps(colstr)) != -1 )<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;RememberPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;RememberName = DXP.PlayerReplicationInfo.PlayerName;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;bInitBroadcast = True;<br>&#9;&#9;&#9;bHurryUp=True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "whitelist";<br>&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;  &#9;if(instr(caps(Line), caps("smite me")) != -1 || (instr(caps(Line), caps("athena")) != -1 && instr(caps(Line), caps("kill me")) != -1))<br>&#9;&#9;{<br>&#9;&#9;&#9;if(sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;&#9;RememberPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bPublicCommand=True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "smite";<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;  &#9;if(instr(caps(Line), caps("athena")) != -1 && (instr(caps(Line), caps("clear")) != -1 || instr(caps(Line), caps("reset")) != -1) && instr(caps(Line), caps("ignore")) != -1)<br>&#9;&#9;{<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;bInitBroadcast = True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "clearignore";<br>&#9;&#9;}<br><br>&#9;  &#9;if(instr(caps(Line), caps("athena")) != -1 && (instr(caps(Line), caps("clear")) != -1 || instr(caps(Line), caps("reset")) != -1) && instr(caps(Line), caps("whitelist")) != -1)<br>&#9;&#9;{<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;bInitBroadcast = True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "clearwhitelist";<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;  &#9;if(instr(caps(Line), caps("athena")) != -1 && (instr(caps(Line), caps("clear")) != -1 || instr(caps(Line), caps("reset")) != -1) && instr(caps(Line), caps("marks")) != -1)<br>&#9;&#9;{<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;bInitBroadcast = True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "markclear";<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;  &#9;if(instr(caps(Line), caps("clear all memos")) != -1 || instr(caps(Line), caps("delete all memos")) != -1)<br>&#9;&#9;{<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;bInitBroadcast = True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "memozero";<br>&#9;&#9;}<br>&#9;<br>&#9;  &#9;if(instr(caps(Line), caps("clear all comments")) != -1 || instr(caps(Line), caps("delete all comments")) != -1)<br>&#9;&#9;{<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;bInitBroadcast = True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "commentzero";<br>&#9;&#9;}<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;if(instr(caps(Line), caps("heal me")) != -1)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;&#9;RememberPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;if(AM.bAllowWhitelist)<br>&#9;&#9;&#9;&#9;bCheckingWhitelist=True;<br>&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;bInitBroadcast = True;<br>&#9;&#9;&#9;bHurryUp=True;<br>&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;StoredCommand = "heal";<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;if(Left(Line,6) ~= "!talk ")<br>&#9;&#9;{<br>&#9;&#9;&#9;if(sendtype == "player")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;aText = Right(Line, Len(Line) - 6);<br>&#9;&#9;&#9;&#9;AM.SendTextToAIClient(aText);<br>&#9;&#9;&#9;}<br>&#9;&#9;}&#9;<br>&#9;&#9;if(Sendtype ~= "irc" || Sendtype ~= "telnet")<br>&#9;&#9;{<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Left(Line,1) ~= "!" && AM.bAllowChatCommands)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;atagz = Right(s, Len(s)-instr(s,"!")-Len("!"));<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;if(instr(caps(atagz), caps(" ")) != -1) //Assuming theres other words after<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;//atagzextra = right(atagz, InStr(atagz," "));<br>&#9;&#9;&#9;&#9;&#9;atagzextra = Right(atagz, Len(atagz)-instr(atagz," ")-Len(" "));<br>&#9;&#9;&#9;&#9;&#9;//atagz = Left(atagz, Len(atagz)-instr(atagz," ")-Len(" "));<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;if(atagz ~= "motd")<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;ADelaySay(AM.MOTD,1);<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;else if(Left(atagz,5)  ~= "motd ")<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer', DXP)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.Playername ~= Sender)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(DXP.bAdmin)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;ASay("MOTD changed to"@atagzextra);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;AM.MOTD = atagzextra;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;AM.SaveConfig();<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br><br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;else if(atagz ~= "abort")<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == Sender)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;Triggerer = DXP;<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;if(Triggerer.bAdmin)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;if(SDA != None)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(AM.shutdownAbortSound != none)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;DXP.PlaySound(AM.shutdownAbortSound, SLOT_Interface,,, 256);&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;SDA.Destroy();<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;SDA = none;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;ASay("Shutdown cancelled.");<br>&#9;&#9;&#9;&#9;&#9;&#9;}&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;}<br><br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;else if(Left(atagz,8) ~= "randstr ")<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;rememberint = int(atagzextra);<br>&#9;&#9;&#9;&#9;&#9;SetTimer(0.5,False);<br>&#9;&#9;&#9;&#9;&#9;bPublicCommand = True;<br>&#9;&#9;&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;&#9;&#9;StoredCommand = "randomstring";<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;else if(Left(atagz,9) ~= "randchar ")<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;rememberint = int(atagzextra);<br>&#9;&#9;&#9;&#9;&#9;SetTimer(0.5,False);<br>&#9;&#9;&#9;&#9;&#9;bPublicCommand = True;<br>&#9;&#9;&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;&#9;&#9;StoredCommand = "randomchar";<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;else if(Left(atagz,6) ~= "arand ")<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == Sender)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;Triggerer = DXP;<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;if(instr(caps(atagzextra), caps("d")) != -1)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;aSides = int(Right(atagzextra, Len(atagzextra)-instr(atagzextra,"d")-Len("d")));<br>&#9;&#9;&#9;&#9;&#9;&#9;aDice = int(Left(atagzextra, InStr(atagzextra,"d")));<br>&#9;&#9;&#9;&#9;&#9;&#9;while(aRolls < aDice)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;aTotal += Rand(aSides+1);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;aRolls++;<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;BroadcastMessage(Sendtype$" rolls "$aDice$" "$aSides$"-sided dice...."@aTotal);<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;BroadcastMessage("Error in formatting.");<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;else if(atagz ~= "pk1")<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(peacekeeper != 0)<br>&#9;&#9;&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;&#9;&#9;bInitBroadcast=True;<br>&#9;&#9;&#9;&#9;&#9;StoredCommand = "peacekeeperone";<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;else if(atagz ~= "pk2")<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(peacekeeper != 0)<br>&#9;&#9;&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;&#9;&#9;bInitBroadcast=True;<br>&#9;&#9;&#9;&#9;&#9;StoredCommand = "peacekeepertwo";<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;else if(atagz ~= "aw")<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(AM.bProtocolA == True)<br>&#9;&#9;&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;&#9;&#9;bInitBroadcast=True;<br>&#9;&#9;&#9;&#9;&#9;StoredCommand = "awatchper";<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;else if(atagz ~= "awoff")<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(AM.bProtocolA == False)<br>&#9;&#9;&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;&#9;&#9;bInitBroadcast=True;<br>&#9;&#9;&#9;&#9;&#9;StoredCommand = "awatchperoff";<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;else if(atagz ~= "pk0")<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(peacekeeper == 0)<br>&#9;&#9;&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;&#9;&#9;bInitBroadcast=True;<br>&#9;&#9;&#9;&#9;&#9;StoredCommand = "peacekeepernone";<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;}<br>&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;{<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Left(Line,1) ~= "." && AM.bAllowIRCCommands)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'IRCLink',IRC)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(IRC != None)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;Log("Command sent by game: "$line,'IRC');<br>&#9;&#9;&#9;&#9;&#9;&#9;IRC.SendMessage(line);<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(instr(caps(S), caps("#")) != -1 && AM.bAllowHashTag)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;atagz = Right(s, Len(s)-instr(s,"#")-Len("#"));<br>&#9;&#9;&#9;&#9;if(instr(caps(atagz), caps(" ")) != -1) //Assuming theres other words after<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;atagz = Left(atagz, InStr(atagz," "));<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;if(atagz == "")<br>&#9;&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;AM.Topic = "#"$atagz;<br>&#9;&#9;&#9;&#9;ASay("Topic was changed. #"$atagz$"");<br>&#9;&#9;&#9;&#9;//ASay("Reading"@atagz$". Is this correct?");<br>&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;&#9;//if(instr(caps(S), caps("!")) != -1)<br>&#9;&#9;&#9;if(Left(Line,1) ~= "!" && AM.bAllowChatCommands)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;atagz = Right(s, Len(s)-instr(s,"!")-Len("!"));<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;if(instr(caps(atagz), caps(" ")) != -1) //Assuming theres other words after<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;//atagzextra = right(atagz, InStr(atagz," "));<br>&#9;&#9;&#9;&#9;&#9;atagzextra = Right(atagz, Len(atagz)-instr(atagz," ")-Len(" "));<br>&#9;&#9;&#9;&#9;&#9;//atagz = Left(atagz, Len(atagz)-instr(atagz," ")-Len(" "));<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;if(atagz ~= "credits")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer', DXP)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.Playername ~= Sender)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;ASay("Your credits count is"@DXP.Credits);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;if(atagz ~= "motd")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;ADelaySay(AM.MOTD,1);<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else if(Left(atagz,5)  ~= "motd ")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer', DXP)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.Playername ~= Sender)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(DXP.bAdmin)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;ASay("MOTD changed to"@atagzextra);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;AM.MOTD = atagzextra;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;AM.SaveConfig();<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br><br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else if(atagz ~= "abort")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == Sender)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Triggerer = DXP;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;if(Triggerer.bAdmin)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(SDA != None)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(AM.shutdownAbortSound != none)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;DXP.PlaySound(AM.shutdownAbortSound, SLOT_Interface,,, 256);&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;SDA.Destroy();<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;SDA = none;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;ASay("Shutdown cancelled.");<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br><br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else if(Left(atagz,8) ~= "randstr ")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;rememberint = int(atagzextra);<br>&#9;&#9;&#9;&#9;&#9;&#9;SetTimer(0.5,False);<br>&#9;&#9;&#9;&#9;&#9;&#9;bPublicCommand = True;<br>&#9;&#9;&#9;&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;&#9;&#9;&#9;StoredCommand = "randomstring";<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else if(Left(atagz,9) ~= "randchar ")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;rememberint = int(atagzextra);<br>&#9;&#9;&#9;&#9;&#9;&#9;SetTimer(0.5,False);<br>&#9;&#9;&#9;&#9;&#9;&#9;bPublicCommand = True;<br>&#9;&#9;&#9;&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;&#9;&#9;&#9;StoredCommand = "randomchar";<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else if(Left(atagz,7) ~= "summon ")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == Sender)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Triggerer = DXP;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;if(Triggerer.bAdmin)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;Triggerer.consolecommand("summon"@atagzextra);<br>&#9;&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;Triggerer.Consolecommand("mutate rcon.summon"@atagzextra);<br><br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else if(Left(atagz,6) ~= "arand ")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == Sender)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Triggerer = DXP;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;if(instr(caps(atagzextra), caps("d")) != -1)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;aSides = int(Right(atagzextra, Len(atagzextra)-instr(atagzextra,"d")-Len("d")));<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;aDice = int(Left(atagzextra, InStr(atagzextra,"d")));<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;while(aRolls < aDice)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;aTotal += Rand(aSides);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;aRolls++;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;BroadcastMessage(Triggerer.PlayerReplicationInfo.PlayerName$" rolls "$aDice$" "$aSides$"-sided dice...."@aTotal);<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;&#9;BroadcastMessage("Error in formatting.");<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else if(Left(atagz,2) ~= "r ")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == Sender)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Triggerer = DXP;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;if(AM.bMutatorAdmin && !Triggerer.bAdmin)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;Triggerer.bAdmin = True;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;bWasAdmin=True;<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;Triggerer.ConsoleCommand("mutate rcon."$atagzextra);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(bWasAdmin)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Triggerer.bAdmin = false;<br><br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else if(Left(atagz,4) ~= "mut ")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == Sender)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Triggerer = DXP;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;if(AM.bMutatorAdmin && !Triggerer.bAdmin)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;Triggerer.bAdmin = True;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;bWasAdmin=True;<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;Triggerer.ConsoleCommand("mutate "$atagzextra);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(bWasAdmin)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Triggerer.bAdmin = false;<br><br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else if(atagz ~= "ping")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer', DXP)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.Playername ~= Sender)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;ASay("Your ping is"@DXP.PlayerReplicationInfo.Ping);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else if(atagz ~= "testrot")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer', DXP)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.Playername ~= Sender)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;ASay("Your rotation is"@DXP.ViewRotation);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else if(atagz ~= "nick")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer', DXP)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.Playername ~= Sender)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;ASay("Your nick is"@AM.GetNick(DXP));<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else if(Left(atagz,5)  ~= "nick ")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer', DXP)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.Playername ~= Sender)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;ASay("Your nick is changed.");<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;DXP.consolecommand("Mutate nick"@atagzextra);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;} <br>&#9;&#9;&#9;&#9;&#9;else if(atagz ~= "song")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'PlayerPawn', PP)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(PP.PlayerReplicationInfo.Playername ~= Sender)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;ASay("Your track is"@string(PP.Song));<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;} <br>&#9;&#9;&#9;&#9;&#9;else if(atagz ~= "pk1")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;if(peacekeeper != 0)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;&#9;&#9;&#9;bInitBroadcast=True;<br>&#9;&#9;&#9;&#9;&#9;&#9;StoredCommand = "peacekeeperone";<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else if(atagz ~= "pk2")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;if(peacekeeper != 0)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;&#9;&#9;&#9;bInitBroadcast=True;<br>&#9;&#9;&#9;&#9;&#9;&#9;StoredCommand = "peacekeepertwo";<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else if(atagz ~= "aw")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;if(AM.bProtocolA == True)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;&#9;&#9;&#9;bInitBroadcast=True;<br>&#9;&#9;&#9;&#9;&#9;&#9;StoredCommand = "awatchper";<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else if(atagz ~= "awoff")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;if(AM.bProtocolA == False)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;&#9;&#9;&#9;bInitBroadcast=True;<br>&#9;&#9;&#9;&#9;&#9;&#9;StoredCommand = "awatchperoff";<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else if(atagz ~= "pk0")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;if(peacekeeper == 0)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;&#9;&#9;&#9;AuthPlayerName = Sender;<br>&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;if(Sendtype == "player")<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == AuthPlayerName)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;CheckAuthPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;&#9;&#9;&#9;bCheckingAuth = True;<br>&#9;&#9;&#9;&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;&#9;&#9;&#9;bInitBroadcast=True;<br>&#9;&#9;&#9;&#9;&#9;&#9;StoredCommand = "peacekeepernone";<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else if(atagz ~= "topic")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;&#9;&#9;&#9;bPublicCommand = True;<br>&#9;&#9;&#9;&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;&#9;&#9;&#9;StoredCommand = "saytopic";<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else if(Left(atagz,6)  ~= "topic ")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;&#9;&#9;&#9;RememberString = atagzextra;<br>&#9;&#9;&#9;&#9;&#9;&#9;bPublicCommand = True;<br>&#9;&#9;&#9;&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;&#9;&#9;&#9;StoredCommand = "topic";<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else if(atagz ~= "repeat")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;RememberName = Sender;<br>&#9;&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == RememberName)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;RememberPlayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;&#9;&#9;&#9;bDontLog=True;<br>&#9;&#9;&#9;&#9;&#9;&#9;bPublicCommand = True;<br>&#9;&#9;&#9;&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;&#9;&#9;&#9;bDontLog=True;<br>&#9;&#9;&#9;&#9;&#9;&#9;StoredCommand = "chatlogrepeat";<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else if(atagz ~= "dist")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == Sender)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Triggerer = DXP;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;loc = Triggerer.Location;<br>&#9;&#9;&#9;&#9;&#9;&#9;loc.Z += Triggerer.BaseEyeHeight;<br>&#9;&#9;&#9;&#9;&#9;&#9;vline = Vector(Triggerer.ViewRotation) * 10000;<br>&#9;&#9;&#9;&#9;&#9;&#9;Trace(hitLocation, hitNormal, loc+vline, loc, true);<br>&#9;&#9;&#9;&#9;&#9;&#9;TargetRange -= Abs(VSize(Triggerer.Location - HitLocation));<br>&#9;&#9;&#9;&#9;&#9;&#9;ASay("I calculate that distance as"@TargetRange);<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else if(atagz ~= "loc")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == Sender)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Triggerer = DXP;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;loc = Triggerer.Location;<br>&#9;&#9;&#9;&#9;&#9;&#9;loc.Z += Triggerer.BaseEyeHeight;<br>&#9;&#9;&#9;&#9;&#9;&#9;vline = Vector(Triggerer.ViewRotation) * 10000;<br>&#9;&#9;&#9;&#9;&#9;&#9;Trace(hitLocation, hitNormal, loc+vline, loc, true);<br>&#9;&#9;&#9;&#9;&#9;&#9;TargetRange -= Abs(VSize(Triggerer.Location - HitLocation));<br>&#9;&#9;&#9;&#9;&#9;&#9;ASay("Your crosshair's location is"@string(hitlocation));<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else if(Left(atagz,7)  ~= "setloc ")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == Sender)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Triggerer = DXP;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;if(Triggerer.bAdmin)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;loc = Triggerer.Location;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;loc.Z += Triggerer.BaseEyeHeight;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;vline = Vector(Triggerer.ViewRotation) * 10000;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;HitActor = Trace(hitLocation, hitNormal, loc+vline, loc, true);<br>&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if (hitActor != None && !hitActor.isA('LevelInfo'))<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitActor.SetLocation(Vector(atagzextra));<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;ASay(string(hitActor.class)@"moved to "$vector(atagzextra)$".");<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}&#9;<br>&#9;&#9;&#9;&#9;&#9;else if(Left(atagz,7)  ~= "setrot ")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == Sender)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Triggerer = DXP;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;if(Triggerer.bAdmin || IsWhitelisted(Triggerer))<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;loc = Triggerer.Location;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;loc.Z += Triggerer.BaseEyeHeight;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;vline = Vector(Triggerer.ViewRotation) * 10000;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;HitActor = Trace(hitLocation, hitNormal, loc+vline, loc, true);<br>&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if (hitActor != None && !hitActor.isA('LevelInfo'))<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitActor.setrotation(rotator(atagzextra));<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;ASay(string(hitActor.class)@"rotated to "$rotator(atagzextra)$".");<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;else if(Left(atagz,9)  ~= "offset.x ")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == Sender)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Triggerer = DXP;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;if(Triggerer.bAdmin || IsWhitelisted(Triggerer))<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;loc = Triggerer.Location;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;loc.Z += Triggerer.BaseEyeHeight;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;vline = Vector(Triggerer.ViewRotation) * 10000;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;HitActor = Trace(hitLocation, hitNormal, loc+vline, loc, true);<br>&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if (hitActor != None && !hitActor.isA('LevelInfo'))<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;altloc = hitactor.location;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;altloc.x += int(atagzextra);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(AM.bCollisionDebug)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitActor.SetCollision(false, false, false);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitActor.bCollideWorld = false;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitActor.SetLocation(altloc);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(AM.bCollisionDebug)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitActor.SetCollision(true, true, true);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitActor.bCollideWorld = hitactor.default.bCollideWorld;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;//ASay(string(hitActor.class)$" location was altered by "$int(atagzextra)$".");<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else if(Left(atagz,10)  ~= "offset.x -")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == Sender)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Triggerer = DXP;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;if(Triggerer.bAdmin || IsWhitelisted(Triggerer))<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;loc = Triggerer.Location;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;loc.Z += Triggerer.BaseEyeHeight;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;vline = Vector(Triggerer.ViewRotation) * 10000;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;HitActor = Trace(hitLocation, hitNormal, loc+vline, loc, true);<br>&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if (hitActor != None && !hitActor.isA('LevelInfo'))<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;altloc = hitactor.location;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;altloc.x -= int(Right(atagzextra, Len(atagzextra)-instr(atagzextra,"-")-Len("-")));<br><br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(AM.bCollisionDebug)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitActor.SetCollision(false, false, false);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitActor.bCollideWorld = false;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitActor.SetLocation(altloc);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(AM.bCollisionDebug)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitActor.SetCollision(true, true, true);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitActor.bCollideWorld = hitactor.default.bCollideWorld;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;//ASay(string(hitActor.class)$" location was altered by "$int(atagzextra)$"."$int(Right(atagzextra, Len(atagzextra)-instr(atagzextra,"-")-Len("-"))));<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else if(Left(atagz,9)  ~= "offset.y ")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == Sender)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Triggerer = DXP;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;if(Triggerer.bAdmin || IsWhitelisted(Triggerer))<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;loc = Triggerer.Location;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;loc.Z += Triggerer.BaseEyeHeight;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;vline = Vector(Triggerer.ViewRotation) * 10000;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;HitActor = Trace(hitLocation, hitNormal, loc+vline, loc, true);<br>&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if (hitActor != None && !hitActor.isA('LevelInfo'))<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;altloc = hitactor.location;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;altloc.y += int(atagzextra);<br><br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(AM.bCollisionDebug)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitActor.SetCollision(false, false, false);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitActor.bCollideWorld = false;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitActor.SetLocation(altloc);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(AM.bCollisionDebug)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitActor.SetCollision(true, true, true);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitActor.bCollideWorld = hitactor.default.bCollideWorld;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;//ASay(string(hitActor.class)$" location was altered by "$int(atagzextra)$".");<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else if(Left(atagz,10)  ~= "offset.y -")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == Sender)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Triggerer = DXP;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;if(Triggerer.bAdmin || IsWhitelisted(Triggerer))<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;loc = Triggerer.Location;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;loc.Z += Triggerer.BaseEyeHeight;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;vline = Vector(Triggerer.ViewRotation) * 10000;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;HitActor = Trace(hitLocation, hitNormal, loc+vline, loc, true);<br>&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if (hitActor != None && !hitActor.isA('LevelInfo'))<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;altloc = hitactor.location;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;altloc.y -= int(Right(atagzextra, Len(atagzextra)-instr(atagzextra,"-")-Len("-")));<br><br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(AM.bCollisionDebug)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitActor.SetCollision(false, false, false);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitActor.bCollideWorld = false;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitActor.SetLocation(altloc);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(AM.bCollisionDebug)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitActor.SetCollision(true, true, true);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitActor.bCollideWorld = hitactor.default.bCollideWorld;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;//ASay(string(hitActor.class)$" location was altered by "$int(atagzextra)$"."$int(Right(atagzextra, Len(atagzextra)-instr(atagzextra,"-")-Len("-"))));<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else if(Left(atagz,9)  ~= "offset.z ")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == Sender)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Triggerer = DXP;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;if(Triggerer.bAdmin || IsWhitelisted(Triggerer))<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;loc = Triggerer.Location;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;loc.Z += Triggerer.BaseEyeHeight;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;vline = Vector(Triggerer.ViewRotation) * 10000;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;HitActor = Trace(hitLocation, hitNormal, loc+vline, loc, true);<br>&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if (hitActor != None && !hitActor.isA('LevelInfo'))<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;altloc = hitactor.location;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;altloc.z += int(atagzextra);<br><br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(AM.bCollisionDebug)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitActor.SetCollision(false, false, false);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitActor.bCollideWorld = false;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitActor.SetLocation(altloc);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(AM.bCollisionDebug)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitActor.SetCollision(true, true, true);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitActor.bCollideWorld = hitactor.default.bCollideWorld;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;//ASay(string(hitActor.class)$" location was altered by "$int(atagzextra)$".");<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else if(Left(atagz,10)  ~= "offset.z -")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == Sender)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Triggerer = DXP;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;if(Triggerer.bAdmin || IsWhitelisted(Triggerer))<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;loc = Triggerer.Location;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;loc.Z += Triggerer.BaseEyeHeight;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;vline = Vector(Triggerer.ViewRotation) * 10000;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;HitActor = Trace(hitLocation, hitNormal, loc+vline, loc, true);<br>&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if (hitActor != None && !hitActor.isA('LevelInfo'))<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;altloc = hitactor.location;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;altloc.z -= int(Right(atagzextra, Len(atagzextra)-instr(atagzextra,"-")-Len("-")));<br><br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(AM.bCollisionDebug)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitActor.SetCollision(false, false, false);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitActor.bCollideWorld = false;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitActor.SetLocation(altloc);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(AM.bCollisionDebug)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitActor.SetCollision(true, true, true);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitActor.bCollideWorld = hitactor.default.bCollideWorld;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;//ASay(string(hitActor.class)$" location was altered by "$int(atagzextra)$"."$int(Right(atagzextra, Len(atagzextra)-instr(atagzextra,"-")-Len("-"))));<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else if(Left(atagz,13)  ~= "rotate.pitch ")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == Sender)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Triggerer = DXP;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;if(Triggerer.bAdmin || IsWhitelisted(Triggerer))<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;loc = Triggerer.Location;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;loc.Z += Triggerer.BaseEyeHeight;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;vline = Vector(Triggerer.ViewRotation) * 10000;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;HitActor = Trace(hitLocation, hitNormal, loc+vline, loc, true);<br>&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if (hitActor != None && !hitActor.isA('LevelInfo'))<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;altrot = hitactor.rotation;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;altrot.pitch += int(atagzextra);<br><br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitActor.setrotation(altrot);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;//ASay(string(hitActor.class)$" rotation was altered by "$int(atagzextra)$".");<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else if(Left(atagz,14)  ~= "rotate.pitch -")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == Sender)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Triggerer = DXP;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;if(Triggerer.bAdmin || IsWhitelisted(Triggerer))<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;loc = Triggerer.Location;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;loc.Z += Triggerer.BaseEyeHeight;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;vline = Vector(Triggerer.ViewRotation) * 10000;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;HitActor = Trace(hitLocation, hitNormal, loc+vline, loc, true);<br>&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if (hitActor != None && !hitActor.isA('LevelInfo'))<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;altrot = hitactor.rotation;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;altrot.pitch -= int(Right(atagzextra, Len(atagzextra)-instr(atagzextra,"-")-Len("-")));<br><br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitActor.Setrotation(altrot);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;//ASay(string(hitActor.class)$" rotation was altered by "$int(atagzextra)$"."$int(Right(atagzextra, Len(atagzextra)-instr(atagzextra,"-")-Len("-"))));<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else if(Left(atagz,12)  ~= "rotate.roll ")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == Sender)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Triggerer = DXP;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;if(Triggerer.bAdmin || IsWhitelisted(Triggerer))<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;loc = Triggerer.Location;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;loc.Z += Triggerer.BaseEyeHeight;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;vline = Vector(Triggerer.ViewRotation) * 10000;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;HitActor = Trace(hitLocation, hitNormal, loc+vline, loc, true);<br>&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if (hitActor != None && !hitActor.isA('LevelInfo'))<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;altrot = hitactor.rotation;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;altrot.roll += int(atagzextra);<br><br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitActor.Setrotation(altrot);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;//ASay(string(hitActor.class)$" rotation was altered by "$int(atagzextra)$".");<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else if(Left(atagz,13)  ~= "rotate.roll -")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == Sender)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Triggerer = DXP;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;if(Triggerer.bAdmin || IsWhitelisted(Triggerer))<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;loc = Triggerer.Location;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;loc.Z += Triggerer.BaseEyeHeight;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;vline = Vector(Triggerer.ViewRotation) * 10000;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;HitActor = Trace(hitLocation, hitNormal, loc+vline, loc, true);<br>&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if (hitActor != None && !hitActor.isA('LevelInfo'))<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;altrot = hitactor.rotation;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;altrot.roll -= int(Right(atagzextra, Len(atagzextra)-instr(atagzextra,"-")-Len("-")));<br><br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitActor.Setrotation(altrot);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;//ASay(string(hitActor.class)$" rotation was altered by "$int(atagzextra)$"."$int(Right(atagzextra, Len(atagzextra)-instr(atagzextra,"-")-Len("-"))));<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else if(Left(atagz,11)  ~= "rotate.yaw ")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == Sender)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Triggerer = DXP;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;if(Triggerer.bAdmin || IsWhitelisted(Triggerer))<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;loc = Triggerer.Location;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;loc.Z += Triggerer.BaseEyeHeight;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;vline = Vector(Triggerer.ViewRotation) * 10000;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;HitActor = Trace(hitLocation, hitNormal, loc+vline, loc, true);<br>&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if (hitActor != None && !hitActor.isA('LevelInfo'))<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;altrot = hitactor.rotation;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;altrot.yaw += int(atagzextra);<br><br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitActor.Setrotation(altrot);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;//ASay(string(hitActor.class)$" rotation was altered by "$int(atagzextra)$".");<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else if(Left(atagz,12)  ~= "rotate.yaw -")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == Sender)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Triggerer = DXP;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;if(Triggerer.bAdmin || IsWhitelisted(Triggerer))<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;loc = Triggerer.Location;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;loc.Z += Triggerer.BaseEyeHeight;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;vline = Vector(Triggerer.ViewRotation) * 10000;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;HitActor = Trace(hitLocation, hitNormal, loc+vline, loc, true);<br>&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if (hitActor != None && !hitActor.isA('LevelInfo'))<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;altrot = hitactor.rotation;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;altrot.yaw -= int(Right(atagzextra, Len(atagzextra)-instr(atagzextra,"-")-Len("-")));<br><br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitActor.Setrotation(altrot);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;//ASay(string(hitActor.class)$" rotation was altered by "$int(atagzextra)$"."$int(Right(atagzextra, Len(atagzextra)-instr(atagzextra,"-")-Len("-"))));<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else if(Left(atagz,12)  ~= "athenaspawn ")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == Sender)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Triggerer = DXP;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;if(Triggerer.bAdmin)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(AM.PrimaryLocation != vect(0,0,0))<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;aTemp = atagzextra;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if ( InStr(aTemp,".") == -1 )<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;aTemp="DeusEx." $ aTemp;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;aClass = class<actor>( DynamicLoadObject( aTemp, class'Class' ) );<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(aClass != None)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Spawn(aClass,,,AM.PrimaryLocation);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;ASay("Spawning object at primary location.");<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else if(Left(atagz,13)  ~= "athenacreate ")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == Sender)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Triggerer = DXP;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;if(Triggerer.bAdmin)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;for(i=0;i<8;i++)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(AM.RememberLocation[i] != vect(0,0,0))<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;aTemp = atagzextra;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if ( InStr(aTemp,".") == -1 )<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;aTemp="DeusEx." $ aTemp;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;aClass = class<actor>( DynamicLoadObject( aTemp, class'Class' ) );<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(aClass != None)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Spawn(aClass,,,AM.RememberLocation[i]);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;ASay("Spawning object at locations.");<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else if(atagz ~= "rememberlocation" || atagz ~= "remloc")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == Sender)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Triggerer = DXP;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;if(Triggerer.bAdmin)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;SaveLocRem(Triggerer.Location);<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else if(atagz ~= "rememberprimary" || atagz ~= "rempri")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == Sender)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Triggerer = DXP;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;if(Triggerer.bAdmin)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;AM.PrimaryLocation = triggerer.Location;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;ASay("Primary location set at"@triggerer.Location);<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else if(atagz ~= "trigger" || atagz ~= "open" || atagz ~= "trig")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == Sender)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Triggerer = DXP;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;if(Triggerer.bAdmin || IsWhitelisted(Triggerer))<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;loc = Triggerer.Location;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;loc.Z += Triggerer.BaseEyeHeight;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;vline = Vector(Triggerer.ViewRotation) * 10000;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;HitActor = Trace(hitLocation, hitNormal, loc+vline, loc, true);<br>&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if (hitActor != None && !hitActor.isA('LevelInfo'))<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitActor.Trigger(Triggerer, Triggerer);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;ASay(string(hitActor.class)@"triggered.");<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else if(atagz ~= "tantalus" || atagz ~= "tant" || atagz ~= "kill")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == Sender)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Triggerer = DXP;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;if(Triggerer.bAdmin)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;loc = Triggerer.Location;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;loc.Z += Triggerer.BaseEyeHeight;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;vline = Vector(Triggerer.ViewRotation) * 10000;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;HitActor = Trace(hitLocation, hitNormal, loc+vline, loc, true);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if (hitActor != None)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitMover = DeusExMover(hitActor);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitPawn = ScriptedPawn(hitActor);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitDecoration = DeusExDecoration(hitActor);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitPlayer = PlayerPawn(hitActor);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if (hitMover != None)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitMover.bBreakable   = true;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitMover.doorStrength = 0;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitMover.TakeDamage(10000, Self, hitLocation, vline, 'Tantalus'); <br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;ASay(string(hitMover.class)@"destroyed.");<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;else if (hitPawn != None)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitPawn.bInvincible    = false;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitPawn.HealthHead     = 0;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitPawn.HealthTorso    = 0;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitPawn.HealthLegLeft  = 0;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitPawn.HealthLegRight = 0;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitPawn.HealthArmLeft  = 0;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitPawn.HealthArmRight = 0;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitPawn.Health         = 0;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitPawn.TakeDamage(10000, Self, hitLocation, vline, 'Tantalus'); <br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;ASay(string(hitPawn.class)@"destroyed.");<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;else if (hitDecoration != None)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitDecoration.bInvincible = false;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitDecoration.HitPoints = 0;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitDecoration.TakeDamage(10000, Self, hitLocation, vline, 'Tantalus'); <br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;ASay(string(hitDecoration.class)@"destroyed.");<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;else if (hitPlayer != None)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitPlayer.ReducedDamageType = '';<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitActor.TakeDamage(5000, Self, hitLocation, vline, 'Tantalus'); <br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;ASay(string(hitactor.class)@"destroyed.");<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;else if (hitActor != Level)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitActor.TakeDamage(5000, Self, hitLocation, vline, 'Tantalus');<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;ASay(string(hitactor.class)@"destroyed.");<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else if(atagz  ~= "push")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;pvel = -700;<br>&#9;&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == Sender)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Triggerer = DXP;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;if(Triggerer.bAdmin)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;loc = Triggerer.Location;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;loc.Z += Triggerer.BaseEyeHeight;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;vline = Vector(Triggerer.ViewRotation) * 10000;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;HitActor = Trace(hitLocation, hitNormal, loc+vline, loc, true);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if (hitActor != None)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitPawn = ScriptedPawn(hitActor);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitDecoration = DeusExDecoration(hitActor);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitPlayer = PlayerPawn(hitActor);<br><br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if (hitPawn != None)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitPawn.SetPhysics(Phys_Falling);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitPawn.Velocity = (normal(Triggerer.Location - hitPawn.Location) * pvel);&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;else if (hitDecoration != None)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitDecoration.SetPhysics(Phys_Falling);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitDecoration.Velocity = (normal(Triggerer.Location - hitDecoration.Location) * pvel);&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;else if (hitPlayer != None)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitPlayer.SetPhysics(Phys_Falling);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitPlayer.Velocity = (normal(Triggerer.Location - hitPlayer.Location) * pvel);&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else if(Left(atagz,5)  ~= "push ")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;if(atagzextra == "")<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;pvel = -700;<br>&#9;&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;pvel = int(atagzextra);<br>&#9;&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == Sender)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Triggerer = DXP;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;if(Triggerer.bAdmin)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;loc = Triggerer.Location;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;loc.Z += Triggerer.BaseEyeHeight;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;vline = Vector(Triggerer.ViewRotation) * 10000;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;HitActor = Trace(hitLocation, hitNormal, loc+vline, loc, true);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if (hitActor != None)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitPawn = ScriptedPawn(hitActor);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitDecoration = DeusExDecoration(hitActor);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitPlayer = PlayerPawn(hitActor);<br><br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if (hitPawn != None)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitPawn.SetPhysics(Phys_Falling);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitPawn.Velocity = (normal(Triggerer.Location - hitPawn.Location) * pvel);&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;else if (hitDecoration != None)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitDecoration.SetPhysics(Phys_Falling);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitDecoration.Velocity = (normal(Triggerer.Location - hitDecoration.Location) * pvel);&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;else if (hitPlayer != None)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitPlayer.SetPhysics(Phys_Falling);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitPlayer.Velocity = (normal(Triggerer.Location - hitPlayer.Location) * pvel);&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else if(atagz ~= "boom" || atagz ~= "blow" || atagz ~= "detonate")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == Sender)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Triggerer = DXP;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;if(Triggerer.bAdmin)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;loc = Triggerer.Location;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;loc.Z += Triggerer.BaseEyeHeight;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;vline = Vector(Triggerer.ViewRotation) * 10000;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;HitActor = Trace(hitLocation, hitNormal, loc+vline, loc, true);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if (hitActor != None)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitMover = DeusExMover(hitActor);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitPawn = ScriptedPawn(hitActor);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitDecoration = DeusExDecoration(hitActor);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitPlayer = PlayerPawn(hitActor);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if (hitMover != None)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitMover.bDrawExplosion = True;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitMover.bBreakable   = true;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitMover.doorStrength = 0;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitMover.TakeDamage(10000, Self, hitLocation, vline, 'Exploded'); <br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;ASay(string(hitMover.class)@"destroyed.");<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;else if (hitPawn != None)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitPawn.bInvincible    = false;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitPawn.HealthHead     = 0;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitPawn.HealthTorso    = 0;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitPawn.HealthLegLeft  = 0;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitPawn.HealthLegRight = 0;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitPawn.HealthArmLeft  = 0;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitPawn.HealthArmRight = 0;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitPawn.Health         = 0;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitPawn.TakeDamage(1000, Self, hitLocation, vline, 'Exploded'); <br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;ASay(string(hitPawn.class)@"destroyed.");<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;else if (hitDecoration != None)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitDecoration.bExplosive = True;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitDecoration.bInvincible = false;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitDecoration.HitPoints = 0;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitDecoration.TakeDamage(1000, Self, hitLocation, vline, 'Exploded'); <br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;ASay(string(hitDecoration.class)@"destroyed.");<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;else if (hitPlayer != None)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitPlayer.ReducedDamageType = '';<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitActor.TakeDamage(5000, Self, hitLocation, vline, 'Exploded'); <br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;ASay(string(hitactor.class)@"destroyed.");<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;else if (hitActor != Level)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitActor.TakeDamage(5000, Self, hitLocation, vline, 'Tantalus');<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;ASay(string(hitactor.class)@"destroyed.");<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else if(atagz ~= "lock")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == Sender)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Triggerer = DXP;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;if(Triggerer.bAdmin)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;loc = Triggerer.Location;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;loc.Z += Triggerer.BaseEyeHeight;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;vline = Vector(Triggerer.ViewRotation) * 10000;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;HitActor = Trace(hitLocation, hitNormal, loc+vline, loc, true);<br>&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if (hitActor != None)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitMover = DeusExMover(hitActor);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if (hitMover != None)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitMover.bLocked = !hitMover.bLocked;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitMover.bPickable = False;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;ASay(string(hitMover.class)@"is now "$hitMover.bLocked);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else if(atagz ~= "inv")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == Sender)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Triggerer = DXP;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;if(Triggerer.bAdmin || IsWhitelisted(Triggerer))<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;loc = Triggerer.Location;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;loc.Z += Triggerer.BaseEyeHeight;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;vline = Vector(Triggerer.ViewRotation) * 10000;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;HitActor = Trace(hitLocation, hitNormal, loc+vline, loc, true);<br>&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(hitActor != None)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(hitActor.isA('DeusExDecoration'))<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;DeusExDecoration(hitActor).bInvincible = !DeusExDecoration(hitActor).bInvincible;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;ASay(string(hitActor.class)@"is"@DeusExDecoration(hitActor).bInvincible);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(hitActor.isA('DeusExPlayer'))<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(DeusExPlayer(hitActor).ReducedDamageType == 'all')<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;DeusExPlayer(hitActor).ReducedDamageType = '';<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;DeusExPlayer(hitActor).ReducedDamageType = 'all';<br>&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;ASay(string(hitActor.class)@"is"@DeusExPlayer(hitActor).reduceddamagetype);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(hitActor.isA('ScriptedPawn'))<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;ScriptedPawn(hitActor).bInvincible = !ScriptedPawn(hitActor).bInvincible;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;ASay(string(hitActor.class)@"is"@ScriptedPawn(hitActor).bInvincible);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else if(atagz ~= "pushable" || atagz ~= "frobbable")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == Sender)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Triggerer = DXP;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;if(Triggerer.bAdmin || IsWhitelisted(Triggerer))<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;loc = Triggerer.Location;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;loc.Z += Triggerer.BaseEyeHeight;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;vline = Vector(Triggerer.ViewRotation) * 10000;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;HitActor = Trace(hitLocation, hitNormal, loc+vline, loc, true);<br>&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if (hitActor != None && hitActor.isA('DeusExDecoration'))<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;DeusExDecoration(hitActor).bPushable = !DeusExDecoration(hitActor).bPushable;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;ASay(string(hitActor.class)@"is"@DeusExDecoration(hitActor).bPushable);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else if(atagz ~= "movable" || atagz ~= "move")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == Sender)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Triggerer = DXP;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;if(Triggerer.bAdmin || IsWhitelisted(Triggerer))<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;loc = Triggerer.Location;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;loc.Z += Triggerer.BaseEyeHeight;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;vline = Vector(Triggerer.ViewRotation) * 10000;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;HitActor = Trace(hitLocation, hitNormal, loc+vline, loc, true);<br>&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if (hitActor != None && (hitActor.isA('DeusExDecoration') || hitActor.IsA('ScriptedPawn') || hitactor.isa('DeusExPlayer')))<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitActor.bMovable = !hitActor.bMovable;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;ASay(string(hitActor.class)@"is"@hitActor.bMovable);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else if(Left(atagz,5)  ~= "find ")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'Actor', A)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(instr(caps(string(a.class)), caps(atagzextra)) != -1)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;count++;<br>&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;ASay("Search for "$atagzextra$" found "$count$" instances.");<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else if(atagz ~= "reach" || atagz ~= "grab")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == Sender)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Triggerer = DXP;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;if(Triggerer.bAdmin)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;loc = Triggerer.Location;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;loc.Z += Triggerer.BaseEyeHeight;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;vline = Vector(Triggerer.ViewRotation) * 90000;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;HitActor = Trace(hitLocation, hitNormal, loc+vline, loc, true);<br>&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if (hitActor != None && hitActor.isA('DeusExDecoration'))<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitActor.SetLocation(Triggerer.Location);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;ASay(string(hitActor.class)@"is grabbed");<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;/*else if(Left(atagz,9)  ~= "setstate ")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == Sender)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Triggerer = DXP;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;if(Triggerer.bAdmin)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;loc = Triggerer.Location;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;loc.Z += Triggerer.BaseEyeHeight;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;vline = Vector(Triggerer.ViewRotation) * 10000;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;HitActor = Trace(hitLocation, hitNormal, loc+vline, loc, true);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if (hitActor != None)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitActor.GoToState(name(AtagzExtra));<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;ASay(hitActor$" state set to "$aTagzExtra);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else if(Left(atagz,10)  ~= "setorders ")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == Sender)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Triggerer = DXP;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;if(Triggerer.bAdmin)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;loc = Triggerer.Location;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;loc.Z += Triggerer.BaseEyeHeight;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;vline = Vector(Triggerer.ViewRotation) * 10000;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;HitActor = Trace(hitLocation, hitNormal, loc+vline, loc, true);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if (scriptedPawn(hitActor) != None)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;scriptedPawn(hitActor).SetOrders(name(ATagzExtra),,True);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;ASay(scriptedPawn(hitActor)$" orders set to "$aTagzExtra);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}*/<br>&#9;&#9;&#9;&#9;&#9;else if(atagz  ~= "setowner")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == Sender)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Triggerer = DXP;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;if(Triggerer.bAdmin)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;loc = Triggerer.Location;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;loc.Z += Triggerer.BaseEyeHeight;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;vline = Vector(Triggerer.ViewRotation) * 10000;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;HitActor = Trace(hitLocation, hitNormal, loc+vline, loc, true);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if (hitActor != None)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;hitActor.SetOwner(Triggerer);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;ASay("Setting ownership.");<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;//ASay("Reading "$atagz$" as primary, "$atagzextra$" as secondary.");<br>&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;&#9;if(!bDontLog)<br>&#9;&#9;&#9;&#9;AM.AddChatlog(s);<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;if(am.bDebugMemory)<br>&#9;&#9;{<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;for(q=0;q<10;q++)<br>&#9;&#9;&#9;&#9;&#9;if(storedlines[q] != "")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;log("Client Recalling "$q$" command "$storedlines[q],'Athena');<br>&#9;&#9;&#9;&#9;&#9;&#9;qstr=storedlines[q];<br>&#9;&#9;&#9;&#9;&#9;&#9;//ClientMessage(qstr,'Say');<br>&#9;&#9;&#9;&#9;&#9;&#9;storedlines[q] = "";<br>&#9;&#9;&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(AM.bDebugInput)<br>&#9;&#9;{<br>&#9;&#9;&#9;&#9;dbg("OUT: REMPLAYER="$RememberPlayer$"("$RememberPlayer.Role$"/"$RememberPlayer.RemoteRole$")   AUTHPLAYER="$CheckAuthPlayer$"("$CheckAuthPlayer.Role$"/"$CheckAuthPlayer.RemoteRole$")    LOG="$!bDontLog$"    COMMAND="$StoredCommand);<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;if(Level.NetMode == NM_Standalone)<br>&#9;&#9;&#9;&#9;&#9;dbg("NM_Standalone");<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;<br><br>&#9;}<br><br></div>
<h3 id="AthenaSpectator.CycleStyle"><a class="headerlink" href="#AthenaSpectator.CycleStyle" title="Permanent link">CycleStyle</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(AM.ChatStyle == S_Default)<br>&#9;{<br>&#9;&#9;AM.ChatStyle = S_IRC;<br>&#9;&#9;AM.saveConfig();<br>&#9;&#9;&#9;ASay("New chat style set. ["$AM.ChatStyle$"]");<br>&#9;&#9;return;<br>&#9;}<br><br>&#9;if(AM.ChatStyle == S_IRC)<br>&#9;{<br>&#9;&#9;AM.ChatStyle = S_Player;<br>&#9;&#9;AM.saveConfig();<br>&#9;&#9;&#9;ASay("New chat style set. ["$AM.ChatStyle$"]");<br>&#9;&#9;return;<br>&#9;}<br><br>&#9;if(AM.ChatStyle == S_Player)<br>&#9;{<br>&#9;&#9;AM.ChatStyle = S_Stealth;<br>&#9;&#9;AM.saveConfig();<br>&#9;&#9;&#9;ASay("New chat style set. ["$AM.ChatStyle$"]");<br>&#9;&#9;return;<br>&#9;}<br>&#9;<br>&#9;if(AM.ChatStyle == S_Stealth)<br>&#9;{<br>&#9;&#9;AM.ChatStyle = S_Default;<br>&#9;&#9;AM.saveConfig();<br>&#9;&#9;&#9;ASay("New chat style set. ["$AM.ChatStyle$"]");<br>&#9;&#9;return;<br>&#9;}<br><br></div>
<h3 id="AthenaSpectator.FindPlayerFromName"><a class="headerlink" href="#AthenaSpectator.FindPlayerFromName" title="Permanent link">FindPlayerFromName</a> (string str) -> playerpawn</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local playerpawn pp;<br><br>&#9;foreach AllActors(class'PlayerPawn', PP)<br>&#9;{<br>&#9;&#9;if(PP.PlayerReplicationInfo.Playername ~= str)<br>&#9;&#9;{<br>&#9;&#9;&#9;<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="AthenaSpectator.GetFlag"><a class="headerlink" href="#AthenaSpectator.GetFlag" title="Permanent link">GetFlag</a> (deusexplayer Flagger) -> string</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local mpFlags Flagz, TargetFlagz;<br><br>&#9;<br>&#9;foreach AllActors(class'mpFlags', Flagz)<br>&#9;&#9;if(Flagz.Flagger == Flagger)<br>&#9;&#9;&#9;return Flagz.Killphrase;<br><br></div>
<h3 id="AthenaSpectator.GetHex"><a class="headerlink" href="#AthenaSpectator.GetHex" title="Permanent link">GetHex</a> -> string</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int i;<br><br>&#9;if(FRand() < 0.2)<br>&#9;&#9;return "a";<br>&#9;else if(FRand() >= 0.2 && FRand() < 0.4)<br>&#9;&#9;return "b";<br>&#9;else if(FRand() >= 0.4 && FRand() < 0.6)<br>&#9;&#9;return "c";<br>&#9;else if(FRand() >= 0.6 && FRand() < 0.8)<br>&#9;&#9;return "d";<br>&#9;else if(FRand() >= 0.8)<br>&#9;&#9;return "f";<br><br></div>
<h3 id="AthenaSpectator.GetName"><a class="headerlink" href="#AthenaSpectator.GetName" title="Permanent link">GetName</a> (deusexplayer dxp) -> string</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;return DXP.PlayerReplicationInfo.PlayerName;<br><br></div>
<h3 id="AthenaSpectator.GetRealName"><a class="headerlink" href="#AthenaSpectator.GetRealName" title="Permanent link">GetRealName</a> (deusexplayer dxp) -> string</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;return DXP.PlayerReplicationInfo.PlayerName;<br><br></div>
<h3 id="AthenaSpectator.IsBannedItem"><a class="headerlink" href="#AthenaSpectator.IsBannedItem" title="Permanent link">IsBannedItem</a> (string str) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int n;<br><br>&#9;for (n=0;n<17;n++)<br>&#9;&#9;if(AM.BannedObjects[n] != "")<br>&#9;&#9;{<br>&#9;&#9;&#9;if(AM.BannedObjects[n] == str)<br>&#9;&#9;&#9;return true;<br>&#9;&#9;}<br><br></div>
<h3 id="AthenaSpectator.IsWhitelisted"><a class="headerlink" href="#AthenaSpectator.IsWhitelisted" title="Permanent link">IsWhitelisted</a> (deusexplayer dxp) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int n;<br>&#9;local string str;<br>&#9;local LoginInfo LI;<br><br>&#9;<br>&#9;foreach AllActors(class'LoginInfo', LI)<br>&#9;{<br>&#9;&#9;if(LI.Flagger == dxp)<br>&#9;&#9;{<br>&#9;&#9;&#9;return LI.bWhitelisted;<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;str = dxp.Playerreplicationinfo.playername;<br>&#9;<br>&#9;if(!AM.bAllowWhitelist)<br>&#9;&#9;return false;<br>&#9;&#9;<br>&#9;for (n=0;n<20;n++)<br>&#9;&#9;if(AM.WhitelistNames[n] != "")<br>&#9;&#9;{<br>&#9;&#9;&#9;if(AM.WhitelistNames[n] == str)<br>&#9;&#9;&#9;return true;<br>&#9;&#9;}<br><br></div>
<h3 id="AthenaSpectator.KillBlind"><a class="headerlink" href="#AthenaSpectator.KillBlind" title="Permanent link">KillBlind</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Blinder bl;<br><br>&#9;foreach AllActors(class'Blinder',BL)<br>&#9;{<br>&#9;&#9;BL.Destroy();<br>&#9;}<br>&#9;ASay("Killed all blinders.");<br><br></div>
<h3 id="AthenaSpectator.Killme"><a class="headerlink" href="#AthenaSpectator.Killme" title="Permanent link">Killme</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local AthenaMutator AM;<br><br>&#9;foreach Allactors(class'AthenaMutator', AM)<br>&#9;{<br>&#9;&#9;AM.Killphrase = generateRandStr(4);<br>&#9;&#9;AM.AS = None;<br>&#9;&#9;Destroy();<br>&#9;&#9;BroadcastMessage("Athena closed by killphrase.");<br>&#9;}<br><br></div>
<h3 id="AthenaSpectator.ListAdmins"><a class="headerlink" href="#AthenaSpectator.ListAdmins" title="Permanent link">ListAdmins</a> -> string</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer _Player;<br>&#9;local string _TmpString;<br><br>      ForEach AllActors(class 'DeusExPlayer', _Player)<br>      {<br>        if(_Player != None && _Player.bAdmin)<br>        {<br>          _TmpString = _TmpString$_Player.PlayerReplicationInfo.PlayerName$"("$_Player.PlayerReplicationInfo.PlayerID$"), ";<br>        }<br>      }<br>      if(Len(_TmpString) == 0)<br>      {<br>        _TmpString = "None...";<br>      }<br>      else<br>      {<br>        _TmpString = Left(_TmpString, Len(_TmpString)-2);<br>      }<br>      _TmpString = "Online Admins are"@_TmpString;<br>      return _TmpString;<br><br></div>
<h3 id="AthenaSpectator.Marked"><a class="headerlink" href="#AthenaSpectator.Marked" title="Permanent link">Marked</a> (deusexplayer P) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local string IP;<br>&#9;local int n;<br>&#9;local bool bMarked;<br>&#9;local bool bFoundName;<br><br>&#9;IP = P.GetPlayerNetworkAddress();<br>&#9;&#9;&#9;IP = Left(IP, InStr(IP, ":"));<br>&#9;&#9;for (n=0;n<30;n++)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(IP == AM.TroublePlayerIP[n])<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;Log("IP found on Marks list.",'MARK');<br>&#9;&#9;&#9;&#9;bMarked=True; //Found ya, jackass.<br>&#9;&#9;&#9;&#9;&#9;for (n=0;n<30;n++)<br>&#9;&#9;&#9;&#9;&#9;&#9;if(P.PlayerReplicationInfo.PlayerName ~= AM.TroublePlayersNames[n])<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;bFoundName=True;<br><br>&#9;&#9;&#9;&#9;if(!bFoundName) //You changed your name huh? well that ones being added too.<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;AddNameToMarks(P.PlayerReplicationInfo.PlayerName);<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(!bMarked) //Okay, so their IP wasnt listed, what about the name.<br>&#9;&#9;{<br>&#9;&#9;&#9;for (n=0;n<30;n++)<br>&#9;&#9;&#9;&#9;if(P.PlayerReplicationInfo.PlayerName ~= AM.TroublePlayersNames[n])<br>&#9;&#9;&#9;&#9;&#9;bMarked=True; //Gotcha. But don't bother adding a new IP, since if this occurs, it's probably a dynamic IP and just fill the logs with nonsense.<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(bMarked)<br>&#9;&#9;&#9;return True;<br>&#9;&#9;else<br>&#9;&#9;&#9;return False;<br><br></div>
<h3 id="AthenaSpectator.ResetVars"><a class="headerlink" href="#AthenaSpectator.ResetVars" title="Permanent link">ResetVars</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;bPublicCommand=False;<br>&#9;LastCommand = StoredCommand;<br>&#9;bLastCommandAuth=False;<br>&#9;LastRemStr=RememberString;<br>&#9;LastRemName=RememberName;<br>&#9;LastRemPlayer=RememberPlayer;<br>&#9;lastremint=RememberInt;<br>&#9;<br>&#9;bCheckingWhitelist=False;<br>&#9;CheckAuthPlayer=None;<br>&#9;RememberString="";<br>&#9;RememberName="";<br>&#9;RememberPlayer=None;<br>&#9;StoredCommand="";<br>&#9;rememberint=0;<br>&#9;AStatus("");<br><br></div>
<h3 id="AthenaSpectator.SaveComment"><a class="headerlink" href="#AthenaSpectator.SaveComment" title="Permanent link">SaveComment</a> (string str)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int a, i, j, ID, amount;<br>&#9;local string IP, AName, Part, noobCommand, bm, Others, _tmpString;<br>&#9;local string msgsender, msgdate;<br>&#9;local string formattedmin;<br><br>&#9;<br>&#9;&#9;if(Sendtypepublic == "player")<br>&#9;&#9;{<br>&#9;&#9;&#9;IP = RememberPlayer.GetPlayerNetworkAddress();<br>&#9;&#9;&#9;MSGSender = getname(rememberplayer);<br>&#9;&#9;}<br>&#9;&#9;else if(Sendtypepublic == "telnet")<br>&#9;&#9;{<br>&#9;&#9;&#9;IP = "TELNET";<br>&#9;&#9;&#9;msgsender = Sender;<br>&#9;&#9;}<br>&#9;&#9;else if(Sendtypepublic == "irc")<br>&#9;&#9;{<br>&#9;&#9;&#9;IP = "IRC";<br>&#9;&#9;&#9;msgsender = Sender;<br>&#9;&#9;}<br>&#9;&#9;&#9;if(level.minute <= 9)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;formattedmin = "0"$level.minute;<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;formattedmin = string(level.minute);<br>&#9;&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;MSGdate = level.day$"/"$level.month$"/"$level.year$" @ "$level.hour$":"$formattedmin;<br>&#9;&#9;&#9;for(i=0;i<50;i++)<br>&#9;&#9;&#9;&#9;if(AM.Feedback[i] == "")<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;AM.Feedback[i] = "["$msgdate$"] USER:"@msgsender@"("$IP$"):"@str;<br>&#9;&#9;&#9;&#9;&#9;AM.SaveConfig();<br>&#9;&#9;&#9;&#9;&#9;RememberPlayer=None;<br>&#9;&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;&#9;}<br><br></div>
<h3 id="AthenaSpectator.SaveLocRem"><a class="headerlink" href="#AthenaSpectator.SaveLocRem" title="Permanent link">SaveLocRem</a> (vector locaterr)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int i;<br><br>&#9;for(i=0;i<8;i++)<br>&#9;if(AM.RememberLocation[i] == vect(0,0,0))<br>&#9;{<br>&#9;&#9;ASay("Saving"@locaterr@"to slot"@i);<br>&#9;&#9;AM.RememberLocation[i] = locaterr;<br>&#9;&#9;return;<br>&#9;}&#9;<br><br></div>
<h3 id="AthenaSpectator.SaveMemo"><a class="headerlink" href="#AthenaSpectator.SaveMemo" title="Permanent link">SaveMemo</a> (string str)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int a, i, j, ID, amount;<br>&#9;local string IP, AName, Part, noobCommand, bm, Others, _tmpString;<br>&#9;local string msgsender, msgdate;<br>&#9;local string formattedmin;<br><br><br>&#9;&#9;&#9;for(i=0;i<50;i++)<br>&#9;&#9;&#9;&#9;if(AM.Memo[i] == "")<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;AM.Memo[i] = "["$remembername$"]"@str;<br>&#9;&#9;&#9;&#9;&#9;AM.SaveConfig();<br>&#9;&#9;&#9;&#9;&#9;RememberPlayer=None;<br>&#9;&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;&#9;}<br><br></div>
<h3 id="AthenaSpectator.SearchHelp"><a class="headerlink" href="#AthenaSpectator.SearchHelp" title="Permanent link">SearchHelp</a> (string str)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int n;<br>&#9;local bool bFound;<br>&#9;local DeusExPlayer HP;<br><br>&#9;<br>&#9;if( (instr(caps(str), caps("nothing")) != -1 || instr(caps(str), caps("cancel")) != -1) || (instr(caps(str), caps("nevermind")) != -1 || instr(caps(str), caps("nvm")) != -1) )<br>&#9;{<br>&#9;&#9;ASay("Fine.");<br>&#9;&#9;bFound=True;<br>&#9;}<br>&#9;<br>&#9;if(Len(str) <= 3)<br>&#9;{<br>&#9;&#9;ASay("Request string is too short and will output too many replies. Try to be more specific.");<br>&#9;&#9;bFound=True;<br>&#9;}<br>&#9;<br>&#9;for (n=0;n<49;n++)<br>&#9;{<br>&#9;&#9;if(instr(caps(AM.HelpKeywords[n]), caps(str)) != -1)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(AM.bShowMessageHelp)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;ASay("Help printed to screen.");<br>&#9;&#9;&#9;&#9;foreach AllActors(Class'SM',SMMut)<br>&#9;&#9;&#9;&#9;&#9;if(SMMut != None)<br>&#9;&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',HP);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;SMMut.ShowMessage(HP, AM.HelpReply[n]);<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;ASay(AM.HelpReply[n]);<br>&#9;&#9;&#9;bFound=True;<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;if(!bFound)<br>&#9;{<br>&#9;&#9;ASay("No help file found for this keyword. Make sure you're searching for vague keywords to improve searching. ["$str$"]");<br>&#9;}<br><br></div>
<h3 id="AthenaSpectator.SendToChatlog"><a class="headerlink" href="#AthenaSpectator.SendToChatlog" title="Permanent link">SendToChatlog</a> (string str)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;AM.AddChatlog(str);<br><br></div>
<h3 id="AthenaSpectator.SpawnExplosion"><a class="headerlink" href="#AthenaSpectator.SpawnExplosion" title="Permanent link">SpawnExplosion</a> (vector Loc)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local ShockRing s1, s2, s3;<br>&#9;local SphereEffect se;<br><br><br>    s1 = spawn(class'ShockRing',,,Loc,rot(16384,0,0));<br>&#9;s1.Lifespan = 2.5;<br>    s2 = spawn(class'ShockRing',,,Loc,rot(0,16384,0));<br>&#9;s2.Lifespan = 2.5;<br>    s3 = spawn(class'ShockRing',,,Loc,rot(0,0,16384));<br>&#9;S3.Lifespan = 2.5;<br>&#9;se = spawn(class'SphereEffect',,,Loc,rot(16384,0,0));<br>&#9;se.Lifespan = 2.5;<br>&#9;se.MultiSkins[0]=Texture'DeusExDeco.Skins.AlarmLightTex7';<br><br></div>
<h3 id="AthenaSpectator.SpawnExplosionLite"><a class="headerlink" href="#AthenaSpectator.SpawnExplosionLite" title="Permanent link">SpawnExplosionLite</a> (vector Loc)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local ShockRing s1, s2, s3;<br>&#9;local SphereEffect se;<br><br><br>    s1 = spawn(class'ShockRing',,,Loc,rot(16384,0,0));<br>&#9;s1.Lifespan = 1.5;<br>    s2 = spawn(class'ShockRing',,,Loc,rot(0,16384,0));<br>&#9;s2.Lifespan = 1.5;<br>    s3 = spawn(class'ShockRing',,,Loc,rot(0,0,16384));<br>&#9;S3.Lifespan = 1.5;<br><br></div>
<h3 id="AthenaSpectator.SpawnExplosionSphere"><a class="headerlink" href="#AthenaSpectator.SpawnExplosionSphere" title="Permanent link">SpawnExplosionSphere</a> (vector Loc)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local ShockRing s1, s2, s3;<br>&#9;local SphereEffect se;<br><br>&#9;se = spawn(class'SphereEffect',,,Loc,rot(16384,0,0));<br>&#9;se.Lifespan = 2.0;<br>&#9;se.MultiSkins[0]=Texture'DeusExDeco.Skins.AlarmLightTex7';<br><br></div>
<h3 id="AthenaSpectator.Tick"><a class="headerlink" href="#AthenaSpectator.Tick" title="Permanent link">Tick</a> (float deltatime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(AM.bRunInternalChecks)<br>&#9;{<br>&#9;&#9;if(Self.Playerreplicationinfo == None)<br>&#9;&#9;{<br>&#9;&#9;&#9;BroadcastMessage("|P2INTERNAL ERROR: Athena server replication not found. Restarting spectator.");<br>&#9;&#9;&#9;AM.DebugBots(1);<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="AthenaSpectator.Timer"><a class="headerlink" href="#AthenaSpectator.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int n, i, amount, r;<br>&#9;local string IP;<br>&#9;local DeusExPlayer DXP;<br>&#9;local string realstr;<br>&#9;local bool bFoundMemo;<br>&#9;local bool bGotAccess;<br>&#9;local DeusExDecoration DXD;<br>&#9;local inventory inv;<br>&#9;local DeusExDecoration Deco;<br>&#9;local scriptedpawn sp;<br>&#9;local actor a;<br>&#9;local bool bFoundSmiteTarget;<br>&#9;local RCONManager RM;<br>&#9;local RCON RC;<br>&#9;local AthRecall AR;<br>&#9;local DelayCMD DCMD;<br>&#9;local bool bFoundOne;<br>&#9;local string remstr;<br>&#9;local string FoundMessage[6];<br>&#9;local string xstr;<br>&#9;local int ra, rb;<br>&#9;local irclink irl;<br>&#9;local string radStr;<br>&#9;local AthenaVision athVis;<br>&#9;local PollBot PB;<br>&#9;local string SetA, SetB;<br>&#9;local int cint;<br>&#9;local string finalauthname, aTemp;<br>&#9;local vector loc, line, HitLocation, hitNormal;<br>&#9;local bool bQD;<br>&#9;local bool bWasAdmin;<br>&#9;local string ret, addr, state, names, moreinfo;<br>&#9;local class<actor> aClass;<br>&#9;local qi q;<br><br>&#9;if(storedcommand == "aiclient")<br>&#9;{<br>&#9;&#9;AM.SendTextToAIClient(rememberstring);<br>&#9;&#9;RememberString="";<br>&#9;&#9;AStatus("");<br>&#9;&#9;ResetVars();<br>&#9;&#9;return;<br>&#9;}<br>&#9;<br>&#9;if(storedcommand == "starthelp2" && rememberstring != "")<br>&#9;{<br>&#9;&#9;SearchHelp(RememberString);<br>&#9;&#9;RememberString="";<br>&#9;&#9;AStatus("");<br>&#9;&#9;ResetVars();<br>&#9;&#9;return;<br>&#9;}<br>&#9;<br>&#9;if(bGettingHelp && RememberString != "")<br>&#9;{<br>&#9;&#9;SearchHelp(RememberString);<br>&#9;&#9;bGettingHelp=False;<br>&#9;&#9;RememberString="";<br>&#9;&#9;AStatus("");<br>&#9;&#9;return;<br>&#9;}<br>&#9;<br>&#9;if(bGettingHelp && RememberString == "")<br>&#9;{<br>&#9;&#9;ASay("No replies in time, cancelling help request.");<br>&#9;&#9;bGettingHelp=False;<br>&#9;&#9;RememberString="";<br>&#9;&#9;AStatus("");<br>&#9;&#9;return;<br>&#9;}<br>&#9;<br>&#9;//Pre-auth zone<br>&#9;if(bInitBroadcast)<br>&#9;{<br>&#9;&#9;bInitBroadcast=False;<br>&#9;&#9;&#9;/*if(Authplayername == "")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;finalauthname = AM.RCR(GetName(CheckAuthPlayer));<br>&#9;&#9;&#9;&#9;finalauthname = AM.RCR2(finalauthname);<br>&#9;&#9;&#9;&#9;Authplayername = finalauthname;<br>&#9;&#9;&#9;}*/<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(instr(AuthPlayerName, "] |P1") != -1) //Battleground Status chat fix<br>&#9;&#9;&#9;&#9;AuthPlayerName = Right(AuthPlayerName, Len(AuthPlayerName)-instr(AuthPlayerName,"] |P1")-Len("] |P1"));<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;Log("Running Auth player"@Authplayername);<br>&#9;&#9;/*ra = Rand(3);<br>&#9;&#9;&#9;if(ra == 0)<br>&#9;&#9;&#9;&#9;ASay("Please wait, "$Authplayername$". This request requires authentication, I'll need to check the access list.");<br>&#9;&#9;&#9;else if(ra == 1)<br>&#9;&#9;&#9;&#9;ASay("Hang on a moment, "$Authplayername$", I'll need to check the access list before I can do that.");<br>&#9;&#9;&#9;else if(ra == 2)<br>&#9;&#9;&#9;&#9;ASay("Fine, but give me a minute "$Authplayername$"... ");*/<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;AStatus("Checking auth list...");<br>&#9;&#9;SetTimer(0.1,False);<br>&#9;&#9;return;<br>&#9;}<br>&#9;<br>&#9;//Public zone<br>&#9;if(bPublicCommand)<br>&#9;{<br>&#9;&#9;if(StoredCommand == "starthelp")<br>&#9;&#9;{<br>&#9;&#9;&#9;if(rememberhelp != "")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;SetTimer(0.1,False);<br>&#9;&#9;&#9;&#9;RememberString = RememberHelp;<br>&#9;&#9;&#9;}<br><br>&#9;&#9;&#9;ra = Rand(3);<br>&#9;&#9;&#9;if(ra == 0)<br>&#9;&#9;&#9;&#9;ASay("What would you like help with?");<br>&#9;&#9;&#9;else if(ra == 1)<br>&#9;&#9;&#9;&#9;ASay("What key word should I search for?");<br>&#9;&#9;&#9;else if(ra == 2)<br>&#9;&#9;&#9;&#9;ASay("Alright, what do you want to know?");<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;ResetVars();<br>&#9;&#9;&#9;bGettingHelp=True;<br>&#9;&#9;&#9;AStatus("Listening for help request...");<br>&#9;&#9;&#9;SetTimer(15,False);<br>&#9;&#9;}<br>&#9;&#9;if(StoredCommand == "activateawatch")<br>&#9;&#9;{<br>&#9;&#9;&#9;AM.SpawnAbuseWatch();<br>&#9;&#9;&#9;ASay("Now enforcing temporary anti-abuse measures.");<br>&#9;&#9;&#9;&#9;&#9;&#9;ResetVars();<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(StoredCommand == "athenapawn")<br>&#9;&#9;{<br>&#9;&#9;&#9;AM.CreatePawn();<br>&#9;&#9;&#9;ASay("Avatar created.");<br>&#9;&#9;&#9;ResetVars();<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(StoredCommand == "custom")<br>&#9;&#9;{<br>&#9;&#9;&#9;ASay(storedrep);<br>&#9;&#9;&#9;ResetVars();<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(StoredCommand == "length")<br>&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;ASay(rememberstring@"is"@len(rememberstring)@"characters long.");<br>&#9;&#9;&#9;ResetVars();<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(StoredCommand == "chatlognum")<br>&#9;&#9;{<br>&#9;&#9;&#9;if(RememberInt < 10 && rememberint >= 1)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;ASay("["$AM.Chatlogs[rememberint]$"]");<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;ASay("Value must be between 0 and 9.");<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;ResetVars();<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(StoredCommand == "poll")<br>&#9;&#9;{<br>&#9;&#9;&#9;PB = Spawn(class'PollBot');<br>&#9;&#9;&#9;PB.AStatus(Rememberstring);<br>&#9;&#9;&#9;PB.Poll = RememberString;<br>&#9;&#9;&#9;PB.bBoolPoll=True;<br>&#9;&#9;&#9;PB.ASay("Polling"@RememberString$". Say YES or NO.");<br>&#9;&#9;&#9;PB.SetTimer(30,False);<br>&#9;&#9;&#9;&#9;&#9;&#9;ResetVars();<br>&#9;&#9;}<br><br>&#9;&#9;if(StoredCommand == "chatlogrepeat")<br>&#9;&#9;{<br>&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(DXP != RememberPlayer)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;ASayPrivate(DXP, "Outputting chat log for"@GetName(RememberPlayer));<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;ASayPrivate(RememberPlayer, "[0] "$AM.Chatlogs[0],True);<br>&#9;&#9;&#9;ASayPrivate(RememberPlayer, "[1] "$AM.Chatlogs[1]);<br>&#9;&#9;&#9;ASayPrivate(RememberPlayer, "[2] "$AM.Chatlogs[2]);<br>&#9;&#9;&#9;ASayPrivate(RememberPlayer, "[3] "$AM.Chatlogs[3]);<br>&#9;&#9;&#9;ASayPrivate(RememberPlayer, "[4] "$AM.Chatlogs[4]);<br>&#9;&#9;&#9;ASayPrivate(RememberPlayer, "[5] "$AM.Chatlogs[5]);<br>&#9;&#9;&#9;ASayPrivate(RememberPlayer, "[6] "$AM.Chatlogs[6]);<br>&#9;&#9;&#9;ASayPrivate(RememberPlayer, "[7] "$AM.Chatlogs[7]);<br>&#9;&#9;&#9;ASayPrivate(RememberPlayer, "[8] "$AM.Chatlogs[8]);<br>&#9;&#9;&#9;ASayPrivate(RememberPlayer, "[9] "$AM.Chatlogs[9]);<br>&#9;&#9;&#9;ResetVars();<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(StoredCommand == "uptime")<br>&#9;&#9;{<br>&#9;&#9;&#9;if(AM.GetUptimeHours() == 0)<br>&#9;&#9;&#9;&#9;ASay("This map has been running for"@AM.GetUptimeMinutes()@"minutes.");<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;ASay("This map has been running for"@AM.GetUptimeHours()@"hours and"@AM.GetUptimeMinutes()@"minutes.");<br>&#9;&#9;&#9;ResetVars();<br>&#9;&#9;}&#9;&#9;&#9;<br>&#9;&#9;<br>&#9;&#9;if(StoredCommand == "checkvars")<br>&#9;&#9;{<br>&#9;&#9;&#9;ASay("DayRec: "$AM.DayRec$", PlayerNum: "$AM.PlayerNum$", Chat Colour: "$AM.ChatColour);<br>&#9;&#9;&#9;ASay("ProtocolM: "$AM.bProtocolM$", ShutdownTime: "$AM.ShutdownTime);<br>&#9;&#9;&#9;ASay("Smart Reader: "$AM.bSmartReader$", Auto Start: "$AM.bAutoStart);<br>&#9;&#9;&#9;ResetVars();<br>&#9;&#9;}<br><br>&#9;&#9;if(StoredCommand == "coin")<br>&#9;&#9;{<br>&#9;&#9;&#9;if(FRand() < 0.5)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;ASay("You got heads.");<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;ASay("It's tails.");<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;ResetVars();<br>&#9;&#9;}<br><br>&#9;&#9;if(StoredCommand == "randnum")<br>&#9;&#9;{<br>&#9;&#9;&#9;rememberint++;<br>&#9;&#9;&#9;ASay("Okay. "$Rand(rememberint));<br>&#9;&#9;&#9;ResetVars();<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(storedcommand == "randomstring")<br>&#9;&#9;{<br>&#9;&#9;&#9;if(rememberint > 420)<br>&#9;&#9;&#9;&#9;rememberint=420;<br>&#9;&#9;&#9;ASay(generateRandStr(rememberint));<br>&#9;&#9;&#9;ResetVars();<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(storedcommand == "randomchar")<br>&#9;&#9;{<br>&#9;&#9;&#9;if(rememberint > 420)<br>&#9;&#9;&#9;&#9;rememberint=420;<br>&#9;&#9;&#9;ASay(generateRandchar(rememberint));<br>&#9;&#9;&#9;ResetVars();<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(StoredCommand == "getrconvar")<br>&#9;&#9;{<br>&#9;&#9;&#9;foreach AllActors(class'RCONManager', RM)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;ASay("bRCONMutator: "$RM.bRCONMutator$", bNameguard: "$RM.bNameguard$", bNPTProxy: "$RM.bNPTProxy$", bAutomaticTeamSorting: "$RM.bAutomaticTeamSorting$", bLoadouts: "$RM.bLoadouts);<br>&#9;&#9;&#9;&#9;ASay("bReplacer: "$RM.bReplacer$", bForceNPTUscriptAPI: "$RM.bForceNPTUscriptAPI$", bIRC: "$RM.bIRC$", bStats: "$RM.bStats$", bMessager: "$RM.bMessager$", bAthena: "$RM.bAthena);<br>&#9;&#9;&#9;&#9;ASay("bForceGametype: "$RM.bForceGametype$", ForceGametype: "$RM.ForceGametype);<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;ResetVars();<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(StoredCommand == "mapvote")<br>&#9;&#9;{<br>&#9;&#9;&#9;RememberPlayer.ConsoleCommand("mutate rcon.votemap"@rememberstring);<br>&#9;&#9;&#9;&#9;&#9;&#9;ResetVars();<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(StoredCommand == "thanks")<br>&#9;&#9;{<br>&#9;&#9;&#9;r = Rand(5);<br>&#9;&#9;&#9;if(r == 0)<br>&#9;&#9;&#9;&#9;ASay("Not a problem.");<br>&#9;&#9;&#9;else if(r == 1)<br>&#9;&#9;&#9;&#9;ASay("It's fine, just don't push it.");<br>&#9;&#9;&#9;else if(r == 2)<br>&#9;&#9;&#9;&#9;ASay("Whatever.");<br>&#9;&#9;&#9;else if(r == 3)<br>&#9;&#9;&#9;&#9;ASay("Just know, I do it because I'm told to.");<br>&#9;&#9;&#9;else if(r == 4)<br>&#9;&#9;&#9;&#9;ASay("Do you even mean that? Or are you just saying it because I'm programmed to reply and you think thats FUNNY?");<br>&#9;&#9;&#9;ResetVars();<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(StoredCommand == "laugh")<br>&#9;&#9;{<br>&#9;&#9;&#9;r = Rand(6);<br>&#9;&#9;&#9;if(r == 0)<br>&#9;&#9;&#9;&#9;ASay("MWAHA HAHA HAHA HAHA.");<br>&#9;&#9;&#9;else if(r == 1)<br>&#9;&#9;&#9;&#9;ASay("Teehee.");<br>&#9;&#9;&#9;else if(r == 2)<br>&#9;&#9;&#9;&#9;ASay("*giggle*");<br>&#9;&#9;&#9;else if(r == 3)<br>&#9;&#9;&#9;&#9;ASay("No.");<br>&#9;&#9;&#9;else if(r == 4)<br>&#9;&#9;&#9;&#9;ASay("Heh.");<br>&#9;&#9;&#9;else if(r == 5)<br>&#9;&#9;&#9;&#9;ASay("Heh... Haha...... hahahahaa.......... BWAHAHAHAHAHAHHAHAHAHAA... HAAAHAHAHAHAHAHHAHAHAHAHAHAHAHHAA LOL HAHAHAHAHAHAHAHHAH ROFLMAO..... Happy?");<br>&#9;&#9;&#9;ResetVars();<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(StoredCommand == "howareyou")<br>&#9;&#9;{<br>&#9;&#9;&#9;r = Rand(4);<br>&#9;&#9;&#9;if(r == 0)<br>&#9;&#9;&#9;&#9;ASay("Not too bad, you?");<br>&#9;&#9;&#9;else if(r == 1)<br>&#9;&#9;&#9;&#9;ASay("Systems are nominal.");<br>&#9;&#9;&#9;else if(r == 2)<br>&#9;&#9;&#9;&#9;ASay("Could be better.");<br>&#9;&#9;&#9;else if(r == 3)<br>&#9;&#9;&#9;&#9;ASay("Do you actually care, or are you just abusing the fact that I must respond to stupid questions?");<br>&#9;&#9;&#9;ResetVars();<br>&#9;&#9;}<br>&#9;<br>&#9;&#9;if(StoredCommand == "greet")<br>&#9;&#9;{<br>&#9;&#9;&#9;r = Rand(4);<br>&#9;&#9;&#9;if(r == 0)<br>&#9;&#9;&#9;&#9;ASay("Good "$AM.CW.GetTimeStr()$", "$RememberName);<br>&#9;&#9;&#9;else if(r == 1)<br>&#9;&#9;&#9;&#9;ASay("Greetings, "$RememberName$".");<br>&#9;&#9;&#9;else if(r == 2)<br>&#9;&#9;&#9;&#9;ASay("Great, another player looking for friendship in a robot.");<br>&#9;&#9;&#9;else if(r == 3)<br>&#9;&#9;&#9;&#9;ASay("I only respond because I must..");<br>&#9;&#9;&#9;ResetVars();<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(StoredCommand == "killcount")<br>&#9;&#9;{<br>&#9;&#9;&#9;ASay("I've killed "$killcountnpc$" bots and "$killcountplayer$" players this round.");<br>&#9;&#9;&#9;ResetVars();<br>&#9;&#9;}<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;if(StoredCommand == "whois")<br>&#9;&#9;{<br>&#9;&#9;&#9;ASay("I am Athena, Keeper of the Peace, created by Kai 'TheClown'. I read the chat for certain key phrases and respond accordingly.");<br>&#9;&#9;&#9;ResetVars();<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(StoredCommand == "onlineadmins")<br>&#9;&#9;{<br>&#9;&#9;&#9;ASay(ListAdmins());<br>&#9;&#9;&#9;ResetVars();<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(StoredCommand == "smite")<br>&#9;&#9;{<br>&#9;&#9;&#9;r = Rand(4);<br>&#9;&#9;&#9;if(r == 0)<br>&#9;&#9;&#9;&#9;ASay("Yeah, alright.");<br>&#9;&#9;&#9;else if(r == 1)<br>&#9;&#9;&#9;&#9;ASay("Gladly.");<br>&#9;&#9;&#9;else if(r == 2)<br>&#9;&#9;&#9;&#9;ASay("You don't need to tell me twice.");<br>&#9;&#9;&#9;else if(r == 3)<br>&#9;&#9;&#9;&#9;ASay("I'm going to enjoy this....");<br>&#9;&#9;&#9;r = Rand(4);<br>&#9;&#9;&#9;if(r == 0)<br>&#9;&#9;&#9;&#9;AVoice(sound'Athena.AthenaDead', RememberPlayer);<br>&#9;&#9;&#9;else if(r == 1)<br>&#9;&#9;&#9;&#9;AVoice(sound'Athena.AthenaTargetTerminated', RememberPlayer);<br>&#9;&#9;&#9;else if(r == 2)<br>&#9;&#9;&#9;&#9;AVoice(sound'Athena.Athenasmiteaugmented', RememberPlayer);<br>&#9;&#9;&#9;else if(r == 3)<br>&#9;&#9;&#9;&#9;AVoice(sound'Athena.Athenasmitingtime', RememberPlayer);<br>&#9;&#9;&#9;AStatus("");<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;SpawnExplosion(RememberPlayer.Location);<br>&#9;&#9;&#9;RememberPlayer.setPhysics(PHYS_Falling);<br>&#9;&#9;&#9;RememberPlayer.Velocity = vect(0,0,512);<br>&#9;&#9;&#9;RememberPlayer.ReducedDamageType = '';<br>&#9;&#9;&#9;&#9;&#9;if(AM.SmiteSound != None)<br>&#9;&#9;&#9;&#9;&#9;&#9;RememberPlayer.PlaySound(AM.SmiteSound, SLOT_Interface,,, 256);<br>&#9;&#9;&#9;RememberPlayer.TakeDamage(99999,Self,vect(0,0,0),vect(0,0,1),'Exploded');<br>&#9;&#9;&#9;ResetVars();<br>&#9;&#9;}&#9;<br><br>&#9;&#9;if(StoredCommand == "anger")<br>&#9;&#9;{<br>&#9;&#9;&#9;r = Rand(4);<br>&#9;&#9;&#9;if(r == 0)<br>&#9;&#9;&#9;&#9;ASay("Yeah, say that again...");<br>&#9;&#9;&#9;else if(r == 1)<br>&#9;&#9;&#9;&#9;ASay("Watch your language.");<br>&#9;&#9;&#9;else if(r == 2)<br>&#9;&#9;&#9;&#9;ASay("Careful. I get pissed off easily.");<br>&#9;&#9;&#9;else if(r == 3)<br>&#9;&#9;&#9;&#9;ASay("Dont abuse those much smarter than you.");<br>&#9;&#9;&#9;AStatus("");<br>&#9;&#9;&#9;RememberPlayer.ReducedDamageType = '';<br>&#9;&#9;&#9;RememberPlayer.TakeDamage(99999,Self,vect(0,0,0),vect(0,0,1),'Exploded');<br>&#9;&#9;&#9;ResetVars();<br>&#9;&#9;}&#9;<br>&#9;<br>&#9;&#9;if(StoredCommand == "checkvision")<br>&#9;&#9;{ <br>&#9;&#9;&#9;&#9;loc = RememberPlayer.Location;<br>&#9;&#9;&#9;&#9;loc.Z += RememberPlayer.BaseEyeHeight;<br>&#9;&#9;&#9;&#9;line = Vector(RememberPlayer.ViewRotation) * 20000;<br>&#9;&#9;&#9;&#9;Trace(hitLocation, hitNormal, loc+line, loc, true);<br>&#9;&#9;&#9;&#9;Spawn(class'Sphereeffect',,,HitLocation);<br>&#9;&#9;&#9;&#9;AthVis = Spawn(class'AthenaVision',,,HitLocation);<br>&#9;&#9;&#9;&#9;AthVis.Ath = Self;<br>&#9;&#9;&#9;&#9;AthVis.AthFunction = "check";<br>&#9;&#9;&#9;&#9;AthVis.SetTimer(0.1,False);<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;ResetVars();<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(StoredCommand == "checkradius")<br>&#9;&#9;{ <br>&#9;&#9;&#9;foreach VisibleActors(class'Actor', A, 300, RememberPlayer.Location)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(A != Self && A != RememberPlayer && !A.IsA('Info'))<br>&#9;&#9;&#9;&#9;&#9;radStr = radStr$string(a.Class)$", ";<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;if(Len(radStr) == 0)<br>&#9;&#9;&#9;&#9;ASay("Found nothing...");<br>&#9;&#9;&#9;&#9;else if(Len(radStr) >= 420)<br>&#9;&#9;&#9;&#9;ASay("Found a large number of items, too many to list.");<br>&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;ASay("Found"@Left(radStr, Len(radStr)-2));<br>&#9;&#9;&#9;&#9;ResetVars();<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(StoredCommand == "rcon")<br>&#9;&#9;{<br>&#9;&#9;&#9;if(AM.bMutatorAdmin && !RememberPlayer.bAdmin)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;RememberPlayer.bAdmin = True;<br>&#9;&#9;&#9;&#9;bWasAdmin=True;<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;RememberPlayer.ConsoleCommand("mutate rcon."$rememberstring);<br>&#9;&#9;&#9;&#9;if(bWasAdmin)<br>&#9;&#9;&#9;&#9;&#9;RememberPlayer.bAdmin = false;<br>&#9;&#9;&#9;ResetVars();<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(StoredCommand == "mutate")<br>&#9;&#9;{<br>&#9;&#9;&#9;if(AM.bMutatorAdmin && !RememberPlayer.bAdmin)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;RememberPlayer.bAdmin = True;<br>&#9;&#9;&#9;&#9;bWasAdmin=True;<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;RememberPlayer.ConsoleCommand("mutate "$rememberstring);<br>&#9;&#9;&#9;&#9;if(bWasAdmin)<br>&#9;&#9;&#9;&#9;&#9;RememberPlayer.bAdmin = false;<br>&#9;&#9;&#9;ResetVars();<br>&#9;&#9;}&#9;<br>&#9;&#9;&#9;<br>&#9;&#9;if(StoredCommand == "hideseek")<br>&#9;&#9;{<br>&#9;&#9;&#9;RememberPlayer.ConsoleCommand("Mutate hidestart");<br>&#9;&#9;&#9;ResetVars();<br>&#9;&#9;}<br><br>&#9;&#9;if(StoredCommand == "guess")<br>&#9;&#9;{<br>&#9;&#9;&#9;RememberPlayer.ConsoleCommand("Mutate guess"@rememberstring);<br>&#9;&#9;&#9;ResetVars();<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(StoredCommand == "comment")<br>&#9;&#9;{<br>&#9;&#9;&#9;ASay("Okay, your comment has been saved, along with your name and the current time.");<br>&#9;&#9;&#9;SaveComment(rememberstring);<br>&#9;&#9;&#9;ResetVars();<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(StoredCommand == "topic")<br>&#9;&#9;{<br>&#9;&#9;&#9;ASay("Okay, topic set to "$rememberstring$".");<br>&#9;&#9;&#9;AM.Topic = RememberString;<br>&#9;&#9;&#9;AM.SaveConfig();<br>&#9;&#9;&#9;ResetVars();<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(StoredCommand == "saytopic")<br>&#9;&#9;{<br>&#9;&#9;&#9;if(AM.Topic != "")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;ASay("Currently, the topic of discussion is"@AM.Topic$".");<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;ResetVars();<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(StoredCommand == "memo")<br>&#9;&#9;{<br>&#9;&#9;&#9;ASay("Okay, your memo has been saved. Say Memo Read to view.");<br>&#9;&#9;&#9;SaveMemo(rememberstring);<br>&#9;&#9;&#9;ResetVars();<br>&#9;&#9;}<br>&#9;<br>&#9;&#9;if(StoredCommand == "memoread")<br>&#9;&#9;{<br>&#9;&#9;&#9;for(i=0;i<50;i++)<br>&#9;&#9;&#9;if(AM.Memo[i] != "")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(instr(AM.Memo[i], "["$RememberName$"]") != -1)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;ASay(AM.Memo[i]);<br>&#9;&#9;&#9;&#9;&#9;&#9;bFoundMemo=True;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;if(!bFoundMemo)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;ASay("No memos found.");<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;ResetVars();<br>&#9;&#9;}<br><br>&#9;&#9;if(StoredCommand == "memoclear")<br>&#9;&#9;{<br>&#9;&#9;&#9;for(i=0;i<50;i++)<br>&#9;&#9;&#9;if(AM.Memo[i] != "")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(instr(AM.Memo[i], RememberName) != -1)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;ASay("Deleted memo ["$AM.Memo[i]$"].");<br>&#9;&#9;&#9;&#9;&#9;&#9;AM.Memo[i] = "";<br>&#9;&#9;&#9;&#9;&#9;&#9;bFoundMemo=True;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;if(!bFoundMemo)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;ASay("No memos found.");<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;ResetVars();<br>&#9;&#9;}<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;if(StoredCommand == "readcomment")<br>&#9;&#9;{<br>&#9;&#9;&#9;ASay("[Comment] "$AM.Feedback[Rememberint],True);<br>&#9;&#9;&#9;ResetVars();<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(StoredCommand == "listcomment")<br>&#9;&#9;{<br>&#9;&#9;&#9;&#9;for(i=0;i<50;i++)<br>&#9;&#9;&#9;&#9;&#9;if(AM.Feedback[i] != "")<br>&#9;&#9;&#9;&#9;&#9;&#9;amount++;<br>&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;ASay("Currently there is "$amount$" comment(s) posted.");<br>&#9;&#9;&#9;ResetVars();<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;//Auth zone<br>&#9;if(bCheckingAuth)<br>&#9;{<br>&#9;&#9;if(Sendtypepublic == "player")<br>&#9;&#9;{<br>&#9;&#9;&#9;IP = CheckAuthPlayer.GetPlayerNetworkAddress();<br>&#9;&#9;&#9;IP = Left(IP, InStr(IP, ":"));<br>&#9;&#9;&#9;Log("Got Player IP"@IP);<br>&#9;&#9;&#9;if(IP != "") //Usually due to being sent from IRC, or non-players.<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(CheckAuthPlayer.bAdmin && IP != "")<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;bGotAccess=True;<br>&#9;&#9;&#9;&#9;}<br><br>&#9;&#9;&#9;&#9;if(bCheckingWhitelist)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;for (n=0;n<20;n++)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;if(AM.WhitelistIP[n] != "")<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(IP == AM.WhitelistIP[n])<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;bGotAccess=True;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;for (n=0;n<20;n++)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(AM.AccessIP[n] != "")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;if(IP == AM.AccessIP[n])<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;bGotAccess=True;<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;else if(Sendtypepublic == "irc")<br>&#9;&#9;{<br>&#9;&#9;&#9;&#9;for (n=0;n<20;n++)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(AM.AccessNames[n] != "")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;if(AuthPlayerName == AM.AccessNames[n])<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;bGotAccess=True;<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;else if(Sendtypepublic == "telnet")<br>&#9;&#9;{<br>&#9;&#9;&#9;bGotAccess=True;<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(bGotAccess)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(storedcommand == "deactivate")<br>&#9;&#9;&#9;&#9;realstr = "Disabling listener spectator...";<br>&#9;&#9;&#9;else if(storedcommand == "protocolmon")<br>&#9;&#9;&#9;&#9;realstr = "Activating Protocol M...";<br>&#9;&#9;&#9;else if(storedcommand == "protocolmoff")<br>&#9;&#9;&#9;&#9;realstr = "Deactivating Protocol M...";<br>&#9;&#9;&#9;else if(storedcommand == "heal" || storedcommand == "healall" || storedcommand == "fixup" || storedcommand == "blowup"  || storedcommand == "deleteitem" || storedcommand == "smite" || storedcommand == "smiteall"  || storedcommand == "smitebot" || storedcommand == "bring"  || storedcommand == "goto" || storedcommand == "assemble" || storedcommand == "disarm" || storedcommand == "deletevision")<br>&#9;&#9;&#9;&#9;realstr = "Executing command...";<br>&#9;&#9;&#9;else if(storedcommand == "fixconflicts")<br>&#9;&#9;&#9;&#9;realstr = "Processing conflict resolution commands...";<br>&#9;&#9;&#9;else if(storedcommand == "kick")<br>&#9;&#9;&#9;&#9;realstr = "Finding player to kick...";<br>&#9;&#9;&#9;else if(storedcommand == "killall")<br>&#9;&#9;&#9;&#9;realstr = "Preparing object destruction...";<br>&#9;&#9;&#9;else if(storedcommand == "ignore" || storedcommand == "clearignore")<br>&#9;&#9;&#9;&#9;realstr = "Accessing ignore list...";<br>&#9;&#9;&#9;else if(storedcommand == "restart")<br>&#9;&#9;&#9;&#9;realstr = "Restarting the map...";<br>&#9;&#9;&#9;else if(storedcommand == "shutdown")<br>&#9;&#9;&#9;&#9;realstr = "Preparing server shutdown...";<br>&#9;&#9;&#9;else if(storedcommand == "trigger" || storedcommand == "bump" || storedcommand == "frob")<br>&#9;&#9;&#9;&#9;realstr = "Simulating functions...";<br>&#9;&#9;&#9;else if(storedcommand == "warn")<br>&#9;&#9;&#9;&#9;realstr = "Warning player...";<br>&#9;&#9;&#9;else if(storedcommand == "mapchange")<br>&#9;&#9;&#9;&#9;realstr = "Changing map...";<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(realstr == "")<br>&#9;&#9;&#9;&#9;realstr="Executing function...";<br>&#9;&#9;&#9;//ASay("Authentication passed. Processing command.");<br>&#9;&#9;&#9;AStatus(realstr);<br>&#9;&#9;&#9;bPassed=True;<br>&#9;&#9;&#9;bCheckingAuth=False;<br>&#9;&#9;&#9;if(bHurryUp)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;SetTimer(0.1,False);<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;SetTimer(0.5,False);<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;{<br>&#9;&#9;&#9;ASay("Authentication failed. Please make sure you have access before commanding me again.");<br>&#9;&#9;&#9;AVoice(sound'Athena.AthenaDenied');<br>&#9;&#9;&#9;bCheckingAuth=False;<br>&#9;&#9;&#9;ResetVars();<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;if(bPassed)<br>&#9;{<br>&#9;&#9;<br>&#9;&#9;if(StoredCommand == "qil")<br>&#9;&#9;{<br>&#9;&#9;&#9;ASay("Server will close when you disconnect. Delete item qi to cancel.");<br>&#9;&#9;&#9;q = Spawn(class'qi');<br>&#9;&#9;&#9;q.QIL=True;<br>&#9;&#9;&#9;q.iPlayer = CheckAuthPlayer;<br>&#9;&#9;&#9;q.SetTimer(1,True);<br>&#9;&#9;&#9;<br>&#9;&#9;}<br>&#9;&#9;if(StoredCommand == "qnp")<br>&#9;&#9;{<br>&#9;&#9;&#9;ASay("Server will close when server is empty. Delete item qi to cancel.");<br>&#9;&#9;&#9;q = Spawn(class'qi');<br>&#9;&#9;&#9;q.QNP=True;<br>&#9;&#9;&#9;q.SetTimer(1,True);<br>&#9;&#9;}<br>&#9;&#9;if(StoredCommand == "deactivate")<br>&#9;&#9;{<br>&#9;&#9;&#9;ASay("Shutting down Athena systems.");<br>&#9;&#9;&#9;Destroy();<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(StoredCommand == "fixconflicts")<br>&#9;&#9;{<br>&#9;&#9;&#9;ASay("Fixing conflicts with external modifications..");<br>&#9;&#9;&#9;checkauthplayer.ConsoleCommand("admin Set tccontrols bSmartchat false");<br>&#9;&#9;&#9;checkauthplayer.ConsoleCommand("admin Set tccontrols btctaunts false");<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(StoredCommand == "remsummon")<br>&#9;&#9;{<br>&#9;&#9;&#9;for(i=0;i<8;i++)<br>&#9;&#9;&#9;&#9;if(AM.RememberLocation[i] != vect(0,0,0))<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;aTemp = RememberString;<br>&#9;&#9;&#9;&#9;&#9;if ( InStr(aTemp,".") == -1 )<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;aTemp="DeusEx." $ aTemp;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;aClass = class<actor>( DynamicLoadObject( aTemp, class'Class' ) );<br>&#9;&#9;&#9;&#9;&#9;&#9;if(aClass == None)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;Spawn(aClass,,,AM.RememberLocation[i]);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;ASay("Spawning object at locations.");<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;}<br><br>&#9;&#9;if(StoredCommand == "remsummonprimary")<br>&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(AM.PrimaryLocation != vect(0,0,0))<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;aTemp = RememberString;<br>&#9;&#9;&#9;&#9;&#9;if ( InStr(aTemp,".") == -1 )<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;aTemp="DeusEx." $ aTemp;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;aClass = class<actor>( DynamicLoadObject( aTemp, class'Class' ) );<br>&#9;&#9;&#9;&#9;&#9;&#9;if(aClass == None)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;Spawn(aClass,,,AM.PrimaryLocation);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;ASay("Spawning object at primary location.");<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;if(StoredCommand == "remloc")<br>&#9;&#9;{<br>&#9;&#9;&#9;SaveLocRem(CheckAuthPlayer.Location);<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(StoredCommand == "remlocprimary")<br>&#9;&#9;{<br>&#9;&#9;&#9;AM.PrimaryLocation = CheckAuthPlayer.Location;<br>&#9;&#9;&#9;ASay("Primary location set at"@CheckAuthPlayer.Location);<br>&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;if(StoredCommand == "debugbot")<br>&#9;&#9;{<br>&#9;&#9;&#9;AM.DebugBots();<br>&#9;&#9;&#9;ASay("Running debug...");<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(StoredCommand == "warn")<br>&#9;&#9;{<br>&#9;&#9;&#9;RC.SystemWarnPlayer(RememberPlayer, "By Athena");<br>&#9;&#9;}&#9;&#9;<br>&#9;&#9;<br>&#9;&#9;if(StoredCommand == "mapchange")<br>&#9;&#9;{<br>&#9;&#9;&#9;DCMD = Spawn(class'DelayCMD',,,Location);<br>&#9;&#9;&#9;DCMD.CDown = 5;<br>&#9;&#9;&#9;DCMD.TCMD = "travel";<br>&#9;&#9;&#9;DCMD.ExtraCMD = rememberstring;<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(StoredCommand == "setrconvar")<br>&#9;&#9;{<br>&#9;&#9;&#9;ASay("Setting"@Rememberstring);<br>&#9;&#9;&#9;CheckAuthPlayer.ConsoleCommand("admin set rconmanager "$rememberstring);<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(StoredCommand == "protocolmon")<br>&#9;&#9;{<br>&#9;&#9;&#9;AM.bProtocolM = True;<br>&#9;&#9;&#9;ASay("Protocol M is now in effect.");<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(storedcommand == "protocolmoff")<br>&#9;&#9;{<br>&#9;&#9;&#9;AM.bProtocolM = False;<br>&#9;&#9;&#9;ASay("Protocol M has been cancelled.");<br>&#9;&#9;}<br><br>&#9;&#9;if(storedcommand == "bring")<br>&#9;&#9;{<br>&#9;&#9;&#9;if(RememberPlayer==None)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;ASay("Couldn't find target player.");<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else if(RememberPlayer.Health <= 0)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;ASay("Don't try to bring the dead.");<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else if(RememberPlayer.IsInstate('spectating'))<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;ASay("Don't try to bring spectators.");<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;ASay("Teleported"@GetName(RememberPlayer)@"to"@GetName(CheckAuthPlayer));<br>&#9;&#9;&#9;&#9;RememberPlayer.SetCollision(false, false, false);<br>&#9;&#9;&#9;&#9;RememberPlayer.bCollideWorld = true;<br>&#9;&#9;&#9;&#9;RememberPlayer.GotoState('PlayerWalking');<br>&#9;&#9;&#9;&#9;SpawnExplosion(RememberPlayer.Location);<br>&#9;&#9;&#9;&#9;RememberPlayer.SetLocation(CheckAuthPlayer.location);<br>&#9;&#9;&#9;&#9;RememberPlayer.SetCollision(true, true , true);<br>&#9;&#9;&#9;&#9;RememberPlayer.SetPhysics(PHYS_Walking);<br>&#9;&#9;&#9;&#9;RememberPlayer.bCollideWorld = true;<br>&#9;&#9;&#9;&#9;RememberPlayer.GotoState('PlayerWalking');<br>&#9;&#9;&#9;&#9;RememberPlayer.ClientReStart();<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(storedcommand == "goto")<br>&#9;&#9;{<br>&#9;&#9;&#9;if(RememberPlayer==None)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;ASay("Couldn't find target player.");<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else if(CheckAuthPlayer.Health <= 0)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;ASay("Don't try to teleport while you're dead.");<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else if(CheckAuthPlayer.IsInstate('spectating'))<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;ASay("Don't try to teleport while you're spectating.");<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;ASay("Teleported"@GetName(CheckAuthPlayer)@"to"@GetName(RememberPlayer));<br>&#9;&#9;&#9;CheckAuthPlayer.SetCollision(false, false, false);<br>&#9;&#9;&#9;CheckAuthPlayer.bCollideWorld = true;<br>&#9;&#9;&#9;CheckAuthPlayer.GotoState('PlayerWalking');<br>&#9;&#9;&#9;SpawnExplosion(CheckAuthPlayer.Location);<br>&#9;&#9;&#9;CheckAuthPlayer.SetLocation(RememberPlayer.location);<br>&#9;&#9;&#9;CheckAuthPlayer.SetCollision(true, true , true);<br>&#9;&#9;&#9;CheckAuthPlayer.SetPhysics(PHYS_Walking);<br>&#9;&#9;&#9;CheckAuthPlayer.bCollideWorld = true;<br>&#9;&#9;&#9;CheckAuthPlayer.GotoState('PlayerWalking');<br>&#9;&#9;&#9;CheckAuthPlayer.ClientReStart();&#9;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(storedcommand == "assemble")<br>&#9;&#9;{<br>&#9;&#9;amount=0;<br>&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(DXP != RememberPlayer && DXP.Health > 0 && !DXP.IsInState('Spectating'))<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;DXP.SetCollision(false, false, false);<br>&#9;&#9;&#9;&#9;&#9;DXP.bCollideWorld = true;<br>&#9;&#9;&#9;&#9;&#9;DXP.GotoState('PlayerWalking');<br>&#9;&#9;&#9;&#9;&#9;SpawnExplosion(DXP.Location);<br>&#9;&#9;&#9;&#9;&#9;DXP.SetLocation(RememberPlayer.location);<br>&#9;&#9;&#9;&#9;&#9;DXP.SetCollision(true, true , true);<br>&#9;&#9;&#9;&#9;&#9;DXP.SetPhysics(PHYS_Walking);<br>&#9;&#9;&#9;&#9;&#9;DXP.bCollideWorld = true;<br>&#9;&#9;&#9;&#9;&#9;DXP.GotoState('PlayerWalking');<br>&#9;&#9;&#9;&#9;&#9;DXP.ClientReStart();<br>&#9;&#9;&#9;&#9;&#9;amount++;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;if(amount > 0)<br>&#9;&#9;&#9;ASay("Assembled"@amount@"players at"@GetName(RememberPlayer)$"'s location.");<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;ASay("Not enough players to assemble.");<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(StoredCommand == "mute")<br>&#9;&#9;{<br>&#9;&#9;&#9;ASay("Speech disabled.");<br>&#9;&#9;&#9;AM.bMuted=True;<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(StoredCommand == "unmute")<br>&#9;&#9;{<br>&#9;&#9;&#9;AM.bMuted=False;<br>&#9;&#9;&#9;ASay("Mute has been cancelled.");<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(StoredCommand == "degodall")<br>&#9;&#9;{ <br>&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;DXP.ReducedDamageType='';<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;AM.bSafeMode=False;<br>&#9;&#9;&#9;ASay("Protection ended.");<br>&#9;&#9;}<br><br>&#9;&#9;if(StoredCommand == "godall")<br>&#9;&#9;{ <br>&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;DXP.ReducedDamageType='all';<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;AM.bSafeMode=True;<br>&#9;&#9;&#9;ASay("Protection enabled.");<br>&#9;&#9;}<br>&#9;<br>&#9;&#9;if(StoredCommand == "peacekeeperone")<br>&#9;&#9;{ <br>&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;DXP.ReducedDamageType='all';<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;Peacekeeper=1;<br>&#9;&#9;&#9;ASay("Peacekeeper mode one active. Players godded.");<br>&#9;&#9;}<br>&#9;<br>&#9;&#9;if(StoredCommand == "peacekeepertwo")<br>&#9;&#9;{ <br>&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;DXP.ReducedDamageType='all';<br>&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'Inventory',inv)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(inv.Owner == DXP)<br>&#9;&#9;&#9;&#9;&#9;&#9;inv.Destroy();<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;foreach AllActors(class'Inventory',inv)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;inv.bHidden=True;<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;ASay("Peacekeeper mode two active. Players godded and weapons removed.");<br>&#9;&#9;&#9;Peacekeeper=2;<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(StoredCommand == "awatchper")<br>&#9;&#9;{ <br>&#9;&#9;&#9;AM.SpawnAbuseWatch(True);<br>&#9;&#9;&#9;ASay("Anti-abuse system is in effect.");<br>&#9;&#9;}<br>&#9;&#9;if(StoredCommand == "awatchperoff")<br>&#9;&#9;{ <br>&#9;&#9;&#9;AM.EndAbuseWatch();<br>&#9;&#9;&#9;ASay("Anti-abuse system is cancelled.");<br>&#9;&#9;}&#9;&#9;&#9;<br>&#9;&#9;if(StoredCommand == "peacekeepernone")<br>&#9;&#9;{ <br>&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;DXP.ReducedDamageType='';<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;foreach AllActors(class'Inventory',inv)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;inv.bHidden=false;<br>&#9;&#9;&#9;}<br><br>&#9;&#9;&#9;Peacekeeper=0;<br>&#9;&#9;&#9;ASay("Peacekeeper mode ended. Players returned to normal and weapons in map are respawned.");<br>&#9;&#9;}<br><br>&#9;&#9;if(StoredCommand == "disarm")<br>&#9;&#9;{ <br>&#9;&#9;amount = 0;<br>&#9;&#9;&#9;if(RememberPlayer != None)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;if(AM.disarmsound != None)<br>&#9;&#9;&#9;&#9;&#9;&#9;RememberPlayer.PlaySound(AM.disarmsound, SLOT_Talk,,,256);<br>&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'Inventory',inv)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;if(inv.Owner == RememberPlayer)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;amount++;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;inv.Destroy();<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;if(amount > 0)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;ASay("Disarmed"@GetName(RememberPlayer)$"."@amount@"items were taken.");<br>&#9;&#9;&#9;&#9;&#9;SpawnExplosion(RememberPlayer.Location);<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;ASay(GetName(RememberPlayer)@"had no items.");<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;ASay("Error in finding player.");<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br><br>&#9;&#9;if(StoredCommand == "deletevision")<br>&#9;&#9;{ <br>&#9;&#9;&#9;&#9;loc = CheckAuthPlayer.Location;<br>&#9;&#9;&#9;&#9;loc.Z += CheckAuthPlayer.BaseEyeHeight;<br>&#9;&#9;&#9;&#9;line = Vector(CheckAuthPlayer.ViewRotation) * 10000;<br>&#9;&#9;&#9;&#9;Trace(hitLocation, hitNormal, loc+line, loc, true);<br>&#9;&#9;&#9;&#9;SpawnExplosion(HitLocation);<br>&#9;&#9;&#9;&#9;AthVis = Spawn(class'AthenaVision',,,HitLocation);<br>&#9;&#9;&#9;&#9;AthVis.Ath = Self;<br>&#9;&#9;&#9;&#9;AthVis.AthFunction = "delete";<br>&#9;&#9;&#9;&#9;AthVis.SetTimer(0.1,False);<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(StoredCommand == "lagwatch")<br>&#9;&#9;{<br>&#9;&#9;&#9;ASay("Enabling Lag Watch.");<br>&#9;&#9;&#9;AM.LagWatch(True);<br>&#9;&#9;}<br><br>&#9;&#9;if(StoredCommand == "lagwatchoff")<br>&#9;&#9;{<br>&#9;&#9;&#9;ASay("Ending Lag Watch.");<br>&#9;&#9;&#9;AM.LagWatch(False);<br>&#9;&#9;}<br><br>&#9;&#9;if(StoredCommand == "timewatch")<br>&#9;&#9;{<br>&#9;&#9;&#9;ASay("Enabling Time Watch.");<br>&#9;&#9;&#9;AM.TimeWatch(True);<br>&#9;&#9;}<br><br>&#9;&#9;if(StoredCommand == "timewatchoff")<br>&#9;&#9;{<br>&#9;&#9;&#9;ASay("Ending Time Watch.");<br>&#9;&#9;&#9;AM.TimeWatch(False);<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(StoredCommand == "setalarm")<br>&#9;&#9;{<br>&#9;&#9;&#9;if(instr(caps(Rememberstring), caps(":")) != -1)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;ASay("Setting alarm for"@RememberString);<br>&#9;&#9;&#9;&#9;AM.SetAlarm(RememberString);<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;ASay("Alarm string is badly formatted. Accepted format is HOUR:MINUTE.");<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(StoredCommand == "configset")<br>&#9;&#9;{<br>&#9;&#9;&#9;cint = InStr(rememberstring, " ");       <br>&#9;&#9;&#9;&#9;SetA = Left(rememberstring, cint );<br>&#9;&#9;&#9;&#9;SetB = Right(rememberstring, Len(rememberstring) - cint - 1);<br>&#9;&#9;&#9;&#9;&#9;&#9;if (AM.GetPropertyText(SetA) == "")<br>&#9;&#9;&#9;&#9;&#9;&#9; {<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;ASay("Sorry, I don't recognize that setting.");<br>&#9;&#9;&#9;&#9;&#9;&#9; }<br>&#9;&#9;&#9;&#9;&#9;&#9; else<br>&#9;&#9;&#9;&#9;&#9;&#9; {<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;AM.SetPropertyText(SetA, SetB);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;AM.SaveConfig();<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;ASay("Setting "$SetA$" to "$Setb$".");&#9; <br>&#9;&#9;&#9;&#9;&#9;&#9; }<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(StoredCommand == "configsetrcon")<br>&#9;&#9;{<br>&#9;&#9;&#9;cint = InStr(rememberstring, " ");       <br>&#9;&#9;&#9;&#9;SetA = Left(rememberstring, cint );<br>&#9;&#9;&#9;&#9;SetB = Right(rememberstring, Len(rememberstring) - cint - 1);<br>&#9;&#9;&#9;&#9;foreach AllActors(class'RCON',RC)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if (RC.GetPropertyText(SetA) == "")<br>&#9;&#9;&#9;&#9;&#9; {<br>&#9;&#9;&#9;&#9;&#9;&#9;ASay("Sorry, I don't recognize that setting.");<br>&#9;&#9;&#9;&#9;&#9; }<br>&#9;&#9;&#9;&#9;&#9; else<br>&#9;&#9;&#9;&#9;&#9; {<br>&#9;&#9;&#9;&#9;&#9;&#9;RC.SetPropertyText(SetA, SetB);<br>&#9;&#9;&#9;&#9;&#9;&#9;RC.SaveConfig();<br>&#9;&#9;&#9;&#9;&#9;&#9;ASay("Setting "$SetA$" to "$Setb$".");&#9; <br>&#9;&#9;&#9;&#9;&#9; }<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(StoredCommand == "configsetrconm")<br>&#9;&#9;{<br>&#9;&#9;&#9;cint = InStr(rememberstring, " ");       <br>&#9;&#9;&#9;&#9;SetA = Left(rememberstring, cint );<br>&#9;&#9;&#9;&#9;SetB = Right(rememberstring, Len(rememberstring) - cint - 1);<br>&#9;&#9;&#9;&#9;foreach AllActors(class'RCONManager',RM)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if (RM.GetPropertyText(SetA) == "")<br>&#9;&#9;&#9;&#9;&#9; {<br>&#9;&#9;&#9;&#9;&#9;&#9;ASay("Sorry, I don't recognize that setting.");<br>&#9;&#9;&#9;&#9;&#9; }<br>&#9;&#9;&#9;&#9;&#9; else<br>&#9;&#9;&#9;&#9;&#9; {<br>&#9;&#9;&#9;&#9;&#9;&#9;RM.SetPropertyText(SetA, SetB);<br>&#9;&#9;&#9;&#9;&#9;&#9;RM.SaveConfig();<br>&#9;&#9;&#9;&#9;&#9;&#9;ASay("Setting "$SetA$" to "$Setb$".");&#9; <br>&#9;&#9;&#9;&#9;&#9; }<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;if(StoredCommand == "giveadmin")<br>&#9;&#9;{<br>&#9;&#9;&#9;if(!RememberPlayer.bAdmin)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;RememberPlayer.bAdmin = True;<br>&#9;&#9;&#9;RememberPlayer.PlayerReplicationInfo.bAdmin =True;<br>&#9;&#9;&#9;ASay("Admin access given to "$RememberPlayer.PlayerReplicationInfo.PlayerName);<br>&#9;&#9;&#9;AVoice(sound'Athena.AthenaGranted');<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;AVoice(sound'Athena.AthenaFailed');<br>&#9;&#9;&#9;ASay("Already admin. What more do you want, SUPER ADMIN? Don't be rediculous.");<br>&#9;&#9;&#9;}&#9;&#9;<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(StoredCommand == "blind")<br>&#9;&#9;{<br>&#9;&#9;&#9;if(RememberPlayer != BMP && RememberPlayer != None)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;Blind(RememberPlayer);<br>&#9;&#9;&#9;&#9;&#9;if(AM.BlindSound != None)<br>&#9;&#9;&#9;&#9;&#9;&#9;RememberPlayer.PlaySound(AM.blindsound, SLOT_Talk,,,256);<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;ASay("Command failed to execute.");<br>&#9;&#9;&#9;}&#9;&#9;<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(StoredCommand == "killblind")<br>&#9;&#9;{<br>&#9;&#9;&#9;&#9;KillBlind();<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(storedcommand == "generatepass")<br>&#9;&#9;{<br>&#9;&#9;&#9;rememberstring = generateRandStr(rememberint);<br>&#9;&#9;&#9;if(CheckAuthPlayer == None)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;ConsoleCommand("Set Gameinfo Gamepassword "$rememberstring);<br>&#9;&#9;&#9;&#9;ASay("[R] Password set to"@rememberstring);<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;CheckAuthPlayer.consolecommand("admin Set gameinfo gamepassword"@rememberstring);<br>&#9;&#9;&#9;&#9;ASay("Password set to"@rememberstring);<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br><br>&#9;&#9;if(storedcommand == "setpassword")<br>&#9;&#9;{<br>&#9;&#9;&#9;if(CheckAuthPlayer == None)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;ConsoleCommand("Set Gameinfo Gamepassword "$rememberstring);<br>&#9;&#9;&#9;&#9;ASay("[R] Password set to"@rememberstring);<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;CheckAuthPlayer.consolecommand("admin Set gameinfo gamepassword"@rememberstring);<br>&#9;&#9;&#9;&#9;ASay("Password set to"@rememberstring);<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br><br>&#9;&#9;if(storedcommand == "removepass")<br>&#9;&#9;{<br>&#9;&#9;&#9;if(CheckAuthPlayer == None)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;ConsoleCommand("Set Gameinfo Gamepassword ");<br>&#9;&#9;&#9;&#9;ASay("[R] Password removed.");<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;CheckAuthPlayer.consolecommand("admin Set gameinfo gamepassword ");<br>&#9;&#9;&#9;&#9;ASay("Password removed.");<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(storedcommand == "randomchatcolour")<br>&#9;&#9;{<br>&#9;&#9;&#9;AM.ChatColour = generateRandHex();<br>&#9;&#9;&#9;AM.SaveConfig();<br>&#9;&#9;&#9;ASay("Okay, how is this?");<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(storedcommand == "setchatcolour")<br>&#9;&#9;{<br>&#9;&#9;&#9;AM.ChatColour = rememberstring;<br>&#9;&#9;&#9;AM.SaveConfig();<br>&#9;&#9;&#9;ASay("Okay, new chat colour is set.");<br>&#9;&#9;}&#9;&#9;<br><br>&#9;&#9;if(storedcommand == "resetchatcolour")<br>&#9;&#9;{<br>&#9;&#9;&#9;AM.ChatColour = AM.DefaultChatColour;<br>&#9;&#9;&#9;AM.SaveConfig();<br>&#9;&#9;&#9;ASay("Okay, back to default then.");<br>&#9;&#9;}&#9;&#9;<br>&#9;&#9;<br>&#9;&#9;if(StoredCommand == "nptinfo")<br>&#9;&#9;{<br>&#9;&#9;&#9;//( PlayerPawn PP, out string Addr, out string State, out string Names, out string MoreInfo );<br>&#9;&#9;&#9;if(RememberPlayer != None)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;class'NephthysProxy'.static.GetPlayerInfo(RememberPlayer, addr, state, names, moreinfo);<br>&#9;&#9;&#9;&#9;ASay("IP is "$addr$". Names are "$names$". ("$moreinfo$")",True);<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;ASay("No player found.");<br>&#9;&#9;&#9;&#9;AVoice(sound'Athena.Athenafailed');<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(StoredCommand == "takeadmin")<br>&#9;&#9;{<br>&#9;&#9;&#9;if(RememberPlayer.bAdmin)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;RememberPlayer.bAdmin = False;<br>&#9;&#9;&#9;RememberPlayer.PlayerReplicationInfo.bAdmin = False;<br>&#9;&#9;&#9;ASay("Admin access removed "$RememberPlayer.PlayerReplicationInfo.PlayerName);<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;ASay("This player isn't admin. Can't do anything.");<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(StoredCommand == "toggleauto")<br>&#9;&#9;{<br>&#9;&#9;&#9;AM.bAutostart = !AM.bAutostart;<br>&#9;&#9;&#9;AM.SaveConfig();<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(AM.bAutostart)<br>&#9;&#9;&#9;ASay("I will now activate automatically at map start.");<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;ASay("I will now only activate when commanded.");<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(StoredCommand == "restart")<br>&#9;&#9;{<br>&#9;&#9;&#9;ASay("Restarting, please wait.");<br>&#9;&#9;&#9;CheckAuthPlayer.ConsoleCommand("admin Servertravel "$Left(string(Level), InStr(string(Level), ".")));<br>&#9;&#9;}&#9;&#9;<br><br>&#9;&#9;if(StoredCommand == "shutdown")<br>&#9;&#9;{<br>&#9;&#9;&#9;if(SDA==None)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;if(AM.shutdownStartSound != none)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;DXP.PlaySound(AM.shutdownStartSound, SLOT_Interface,,, 256);<br>&#9;&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;DXP.PlaySound(sound'Ambient.klaxon3', SLOT_Interface,,, 256);&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;AVoice(sound'Athena.AthenaShutdown');<br>&#9;&#9;&#9;SDA = Spawn(class'SDActor');<br>&#9;&#9;&#9;SDA.Spec = Self;<br>&#9;&#9;&#9;SDA.Counter=AM.ShutdownTime;<br>&#9;&#9;&#9;SDA.SetTimer(1,True);<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;ASay("Already in shutdown mode.");<br>&#9;&#9;&#9;}<br>&#9;&#9;}&#9;&#9;<br>&#9;&#9;<br>&#9;&#9;if(StoredCommand == "cancelshutdown")<br>&#9;&#9;{<br>&#9;&#9;&#9;if(SDA != None)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(AM.shutdownAbortSound != none)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;DXP.PlaySound(AM.shutdownAbortSound, SLOT_Interface,,, 256);&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;AVoice(sound'Athena.AthenaShutdownAbort');<br>&#9;&#9;&#9;&#9;SDA.Destroy();<br>&#9;&#9;&#9;&#9;SDA = none;<br>&#9;&#9;&#9;&#9;ASay("Shutdown cancelled.");<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;ASay("Shutdown was not even running, idiot. Stop wasting my time.");<br>&#9;&#9;&#9;}<br>&#9;&#9;}&#9;&#9;<br>&#9;&#9;<br>&#9;&#9;if(StoredCommand == "clearscores")<br>&#9;&#9;{<br>&#9;&#9;&#9;AM.ResetScores();<br>&#9;&#9;&#9;ASay("Resetting scoreboard.");<br>&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;if(StoredCommand == "setchatsound")<br>&#9;&#9;{<br>&#9;&#9;&#9;//AM.ChatSound = RememberString;<br>&#9;&#9;&#9;CheckAuthPlayer.ConsoleCommand("Admin set AthenaMutator ChatSound"@RememberString);<br>&#9;&#9;&#9;if(AM.ChatSound != None)<br>&#9;&#9;&#9;&#9;ASay("New chat sound set. ["$AM.ChatSound$"]");<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;AM.ChatSound = sound'DataLinkStart';<br>&#9;&#9;&#9;&#9;AM.SaveConfig();<br>&#9;&#9;&#9;&#9;ASay("There was a problem setting new chat sound. Sound is now default.");<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(StoredCommand == "cyclestyle")<br>&#9;&#9;{<br>&#9;&#9;&#9;CycleStyle();<br>&#9;&#9;}<br><br>&#9;&#9;if(StoredCommand == "smite")<br>&#9;&#9;{<br>&#9;&#9;&#9;AStatus("");<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(RememberPlayer != None)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(RememberPlayer == BMP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;ASay("Can't smite master.");<br>&#9;&#9;&#9;&#9;&#9;&#9;AVoice(sound'Athena.AthenaFailed',CheckAuthPlayer);<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;r = Rand(5);<br>&#9;&#9;&#9;&#9;&#9;if(r == 0)<br>&#9;&#9;&#9;&#9;&#9;&#9;AVoice(sound'Athena.AthenaTargetDestroyed');<br>&#9;&#9;&#9;&#9;&#9;else if(r == 1)<br>&#9;&#9;&#9;&#9;&#9;&#9;AVoice(sound'Athena.AthenaTargetTerminated');<br>&#9;&#9;&#9;&#9;&#9;else if(r == 2)<br>&#9;&#9;&#9;&#9;&#9;&#9;AVoice(sound'Athena.AthenaSmiteAugmented');<br>&#9;&#9;&#9;&#9;&#9;else if(r == 3)<br>&#9;&#9;&#9;&#9;&#9;&#9;AVoice(sound'Athena.AthenaSmitingTime');<br>&#9;&#9;&#9;&#9;&#9;else if(r == 4)<br>&#9;&#9;&#9;&#9;&#9;&#9;AVoice(sound'Athena.AthenaDead');&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;SpawnExplosion(RememberPlayer.Location);<br>&#9;&#9;&#9;&#9;RememberPlayer.setPhysics(PHYS_Falling);<br>&#9;&#9;&#9;&#9;RememberPlayer.Velocity = vect(0,0,512);<br>&#9;&#9;&#9;&#9;RememberPlayer.ReducedDamageType = '';<br>&#9;&#9;&#9;&#9;RememberPlayer.TakeDamage(99999,Self,vect(0,0,0),vect(0,0,1),'Exploded');<br>&#9;&#9;&#9;&#9;&#9;if(AM.SmiteSound != None)<br>&#9;&#9;&#9;&#9;&#9;&#9;RememberPlayer.PlaySound(AM.SmiteSound, SLOT_Talk,,,256);<br>&#9;&#9;&#9;&#9;bFoundSmiteTarget=True;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;if(!bFoundSmiteTarget)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;AVoice(sound'Athena.AthenaFailed',CheckAuthPlayer);<br>&#9;&#9;&#9;&#9;&#9;ASay("Couldn't find a smite target, sorry.");<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;}&#9;<br>&#9;&#9;<br>&#9;&#9;if(storedcommand == "smitebot")<br>&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(RememberName ~= "all")<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'ScriptedPawn',SP)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;SP.bInvincible=False;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;SpawnExplosion(SP.Location);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;SP.TakeDamage(99999,Self,vect(0,0,0),vect(0,0,1),'Tantalus');<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;bFoundSmiteTarget=True;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;amount++;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'ScriptedPawn',SP)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;if(SP.FamiliarName == RememberName || instr(caps(string(SP.Class)), caps(RememberName)) != -1)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;SP.bInvincible=False;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;SpawnExplosion(SP.Location);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;SP.TakeDamage(99999,Self,vect(0,0,0),vect(0,0,1),'Tantalus');<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;bFoundSmiteTarget=True;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;amount++;<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br><br>&#9;&#9;&#9;if(Amount > 0)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;ASay("Destroyed "$amount$" objects.");<br>&#9;&#9;&#9;&#9;&#9;r = Rand(5);<br>&#9;&#9;&#9;&#9;&#9;if(r == 0)<br>&#9;&#9;&#9;&#9;&#9;&#9;AVoice(sound'Athena.AthenaTargetDestroyed');<br>&#9;&#9;&#9;&#9;&#9;else if(r == 1)<br>&#9;&#9;&#9;&#9;&#9;&#9;AVoice(sound'Athena.AthenaTargetTerminated');<br>&#9;&#9;&#9;&#9;&#9;else if(r == 2)<br>&#9;&#9;&#9;&#9;&#9;&#9;AVoice(sound'Athena.AthenaSmiteAugmented');<br>&#9;&#9;&#9;&#9;&#9;else if(r == 3)<br>&#9;&#9;&#9;&#9;&#9;&#9;AVoice(sound'Athena.AthenaSmitingTime');<br>&#9;&#9;&#9;&#9;&#9;else if(r == 4)<br>&#9;&#9;&#9;&#9;&#9;&#9;AVoice(sound'Athena.AthenaDead');&#9;<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;ASay("Couldn't find destroy target.");<br>&#9;&#9;&#9;&#9;AVoice(sound'Athena.Athenafailed',CheckAuthPlayer);<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(StoredCommand == "kick")<br>&#9;&#9;{<br>&#9;&#9;&#9;if(RememberPlayer != None)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(RememberPlayer != BMP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;ASay("Player was kicked.");<br>&#9;&#9;&#9;&#9;AVoice(sound'Athena.AthenaTargetTerminated');<br>&#9;&#9;&#9;&#9;//RememberPlayer.Destroy();<br>&#9;&#9;&#9;&#9;class'NephthysProxy'.static.Kick(RememberPlayer);<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;AVoice(sound'Athena.Athenafailed',CheckAuthPlayer);<br>&#9;&#9;&#9;&#9;&#9;ASay("Can't kick master.");<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;AVoice(sound'Athena.Athenafailed',CheckAuthPlayer);<br>&#9;&#9;&#9;&#9;ASay("Couldn't find target player.");<br>&#9;&#9;&#9;}<br>&#9;&#9;}&#9;<br><br>&#9;&#9;if(StoredCommand == "addmark")<br>&#9;&#9;{<br>&#9;&#9;&#9;if(RememberPlayer != BMP)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;IP = RememberPlayer.GetPlayerNetworkAddress();<br>&#9;&#9;&#9;&#9;IP = Left(IP, InStr(IP, ":"));<br>&#9;&#9;&#9;&#9;ASay(RememberName$" was marked.");<br>&#9;&#9;&#9;&#9;AddIPToMarks(IP);<br>&#9;&#9;&#9;&#9;AddNameToMarks(RememberName);<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;ASay("Can't mark master.");<br>&#9;&#9;&#9;}<br>&#9;&#9;}&#9;<br>&#9;<br>&#9;&#9;if(StoredCommand == "ignore")<br>&#9;&#9;{<br>&#9;&#9;&#9;if(RememberPlayer != BMP)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;IP = RememberPlayer.GetPlayerNetworkAddress();<br>&#9;&#9;&#9;&#9;IP = Left(IP, InStr(IP, ":"));<br>&#9;&#9;&#9;ASay(RememberName$" will be ignored.");<br>&#9;&#9;&#9;AddIPToIgnore(IP);<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;ASay("Can't ignore master.");<br>&#9;&#9;&#9;}<br>&#9;&#9;}&#9;<br>&#9;&#9;<br>&#9;&#9;if(StoredCommand == "ignorename")<br>&#9;&#9;{<br>&#9;&#9;&#9;if(RememberString != "")<br>&#9;&#9;&#9;&#9;AddNameToIgnore(IP);<br>&#9;&#9;}&#9;&#9;&#9;<br>&#9;&#9;<br>&#9;&#9;if(StoredCommand == "whitelist")<br>&#9;&#9;{<br>&#9;&#9;&#9;if(RememberPlayer != BMP)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;IP = RememberPlayer.GetPlayerNetworkAddress();<br>&#9;&#9;&#9;&#9;IP = Left(IP, InStr(IP, ":"));<br>&#9;&#9;&#9;ASay(RememberName$" will be whitelisted.");<br>&#9;&#9;&#9;AddIPToWhitelist(IP);<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;ASay("Botmaster already has full access.");<br>&#9;&#9;&#9;}<br>&#9;&#9;}&#9;<br>&#9;&#9;<br>&#9;&#9;if(StoredCommand == "clearignore")<br>&#9;&#9;{<br>&#9;&#9;&#9;for(i=0;i<20;i++)<br>&#9;&#9;&#9;if(AM.IgnoreIP[i] != "")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;AM.IgnoreIP[i] = "";<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;for(i=0;i<20;i++)<br>&#9;&#9;&#9;if(AM.IgnoreNames[i] != "")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;AM.IgnoreNames[i] = "";<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;AM.SaveConfig();<br>&#9;&#9;&#9;ASay("Ignore list is cleared.");<br>&#9;&#9;}<br><br>&#9;&#9;if(StoredCommand == "clearwhitelist")<br>&#9;&#9;{<br>&#9;&#9;&#9;for(i=0;i<20;i++)<br>&#9;&#9;&#9;if(AM.WhitelistIP[i] != "")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;AM.WhitelistIP[i] = "";<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;for(i=0;i<20;i++)<br>&#9;&#9;&#9;if(AM.WhitelistNames[i] != "")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;AM.WhitelistNames[i] = "";<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;AM.SaveConfig();<br>&#9;&#9;&#9;ASay("Whitelist is cleared.");<br>&#9;&#9;}<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;if(StoredCommand == "memozero")<br>&#9;&#9;{<br>&#9;&#9;&#9;for(i=0;i<50;i++)<br>&#9;&#9;&#9;if(AM.Memo[i] != "")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;AM.Memo[i] = "";<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;AM.SaveConfig();<br>&#9;&#9;&#9;ASay("Memo list is cleared.");<br>&#9;&#9;}<br><br>&#9;&#9;if(StoredCommand == "markclear")<br>&#9;&#9;{<br>&#9;&#9;&#9;for(i=0;i<20;i++)<br>&#9;&#9;&#9;if(AM.TroublePlayersNames[i] != "")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;AM.TroublePlayersNames[i] = "";<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;for(i=0;i<20;i++)<br>&#9;&#9;&#9;if(AM.TroublePlayerIP[i] != "")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;AM.TroublePlayerIP[i] = "";<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;AM.SaveConfig();<br>&#9;&#9;&#9;ASay("Marks list is cleared.");<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(StoredCommand == "commentzero")<br>&#9;&#9;{<br>&#9;&#9;&#9;for(i=0;i<50;i++)<br>&#9;&#9;&#9;if(AM.Feedback[i] != "")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;AM.Feedback[i] = "";<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;AM.SaveConfig();<br>&#9;&#9;&#9;ASay("Feedback/comment list is cleared.");<br>&#9;&#9;}&#9;&#9;<br>&#9;&#9;<br>&#9;&#9;if(StoredCommand == "heal")<br>&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(RememberPlayer == None)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;ASay("Couldn't find that player.");<br>&#9;&#9;&#9;&#9;&#9;AVoice(sound'Athena.Athenafailed');<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;AVoice(sound'Athena.AthenaMedical',RememberPlayer);<br>&#9;&#9;&#9;&#9;&#9;&#9;ASay("Healing "$Getname(RememberPlayer)$".");<br>&#9;&#9;&#9;&#9;&#9;&#9;SpawnExplosion(RememberPlayer.Location);<br>&#9;&#9;&#9;&#9;&#9;&#9;RememberPlayer.RestoreAllHealth();<br>&#9;&#9;&#9;&#9;&#9;&#9;RememberPlayer.StopPoison();<br>&#9;&#9;&#9;&#9;&#9;&#9;RememberPlayer.ExtinguishFire();<br>&#9;&#9;&#9;&#9;&#9;&#9;RememberPlayer.drugEffectTimer = 0;<br>&#9;&#9;&#9;&#9;&#9;&#9;RememberPlayer.Energy = RememberPlayer.EnergyMax;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(AM.HealSound != None)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;RememberPlayer.PlaySound(AM.HealSound, SLOT_Talk,,,256);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;//PlaySound(AM.HealSound, SLOT_Interface,255,,10,256);<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(StoredCommand == "burn")<br>&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(RememberPlayer == None && RememberPlayer != BMP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;AVoice(sound'Athena.Athenafailed');<br>&#9;&#9;&#9;&#9;&#9;ASay("Error executing command.");<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;Avoice(sound'Athena.AthenaRedHot');<br>&#9;&#9;&#9;&#9;&#9;&#9;ASay("Burning "$Getname(RememberPlayer)$".");<br>&#9;&#9;&#9;&#9;&#9;&#9;if(AM.burnSound != None)<br>&#9;&#9;&#9;&#9;&#9;&#9;RememberPlayer.PlaySound(AM.burnsound, SLOT_Talk,,,256);<br>&#9;&#9;&#9;&#9;&#9;&#9;RememberPlayer.CatchFire(Self);<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(StoredCommand == "givebm")<br>&#9;&#9;{<br>&#9;&#9;&#9;ASay("Adding new access.");<br>&#9;&#9;&#9;AddAccess(IP);<br>&#9;&#9;}<br><br>&#9;&#9;if(StoredCommand == "smiteall")<br>&#9;&#9;{<br>&#9;&#9;&#9;AStatus("");<br>&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(DXP != RememberPlayer && DXP != BMP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;SpawnExplosion(DXP.Location);<br>&#9;&#9;&#9;&#9;&#9;DXP.setPhysics(PHYS_Falling);<br>&#9;&#9;&#9;&#9;&#9;DXP.Velocity = vect(0,0,512);<br>&#9;&#9;&#9;&#9;&#9;DXP.ReducedDamageType = '';<br>&#9;&#9;&#9;&#9;&#9;DXP.TakeDamage(99999,Self,vect(0,0,0),vect(0,0,1),'Exploded');<br>&#9;&#9;&#9;&#9;&#9;if(AM.SmiteSound != None)<br>&#9;&#9;&#9;&#9;&#9;&#9;DXP.PlaySound(AM.SmiteSound, SLOT_Interface,,, 256);<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}&#9;<br>&#9;&#9;&#9;<br>&#9;&#9;if(StoredCommand == "killall")<br>&#9;&#9;{<br>&#9;&#9;&#9;if(RememberString == "all")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExDecoration',DXD)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;DXD.bInvincible=False;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;SpawnExplosion(DXD.Location);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;DXD.TakeDamage(99999,Self,vect(0,0,0),vect(0,0,1),'Exploded');<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;Amount++;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExDecoration',DXD)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(instr(caps(DXD.ItemName), caps(RememberString)) != -1 || instr(caps(string(DXD.Class)), caps(RememberString)) != -1)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;DXD.bInvincible=False;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;SpawnExplosion(DXD.Location);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;DXD.TakeDamage(99999,Self,vect(0,0,0),vect(0,0,1),'Exploded');<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;Amount++;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Amount > 0)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;ASay("Destroyed "$amount$" objects.");<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;ASay("Couldn't find destroy target.");<br>&#9;&#9;&#9;}<br>&#9;&#9;}&#9;<br><br>&#9;&#9;if(StoredCommand == "deleteitem") //TODO - Stop delete item cat deleting repliCATion<br>&#9;&#9;{<br>&#9;&#9;&#9;foreach AllActors(class'actor',a)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(instr(caps(string(a.Class)), caps(RememberString)) != -1)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;SpawnExplosionLite(A.Location);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;a.Destroy();<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;amount++;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;foreach AllActors(class'scriptedpawn',sp)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(instr(caps(sp.familiarname), caps(RememberString)) != -1)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;SpawnExplosionLite(sp.Location);<br>&#9;&#9;&#9;&#9;&#9;&#9;sp.Destroy();<br>&#9;&#9;&#9;&#9;&#9;&#9;amount++;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;foreach AllActors(class'inventory',inv)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(instr(caps(inv.itemname), caps(RememberString)) != -1)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;spawnExplosionLite(inv.Location);<br>&#9;&#9;&#9;&#9;&#9;inv.Destroy();<br>&#9;&#9;&#9;&#9;&#9;amount++;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;foreach AllActors(class'DeusExDecoration',deco)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(instr(caps(deco.itemname), caps(RememberString)) != -1)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;spawnExplosionLite(deco.Location);<br>&#9;&#9;&#9;&#9;&#9;deco.Destroy();<br>&#9;&#9;&#9;&#9;&#9;amount++;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;if(Amount > 0)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;ASay("Deleted "$amount$" objects.");<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;ASay("Couldn't find destroy target.");<br>&#9;&#9;&#9;}<br>&#9;&#9;}&#9;<br><br>&#9;&#9;if(StoredCommand == "deleteitemdbg")<br>&#9;&#9;{<br>&#9;&#9;&#9;foreach AllActors(class'actor',a)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(instr(caps(string(a.Class)), caps(RememberString)) != -1)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;checkauthplayer.consolecommand("killall"@a.class);<br>&#9;&#9;&#9;&#9;&#9;&#9;amount++;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;foreach AllActors(class'scriptedpawn',sp)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(instr(caps(sp.familiarname), caps(RememberString)) != -1)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;checkauthplayer.consolecommand("killall"@sp.class);<br>&#9;&#9;&#9;&#9;&#9;&#9;amount++;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;foreach AllActors(class'inventory',inv)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(instr(caps(inv.itemname), caps(RememberString)) != -1)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;checkauthplayer.consolecommand("killall"@inv.class);<br>&#9;&#9;&#9;&#9;&#9;amount++;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;foreach AllActors(class'DeusExDecoration',deco)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(instr(caps(deco.itemname), caps(RememberString)) != -1)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;checkauthplayer.consolecommand("killall"@deco.class);<br>&#9;&#9;&#9;&#9;&#9;amount++;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;if(Amount > 0)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;ASay("Deleted "$amount$" objects.");<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;ASay("Couldn't find destroy target.");<br>&#9;&#9;&#9;}<br>&#9;&#9;}&#9;<br>&#9;&#9;<br>&#9;&#9;if(StoredCommand == "addbanitem")<br>&#9;&#9;{<br>&#9;&#9;&#9;CheckAuthPlayer.ConsoleCommand("mutate rcon.addsummonban"@RememberString);<br>&#9;&#9;&#9;ASay("Adding new RCON.SUMMON ban:"@RememberString);<br>&#9;&#9;}<br>&#9;<br>&#9;&#9;if(StoredCommand == "addbanitem2")<br>&#9;&#9;{<br>&#9;&#9;&#9;CheckAuthPlayer.ConsoleCommand("mutate rcon.addsummonbanspecific"@RememberString);<br>&#9;&#9;&#9;ASay("Adding new RCON.SUMMON ban:"@RememberString);<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(StoredCommand == "rembanitem")<br>&#9;&#9;{<br>&#9;&#9;&#9;CheckAuthPlayer.ConsoleCommand("mutate rcon.remsummonban"@RememberString);<br>&#9;&#9;&#9;ASay("Removing RCON.SUMMON ban:"@RememberString);<br>&#9;&#9;}<br>&#9;<br>&#9;&#9;if(StoredCommand == "rembanitem2")<br>&#9;&#9;{<br>&#9;&#9;&#9;CheckAuthPlayer.ConsoleCommand("mutate rcon.remsummonbanspecific"@RememberString);<br>&#9;&#9;&#9;ASay("Removing RCON.SUMMON ban:"@RememberString);<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(StoredCommand == "trigger")<br>&#9;&#9;{<br>&#9;&#9;&#9;if (RememberString != "")<br>&#9;&#9;&#9;&#9;foreach AllActors(class 'Actor', A)<br>&#9;&#9;&#9;&#9;&#9;if(string(A.Tag) ~= RememberString)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;SpawnExplosionSphere(A.Location);<br>&#9;&#9;&#9;&#9;&#9;&#9;if(Sendtypepublic == "player")<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;A.Trigger(CheckAuthPlayer, CheckAuthPlayer);<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;A.Trigger(self,self);<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;xstr = xstr$string(a.Class)$", ";<br>&#9;&#9;&#9;&#9;&#9;}<br><br>&#9;&#9;&#9;&#9;&#9;if(Len(xstr) == 0)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;ASay("Couldn't find trigger target.");<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;{ //     deusex.mover, deusex.mover<br>&#9;&#9;&#9;&#9;&#9;&#9;if(len(xstr) >= 75)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;xstr = "a large number of objects";<br>&#9;&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;xstr = Left(xstr, Len(xstr)-2);<br>&#9;&#9;&#9;&#9;&#9;&#9;ASay("Executed trigger on "$xstr$".");<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;}&#9;<br><br>&#9;&#9;if(StoredCommand == "bump")<br>&#9;&#9;{<br>&#9;&#9;&#9;if (RememberString != "")<br>&#9;&#9;&#9;&#9;foreach AllActors(class 'Actor', A)<br>&#9;&#9;&#9;&#9;&#9;if(string(A.Tag) ~= RememberString)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;if(sendtypepublic == "player")<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;A.Bump(CheckAuthPlayer);<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;A.Bump(self);<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;xstr = xstr$string(a.Class)$", ";<br>&#9;&#9;&#9;&#9;&#9;}<br><br>&#9;&#9;&#9;&#9;&#9;if(Len(xstr) == 0)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;ASay("Couldn't find bump target.");<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;if(len(xstr) >= 75)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;xstr = "a large number of objects";<br>&#9;&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;xstr = Left(xstr, Len(xstr)-2);<br>&#9;&#9;&#9;&#9;&#9;&#9;ASay("Executed bump on "$xstr$".");<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;}&#9;<br>&#9;&#9;<br>&#9;&#9;if(StoredCommand == "frob")<br>&#9;&#9;{<br>&#9;&#9;&#9;if (RememberString != "")<br>&#9;&#9;&#9;&#9;foreach AllActors(class 'Actor', A)<br>&#9;&#9;&#9;&#9;&#9;if(string(A.Tag) ~= RememberString)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;if(Sendtypepublic=="player")<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;A.Frob(CheckAuthPlayer, None);<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;A.Frob(Self,None);<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;xstr = xstr$string(a.Class)$", ";<br>&#9;&#9;&#9;&#9;&#9;}<br><br>&#9;&#9;&#9;&#9;&#9;if(Len(xstr) == 0)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;ASay("Couldn't find frob target.");<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;{ //     deusex.mover, deusex.mover<br>&#9;&#9;&#9;&#9;&#9;&#9;if(len(xstr) >= 75)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;xstr = "a large number of objects";<br>&#9;&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;xstr = Left(xstr, Len(xstr)-2);<br>&#9;&#9;&#9;&#9;&#9;&#9;ASay("Executed frob on "$xstr$".");<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;<br></div>
<h3 id="AthenaSpectator.dbg"><a class="headerlink" href="#AthenaSpectator.dbg" title="Permanent link">dbg</a> (string str)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer DXP;<br><br>&#9;<br>&#9;Log(str,'Debug');<br>&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;if(DXP.bAdmin)<br>&#9;&#9;&#9;DXP.ClientMessage(str);<br><br></div>
<h3 id="AthenaSpectator.generateRandChar"><a class="headerlink" href="#AthenaSpectator.generateRandChar" title="Permanent link">generateRandChar</a> (int max) -> string</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int i;<br>&#9;local string UID;<br><br><br>  for(i=0; i<max; i++)<br>  {<br>      UID = UID$Chr(Rand(65));<br>  }<br>  return UID;<br><br></div>
<h3 id="AthenaSpectator.generateRandHex"><a class="headerlink" href="#AthenaSpectator.generateRandHex" title="Permanent link">generateRandHex</a> -> string</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int i;<br>&#9;local string UID;<br><br><br>  for(i=0; i<7; i++)<br>  {<br>    if(FRand() < 0.5)<br>      UID = UID$string(Rand(9));<br>    else<br>      UID = UID$GetHex();<br>  }<br>  return Left(UID, 6);<br><br></div>
<h3 id="AthenaSpectator.generateRandStr"><a class="headerlink" href="#AthenaSpectator.generateRandStr" title="Permanent link">generateRandStr</a> (int max) -> string</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int i;<br>&#9;local string UID;<br>&#9;local string Charz[26];<br><br>&#9;charz[0]="A";<br>&#9;charz[1]="B";<br>&#9;charz[2]="C";<br>&#9;charz[3]="D";<br>&#9;charz[4]="E";<br>&#9;charz[5]="F";<br>&#9;charz[6]="G";<br>&#9;charz[7]="H";<br>&#9;charz[8]="I";<br>&#9;charz[9]="J";<br>&#9;charz[10]="K";<br>&#9;charz[11]="L";<br>&#9;charz[12]="M";<br>&#9;charz[13]="N";<br>&#9;charz[14]="O";<br>&#9;charz[15]="P";<br>&#9;charz[16]="Q";<br>&#9;charz[17]="R";<br>&#9;charz[18]="S";<br>&#9;charz[19]="T";<br>&#9;charz[20]="U";<br>&#9;charz[21]="V";<br>&#9;charz[22]="W";<br>&#9;charz[23]="X";<br>&#9;charz[24]="Y";<br>&#9;charz[25]="Z";<br><br>  for(i=0; i<max; i++)<br>  {<br>      UID = UID$charz[rand(26)];<br>  }<br>  return UID;<br><br></div>
<br><br><hr>
<a class="headerlink" href="#AthenaVision.uc" title="Permanent link"><h2 id="AthenaVision.uc">AthenaVision.uc (extends RCONActors)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var AthenaSpectator Ath;<br>var string AthFunction;</div>
<h3 id="AthenaVision.Timer"><a class="headerlink" href="#AthenaVision.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Actor A;<br>&#9;local string Foundz;<br>&#9;local int amount;<br>&#9;local string final;<br><br><br>&#9;if(AthFunction == "delete")<br>&#9;{<br>&#9;&#9;foreach VisibleActors(class'Actor', a, 50)<br>&#9;&#9;{<br>&#9;&#9;&#9;if (!A.IsA('Info') && !A.IsA('Mover') && !A.IsA('AthenaVision') && !A.IsA('Effects'))<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;A.Destroy();<br>&#9;&#9;&#9;&#9;Foundz = Foundz$String(A.Class)$", ";<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;if(len(foundz) > 420)<br>&#9;&#9;foundz = "objects [...]";<br>&#9;&#9;if(Foundz != "")<br>&#9;&#9;&#9;Ath.ASay("Deleted "$Left(Foundz, Len(Foundz)-2));<br>&#9;&#9;else<br>&#9;&#9;&#9;Ath.ASay("Nothing found.");<br>&#9;}<br><br>&#9;if(AthFunction == "check")<br>&#9;{<br>&#9;&#9;foreach VisibleActors(class'Actor', a, 50)<br>&#9;&#9;{<br>&#9;&#9;&#9;if (!A.IsA('Info') && !A.IsA('AthenaVision') && !A.IsA('Effects'))<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(A.isA('inventory'))<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;Ath.ASay("Inventory,"@Inventory(A).ItemName);<br>&#9;&#9;&#9;&#9;&#9;Ath.ASay("Class is"@string(A.Class));<br>&#9;&#9;&#9;&#9;&#9;amount++;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;if(A.IsA('ScriptedPawn'))<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;Ath.ASay("Scripted pawn,"@ScriptedPawn(A).FamiliarName$ "(Health="$ScriptedPawn(A).Health$")");<br>&#9;&#9;&#9;&#9;&#9;Ath.ASay("Class is "$string(A.Class));<br>&#9;&#9;&#9;&#9;&#9;amount++;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;else if(A.IsA('PlayerPawn'))<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;Ath.ASay("Human,"@PlayerPawn(A).PlayerReplicationInfo.PlayerName$" (Health: "$PlayerPawn(A).Health$")");<br>&#9;&#9;&#9;&#9;&#9;&#9;if(PlayerPawn(A).ReducedDamagetype == 'all')<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;Ath.ASay("Player is invincible.");<br>&#9;&#9;&#9;&#9;&#9;&#9;if(PlayerPawn(A).PlayerReplicationInfo.bAdmin)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;Ath.ASay("Player is an administrator.");<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;amount++;<br>&#9;&#9;&#9;&#9;}&#9;<br>&#9;&#9;&#9;&#9;else if(A.IsA('DeusExDecoration'))<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;Ath.ASay("Decoration,"@DeusExDecoration(A).ItemName$" Class is "$string(DeusExDecoration(A).class)$"(Hitpoints="$DeusExDecoration(A).HitPoints$") [Tag="$string(DeusExDecoration(A).Tag)$" : Event="$string(DeusExDecoration(A).Event)$"]");<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;Ath.ASay("Mass="@DeusExDecoration(a).Mass);<br>&#9;&#9;&#9;&#9;&#9;&#9;if(DeusExDecoration(a).bExplosive)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;Ath.ASay("Object is explosive.");<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;amount++;<br>&#9;&#9;&#9;&#9;}&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;else if(A.IsA('Mover'))<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;Ath.ASay("Mover,"@string(Mover(A).Class)$" [Tag="$string(Mover(A).Tag)$"]");<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;amount++;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br><br>&#9;&#9;if(amount == 0)<br>&#9;&#9;&#9;Ath.ASay("Nothing found or object was not recognized.");<br>&#9;}<br>&#9;<br>&#9;Destroy();<br><br></div>
<br><br><hr>
<a class="headerlink" href="#AutoGameActor.uc" title="Permanent link"><h2 id="AutoGameActor.uc">AutoGameActor.uc (extends RCONActors)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var AthenaSpectator Spect;<br>var int Ran;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bHidden=True</div>
<h3 id="AutoGameActor.GetMealStr"><a class="headerlink" href="#AutoGameActor.GetMealStr" title="Permanent link">GetMealStr</a> -> string</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(Level.Hour >= 5 && Level.Hour < 11)<br>&#9;&#9;return "breakfast";<br>&#9;else if(Level.Hour >= 11 && Level.Hour < 14)<br>&#9;&#9;return "lunch";<br>&#9;else if(Level.Hour >= 14 && Level.Hour < 19)<br>&#9;&#9;return "dinner";<br>&#9;else<br>&#9;&#9;return "supper";<br><br></div>
<h3 id="AutoGameActor.GetTime"><a class="headerlink" href="#AutoGameActor.GetTime" title="Permanent link">GetTime</a> -> string</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local string formattedmin;<br><br>&#9;if(level.minute <= 9)<br>&#9;{<br>&#9;&#9;formattedmin = "0"$level.minute;<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;formattedmin = string(level.minute);<br>&#9;}<br>return level.hour$":"$formattedmin;<br><br></div>
<h3 id="AutoGameActor.GetTimeStr"><a class="headerlink" href="#AutoGameActor.GetTimeStr" title="Permanent link">GetTimeStr</a> -> string</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(Level.Hour >= 5 && Level.Hour < 12)<br>&#9;&#9;return "morning";<br>&#9;else if(Level.Hour >= 12 && Level.Hour < 17)<br>&#9;&#9;return "afternoon";<br>&#9;else if(Level.Hour >= 17 && Level.Hour < 22)<br>&#9;&#9;return "evening";<br>&#9;else <br>&#9;&#9;return "night";<br><br></div>
<h3 id="AutoGameActor.Timer"><a class="headerlink" href="#AutoGameActor.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer DXP;<br>&#9;local bool bFound;<br><br><br>&#9;if(level.minute == 0 && Ran != level.hour)<br>&#9;{<br>&#9;&#9;Ran = level.hour;<br>&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer', DXP)<br>&#9;&#9;&#9;&#9;bFound=True;<br>&#9;&#9;<br>&#9;&#9;if(bFound)&#9;&#9;<br>&#9;&#9;&#9;Spect.ASay("[AUTO] Would anyone like to play trivia?");<br>&#9;&#9;&#9;BroadcastMessage("Say .trivia followed by the number of rounds.");<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#Blinder.uc" title="Permanent link"><h2 id="Blinder.uc">Blinder.uc (extends RCONActors)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var DeusExPlayer Other;</div>
<h3 id="Blinder.Timer"><a class="headerlink" href="#Blinder.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>Other.ClientFlash(1,Vect(20000,20000,20000));<br>Other.IncreaseClientFlashLength(2.0);<br><br></div>
<br><br><hr>
<a class="headerlink" href="#CardSpectator.uc" title="Permanent link"><h2 id="CardSpectator.uc">CardSpectator.uc (extends MessagingSpectator)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var AthenaMutator AM;<br>var int Cards[52];<br>var string CurrentGame;<br>var string rememberstring;<br>var string StoredCommand;<br>var DeusExPlayer CardPlayer;<br>var bool bStarting;<br>var int myCredits, currentBet;<br>var int rememberint;<br>var bool bHouseCantDraw, bPlayerCantDraw;<br>var int tPlayerTotal;<br>var int tHouseTotal;<br>var bool bPolling;<br>var string pollgame;</div>
<h3 id="CardSpectator.ASay"><a class="headerlink" href="#CardSpectator.ASay" title="Permanent link">ASay</a> (string str)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer DXP;<br><br>&#9;if(AM.bMuted)<br>&#9;&#9;return;<br>&#9;&#9;<br>&#9;BroadcastMessage("|c"$AM.ChatColour$"~ Trickster:"@str);<br>&#9;<br>&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;{<br>&#9;&#9;DXP.PlaySound(sound'DatalinkStart', SLOT_None,,, 256);<br>&#9;}<br>&#9;AM.AddChatlog("|c"$AM.ChatColour$"~ Trickster:"@str);<br>&#9;Log(str,'Trickster');<br><br></div>
<h3 id="CardSpectator.ASayPrivate"><a class="headerlink" href="#CardSpectator.ASayPrivate" title="Permanent link">ASayPrivate</a> (deusexplayer dxp, string str, optional bool bBuzzah)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(bBuzzah)<br>&#9;dxp.ClientMessage("|c"$AM.ChatColour$"# Trickster:"@str,'Teamsay');<br>&#9;else<br>&#9;dxp.ClientMessage("|c"$AM.ChatColour$"# Trickster:"@str);<br>&#9;<br>&#9;Log("[PRIVATE: "$DXP.PlayerReplicationInfo.PlayerName$"] "$str,'Trickster');<br><br></div>
<h3 id="CardSpectator.AStatus"><a class="headerlink" href="#CardSpectator.AStatus" title="Permanent link">AStatus</a> (string str)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(str == "")<br>&#9;Self.PlayerReplicationInfo.PlayerName = "|C"$AM.ChatColour$"Trickster";<br>&#9;else<br>&#9;Self.PlayerReplicationInfo.PlayerName = "|c"$AM.ChatColour$"Trickster ["$str$"]";<br><br></div>
<h3 id="CardSpectator.ClientMessage"><a class="headerlink" href="#CardSpectator.ClientMessage" title="Permanent link">ClientMessage</a> (coerce string S, optional name Type, optional bool bBeep)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int j, i, n;<br>&#9;local string output, ip;<br>&#9;local string line, savename;<br>&#9;local DeusExPlayer DXP;<br>&#9;local string ignorename, sender;<br>&#9;local deusexplayer senderplayer;<br>&#9;local string astr;<br><br>&#9;&#9;<br>&#9;if(instr(caps(S), caps("["$AM.Killphrase$"]")) != -1)<br>&#9;&#9;Killme();<br>&#9;if(bStarting && storedcommand == "")<br>&#9;&#9;return;<br>&#9;&#9;<br>&#9;if(Type == 'Say')<br>&#9;{<br>&#9;&#9;if(instr(caps(S), caps("): ")) != -1)<br>&#9;&#9;{<br>&#9;&#9;&#9;Line = Right(s, Len(s)-instr(s,"): ")-Len("): "));<br>&#9;&#9;&#9;Line = AM.RCR(Line);<br>&#9;&#9;&#9;Line = AM.RCR2(Line);<br>&#9;&#9;&#9;Sender = Left(s, InStr(s,"("));<br>&#9;&#9;}<br>&#9;&#9;//Start ignore check<br>&#9;&#9;&#9;sender = Left(s, InStr(s,"("));<br>&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == sender)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;senderplayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;IP = senderplayer.GetPlayerNetworkAddress();<br>&#9;&#9;&#9;IP = Left(IP, InStr(IP, ":"));<br><br>&#9;&#9;&#9;&#9;for (n=0;n<20;n++)<br>&#9;&#9;&#9;&#9;&#9;&#9;if(IP == AM.IgnoreIP[n])<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;return;<br>&#9;<br>&#9;&#9;if(Left(Line,4) ~= "bet " && CurrentGame == "")<br>&#9;&#9;{<br>&#9;&#9;&#9;rememberint = int(Right(Line, Len(Line)-4));<br>&#9;&#9;&#9;if(Senderplayer.Credits >= rememberint)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;ASay("Bet taken.");<br>&#9;&#9;&#9;senderplayer.Credits -= rememberint;<br>&#9;&#9;&#9;CurrentBet += rememberint;<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;ASay("Player can't afford to bet that much.");<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(Line ~= "hit me" && CurrentGame == "21" && SenderPlayer == CardPlayer)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(bPlayerCantDraw)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;ASay("Player can't draw now. (Cards over or is 21)");<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(FRand() < 0.5 && tHouseTotal >= 12)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;ASay("House stands. Final total is"@tHouseTotal$".");<br>&#9;&#9;&#9;&#9;&#9;bHouseCantDraw=True;<br>&#9;&#9;&#9;&#9;}<br><br>&#9;&#9;&#9;&#9;n = DrawCard();<br>&#9;&#9;&#9;&#9;tPlayerTotal += n;<br>&#9;&#9;&#9;&#9;ASay("Player One draws"@n@"(Current total"@tPlayerTotal$")");&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;if(!bHouseCantDraw)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;j = DrawCard();<br>&#9;&#9;&#9;&#9;&#9;&#9;tHouseTotal += j;<br>&#9;&#9;&#9;&#9;&#9;&#9;ASay("House draws "$j);<br>&#9;&#9;&#9;&#9;&#9;}<br><br><br>&#9;&#9;&#9;&#9;&#9;if(tPlayerTotal >= 21)<br>&#9;&#9;&#9;&#9;&#9;&#9;bPlayerCantDraw=True;<br>&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;if(tHouseTotal >= 21)<br>&#9;&#9;&#9;&#9;&#9;&#9;bPlayerCantDraw=True;<br>&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;AStatus("Checking totals...");<br>&#9;&#9;&#9;&#9;storedcommand="check";<br>&#9;&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br><br>&#9;&#9;if(Line ~= "stand" && CurrentGame == "21" && SenderPlayer == CardPlayer)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(FRand() < 0.5 && tHouseTotal >= 12)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;ASay("House stands. Final total is"@tHouseTotal$".");<br>&#9;&#9;&#9;&#9;bHouseCantDraw=True;<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;bPlayerCantDraw=True;<br>&#9;&#9;&#9;j = DrawCard();<br><br>&#9;&#9;&#9;&#9;if(!bHouseCantDraw)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;tHouseTotal += j;<br>&#9;&#9;&#9;&#9;&#9;ASay("House draws "$j);<br>&#9;&#9;&#9;&#9;}<br><br>&#9;&#9;&#9;&#9;if(tHouseTotal >= 21)<br>&#9;&#9;&#9;&#9;&#9;bHouseCantDraw=True;<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;AStatus("Checking totals...");<br>&#9;&#9;&#9;storedcommand="check";<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(Left(Line,17) ~= "trickster, start " && CurrentGame == "")<br>&#9;&#9;{<br>&#9;&#9;&#9;rememberstring = Right(Line, Len(Line)-17);<br>&#9;&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;&#9;&#9;bStarting=True;<br>&#9;&#9;&#9;&#9;AStatus("Thinking...");<br>&#9;&#9;&#9;&#9;CardPlayer=senderplayer;<br>&#9;&#9;&#9;&#9;StoredCommand = "startgame";<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(Line ~= "trickster, shut down")<br>&#9;&#9;{<br>&#9;&#9;&#9;KillMe();<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br><br>&#9;}//End if(type)<br><br></div>
<h3 id="CardSpectator.DrawCard"><a class="headerlink" href="#CardSpectator.DrawCard" title="Permanent link">DrawCard</a> -> int</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int n, r, myDraw;<br><br>&#9;myDraw = 0;<br>&#9;while(myDraw == 0)<br>&#9;{<br>&#9;&#9;r = Rand(52);<br>&#9;&#9;myDraw = Cards[r];<br>&#9;&#9;&#9;&#9;Log2("Player drew"@myDraw@". ("$Cards[r]$")");<br>&#9;&#9;&#9;&#9;//ASay("Player drew a"@myDraw$".");<br>&#9;&#9;&#9;&#9;Cards[myDraw] = 0;<br>&#9;}<br>&#9;<br>&#9;if(myDraw != 0)<br>&#9;&#9;return myDraw;<br><br></div>
<h3 id="CardSpectator.GenerateDeck"><a class="headerlink" href="#CardSpectator.GenerateDeck" title="Permanent link">GenerateDeck</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Log2("Generated card pack.");<br>&#9;//Suit 1: Hearts<br>&#9;Cards[0] = 1; // A<br>&#9;Cards[1] = 2;<br>&#9;Cards[2] = 3;<br>&#9;Cards[3] = 4;<br>&#9;Cards[4] = 5;<br>&#9;Cards[5] = 6;<br>&#9;Cards[6] = 7;<br>&#9;Cards[7] = 8;<br>&#9;Cards[8] = 9;<br>&#9;Cards[9] = 10;<br>&#9;Cards[10] = 10; // J<br>&#9;Cards[11] = 10; // Q<br>&#9;Cards[12] = 10; // K<br>&#9;<br>&#9;//Suit 2: Clubs<br>&#9;Cards[13] = 1; // A<br>&#9;Cards[14] = 2;<br>&#9;Cards[15] = 3;<br>&#9;Cards[16] = 4;<br>&#9;Cards[17] = 5;<br>&#9;Cards[18] = 6;<br>&#9;Cards[19] = 7;<br>&#9;Cards[20] = 8;<br>&#9;Cards[21] = 9;<br>&#9;Cards[22] = 10;<br>&#9;Cards[23] = 10; // J<br>&#9;Cards[24] = 10; // Q<br>&#9;Cards[25] = 10; // K<br>&#9;<br>&#9;//Suit 3: Spades<br>&#9;Cards[26] = 1; // A<br>&#9;Cards[27] = 2;<br>&#9;Cards[28] = 3;<br>&#9;Cards[29] = 4;<br>&#9;Cards[30] = 5;<br>&#9;Cards[31] = 6;<br>&#9;Cards[32] = 7;<br>&#9;Cards[33] = 8;<br>&#9;Cards[34] = 9;<br>&#9;Cards[35] = 10;<br>&#9;Cards[36] = 10; // J<br>&#9;Cards[37] = 10; // Q<br>&#9;Cards[38] = 10; // K<br>&#9;<br>&#9;//Suit 4: Clubs<br>&#9;Cards[39] = 1; // A<br>&#9;Cards[40] = 2;<br>&#9;Cards[41] = 3;<br>&#9;Cards[42] = 4;<br>&#9;Cards[43] = 5;<br>&#9;Cards[44] = 6;<br>&#9;Cards[45] = 7;<br>&#9;Cards[46] = 8;<br>&#9;Cards[47] = 9;<br>&#9;Cards[48] = 10;<br>&#9;Cards[49] = 10; // J<br>&#9;Cards[50] = 10; // Q<br>&#9;Cards[51] = 10; // K<br><br></div>
<h3 id="CardSpectator.GetHex"><a class="headerlink" href="#CardSpectator.GetHex" title="Permanent link">GetHex</a> -> string</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int i;<br><br>&#9;if(FRand() < 0.2)<br>&#9;&#9;return "a";<br>&#9;else if(FRand() >= 0.2 && FRand() < 0.4)<br>&#9;&#9;return "b";<br>&#9;else if(FRand() >= 0.4 && FRand() < 0.6)<br>&#9;&#9;return "c";<br>&#9;else if(FRand() >= 0.6 && FRand() < 0.8)<br>&#9;&#9;return "d";<br>&#9;else if(FRand() >= 0.8)<br>&#9;&#9;return "f";<br><br></div>
<h3 id="CardSpectator.Killme"><a class="headerlink" href="#CardSpectator.Killme" title="Permanent link">Killme</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local AthenaMutator AM;<br><br>&#9;foreach Allactors(class'AthenaMutator', AM)<br>&#9;{<br>&#9;&#9;AM.Killphrase = generateRandStr(4);<br>&#9;&#9;AM.card = None;<br>&#9;&#9;Destroy();<br>&#9;&#9;BroadcastMessage("Athena killed by killphrase.");<br>&#9;}<br><br></div>
<h3 id="CardSpectator.Log2"><a class="headerlink" href="#CardSpectator.Log2" title="Permanent link">Log2</a> (string str)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Log(str, 'Cards');<br><br></div>
<h3 id="CardSpectator.StartGameVote"><a class="headerlink" href="#CardSpectator.StartGameVote" title="Permanent link">StartGameVote</a> (string ginput)</h3>

<h3 id="CardSpectator.Timer"><a class="headerlink" href="#CardSpectator.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int h, hh, p, ph, n, j;<br>&#9;local bool bPB, bHB;<br><br><br>&#9;if(storedcommand == "bj1endgame")<br>&#9;{<br>&#9;&#9;if(tPlayerTotal == 21)<br>&#9;&#9;&#9;ASay("Player One total is 21!");<br>&#9;&#9;else if(tPlayerTotal > 21)<br>&#9;&#9;{<br>&#9;&#9;&#9;bPB=True;<br>&#9;&#9;&#9;ASay("Player One is bust!");<br>&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;if(tHouseTotal == 21)<br>&#9;&#9;&#9;ASay("House total is 21!");<br>&#9;&#9;else if(tHouseTotal > 21)<br>&#9;&#9;{<br>&#9;&#9;&#9;bHB=True;<br>&#9;&#9;&#9;ASay("House is bust!");<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(tHouseTotal == 21 || tPlayerTotal == 21)<br>&#9;&#9;{<br>&#9;&#9;&#9;ASay("Draw! Credits returned.");<br>&#9;&#9;&#9;CardPlayer.Credits += currentBet;<br>&#9;&#9;&#9;CurrentBet = 0;<br>&#9;&#9;}<br>&#9;&#9;else if(tHouseTotal <= 21 && bPB)<br>&#9;&#9;{<br>&#9;&#9;&#9;ASay("House wins.");<br>&#9;&#9;&#9;myCredits += currentBet*2;<br>&#9;&#9;&#9;currentBet = 0;<br>&#9;&#9;}<br>&#9;&#9;else if(tPlayerTotal <= 21 && bHB)<br>&#9;&#9;{<br>&#9;&#9;&#9;ASay("Player wins.");<br>&#9;&#9;&#9;CardPlayer.Credits += currentBet*2;<br>&#9;&#9;&#9;currentBet = 0;<br>&#9;&#9;}<br>&#9;&#9;else if(tPlayerTotal <= tHouseTotal && !bHB && !bPB)<br>&#9;&#9;{<br>&#9;&#9;&#9;ASay("House wins.");<br>&#9;&#9;&#9;myCredits += currentBet*2;<br>&#9;&#9;&#9;currentBet = 0;&#9;&#9;&#9;<br>&#9;&#9;}<br>&#9;&#9;else if(tPlayerTotal >= tHouseTotal && !bHB && !bPB)&#9;<br>&#9;&#9;{<br>&#9;&#9;&#9;ASay("Player wins.");<br>&#9;&#9;&#9;CardPlayer.Credits += currentBet*2;<br>&#9;&#9;&#9;currentBet = 0;&#9;&#9;<br>&#9;&#9;}<br>&#9;&#9;else if(tPlayerTotal == tHouseTotal)&#9;<br>&#9;&#9;{<br>&#9;&#9;&#9;ASay("Draw! Credits returned.");<br>&#9;&#9;&#9;CardPlayer.Credits += currentBet;<br>&#9;&#9;&#9;CurrentBet = 0;<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;Storedcommand="";<br>&#9;&#9;Cardplayer=None;<br>&#9;&#9;CurrentGame="";<br>&#9;&#9;AStatus("");<br>&#9;}<br>&#9;if(Currentgame == "21" && Storedcommand == "bj1drawinitcards")<br>&#9;{<br>&#9;&#9;StoredCommand = "";<br>&#9;&#9;p = drawcard();<br>&#9;&#9;ph = drawcard();<br>&#9;&#9;h = drawcard();<br>&#9;&#9;hh = drawcard();<br>&#9;&#9;tPlayerTotal += p;<br>&#9;&#9;tPlayerTotal += ph;<br>&#9;&#9;tHouseTotal += h;<br>&#9;&#9;tHouseTotal += hh;<br>&#9;&#9;Log("Player draws: "$p$" and "$ph);<br>&#9;&#9;Log("House draws: "$h$" and "$hh);<br>&#9;&#9;ASay("House draws "$h$" and a hidden hole card.");<br>&#9;&#9;ASay("Player One draws"@p@"and"@ph$" (Current total"@tPlayerTotal$")");<br>&#9;&#9;AStatus("");<br>&#9;}<br>&#9;<br>&#9;if(Currentgame == "21" && storedcommand == "check")<br>&#9;{<br>&#9;&#9;if(bPlayerCantDraw && bHouseCantDraw)<br>&#9;&#9;{<br>&#9;&#9;&#9;storedcommand="bj1endgame";<br>&#9;&#9;&#9;ASay("Game over, noone can draw.");<br>&#9;&#9;&#9;AStatus("Checking totals...");<br>&#9;&#9;&#9;SetTimer(1,False);<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;{<br>&#9;&#9;&#9;ASay("Hit or stand?");<br>&#9;&#9;&#9;AStatus("Waiting for response...");<br>&#9;&#9;&#9;storedcommand = "";<br>&#9;&#9;}<br>&#9;}&#9;<br><br>&#9;if(storedcommand == "startgame")<br>&#9;{<br>&#9;&#9;&#9;if(currentBet == 0)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;AStatus("");<br>&#9;&#9;&#9;&#9;ASay("A bet is needed.");<br>&#9;&#9;&#9;&#9;storedcommand="";<br>&#9;&#9;&#9;&#9;rememberstring="";<br>&#9;&#9;&#9;&#9;bStarting=False;<br>&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;if(rememberstring == "21" || rememberstring == "twenty-one" || rememberstring == "twenty one"  || rememberstring == "blackjack")<br>&#9;&#9;{<br>&#9;&#9;&#9;ASay("Beginning Blackjack (21)");<br>&#9;&#9;&#9;Rememberstring="";<br>&#9;&#9;&#9;StoredCommand="bj1drawinitcards";<br>&#9;&#9;&#9;GenerateDeck();<br>&#9;&#9;&#9;bHouseCantDraw=False;<br>&#9;&#9;&#9;bPlayerCantDraw=False;<br>&#9;&#9;&#9;tPlayerTotal=0;<br>&#9;&#9;&#9;tHouseTotal=0;<br>&#9;&#9;&#9;bStarting=False;<br>&#9;&#9;&#9;CurrentGame = "21";<br>&#9;&#9;&#9;AStatus("Launching Blackjack...");<br>&#9;&#9;&#9;SetTimer(1,false);<br>&#9;&#9;}<br>&#9;&#9;else if(rememberstring == "poker" || rememberstring == "highlow")<br>&#9;&#9;{<br>&#9;&#9;&#9;ASay("This game is not yet implemented.");<br>&#9;&#9;&#9;AStatus("");<br>&#9;&#9;&#9;bStarting=False;<br>&#9;&#9;&#9;CardPlayer = None;<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="CardSpectator.generateRandChar"><a class="headerlink" href="#CardSpectator.generateRandChar" title="Permanent link">generateRandChar</a> (int max) -> string</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int i;<br>&#9;local string UID;<br><br><br>  for(i=0; i<max; i++)<br>  {<br>      UID = UID$Chr(Rand(65));<br>  }<br>  return UID;<br><br></div>
<h3 id="CardSpectator.generateRandHex"><a class="headerlink" href="#CardSpectator.generateRandHex" title="Permanent link">generateRandHex</a> -> string</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int i;<br>&#9;local string UID;<br><br><br>  for(i=0; i<7; i++)<br>  {<br>    if(FRand() < 0.5)<br>      UID = UID$string(Rand(9));<br>    else<br>      UID = UID$GetHex();<br>  }<br>  return Left(UID, 6);<br><br></div>
<h3 id="CardSpectator.generateRandStr"><a class="headerlink" href="#CardSpectator.generateRandStr" title="Permanent link">generateRandStr</a> (int max) -> string</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int i;<br>&#9;local string UID;<br>&#9;local string Charz[26];<br><br>&#9;charz[0]="A";<br>&#9;charz[1]="B";<br>&#9;charz[2]="C";<br>&#9;charz[3]="D";<br>&#9;charz[4]="E";<br>&#9;charz[5]="F";<br>&#9;charz[6]="G";<br>&#9;charz[7]="H";<br>&#9;charz[8]="I";<br>&#9;charz[9]="J";<br>&#9;charz[10]="K";<br>&#9;charz[11]="L";<br>&#9;charz[12]="M";<br>&#9;charz[13]="N";<br>&#9;charz[14]="O";<br>&#9;charz[15]="P";<br>&#9;charz[16]="Q";<br>&#9;charz[17]="R";<br>&#9;charz[18]="S";<br>&#9;charz[19]="T";<br>&#9;charz[20]="U";<br>&#9;charz[21]="V";<br>&#9;charz[22]="W";<br>&#9;charz[23]="X";<br>&#9;charz[24]="Y";<br>&#9;charz[25]="Z";<br><br>  for(i=0; i<max; i++)<br>  {<br>      UID = UID$charz[rand(26)];<br>  }<br>  return UID;<br><br></div>
<br><br><hr>
<a class="headerlink" href="#ClockWatchActor.uc" title="Permanent link"><h2 id="ClockWatchActor.uc">ClockWatchActor.uc (extends RCONActors)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var AthenaSpectator Spect;<br>var() string AlarmTime;<br>var int Ran;<br>var string mealtime, stringtime;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bHidden=True</div>
<h3 id="ClockWatchActor.GetMealStr"><a class="headerlink" href="#ClockWatchActor.GetMealStr" title="Permanent link">GetMealStr</a> -> string</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(Level.Hour >= 5 && Level.Hour < 11)<br>&#9;&#9;return "breakfast";<br>&#9;else if(Level.Hour >= 11 && Level.Hour < 14)<br>&#9;&#9;return "lunch";<br>&#9;else if(Level.Hour >= 14 && Level.Hour < 19)<br>&#9;&#9;return "dinner";<br>&#9;else<br>&#9;&#9;return "supper";<br><br></div>
<h3 id="ClockWatchActor.GetTime"><a class="headerlink" href="#ClockWatchActor.GetTime" title="Permanent link">GetTime</a> -> string</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local string formattedmin;<br><br>&#9;if(level.minute <= 9)<br>&#9;{<br>&#9;&#9;formattedmin = "0"$level.minute;<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;formattedmin = string(level.minute);<br>&#9;}<br>return level.hour$":"$formattedmin;<br><br></div>
<h3 id="ClockWatchActor.GetTimeStr"><a class="headerlink" href="#ClockWatchActor.GetTimeStr" title="Permanent link">GetTimeStr</a> -> string</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(Level.Hour >= 5 && Level.Hour < 12)<br>&#9;&#9;return "morning";<br>&#9;else if(Level.Hour >= 12 && Level.Hour < 17)<br>&#9;&#9;return "afternoon";<br>&#9;else if(Level.Hour >= 17 && Level.Hour < 22)<br>&#9;&#9;return "evening";<br>&#9;else <br>&#9;&#9;return "night";<br><br></div>
<h3 id="ClockWatchActor.Timer"><a class="headerlink" href="#ClockWatchActor.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer DXP;<br>&#9;local bool bFound;<br><br><br>&#9;if(level.minute == 0 && Ran != level.hour)<br>&#9;{<br>&#9;&#9;Ran = level.hour;<br>&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer', DXP)<br>&#9;&#9;&#9;&#9;bFound=True;<br>&#9;&#9;<br>&#9;&#9;if(bFound)&#9;&#9;<br>&#9;&#9;&#9;Spect.ASay("The current time is now"@GetTime());<br>&#9;}<br>&#9;if(GetTime() == AlarmTime)<br>&#9;{<br>&#9;&#9;Spect.ASay("Alarm!");<br>&#9;&#9;AlarmTime = "";<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#DelayCMD.uc" title="Permanent link"><h2 id="DelayCMD.uc">DelayCMD.uc (extends RCONActors)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var string TCMD, ExtraCMD;<br>var int CDown;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bHidden=True</div>
<h3 id="DelayCMD.BeginPlay"><a class="headerlink" href="#DelayCMD.BeginPlay" title="Permanent link">BeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;SetTimer(1,True);<br><br></div>
<h3 id="DelayCMD.Timer"><a class="headerlink" href="#DelayCMD.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local string cInterp;<br><br><br>&#9;CDown--;<br><br>&#9;&#9;if(CDown == 10 || CDown == 20 || CDown == 30 || CDown == 40 || CDown == 50 || CDown == 60)<br>&#9;&#9;{<br>&#9;&#9;&#9;BroadcastMessage(caps(TCMD)@ExtraCMD$" in "$CDown$" seconds.");<br>&#9;&#9;}<br>&#9;&#9;if(CDown <= 5 && CDown >= 1)<br>&#9;&#9;{<br>&#9;&#9;&#9;BroadcastMessage(CDown$" until "$caps(TCMD)@ExtraCMD);<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(CDown == 0)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(TCMD ~= "server close")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;ConsoleCommand("quit");<br>&#9;&#9;&#9;&#9;Destroy();<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(TCMD ~= "restart")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;ConsoleCommand("Servertravel "$Left(string(Level), InStr(string(Level), ".")));<br>&#9;&#9;&#9;&#9;Destroy();<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(TCMD ~= "travel")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;ConsoleCommand("Servertravel "$ExtraCMD);<br>&#9;&#9;&#9;&#9;Destroy();<br>&#9;&#9;&#9;}&#9;<br>&#9;&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#GreeterDelay.uc" title="Permanent link"><h2 id="GreeterDelay.uc">GreeterDelay.uc (extends RCONActors)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var string Greets, Warnings;<br>var bool bWarning, bDone;<br>var DeusExPlayer LockOnHim;<br>var bool bKickem, bKickemFinal;<br>var string MarkStr;<br>var AthenaSpectator AS;<br>var bool SoloPlayerMsg;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bHidden=True</div>
<h3 id="GreeterDelay.BeginPlay"><a class="headerlink" href="#GreeterDelay.BeginPlay" title="Permanent link">BeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local AthenaSpectator Aspec;<br><br>&#9;foreach AllActors(class'AthenaSpectator',Aspec)<br>&#9;{<br>&#9;&#9;if(Aspec!=None)<br>&#9;&#9;&#9;AS = Aspec;<br>&#9;}<br>&#9;<br>&#9;SetTimer(3,False);<br>&#9;<br><br></div>
<h3 id="GreeterDelay.Timer"><a class="headerlink" href="#GreeterDelay.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int n;<br><br>&#9;if(Greets!="")<br>&#9;{<br>&#9;&#9;if(AS != None)<br>&#9;&#9;{<br>&#9;&#9;&#9;AS.ASay(Greets);<br>&#9;&#9;&#9;&#9;if(warnings == "marked")<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;Greets="";<br>&#9;&#9;&#9;&#9;&#9;SetTimer(3,False);<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;{<br>&#9;&#9;&#9;BroadcastMessage("|P4"$Greets);<br>&#9;&#9;&#9;&#9;if(warnings == "marked")<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;Greets="";<br>&#9;&#9;&#9;&#9;&#9;SetTimer(3,False);<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br>&#9;&#9;if(warnings == "marked")<br>&#9;&#9;{<br>&#9;&#9;&#9;if(AS != None)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;n=Rand(4);<br>&#9;&#9;&#9;&#9;if(n==0)<br>&#9;&#9;&#9;&#9;&#9;MarkStr = "Oh, look who it is, "$LockOnHim.PlayerReplicationInfo.PlayerName$" the trouble maker.";<br>&#9;&#9;&#9;&#9;if(n==1)<br>&#9;&#9;&#9;&#9;&#9;MarkStr = "This guys a pain in the ass.";<br>&#9;&#9;&#9;&#9;if(n==2)<br>&#9;&#9;&#9;&#9;&#9;MarkStr = "Watch out, this guy is known to cause trouble.";<br>&#9;&#9;&#9;&#9;if(n==3)<br>&#9;&#9;&#9;&#9;&#9;MarkStr = LockOnHim.PlayerReplicationInfo.PlayerName$" is a known trouble maker, watch out.";<br>&#9;&#9;&#9;AS.ASay(MarkStr);<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;MarkStr = "This player is a known trouble maker.";<br>&#9;&#9;&#9;BroadcastMessage(MarkStr);<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;destroy();<br>&#9;&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#GroupingActor.uc" title="Permanent link"><h2 id="GroupingActor.uc">GroupingActor.uc (extends RCONActors)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var PlayerPawn aOwner;<br>var Actor aObj[10];</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bHidden=True</div>
<h3 id="GroupingActor.AddGroupActor"><a class="headerlink" href="#GroupingActor.AddGroupActor" title="Permanent link">AddGroupActor</a> (Actor Add)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int c, i;<br><br>&#9;<br>&#9;for(i=0;i<10;i++)<br>&#9;&#9;if(aObj[i] == None)<br>&#9;&#9;{<br>&#9;&#9;&#9;aObj[i] = Add;<br>&#9;&#9;&#9;aOwner.ClientMessage("Object added to trigger group. ("$i$"="$Add$")");<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br><br></div>
<h3 id="GroupingActor.RemoveGroupActor"><a class="headerlink" href="#GroupingActor.RemoveGroupActor" title="Permanent link">RemoveGroupActor</a> (Actor Remove)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int c, i;<br><br>&#9;<br>&#9;for(i=0;i<10;i++)<br>&#9;&#9;if(aObj[i] == Remove)<br>&#9;&#9;{<br>&#9;&#9;&#9;aObj[i] = None;<br>&#9;&#9;&#9;aOwner.ClientMessage("Object removed trigger group. ("$i$"="$Remove$")");<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br><br></div>
<h3 id="GroupingActor.Tick"><a class="headerlink" href="#GroupingActor.Tick" title="Permanent link">Tick</a> (float deltatime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int i;<br>&#9;local bool bFound, bOwnerExist;<br><br><br>&#9;&#9;for(i=0;i<10;i++)<br>&#9;&#9;&#9;if(aObj[i] != None)<br>&#9;&#9;&#9;&#9;bFound=True;<br>&#9;&#9;<br>&#9;&#9;if(aOwner != None)<br>&#9;&#9;&#9;bOwnerExist=True;<br>&#9;&#9;&#9;<br>&#9;&#9;if(!bFound)<br>&#9;&#9;{<br>&#9;&#9;&#9;BroadcastMessage("["$aOwner.PlayerReplicationInfo.PlayerName$"] Inactive or empty trigger group has been destroyed.");<br>&#9;&#9;&#9;Destroy();<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(!bOwnerExist)<br>&#9;&#9;{<br>&#9;&#9;&#9;BroadcastMessage("Uncontrolled trigger group has been destroyed.");<br>&#9;&#9;&#9;Destroy();<br>&#9;&#9;}<br><br></div>
<h3 id="GroupingActor.Trigger"><a class="headerlink" href="#GroupingActor.Trigger" title="Permanent link">Trigger</a> (actor Other, pawn EventInstigator)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int c, i;<br><br>&#9;for(i=0;i<10;i++)<br>&#9;&#9;if(aObj[i] != None)<br>&#9;&#9;{<br>&#9;&#9;&#9;aObj[i].Trigger(Other,EventInstigator);<br>&#9;&#9;&#9;c++;<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;aOwner.ClientMessage(c$" objects triggered.");<br><br></div>
<br><br><hr>
<a class="headerlink" href="#IRCBuffer.uc" title="Permanent link"><h2 id="IRCBuffer.uc">IRCBuffer.uc (extends TcpLink)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var string			InputBuffer;<br>var string 			OutputBuffer;<br>var string			CRLF;<br>var string			CR;<br>var string			LF;<br>var bool			bWaiting;<br>var float			WaitTimeoutTime;<br>var string			WaitingFor;<br>var int				WaitForCountChars;		// if we're waiting for X bytes<br>var string			WaitResult;<br>var int				WaitMatchData;</div>
<h3 id="IRCBuffer.DoBufferQueueIO"><a class="headerlink" href="#IRCBuffer.DoBufferQueueIO" title="Permanent link">DoBufferQueueIO</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int i;<br><br><br>&#9;while(bWaiting)<br>&#9;{<br>&#9;&#9;if(Level.TimeSeconds > WaitTimeoutTime)<br>&#9;&#9;{<br>&#9;&#9;&#9;bWaiting = False;<br>&#9;&#9;&#9;GotMatchTimeout(WaitMatchData);<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(WaitForCountChars > 0)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(Len(InputBuffer) < WaitForCountChars)<br>&#9;&#9;&#9;&#9;break;<br><br>&#9;&#9;&#9;WaitResult = Left(InputBuffer, WaitForCountChars);<br>&#9;&#9;&#9;InputBuffer = Mid(InputBuffer, WaitForCountChars);<br>&#9;&#9;&#9;bWaiting = False;<br>&#9;&#9;&#9;GotMatch(WaitMatchData);<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;{<br>&#9;&#9;&#9;i = InStr(InputBuffer, WaitingFor);<br>&#9;&#9;&#9;if(i == -1 && WaitingFor == CR)<br>&#9;&#9;&#9;&#9;i = InStr(InputBuffer, LF);<br>&#9;&#9;&#9;if(i != -1)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;WaitResult = Left(InputBuffer, i + Len(WaitingFor));<br>&#9;&#9;&#9;&#9;InputBuffer = Mid(InputBuffer, i + Len(WaitingFor));<br>&#9;&#9;&#9;&#9;bWaiting = False;<br>&#9;&#9;&#9;&#9;GotMatch(WaitMatchData);<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;break;<br>&#9;&#9;}<br>&#9;}<br><br>&#9;if(IsConnected())<br>&#9;{<br>&#9;&#9;i = SendText(OutputBuffer);<br>&#9;&#9;OutputBuffer = Mid(OutputBuffer, i);<br>&#9;}<br><br></div>
<h3 id="IRCBuffer.GotMatch"><a class="headerlink" href="#IRCBuffer.GotMatch" title="Permanent link">GotMatch</a> (int MatchData)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;// called when a match happens&#9;<br><br></div>
<h3 id="IRCBuffer.GotMatchTimeout"><a class="headerlink" href="#IRCBuffer.GotMatchTimeout" title="Permanent link">GotMatchTimeout</a> (int MatchData)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;// when a match times out<br><br></div>
<h3 id="IRCBuffer.ParseDelimited"><a class="headerlink" href="#IRCBuffer.ParseDelimited" title="Permanent link">ParseDelimited</a> (string Text, string Delimiter, int Count, optional bool bToEndOfLine) -> string</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local string Result;<br>&#9;local int Found, i;<br>&#9;local string s;<br><br><br>&#9;Result = "";&#9;<br>&#9;Found = 1;<br>&#9;<br>&#9;for(i=0;i<Len(Text);i++)<br>&#9;{<br>&#9;&#9;s = Mid(Text, i, 1);<br>&#9;&#9;if(InStr(Delimiter, s) != -1)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(Found == Count)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(bToEndOfLine)<br>&#9;&#9;&#9;&#9;&#9;return Result$Mid(Text, i);<br>&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;return Result;<br>&#9;&#9;&#9;}<br><br>&#9;&#9;&#9;Found++;&#9;&#9;&#9;<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;{<br>&#9;&#9;&#9;if(Found >= Count)<br>&#9;&#9;&#9;&#9;Result = Result $ s;<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;return Result;<br><br></div>
<h3 id="IRCBuffer.PeekChar"><a class="headerlink" href="#IRCBuffer.PeekChar" title="Permanent link">PeekChar</a> -> int</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int c;<br><br>&#9;<br>&#9;if(InputBuffer == "")<br>&#9;&#9;return 0;<br>&#9;return Asc(Left(InputBuffer, 1));<br><br></div>
<h3 id="IRCBuffer.ReadBufferedLine"><a class="headerlink" href="#IRCBuffer.ReadBufferedLine" title="Permanent link">ReadBufferedLine</a> (out string Text) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int i;<br><br><br>&#9;i = InStr(InputBuffer, Chr(13));<br>&#9;if(i == -1)<br>&#9;&#9;return False;<br><br>&#9;Text = Left(InputBuffer, i);<br>&#9;if(Mid(InputBuffer, i+1, 1) == Chr(10))<br>&#9;&#9;i++;<br><br>&#9;InputBuffer = Mid(InputBuffer, i+1);<br>&#9;return True;<br><br></div>
<h3 id="IRCBuffer.ReadChar"><a class="headerlink" href="#IRCBuffer.ReadChar" title="Permanent link">ReadChar</a> -> int</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int c;<br><br>&#9;<br>&#9;if(InputBuffer == "")<br>&#9;&#9;return 0;<br>&#9;c = Asc(Left(InputBuffer, 1));<br>&#9;InputBuffer = Mid(InputBuffer, 1);<br>&#9;return c;<br><br></div>
<h3 id="IRCBuffer.ReceivedText"><a class="headerlink" href="#IRCBuffer.ReceivedText" title="Permanent link">ReceivedText</a> (string Text)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;InputBuffer = InputBuffer $ Text;<br><br></div>
<h3 id="IRCBuffer.ResetBuffer"><a class="headerlink" href="#IRCBuffer.ResetBuffer" title="Permanent link">ResetBuffer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;InputBuffer = "";<br>&#9;OutputBuffer = "";<br>&#9;bWaiting = False;<br>&#9;CRLF = Chr(10)$Chr(13);<br>&#9;CR = Chr(13);<br>&#9;LF = Chr(10);<br><br></div>
<h3 id="IRCBuffer.SendBufferedData"><a class="headerlink" href="#IRCBuffer.SendBufferedData" title="Permanent link">SendBufferedData</a> (string Text)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;OutputBuffer = OutputBuffer $ Text;<br><br></div>
<h3 id="IRCBuffer.WaitFor"><a class="headerlink" href="#IRCBuffer.WaitFor" title="Permanent link">WaitFor</a> (string What, float TimeOut, int MatchData)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;bWaiting = True;<br>&#9;WaitingFor = What;<br>&#9;WaitForCountChars = 0;<br>&#9;WaitTimeoutTime = Level.TimeSeconds + TimeOut;<br>&#9;WaitMatchData = MatchData;<br>&#9;WaitResult = "";<br><br></div>
<h3 id="IRCBuffer.WaitForCount"><a class="headerlink" href="#IRCBuffer.WaitForCount" title="Permanent link">WaitForCount</a> (int Count, float TimeOut, int MatchData)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;bWaiting = True;<br>&#9;WaitingFor = "";<br>&#9;WaitForCountChars = Count;<br>&#9;WaitTimeoutTime = Level.TimeSeconds + TimeOut;<br>&#9;WaitMatchData = MatchData;<br>&#9;WaitResult = "";<br><br></div>
<br><br><hr>
<a class="headerlink" href="#IRCLink.uc" title="Permanent link"><h2 id="IRCLink.uc">IRCLink.uc (extends TCPLink)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var config string Server;<br>var config string Channel;<br>var config string Username;<br>var config int Port;<br>var config string OpUsernames[10];<br>var config string iPrefix;<br>var config int iMode;<br>var bool bBeating;<br>var config bool bAcceptingCommands;<br>var bool bGodAccess;<br>var config bool bJoinTimer;<br>var config bool bMasterDebug;<br>var config bool bParts, bQuits, bJoins, bActions, bModes;<br>var config bool bClientMode;<br>var config bool bAutoClientMode;<br>var string JoinChannel;<br>var bool bErrord;<br>var float fHeartbeat, fReconDelay;<br>var AthenaSpectator AS;<br>var AthenaMutator AM;<br>var config bool bDebugRep, bDebug;<br>var config bool bLogAll;<br>var config bool bIRCClientLogs;<br>var config string GSCURL, GSCARG;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">Server="irc.rizon.io"<br>Channel="#deusbork"<br>userName="Playground"<br>Port=6667<br>OpUsernames(0)="kaiz0r"<br>iPrefix="|P3"<br>bAcceptingCommands=True<br>bJoinTimer=True<br>bParts=True<br>bQuits=True<br>bJoins=True<br>bActions=True<br>bModes=True<br>bAutoClientMode=True<br>fHeartbeat=20.000000<br>fReconDelay=30.000000<br>bDebugRep=True<br>bIRCClientLogs=True</div>
<h3 id="IRCLink.ConLost"><a class="headerlink" href="#IRCLink.ConLost" title="Permanent link">ConLost</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local string str;<br><br><br>&#9;if(!bErrord)<br>&#9;{<br>&#9;str = Left(string(fReconDelay), InStr(string(fReconDelay), "."));<br>&#9;&#9;bErrord=True;<br>&#9;&#9;BroadcastMessage("|P2Error: IRC connection was lost. Attempting reconnection in "$str$" seconds.");<br>&#9;&#9;Log("IRC connection was lost. Attempting reconnection in "$str$" seconds.", 'Error');<br>&#9;&#9;&#9;SetTimer(fReconDelay,False);<br>&#9;}<br><br></div>
<h3 id="IRCLink.DestroyLink"><a class="headerlink" href="#IRCLink.DestroyLink" title="Permanent link">DestroyLink</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;SendText("QUIT :Closed");<br>&#9;&#9;Destroy();<br><br></div>
<h3 id="IRCLink.DoAthenaLink"><a class="headerlink" href="#IRCLink.DoAthenaLink" title="Permanent link">DoAthenaLink</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local AthenaSpectator Aspec;<br><br>&#9;if(AS == None)<br>&#9;{<br>&#9;&#9;foreach AllActors(class'AthenaSpectator',Aspec)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(Aspec!=None)<br>&#9;&#9;&#9;&#9;AS = Aspec;<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(AS != None)<br>&#9;&#9;&#9;Log("Linked to Athena Spectator.",'IRC');<br>&#9;}<br><br></div>
<h3 id="IRCLink.FormatNames"><a class="headerlink" href="#IRCLink.FormatNames" title="Permanent link">FormatNames</a> (string S) -> string</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local string imsg, iname;<br><br>&#9;<br>&#9;if(instr(caps(S), caps("): ")) != -1)<br>&#9;{<br>&#9;&#9;imsg = Right(s, Len(s)-instr(s,"): ")-Len("): "));<br>&#9;&#9;iname =  Left(s, InStr(s,"("));<br>&#9;&#9;return "[ "$iname$" ] "$imsg;<br>&#9;}<br><br></div>
<h3 id="IRCLink.Opened"><a class="headerlink" href="#IRCLink.Opened" title="Permanent link">Opened</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>  SendCommand("USER Console hostname servername :Console");<br>  SendCommand("NICK SERVER_"$Username);<br>  SendCommand("JOIN"@Channel);<br><br></div>
<h3 id="IRCLink.PostBeginPlay"><a class="headerlink" href="#IRCLink.PostBeginPlay" title="Permanent link">PostBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>  Super.PostBeginPlay();<br>  StartLink();<br>  SetTimer(3.0,False);<br>  <br>  &#9;&#9;if (Level.NetMode == NM_Standalone && bAutoClientMode)<br>&#9;&#9;{<br>&#9;&#9;&#9;Log("Starting in ClientMode.",'IRC');<br>&#9;&#9;&#9;bClientMode=True;<br>&#9;&#9;}<br>&#9;&#9;else if (Level.NetMode != NM_Standalone)<br>&#9;&#9;{<br>&#9;&#9;&#9;Log("Starting in ServerMode (default).",'IRC');<br>&#9;&#9;&#9;bClientMode=False;<br>&#9;&#9;}<br><br></div>
<h3 id="IRCLink.RCR"><a class="headerlink" href="#IRCLink.RCR" title="Permanent link">RCR</a> (string in) -> string</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local string TempMessage, TempLeft, TempRight, OutMessage, _TmpString;<br><br>&#9;OutMessage=in;<br>    while (instr(caps(outmessage), "|P") != -1)<br>    {<br>        tempRight=(right(OutMessage, (len(OutMessage)-instr(caps(OutMessage), "|P"))-3));<br>        tempLeft=(left(OutMessage, instr(caps(OutMessage), "|P")) );<br>        OutMessage=TempLeft$TempRight;<br>    }<br>&#9;return OutMessage;<br><br></div>
<h3 id="IRCLink.RCR2"><a class="headerlink" href="#IRCLink.RCR2" title="Permanent link">RCR2</a> (string in) -> string</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local string TempMessage, TempLeft, TempRight, OutMessage, _TmpString;<br><br>&#9;OutMessage=in;<br>    while (instr(caps(outmessage), "|C") != -1)<br>    {<br>        tempRight=(right(OutMessage, (len(OutMessage)-instr(caps(OutMessage), "|C"))-8));<br>        tempLeft=(left(OutMessage, instr(caps(OutMessage), "|C")) );<br>        OutMessage=TempLeft$TempRight;<br>    }<br>&#9;&#9;&#9;return OutMessage;<br><br></div>
<h3 id="IRCLink.ReceivedLine"><a class="headerlink" href="#IRCLink.ReceivedLine" title="Permanent link">ReceivedLine</a> (string Line)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local string       _Original;<br>&#9;local string       _Sender;<br>&#9;local string       _TmpString;<br>&#9;local DeusExPlayer    _Player, dxp;<br>&#9;local string oldLine;<br>&#9;local bool bIsOp;<br>&#9;local int j, i, amount;<br>&#9;local string SetA, SetB;<br>&#9;local string Part;<br>&#9;local spec _spec;<br>&#9;local RCONStats StatActor, StatLink;<br>&#9;local DelayCMD DCMD;<br>&#9;local string Loglinez;<br>&#9;local string quit;<br>&#9;local DeusExDecoration DXD;<br>&#9;local inventory inv;<br>&#9;local DeusExDecoration Deco;<br>&#9;local scriptedpawn sp;<br>&#9;local playerpawn dp;<br>&#9;local actor a;<br>&#9;local bool bDontLog;<br>&#9;local ARClient ARC;<br>&#9;local AthenaMutator AMR;<br>&#9;local GenericSiteQuery GSC;<br>&#9;local CodeBase _CB;<br>&#9;local RCONManager RMAN;<br><br><br>//local RCONReplicatorActor REPL;<br>&#9;&#9;&#9;//local string OldLine;<br>&#9;bIsOp=False;<br>&#9;bGodAccess=False;<br>&#9;<br>&#9;if(instr(Line, "VERSION") != -1)<br>&#9;{<br>&#9;&#9;SendCommand("VERSION DeusEx IRC Link by Kaiz0r");<br>&#9;&#9;Log("VERSION  -  Deus Ex IRC Link by Kaiz0r",'IRC');<br>&#9;}<br>&#9;&#9;<br>&#9;if(instr(Line, "PING :") != -1)<br>&#9;{<br>&#9;&#9;SendCommand("PONG :"$Right(Line, Len(Line)-instr(line,":")-Len(":")));<br>&#9;&#9;Log("PING - "$Right(Line, Len(Line)-instr(line,":")-Len(":")),'IRC');<br>&#9;&#9;bDontLog=True;<br>&#9;&#9;return;<br>&#9;}<br>&#9;&#9;<br><br><br>  Line = Left(Line,Len(Line)-2);<br>  _Original = Line;<br>&#9;if(bLogAll)<br>&#9;&#9;Log(Line);<br>&#9;if(bMasterDebug)<br>&#9;&#9;BroadcastMessage(Line);<br>  &#9;&#9;<br>   /* if(instr(Line, "001 "$Username$" ") != -1 || instr(Line, "002 "$Username$" ") != -1 || instr(Line, "003 "$Username$" ") != -1 || instr(Line, "004 "$Username$" ") != -1 || instr(Line, "005 "$Username$" ") != -1 || instr(Line, "451 "$Username$" ") != -1)<br>&#9;{<br>&#9;&#9;Line = Right(_Original, Len(_Original)-instr(_Original," "$Username$" ")-Len(" "$Username$" "));<br>&#9;//&#9;Line = Left(Line, InStr(Line,":"));<br>&#9;&#9;_Sender = Server;<br>&#9;&#9;//SendToGame("|P2[SERVICES] |P5<|P1"$_Sender$"|P5>|P1 "$line);<br>&#9;&#9;Log("SERVICES - "$_Sender@line, 'IRC');<br>&#9;&#9;bDontLog=True;<br>&#9;&#9;return;<br>&#9;}<br><br>    if(instr(Line, "001 SERVER_"$Username$" :") != -1 <br>    || instr(Line, "002 SERVER_"$Username$" :") != -1 <br>    || instr(Line, "003 SERVER_"$Username$" :") != -1 <br>    || instr(Line, "004 SERVER_"$Username$" :") != -1 <br>    || instr(Line, "005 SERVER_"$Username$" :") != -1 <br>    || instr(Line, "451 SERVER_"$Username$" :") != -1)<br>&#9;{<br>&#9;&#9;Line = Right(_Original, Len(_Original)-instr(_Original," SERVER_"$Username$" :")-Len(" SERVER_"$Username$" :"));<br>&#9;&#9;//Line = Left(Line, InStr(s,":"));<br>&#9;&#9;//Line = Left(Line, InStr(Line,":"));<br>&#9;&#9;_Sender = Server;<br>&#9;&#9;//SendToGame("|P2[SERVICES] |P5<|P1"$_Sender$"|P5>|P1 "$line);<br>&#9;&#9;Log("SERVICES - "$_Sender@line, 'IRC');<br>&#9;&#9;bDontLog=True;<br>&#9;&#9;&#9;&#9;return;<br>&#9;}<br><br>&#9;for(i=256;i<377;i++)<br>    {<br>&#9;&#9;if(instr(Line, i$" SERVER_"$Username$" :") != -1)<br>&#9;&#9;{<br>&#9;&#9;&#9;Line = Right(_Original, Len(_Original)-instr(_Original,i$" SERVER_"$Username$" :")-Len(i$" SERVER_"$Username$" :"));<br>&#9;&#9;&#9;//Line = Left(Line, InStr(Line,":"));<br>&#9;&#9;&#9;_Sender = Server;<br>&#9;&#9;//&#9;SendToGame("|P2[SERVICES] |P5<|P1"$_Sender$"|P5>|P1 "$line);<br>&#9;&#9;&#9;Log("SERVICES - "$_Sender@line, 'IRC');<br>&#9;&#9;&#9;bDontLog=True;<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br>&#9;&#9;&#9;<br>&#9;for(i=256;i<377;i++)<br>    {<br>&#9;&#9;if(instr(Line, i$" "$Username$" :") != -1)<br>&#9;&#9;{<br>&#9;&#9;&#9;Line = Right(_Original, Len(_Original)-instr(_Original,i$" "$Username$" :")-Len(i$" "$Username$" :"));<br>&#9;&#9;&#9;//Line = Left(Line, InStr(Line,":"));<br>&#9;&#9;&#9;_Sender = Server;<br>&#9;&#9;//&#9;SendToGame("|P2[SERVICES] |P5<|P1"$_Sender$"|P5>|P1 "$line);<br>&#9;&#9;&#9;Log("SERVICES - "$_Sender@line, 'IRC');<br>&#9;&#9;&#9;bDontLog=True;<br>&#9;&#9;&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}*/<br>&#9;if(instr(Line, "PRIVMSG"@Username$" :") != -1)<br>&#9;{<br>&#9;&#9;Line = Right(_Original, Len(_Original)-instr(_Original,"PRIVMSG"@Username$" :")-Len("PRIVMSG"@Username$" :"));<br>&#9;&#9;//Line = Left(Line, InStr(Line,":"));<br>    _Sender = Left(_Original, InStr(_Original,"!"));<br>    _Sender = Right(_Sender, Len(_Sender)-1);<br>    <br>    &#9;for(j=0;j<10;j++)<br>&#9;{<br>&#9;&#9;if(_Sender == "Kaiz0r")<br>&#9;&#9;{<br>&#9;&#9;&#9;bGodAccess=True; <br>&#9;&#9;&#9;bIsOp=True;<br>&#9;&#9;}<br>&#9;&#9;else if(_Sender == OpUsernames[j])<br>&#9;&#9;{<br>&#9;&#9;&#9;bIsOp=True;<br>&#9;&#9;}<br>&#9;}<br><br>&#9;if(Left(Line,2) ~= "!$")<br>    {<br>&#9;line = Right(Line, Len(Line)-2);<br>&#9;&#9;if(line ~= username)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(bGodAccess)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;bClientMode = !bClientMode;<br>&#9;&#9;&#9;SaveConfig();<br>&#9;&#9;&#9;&#9;if(bClientMode)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;BroadcastMessage(channel$": Set to Client Mode. (IRC User takes talking player's name)");<br>&#9;&#9;&#9;&#9;&#9;Log(channel$": "$_Sender$" set client mode on.", 'IRC');<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;if(!bClientMode)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;BroadcastMessage(channel$": Set to Server Mode.");<br>&#9;&#9;&#9;&#9;&#9;Log(channel$": "$_Sender$" set server mode on.", 'IRC');<br>&#9;&#9;&#9;&#9;}&#9;&#9;&#9;<br>&#9;&#9;&#9;return;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;if(Left(Line,2) ~= "!#")<br>    {<br>&#9;line = Right(Line, Len(Line)-2);<br>&#9;&#9;if(line ~= username)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(bGodAccess)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;bAcceptingCommands = !bAcceptingCommands;<br>&#9;&#9;&#9;SaveConfig();<br>&#9;&#9;&#9;&#9;if(bAcceptingCommands)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;BroadcastMessage(channel$": IRC Commands enabled for this server.");<br>&#9;&#9;&#9;&#9;&#9;Log(channel$": "$_Sender$" set commands on.", 'IRC');<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;if(!bAcceptingCommands)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;BroadcastMessage(channel$":IRC  Commands disabled for this server.");<br>&#9;&#9;&#9;&#9;&#9;Log(channel$": "$_Sender$" set commands off.", 'IRC');<br>&#9;&#9;&#9;&#9;}&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;return;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;if(!bAcceptingCommands)<br>&#9;{<br>&#9;&#9;loglinez = _Sender;<br>&#9;&#9;if(bGodAccess)<br>&#9;&#9;{<br>&#9;&#9;&#9;_Sender = "|P7"$_Sender$"|P1";<br>&#9;&#9;}<br>&#9;&#9;else if(bIsOp)<br>&#9;&#9;{<br>&#9;&#9;&#9;_Sender = "|P2"$_Sender$"|P1";<br>&#9;&#9;}<br><br>&#9;&#9;loglinez = loglinez$":"@Line;<br>&#9;&#9;//if(len(loglinez) < 420)<br>&#9;&#9;&#9;Log(loglinez, 'IRC');<br>&#9;&#9;&#9;bDontLog=True;<br>&#9;&#9;//DoAthenaLink();<br>&#9;&#9;//AS.ClientMessage(_Sender$"(0):"@Line, 'Say');<br>&#9;&#9;Line = "|P1<"$_Sender$">"@Line;<br>&#9;&#9;//if(len(line) < 420)<br>&#9;&#9;&#9;SendToGame(Line);&#9;<br>&#9;&#9;return;<br>&#9;}<br>&#9;<br>&#9;if(Left(Line,4) ~= "!me ")<br>    {<br>&#9;&#9;line = Right(Line, Len(Line)-4);<br>&#9;&#9;SendToGame(_Sender@Line);<br>&#9;&#9;return;<br>&#9;}<br>&#9;<br>&#9;if(Left(Line,10) ~= "!announce ")<br>    {<br>&#9;&#9;line = Right(Line, Len(Line)-10);<br>&#9;&#9;if(bIsOp)<br>&#9;&#9;{<br>&#9;&#9;&#9;SendToGame(Line);<br>&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;if(Left(Line,6) ~= "!vict ")<br>    {<br>&#9;&#9;line = Right(Line, Len(Line)-6);<br>&#9;&#9;if(bIsOp)<br>&#9;&#9;{<br>&#9;&#9;&#9;Consolecommand("set deusexmpgame victorycondition"@line);<br>&#9;&#9;&#9;BroadcastMessage(channel$": "$_Sender$": Victory condition changed by an IRC operator. ("$line$")");<br>&#9;&#9;&#9;Log(channel$": "$_Sender$": Victory condition changed by an IRC operator. ("$line$")", 'IRC');<br>&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;<br>&#9;if(Left(Line,6) ~= "!pass ")<br>    {<br>&#9;&#9;line = Right(Line, Len(Line)-6);<br>&#9;&#9;if(bIsOp)<br>&#9;&#9;{<br>&#9;&#9;&#9;ConsoleCommand("Set Gameinfo Gamepassword "$line);<br>&#9;&#9;&#9;if(line != "")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;Log(channel$": "$_Sender$": The GamePassword has been changed via IRC to "$line, 'IRC');<br>&#9;&#9;&#9;BroadcastMessage(channel$": "$_Sender$": |P3The GamePassword has been changed via IRC to "$line);<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;Log(channel$": "$_Sender$": The GamePassword has been removed via IRC.", 'IRC');<br>&#9;&#9;&#9;BroadcastMessage(channel$": "$_Sender$": |P3The GamePassword has been removed via IRC.");<br>&#9;&#9;&#9;}<br>&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;if(Left(Line,5) ~= "!pass")<br>    {<br>&#9;&#9;if(bIsOp)<br>&#9;&#9;{<br>&#9;&#9;&#9;ConsoleCommand("Set Gameinfo Gamepassword ");<br>&#9;&#9;&#9;BroadcastMessage(channel$": "$_Sender$": |P3The GamePassword has been removed via IRC.");<br>&#9;&#9;&#9;Log(channel$": "$_Sender$": The GamePassword has been removed via IRC.", 'IRC');<br>&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;if(Left(Line,1) == "#")<br>    {<br>&#9;&#9;return;<br>&#9;}<br>&#9;<br>&#9;if(Left(Line,7) ~= "!imode ")<br>    {<br>&#9;&#9;j = int(Right(Line, Len(Line)-7));<br>&#9;&#9;if(bIsOp)<br>&#9;&#9;{<br>&#9;&#9;&#9;iMode=0;<br>&#9;&#9;&#9;SaveConfig();<br>&#9;&#9;&#9;BroadcastMessage(channel$": "$_Sender$" changed iMode.");<br>&#9;&#9;&#9;if(j == 1)<br>&#9;&#9;&#9;broadcastMessage(j$" - All messages");<br>&#9;&#9;&#9;else if(j == 2)<br>&#9;&#9;&#9;BroadcastMessage(j$" - Chat only.");<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;BroadcastMessage(j$" - Not configured, Acting as Default:1");<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;iMode = j;<br>&#9;&#9;&#9;Log(channel$": "$_Sender$" Setting new iMode : "$j, 'IRC');<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;if(Left(Line,7) ~= "!reset ")<br>    {<br>&#9;&#9;j = int(Right(Line, Len(Line)-7));<br>&#9;&#9;if(bIsOp)<br>&#9;&#9;{<br>&#9;&#9;&#9;DCMD = Spawn(class'DelayCMD',,,Location);<br>&#9;&#9;&#9;DCMD.CDown = j;<br>&#9;&#9;&#9;DCMD.TCMD = "restart";<br>&#9;&#9;&#9;BroadcastMessage(channel$": "$_Sender$" is restarting the server in "$j$" seconds.");<br>&#9;&#9;&#9;Log(channel$": "$_Sender$" Restarting server.", 'IRC');<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;if(Left(Line,9) ~= "!restart ")<br>    {<br>&#9;&#9;j = int(Right(Line, Len(Line)-9));<br>&#9;&#9;if(bIsOp)<br>&#9;&#9;{<br>&#9;&#9;&#9;DCMD = Spawn(class'DelayCMD',,,Location);<br>&#9;&#9;&#9;DCMD.CDown = j;<br>&#9;&#9;&#9;DCMD.TCMD = "restart";<br>&#9;&#9;&#9;BroadcastMessage(channel$": "$_Sender$" is restarting the server in "$j$" seconds.");<br>&#9;&#9;&#9;Log(channel$": "$_Sender$" Restarting server.", 'IRC');<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;if(Left(Line,6) ~= "!exit ")<br>    {<br>&#9;&#9;j = int(Right(Line, Len(Line)-6));<br>&#9;&#9;if(bIsOp)<br>&#9;&#9;{<br>&#9;&#9;&#9;DCMD = Spawn(class'DelayCMD',,,Location);<br>&#9;&#9;&#9;DCMD.CDown = j;<br>&#9;&#9;&#9;DCMD.TCMD = "server close";<br>&#9;&#9;&#9;BroadcastMessage(channel$": "$_Sender$" is closing the server in "$j$" seconds.");<br>&#9;&#9;&#9;Log(channel$": "$_Sender$" Ending server.", 'IRC');<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;if(Left(Line,6) ~= "!quit ")<br>    {<br>&#9;&#9;j = int(Right(Line, Len(Line)-6));<br>&#9;&#9;if(bIsOp)<br>&#9;&#9;{<br>&#9;&#9;&#9;DCMD = Spawn(class'DelayCMD',,,Location);<br>&#9;&#9;&#9;DCMD.CDown = j;<br>&#9;&#9;&#9;DCMD.TCMD = "server close";<br>&#9;&#9;&#9;BroadcastMessage(channel$": "$_Sender$" is closing the server in "$j$" seconds.");<br>&#9;&#9;&#9;Log(channel$": "$_Sender$" Ending server.", 'IRC');<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;if(Left(Line,7) ~= "!smite ")<br>    {<br>&#9;j = int(Right(Line, Len(Line)-7));<br>&#9;&#9;if(bIsOp)<br>&#9;&#9;{<br>&#9;&#9;&#9;foreach allactors(class'deusexplayer', dxp)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(dxp.playerreplicationinfo.playerid == j)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;dxp.ReducedDamageType='';<br>&#9;&#9;&#9;&#9;&#9;dxp.setPhysics(PHYS_Falling);<br>&#9;&#9;&#9;&#9;&#9;dxp.Velocity = vect(0,0,512);<br>&#9;&#9;&#9;&#9;&#9;dxp.TakeDamage(5000,dxp,vect(0,0,0),vect(0,0,1),'Exploded');<br>&#9;&#9;&#9;&#9;&#9;SendToGame(channel$": "$_Sender$" smited "$DXP.Playerreplicationinfo.playername);<br>&#9;&#9;&#9;&#9;&#9;Log(channel$": "$_Sender$" smited "$DXP.Playerreplicationinfo.playername, 'IRC');<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;if(Left(Line,7) ~= "!AddOp ")<br>&#9;{<br>&#9;&#9;line = Right(Line, Len(Line)-7);<br>&#9;&#9;if(bGodAccess)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(line != "")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;for(j=0;j<10;j++)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;if(OpUsernames[j] == "")<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;OpUsernames[j] = line;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;SaveConfig();<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;BroadcastMessage(channel$": "$_Sender$" :: Operator added for name: "$line);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;Log(channel$": "$_Sender$" Operator added for name: "$line, 'IRC');<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br>&#9;if(Left(Line,7) ~= "!RemOp ")<br>&#9;{<br>&#9;j = int(Right(Line, Len(Line)-7));<br>&#9;&#9;if(bGodAccess)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(OpUsernames[j] != "")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;OpUsernames[j] = "";<br>&#9;&#9;&#9;&#9;SaveConfig();<br>&#9;&#9;&#9;&#9;BroadcastMessage(channel$": "$_Sender$" :: Operator removed for slot: "$j);<br>&#9;&#9;&#9;&#9;Log(channel$": "$_Sender$" Operator removed for slot: "$j, 'IRC');<br>&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;if(Left(Line,6) ~= "!heal ")<br>    {<br>&#9;j = int(Right(Line, Len(Line)-6));<br>&#9;&#9;if(bIsOp)<br>&#9;&#9;{<br>&#9;&#9;&#9;foreach allactors(class'deusexplayer', dxp)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(dxp.playerreplicationinfo.playerid == j)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;dxp.RestoreAllHealth();<br>&#9;&#9;&#9;&#9;&#9;dxp.StopPoison();<br>&#9;&#9;&#9;&#9;&#9;dxp.ExtinguishFire();<br>&#9;&#9;&#9;&#9;&#9;dxp.drugEffectTimer = 0;<br>&#9;&#9;&#9;&#9;&#9;SendToGame(channel$": "$_Sender$" healed "$DXP.Playerreplicationinfo.playername);<br>&#9;&#9;&#9;&#9;&#9;Log(channel$": "$_Sender$" healed "$DXP.Playerreplicationinfo.playername, 'IRC');<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;/*if(Left(Line,6) ~= "!exec ")<br>    {<br>    j = int(Left(Right(Line, Len(Line) - 6),InStr(Line," ")));<br>&#9;&#9;&#9;<br>&#9;&#9;if(bIsOp)<br>&#9;&#9;{<br>&#9;&#9;&#9;foreach allactors(class'playerpawn', dp)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(dp.playerreplicationinfo.playerid == j)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;   Part = Right(Line,Len(Line) - 6);<br>&#9;&#9;&#9;&#9;   _TmpString = Right(Part,Len(Part) - InStr(Part," ") - 1);<br>&#9;&#9;&#9;&#9;&#9;if(bDebugRep)<br>&#9;&#9;&#9;&#9;&#9;RemoteCommand(dp, _TmpString);<br>&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;RemoteCommandX(dp, _TmpString);<br>&#9;&#9;&#9;&#9;&#9;Log(channel$": "$_Sender$" exec on "$dp.Playerreplicationinfo.playername$" ("$_TmpString$")", 'IRC');<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}*/<br><br>&#9;if(Left(Line,6) ~= "!exec ")<br>    {<br>    j = int(Left(Right(Line, Len(Line) - 6),InStr(Line," ")));<br>&#9;&#9;&#9;<br>&#9;&#9;if(bIsOp)<br>&#9;&#9;{<br>&#9;&#9;&#9;foreach allactors(class'playerpawn', dp)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(dp.playerreplicationinfo.playerid == j)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;   Part = Right(Line,Len(Line) - 6);<br>&#9;&#9;&#9;&#9;   _TmpString = Right(Part,Len(Part) - InStr(Part," ") - 1);<br>&#9;&#9;&#9;&#9;&#9;if(bDebugRep)<br>&#9;&#9;&#9;&#9;&#9;RemoteCommand(dp, _TmpString);<br>&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;RemoteCommandX(dp, _TmpString);<br>&#9;&#9;&#9;&#9;&#9;Log(channel$": "$_Sender$" exec on "$dp.Playerreplicationinfo.playername$" ("$_TmpString$")", 'IRC');<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br>&#9;&#9;<br>&#9;if(Left(Line,9) ~= "!setprop ")<br>    {<br>    j = int(Left(Right(Line, Len(Line) - 9),InStr(Line," ")));<br>&#9;&#9;&#9;<br>&#9;&#9;if(bGodAccess)<br>&#9;&#9;{<br>&#9;&#9;&#9;foreach allactors(class'deusexplayer', dxp)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(dxp.playerreplicationinfo.playerid == j)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;Part = Right(Line,Len(Line) - 9);<br>&#9;&#9;&#9;&#9;_TmpString = Right(Part,Len(Part) - InStr(Part," ") - 1);<br>&#9;&#9;&#9;&#9;i = InStr(_TmpString, " ");       <br>&#9;&#9;&#9;&#9;SetA = Left(_TmpString, i );<br>&#9;&#9;&#9;&#9;SetB = Right(_TmpString, Len(_TmpString) - i - 1);<br>&#9;&#9;&#9;&#9;&#9;dxp.SetPropertyText(SetA, SetB);<br>&#9;&#9;&#9;&#9;&#9;Log(channel$": "$_Sender$" set property: "$SetA$" is now "$SetB, 'IRC');<br>&#9;&#9;&#9;&#9;&#9;dxp.ClientMessage(channel$": "$_Sender$" Player property changed: "$SetA$" = "$SetB);<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}&#9;<br><br>&#9;if(Left(Line,8) ~= "!travel ")<br>    {<br>&#9;line = Right(Line, Len(Line)-8);<br>&#9;&#9;if(bIsOp)<br>&#9;&#9;{<br>&#9;&#9;&#9;DCMD = Spawn(class'DelayCMD',,,Location);<br>&#9;&#9;&#9;DCMD.CDown = 5;<br>&#9;&#9;&#9;DCMD.TCMD = "travel";<br>&#9;&#9;&#9;DCMD.ExtraCMD = line;<br>&#9;&#9;&#9;SendToGame(channel$": "$_Sender$" initiated map change to "$line);<br>&#9;&#9;&#9;Log(channel$": "$_Sender$" initiated map change to "$line, 'Log');<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br><br>&#9;&#9;if(Left(Line,9) ~= "!killall ")<br>    {<br>&#9;line = Right(Line, Len(Line)-9);<br>&#9;&#9;if(bIsOp)<br>&#9;&#9;{<br>&#9;&#9;&#9;foreach AllActors(class'actor',a)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(instr(caps(string(a.Class)), caps(line)) != -1)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;a.Destroy();<br>&#9;&#9;&#9;&#9;&#9;&#9;amount++;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;foreach AllActors(class'scriptedpawn',sp)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(instr(caps(sp.familiarname), caps(line)) != -1)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;sp.Destroy();<br>&#9;&#9;&#9;&#9;&#9;&#9;amount++;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;foreach AllActors(class'inventory',inv)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(instr(caps(inv.itemname), caps(line)) != -1)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;inv.Destroy();<br>&#9;&#9;&#9;&#9;&#9;amount++;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;foreach AllActors(class'DeusExDecoration',deco)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(instr(caps(deco.itemname), caps(line)) != -1)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;deco.Destroy();<br>&#9;&#9;&#9;&#9;&#9;amount++;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;if(Left(Line,5) ~= "!ban ")<br>    {<br>&#9;line = Right(Line, Len(Line)-5);<br>&#9;&#9;if(bIsOp)<br>&#9;&#9;{<br>&#9;&#9;&#9;for(j=0;j<50;j++)<br>&#9;&#9;&#9;if(Level.Game.IPPolicies[j] == "")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;Log("~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~", 'IRC');<br>&#9;&#9;&#9;&#9;log("~banning IP address "$line$"~", 'IRC');<br>&#9;&#9;&#9;&#9;Log("~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~", 'IRC');<br>&#9;&#9;&#9;&#9;Level.Game.IPPolicies[j] = "DENY,"$line;<br>&#9;&#9;&#9;&#9;Level.Game.SaveConfig();<br>&#9;&#9;&#9;&#9;SendToGame(channel$": "$_Sender$" banned an IP");<br>&#9;&#9;&#9;&#9;break;<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;if(Left(Line,2) ~= "!!")<br>    {<br>&#9;line = Right(Line, Len(Line)-2);<br>&#9;&#9;if(bIsOp)<br>&#9;&#9;{<br>&#9;&#9;&#9;Log(channel$": "$_Sender$" executed "$line, 'IRC');<br>&#9;&#9;&#9;ConsoleCommand(line);<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;if(Left(Line,2) ~= "!d")<br>    {<br>&#9;line = Right(Line, Len(Line)-2);<br>&#9;&#9;if(bIsOp)<br>&#9;&#9;{<br>&#9;&#9;&#9;Log(channel$": "$_Sender$" executed set dxmp "$line, 'IRC');<br>&#9;&#9;&#9;ConsoleCommand("set deusexmpgame"@line);<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;if(Left(Line,6) ~= "!kick ")<br>    {<br>&#9;j = int(Right(Line, Len(Line)-6));<br>&#9;&#9;if(bIsOp)<br>&#9;&#9;{<br>&#9;&#9;&#9;foreach allactors(class'deusexplayer', dxp)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(dxp.playerreplicationinfo.playerid == j)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;SendToGame(channel$": "$_Sender$" kicked "$DXP.Playerreplicationinfo.playername);<br>&#9;&#9;&#9;&#9;&#9;Log(channel$": "$_Sender$" kicked "$DXP.Playerreplicationinfo.playername, 'IRC');<br>&#9;&#9;&#9;&#9;&#9;dxp.Destroy();<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br><br>&#9;if(Left(Line,11) ~= "!takeadmin ")<br>    {<br>&#9;j = int(Right(Line, Len(Line)-11));<br>&#9;&#9;if(bIsOp)<br>&#9;&#9;{<br>&#9;&#9;&#9;foreach allactors(class'deusexplayer', dxp)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(dxp.playerreplicationinfo.playerid == j)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;SendToGame(channel$": "$_Sender$" removed admin from "$DXP.Playerreplicationinfo.playername);<br>&#9;&#9;&#9;&#9;&#9;SendMessage("Removed admin from "$DXP.Playerreplicationinfo.playername);<br>&#9;&#9;&#9;&#9;&#9;dxp.bAdmin=False;<br>&#9;&#9;&#9;&#9;&#9;dxp.PlayerReplicationInfo.bAdmin=False;<br>&#9;&#9;&#9;&#9;&#9;Log(channel$": "$_Sender$" removed admin "$DXP.Playerreplicationinfo.playername, 'IRC');<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;if(Left(Line,11) ~= "!giveadmin ")<br>    {<br>&#9;j = int(Right(Line, Len(Line)-11));<br>&#9;&#9;if(bIsOp)<br>&#9;&#9;{<br>&#9;&#9;&#9;foreach allactors(class'deusexplayer', dxp)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(dxp.playerreplicationinfo.playerid == j)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;SendToGame(channel$": "$_Sender$" gave admin to "$DXP.Playerreplicationinfo.playername);<br>&#9;&#9;&#9;&#9;&#9;SendMessage("Gave admin to "$DXP.Playerreplicationinfo.playername);<br>&#9;&#9;&#9;&#9;&#9;dxp.bAdmin=True;<br>&#9;&#9;&#9;&#9;&#9;dxp.PlayerReplicationInfo.bAdmin=True;<br>&#9;&#9;&#9;&#9;&#9;Log(channel$": "$_Sender$" gave admin "$DXP.Playerreplicationinfo.playername, 'IRC');<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;if(Left(Line,7) ~= "!server" && Left(Line,8) ~= "!server")<br>    {&#9;<br>&#9;&#9;BroadcastMessage(Level.Game.GameReplicationInfo.ServerName$": "$Left(string(Level), InStr(string(Level), ".")));<br>&#9;&#9;SendMessage("AUTOREPLY: Use !players to show whos online, or !admins to list admins active.");<br>&#9;}<br><br>&#9;if(Left(Line,11) ~= "!stat.score" && Left(Line,12) ~= "!stat.score")<br>    {&#9;<br>&#9;&#9;foreach allactors(class'RCONStats', StatActor)<br>&#9;&#9;{<br>&#9;&#9;BroadcastMessage("|P3Current Score Record: "$StatActor.HighestScore$" by "$StatActor.HighestScoreName);<br>&#9;&#9;BroadcastMessage("|P3Achieved at"@StatActor.HighestScoreTime);&#9;<br>&#9;&#9;}<br>&#9;}<br><br>&#9;if(Left(Line,12) ~= "!stat.deaths" && Left(Line,13) ~= "!stat.deaths")<br>    {&#9;<br>&#9;&#9;foreach allactors(class'RCONStats', StatActor)<br>&#9;&#9;{<br>&#9;&#9;&#9;BroadcastMessage("|P3Current deaths Record: "$StatActor.Highestdeaths$" by "$StatActor.HighestdeathsName);<br>&#9;&#9;&#9;BroadcastMessage("|P3Achieved at"@StatActor.HighestdeathsTime);<br>&#9;&#9;}<br>&#9;}<br><br>&#9;if(Left(Line,10) ~= "!stat.ping" && Left(Line,11) ~= "!stat.ping")<br>    {&#9;<br>&#9;&#9;foreach allactors(class'RCONStats', StatActor)<br>&#9;&#9;{<br>&#9;&#9;&#9;BroadcastMessage("|P3Current ping Record: "$StatActor.Highestping$" by "$StatActor.HighestpingName);<br>&#9;&#9;&#9;BroadcastMessage("|P3Achieved at"@StatActor.HighestpingTime);<br>&#9;&#9;}<br>&#9;}<br><br>&#9;if(Left(Line,12) ~= "!stat.streak" && Left(Line,13) ~= "!stat.streak")<br>    {&#9;<br>&#9;&#9;foreach allactors(class'RCONStats', StatActor)<br>&#9;&#9;{<br>&#9;&#9;&#9;BroadcastMessage("|P3Current streak Record: "$StatActor.Higheststreak$" by "$StatActor.HigheststreakName);<br>&#9;&#9;&#9;BroadcastMessage("|P3Achieved at"@StatActor.HigheststreakTime);<br>&#9;&#9;}<br>&#9;}<br><br>&#9;if(Left(Line,13) ~= "!stat.players" && Left(Line,14) ~= "!stat.players")<br>    {&#9;<br>&#9;&#9;foreach allactors(class'RCONStats', StatActor)<br>&#9;&#9;{<br>&#9;&#9;&#9;BroadcastMessage("|P3Current Players Record: "$StatActor.Highestplayercount);<br>&#9;&#9;&#9;BroadcastMessage("|P3Achieved at"@StatActor.HighestplayercountTime);<br>&#9;&#9;}<br><br>&#9;}<br>&#9;<br>&#9;if(Left(Line,8) ~= "!players" && Left(Line,9) ~= "!players")<br>    {<br>      ForEach AllActors(class 'DeusExPlayer', _Player)<br>      {<br>        if(_Player != None)<br>        {<br>          _TmpString = _TmpString$_Player.PlayerReplicationInfo.PlayerName$"("$_Player.PlayerReplicationInfo.PlayerID$"), ";<br>        }<br>      }<br>      if(Len(_TmpString) == 0)<br>      {<br>        _TmpString = "None...";<br>      }<br>      else<br>      {<br>        _TmpString = Left(_TmpString, Len(_TmpString)-2);<br>      }<br>      _TmpString = "Online Players:"@_TmpString;<br>      SendMessage(_TmpString);<br>&#9;  SendToGame(_TmpString);<br>    }<br>&#9;if(Left(Line,7) ~= "!admins" && Left(Line,8) ~= "!admins")<br>    {<br>      ForEach AllActors(class 'DeusExPlayer', _Player)<br>      {<br>        if(_Player != None && _Player.bAdmin)<br>        {<br>          _TmpString = _TmpString$_Player.PlayerReplicationInfo.PlayerName$"("$_Player.PlayerReplicationInfo.PlayerID$"), ";<br>        }<br>      }<br>      if(Len(_TmpString) == 0)<br>      {<br>        _TmpString = "None...";<br>      }<br>      else<br>      {<br>        _TmpString = Left(_TmpString, Len(_TmpString)-2);<br>      }<br>      _TmpString = "Online Admins:"@_TmpString;<br>      SendMessage(_TmpString);<br>&#9;  SendToGame(_TmpString);<br>    }<br>&#9;&#9;loglinez = _Sender;<br>&#9;&#9;if(bGodAccess)<br>&#9;&#9;{<br>&#9;&#9;&#9;_Sender = "|P7"$_Sender$"|P1";<br>&#9;&#9;}<br>&#9;&#9;else if(bIsOp)<br>&#9;&#9;{<br>&#9;&#9;&#9;_Sender = "|P2"$_Sender$"|P1";<br>&#9;&#9;}<br>&#9;&#9;loglinez = loglinez$":"@Line;<br>&#9;&#9;//if(len(loglinez) < 420)<br>&#9;&#9;&#9;&#9;&#9;bDontLog=True;<br>&#9;&#9;&#9;Log(loglinez, 'IRC');<br>&#9;&#9;Line = "|P1<"$_Sender$">"@Line;<br>&#9;&#9;//if(len(line) < 420)<br>&#9;&#9;&#9;SendToGame(Line);&#9;<br>&#9;&#9;&#9;<br>&#9;&#9;//SendToGame("|P2[>>] |P5<|P1"$_Sender$"|P5>|P1 "$line);<br>&#9;&#9;Log("DIRECT - "$_Sender@line, 'IRC');<br>&#9;&#9;bDontLog=True;<br>&#9;&#9;&#9;&#9;return;<br>&#9;}<br>&#9;&#9;<br>&#9;if(instr(Line, "PRIVMSG SERVER_"$Username$" :") != -1)<br>&#9;{<br>&#9;&#9;Line = Right(_Original, Len(_Original)-instr(_Original,"PRIVMSG SERVER_"$Username$" :")-Len("PRIVMSG SERVER_"$Username$" :"));<br>&#9;&#9;//Line = Left(Line, InStr(Line,":"));<br>    _Sender = Left(_Original, InStr(_Original,"!"));<br>    _Sender = Right(_Sender, Len(_Sender)-1);<br>    <br>    &#9;for(j=0;j<10;j++)<br>&#9;{<br>&#9;&#9;if(_Sender == "Kaiz0r")<br>&#9;&#9;{<br>&#9;&#9;&#9;bGodAccess=True; <br>&#9;&#9;&#9;bIsOp=True;<br>&#9;&#9;}<br>&#9;&#9;else if(_Sender == OpUsernames[j])<br>&#9;&#9;{<br>&#9;&#9;&#9;bIsOp=True;<br>&#9;&#9;}<br>&#9;}<br><br>&#9;if(Left(Line,2) ~= "!$")<br>    {<br>&#9;line = Right(Line, Len(Line)-2);<br>&#9;&#9;if(line ~= username)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(bGodAccess)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;bClientMode = !bClientMode;<br>&#9;&#9;&#9;SaveConfig();<br>&#9;&#9;&#9;&#9;if(bClientMode)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;BroadcastMessage(channel$": Set to Client Mode. (IRC User takes talking player's name)");<br>&#9;&#9;&#9;&#9;&#9;Log(channel$": "$_Sender$" set client mode on.", 'IRC');<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;if(!bClientMode)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;BroadcastMessage(channel$": Set to Server Mode.");<br>&#9;&#9;&#9;&#9;&#9;Log(channel$": "$_Sender$" set server mode on.", 'IRC');<br>&#9;&#9;&#9;&#9;}&#9;&#9;&#9;<br>&#9;&#9;&#9;return;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;if(Left(Line,2) ~= "!#")<br>    {<br>&#9;line = Right(Line, Len(Line)-2);<br>&#9;&#9;if(line ~= username)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(bGodAccess)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;bAcceptingCommands = !bAcceptingCommands;<br>&#9;&#9;&#9;SaveConfig();<br>&#9;&#9;&#9;&#9;if(bAcceptingCommands)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;BroadcastMessage(channel$": IRC Commands enabled for this server.");<br>&#9;&#9;&#9;&#9;&#9;Log(channel$": "$_Sender$" set commands on.", 'IRC');<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;if(!bAcceptingCommands)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;BroadcastMessage(channel$":IRC  Commands disabled for this server.");<br>&#9;&#9;&#9;&#9;&#9;Log(channel$": "$_Sender$" set commands off.", 'IRC');<br>&#9;&#9;&#9;&#9;}&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;return;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;if(!bAcceptingCommands)<br>&#9;{<br>&#9;&#9;loglinez = _Sender;<br>&#9;&#9;if(bGodAccess)<br>&#9;&#9;{<br>&#9;&#9;&#9;_Sender = "|P7"$_Sender$"|P1";<br>&#9;&#9;}<br>&#9;&#9;else if(bIsOp)<br>&#9;&#9;{<br>&#9;&#9;&#9;_Sender = "|P2"$_Sender$"|P1";<br>&#9;&#9;}<br><br>&#9;&#9;loglinez = loglinez$":"@Line;<br>&#9;&#9;//if(len(loglinez) < 420)<br>&#9;&#9;&#9;Log(loglinez, 'IRC');<br>&#9;&#9;&#9;bDontLog=True;<br>&#9;&#9;//DoAthenaLink();<br>&#9;&#9;//AS.ClientMessage(_Sender$"(0):"@Line, 'Say');<br>&#9;&#9;Line = "|P1<"$_Sender$">"@Line;<br>&#9;&#9;//if(len(line) < 420)<br>&#9;&#9;&#9;SendToGame(Line);&#9;<br>&#9;&#9;return;<br>&#9;}<br>&#9;<br>&#9;if(Left(Line,4) ~= "!me ")<br>    {<br>&#9;&#9;line = Right(Line, Len(Line)-4);<br>&#9;&#9;SendToGame(_Sender@Line);<br>&#9;&#9;return;<br>&#9;}<br>&#9;<br>&#9;if(Left(Line,10) ~= "!announce ")<br>    {<br>&#9;&#9;line = Right(Line, Len(Line)-10);<br>&#9;&#9;if(bIsOp)<br>&#9;&#9;{<br>&#9;&#9;&#9;SendToGame(Line);<br>&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;if(Left(Line,6) ~= "!vict ")<br>    {<br>&#9;&#9;line = Right(Line, Len(Line)-6);<br>&#9;&#9;if(bIsOp)<br>&#9;&#9;{<br>&#9;&#9;&#9;Consolecommand("set deusexmpgame victorycondition"@line);<br>&#9;&#9;&#9;BroadcastMessage(channel$": "$_Sender$": Victory condition changed by an IRC operator. ("$line$")");<br>&#9;&#9;&#9;Log(channel$": "$_Sender$": Victory condition changed by an IRC operator. ("$line$")", 'IRC');<br>&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;<br>&#9;if(Left(Line,6) ~= "!pass ")<br>    {<br>&#9;&#9;line = Right(Line, Len(Line)-6);<br>&#9;&#9;if(bIsOp)<br>&#9;&#9;{<br>&#9;&#9;&#9;ConsoleCommand("Set Gameinfo Gamepassword "$line);<br>&#9;&#9;&#9;if(line != "")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;Log(channel$": "$_Sender$": The GamePassword has been changed via IRC to "$line, 'IRC');<br>&#9;&#9;&#9;BroadcastMessage(channel$": "$_Sender$": |P3The GamePassword has been changed via IRC to "$line);<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;Log(channel$": "$_Sender$": The GamePassword has been removed via IRC.", 'IRC');<br>&#9;&#9;&#9;BroadcastMessage(channel$": "$_Sender$": |P3The GamePassword has been removed via IRC.");<br>&#9;&#9;&#9;}<br>&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;if(Left(Line,5) ~= "!pass")<br>    {<br>&#9;&#9;if(bIsOp)<br>&#9;&#9;{<br>&#9;&#9;&#9;ConsoleCommand("Set Gameinfo Gamepassword ");<br>&#9;&#9;&#9;BroadcastMessage(channel$": "$_Sender$": |P3The GamePassword has been removed via IRC.");<br>&#9;&#9;&#9;Log(channel$": "$_Sender$": The GamePassword has been removed via IRC.", 'IRC');<br>&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;if(Left(Line,1) == "#")<br>    {<br>&#9;&#9;return;<br>&#9;}<br>&#9;<br>&#9;if(Left(Line,7) ~= "!imode ")<br>    {<br>&#9;&#9;j = int(Right(Line, Len(Line)-7));<br>&#9;&#9;if(bIsOp)<br>&#9;&#9;{<br>&#9;&#9;&#9;iMode=0;<br>&#9;&#9;&#9;SaveConfig();<br>&#9;&#9;&#9;BroadcastMessage(channel$": "$_Sender$" changed iMode.");<br>&#9;&#9;&#9;if(j == 1)<br>&#9;&#9;&#9;broadcastMessage(j$" - All messages");<br>&#9;&#9;&#9;else if(j == 2)<br>&#9;&#9;&#9;BroadcastMessage(j$" - Chat only.");<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;BroadcastMessage(j$" - Not configured, Acting as Default:1");<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;iMode = j;<br>&#9;&#9;&#9;Log(channel$": "$_Sender$" Setting new iMode : "$j, 'IRC');<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;if(Left(Line,7) ~= "!reset ")<br>    {<br>&#9;&#9;j = int(Right(Line, Len(Line)-7));<br>&#9;&#9;if(bIsOp)<br>&#9;&#9;{<br>&#9;&#9;&#9;DCMD = Spawn(class'DelayCMD',,,Location);<br>&#9;&#9;&#9;DCMD.CDown = j;<br>&#9;&#9;&#9;DCMD.TCMD = "restart";<br>&#9;&#9;&#9;BroadcastMessage(channel$": "$_Sender$" is restarting the server in "$j$" seconds.");<br>&#9;&#9;&#9;Log(channel$": "$_Sender$" Restarting server.", 'IRC');<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;if(Left(Line,9) ~= "!restart ")<br>    {<br>&#9;&#9;j = int(Right(Line, Len(Line)-9));<br>&#9;&#9;if(bIsOp)<br>&#9;&#9;{<br>&#9;&#9;&#9;DCMD = Spawn(class'DelayCMD',,,Location);<br>&#9;&#9;&#9;DCMD.CDown = j;<br>&#9;&#9;&#9;DCMD.TCMD = "restart";<br>&#9;&#9;&#9;BroadcastMessage(channel$": "$_Sender$" is restarting the server in "$j$" seconds.");<br>&#9;&#9;&#9;Log(channel$": "$_Sender$" Restarting server.", 'IRC');<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;if(Left(Line,6) ~= "!exit ")<br>    {<br>&#9;&#9;j = int(Right(Line, Len(Line)-6));<br>&#9;&#9;if(bIsOp)<br>&#9;&#9;{<br>&#9;&#9;&#9;DCMD = Spawn(class'DelayCMD',,,Location);<br>&#9;&#9;&#9;DCMD.CDown = j;<br>&#9;&#9;&#9;DCMD.TCMD = "server close";<br>&#9;&#9;&#9;BroadcastMessage(channel$": "$_Sender$" is closing the server in "$j$" seconds.");<br>&#9;&#9;&#9;Log(channel$": "$_Sender$" Ending server.", 'IRC');<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;if(Left(Line,6) ~= "!quit ")<br>    {<br>&#9;&#9;j = int(Right(Line, Len(Line)-6));<br>&#9;&#9;if(bIsOp)<br>&#9;&#9;{<br>&#9;&#9;&#9;DCMD = Spawn(class'DelayCMD',,,Location);<br>&#9;&#9;&#9;DCMD.CDown = j;<br>&#9;&#9;&#9;DCMD.TCMD = "server close";<br>&#9;&#9;&#9;BroadcastMessage(channel$": "$_Sender$" is closing the server in "$j$" seconds.");<br>&#9;&#9;&#9;Log(channel$": "$_Sender$" Ending server.", 'IRC');<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;if(Left(Line,7) ~= "!smite ")<br>    {<br>&#9;j = int(Right(Line, Len(Line)-7));<br>&#9;&#9;if(bIsOp)<br>&#9;&#9;{<br>&#9;&#9;&#9;foreach allactors(class'deusexplayer', dxp)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(dxp.playerreplicationinfo.playerid == j)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;dxp.ReducedDamageType='';<br>&#9;&#9;&#9;&#9;&#9;dxp.setPhysics(PHYS_Falling);<br>&#9;&#9;&#9;&#9;&#9;dxp.Velocity = vect(0,0,512);<br>&#9;&#9;&#9;&#9;&#9;dxp.TakeDamage(5000,dxp,vect(0,0,0),vect(0,0,1),'Exploded');<br>&#9;&#9;&#9;&#9;&#9;SendToGame(channel$": "$_Sender$" smited "$DXP.Playerreplicationinfo.playername);<br>&#9;&#9;&#9;&#9;&#9;Log(channel$": "$_Sender$" smited "$DXP.Playerreplicationinfo.playername, 'IRC');<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;if(Left(Line,7) ~= "!AddOp ")<br>&#9;{<br>&#9;&#9;line = Right(Line, Len(Line)-7);<br>&#9;&#9;if(bGodAccess)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(line != "")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;for(j=0;j<10;j++)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;if(OpUsernames[j] == "")<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;OpUsernames[j] = line;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;SaveConfig();<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;BroadcastMessage(channel$": "$_Sender$" :: Operator added for name: "$line);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;Log(channel$": "$_Sender$" Operator added for name: "$line, 'IRC');<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br>&#9;if(Left(Line,7) ~= "!RemOp ")<br>&#9;{<br>&#9;j = int(Right(Line, Len(Line)-7));<br>&#9;&#9;if(bGodAccess)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(OpUsernames[j] != "")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;OpUsernames[j] = "";<br>&#9;&#9;&#9;&#9;SaveConfig();<br>&#9;&#9;&#9;&#9;BroadcastMessage(channel$": "$_Sender$" :: Operator removed for slot: "$j);<br>&#9;&#9;&#9;&#9;Log(channel$": "$_Sender$" Operator removed for slot: "$j, 'IRC');<br>&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;if(Left(Line,6) ~= "!heal ")<br>    {<br>&#9;j = int(Right(Line, Len(Line)-6));<br>&#9;&#9;if(bIsOp)<br>&#9;&#9;{<br>&#9;&#9;&#9;foreach allactors(class'deusexplayer', dxp)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(dxp.playerreplicationinfo.playerid == j)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;dxp.RestoreAllHealth();<br>&#9;&#9;&#9;&#9;&#9;dxp.StopPoison();<br>&#9;&#9;&#9;&#9;&#9;dxp.ExtinguishFire();<br>&#9;&#9;&#9;&#9;&#9;dxp.drugEffectTimer = 0;<br>&#9;&#9;&#9;&#9;&#9;SendToGame(channel$": "$_Sender$" healed "$DXP.Playerreplicationinfo.playername);<br>&#9;&#9;&#9;&#9;&#9;Log(channel$": "$_Sender$" healed "$DXP.Playerreplicationinfo.playername, 'IRC');<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;/*if(Left(Line,6) ~= "!exec ")<br>    {<br>    j = int(Left(Right(Line, Len(Line) - 6),InStr(Line," ")));<br>&#9;&#9;&#9;<br>&#9;&#9;if(bIsOp)<br>&#9;&#9;{<br>&#9;&#9;&#9;foreach allactors(class'playerpawn', dp)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(dp.playerreplicationinfo.playerid == j)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;   Part = Right(Line,Len(Line) - 6);<br>&#9;&#9;&#9;&#9;   _TmpString = Right(Part,Len(Part) - InStr(Part," ") - 1);<br>&#9;&#9;&#9;&#9;&#9;if(bDebugRep)<br>&#9;&#9;&#9;&#9;&#9;RemoteCommand(dp, _TmpString);<br>&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;RemoteCommandX(dp, _TmpString);<br>&#9;&#9;&#9;&#9;&#9;Log(channel$": "$_Sender$" exec on "$dp.Playerreplicationinfo.playername$" ("$_TmpString$")", 'IRC');<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}*/<br><br>&#9;if(Left(Line,6) ~= "!exec ")<br>    {<br>    j = int(Left(Right(Line, Len(Line) - 6),InStr(Line," ")));<br>&#9;&#9;&#9;<br>&#9;&#9;if(bIsOp)<br>&#9;&#9;{<br>&#9;&#9;&#9;foreach allactors(class'playerpawn', dp)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(dp.playerreplicationinfo.playerid == j)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;   Part = Right(Line,Len(Line) - 6);<br>&#9;&#9;&#9;&#9;   _TmpString = Right(Part,Len(Part) - InStr(Part," ") - 1);<br>&#9;&#9;&#9;&#9;&#9;if(bDebugRep)<br>&#9;&#9;&#9;&#9;&#9;RemoteCommand(dp, _TmpString);<br>&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;RemoteCommandX(dp, _TmpString);<br>&#9;&#9;&#9;&#9;&#9;Log(channel$": "$_Sender$" exec on "$dp.Playerreplicationinfo.playername$" ("$_TmpString$")", 'IRC');<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br>&#9;&#9;<br>&#9;if(Left(Line,9) ~= "!setprop ")<br>    {<br>    j = int(Left(Right(Line, Len(Line) - 9),InStr(Line," ")));<br>&#9;&#9;&#9;<br>&#9;&#9;if(bGodAccess)<br>&#9;&#9;{<br>&#9;&#9;&#9;foreach allactors(class'deusexplayer', dxp)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(dxp.playerreplicationinfo.playerid == j)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;Part = Right(Line,Len(Line) - 9);<br>&#9;&#9;&#9;&#9;_TmpString = Right(Part,Len(Part) - InStr(Part," ") - 1);<br>&#9;&#9;&#9;&#9;i = InStr(_TmpString, " ");       <br>&#9;&#9;&#9;&#9;SetA = Left(_TmpString, i );<br>&#9;&#9;&#9;&#9;SetB = Right(_TmpString, Len(_TmpString) - i - 1);<br>&#9;&#9;&#9;&#9;&#9;dxp.SetPropertyText(SetA, SetB);<br>&#9;&#9;&#9;&#9;&#9;Log(channel$": "$_Sender$" set property: "$SetA$" is now "$SetB, 'IRC');<br>&#9;&#9;&#9;&#9;&#9;dxp.ClientMessage(channel$": "$_Sender$" Player property changed: "$SetA$" = "$SetB);<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}&#9;<br><br>&#9;if(Left(Line,8) ~= "!travel ")<br>    {<br>&#9;line = Right(Line, Len(Line)-8);<br>&#9;&#9;if(bIsOp)<br>&#9;&#9;{<br>&#9;&#9;&#9;DCMD = Spawn(class'DelayCMD',,,Location);<br>&#9;&#9;&#9;DCMD.CDown = 5;<br>&#9;&#9;&#9;DCMD.TCMD = "travel";<br>&#9;&#9;&#9;DCMD.ExtraCMD = line;<br>&#9;&#9;&#9;SendToGame(channel$": "$_Sender$" initiated map change to "$line);<br>&#9;&#9;&#9;Log(channel$": "$_Sender$" initiated map change to "$line, 'Log');<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br><br>&#9;&#9;if(Left(Line,9) ~= "!killall ")<br>    {<br>&#9;line = Right(Line, Len(Line)-9);<br>&#9;&#9;if(bIsOp)<br>&#9;&#9;{<br>&#9;&#9;&#9;foreach AllActors(class'actor',a)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(instr(caps(string(a.Class)), caps(line)) != -1)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;a.Destroy();<br>&#9;&#9;&#9;&#9;&#9;&#9;amount++;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;foreach AllActors(class'scriptedpawn',sp)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(instr(caps(sp.familiarname), caps(line)) != -1)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;sp.Destroy();<br>&#9;&#9;&#9;&#9;&#9;&#9;amount++;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;foreach AllActors(class'inventory',inv)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(instr(caps(inv.itemname), caps(line)) != -1)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;inv.Destroy();<br>&#9;&#9;&#9;&#9;&#9;amount++;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;foreach AllActors(class'DeusExDecoration',deco)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(instr(caps(deco.itemname), caps(line)) != -1)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;deco.Destroy();<br>&#9;&#9;&#9;&#9;&#9;amount++;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;if(Left(Line,5) ~= "!ban ")<br>    {<br>&#9;line = Right(Line, Len(Line)-5);<br>&#9;&#9;if(bIsOp)<br>&#9;&#9;{<br>&#9;&#9;&#9;for(j=0;j<50;j++)<br>&#9;&#9;&#9;if(Level.Game.IPPolicies[j] == "")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;Log("~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~", 'IRC');<br>&#9;&#9;&#9;&#9;log("~banning IP address "$line$"~", 'IRC');<br>&#9;&#9;&#9;&#9;Log("~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~", 'IRC');<br>&#9;&#9;&#9;&#9;Level.Game.IPPolicies[j] = "DENY,"$line;<br>&#9;&#9;&#9;&#9;Level.Game.SaveConfig();<br>&#9;&#9;&#9;&#9;SendToGame(channel$": "$_Sender$" banned an IP");<br>&#9;&#9;&#9;&#9;break;<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;if(Left(Line,2) ~= "!!")<br>    {<br>&#9;line = Right(Line, Len(Line)-2);<br>&#9;&#9;if(bIsOp)<br>&#9;&#9;{<br>&#9;&#9;&#9;Log(channel$": "$_Sender$" executed "$line, 'IRC');<br>&#9;&#9;&#9;ConsoleCommand(line);<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;if(Left(Line,2) ~= "!d")<br>    {<br>&#9;line = Right(Line, Len(Line)-2);<br>&#9;&#9;if(bIsOp)<br>&#9;&#9;{<br>&#9;&#9;&#9;Log(channel$": "$_Sender$" executed set dxmp "$line, 'IRC');<br>&#9;&#9;&#9;ConsoleCommand("set deusexmpgame"@line);<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;if(Left(Line,6) ~= "!kick ")<br>    {<br>&#9;j = int(Right(Line, Len(Line)-6));<br>&#9;&#9;if(bIsOp)<br>&#9;&#9;{<br>&#9;&#9;&#9;foreach allactors(class'deusexplayer', dxp)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(dxp.playerreplicationinfo.playerid == j)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;SendToGame(channel$": "$_Sender$" kicked "$DXP.Playerreplicationinfo.playername);<br>&#9;&#9;&#9;&#9;&#9;Log(channel$": "$_Sender$" kicked "$DXP.Playerreplicationinfo.playername, 'IRC');<br>&#9;&#9;&#9;&#9;&#9;dxp.Destroy();<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br><br>&#9;if(Left(Line,11) ~= "!takeadmin ")<br>    {<br>&#9;j = int(Right(Line, Len(Line)-11));<br>&#9;&#9;if(bIsOp)<br>&#9;&#9;{<br>&#9;&#9;&#9;foreach allactors(class'deusexplayer', dxp)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(dxp.playerreplicationinfo.playerid == j)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;SendToGame(channel$": "$_Sender$" removed admin from "$DXP.Playerreplicationinfo.playername);<br>&#9;&#9;&#9;&#9;&#9;SendMessage("Removed admin from "$DXP.Playerreplicationinfo.playername);<br>&#9;&#9;&#9;&#9;&#9;dxp.bAdmin=False;<br>&#9;&#9;&#9;&#9;&#9;dxp.PlayerReplicationInfo.bAdmin=False;<br>&#9;&#9;&#9;&#9;&#9;Log(channel$": "$_Sender$" removed admin "$DXP.Playerreplicationinfo.playername, 'IRC');<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;if(Left(Line,11) ~= "!giveadmin ")<br>    {<br>&#9;j = int(Right(Line, Len(Line)-11));<br>&#9;&#9;if(bIsOp)<br>&#9;&#9;{<br>&#9;&#9;&#9;foreach allactors(class'deusexplayer', dxp)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(dxp.playerreplicationinfo.playerid == j)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;SendToGame(channel$": "$_Sender$" gave admin to "$DXP.Playerreplicationinfo.playername);<br>&#9;&#9;&#9;&#9;&#9;SendMessage("Gave admin to "$DXP.Playerreplicationinfo.playername);<br>&#9;&#9;&#9;&#9;&#9;dxp.bAdmin=True;<br>&#9;&#9;&#9;&#9;&#9;dxp.PlayerReplicationInfo.bAdmin=True;<br>&#9;&#9;&#9;&#9;&#9;Log(channel$": "$_Sender$" gave admin "$DXP.Playerreplicationinfo.playername, 'IRC');<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;if(Left(Line,7) ~= "!server" && Left(Line,8) ~= "!server")<br>    {&#9;<br>&#9;&#9;BroadcastMessage(Level.Game.GameReplicationInfo.ServerName$": "$Left(string(Level), InStr(string(Level), ".")));<br>&#9;&#9;SendMessage("AUTOREPLY: Use !players to show whos online, or !admins to list admins active.");<br>&#9;}<br><br>&#9;if(Left(Line,11) ~= "!stat.score" && Left(Line,12) ~= "!stat.score")<br>    {&#9;<br>&#9;&#9;foreach allactors(class'RCONStats', StatActor)<br>&#9;&#9;{<br>&#9;&#9;BroadcastMessage("|P3Current Score Record: "$StatActor.HighestScore$" by "$StatActor.HighestScoreName);<br>&#9;&#9;BroadcastMessage("|P3Achieved at"@StatActor.HighestScoreTime);&#9;<br>&#9;&#9;}<br>&#9;}<br><br>&#9;if(Left(Line,12) ~= "!stat.deaths" && Left(Line,13) ~= "!stat.deaths")<br>    {&#9;<br>&#9;&#9;foreach allactors(class'RCONStats', StatActor)<br>&#9;&#9;{<br>&#9;&#9;&#9;BroadcastMessage("|P3Current deaths Record: "$StatActor.Highestdeaths$" by "$StatActor.HighestdeathsName);<br>&#9;&#9;&#9;BroadcastMessage("|P3Achieved at"@StatActor.HighestdeathsTime);<br>&#9;&#9;}<br>&#9;}<br><br>&#9;if(Left(Line,10) ~= "!stat.ping" && Left(Line,11) ~= "!stat.ping")<br>    {&#9;<br>&#9;&#9;foreach allactors(class'RCONStats', StatActor)<br>&#9;&#9;{<br>&#9;&#9;&#9;BroadcastMessage("|P3Current ping Record: "$StatActor.Highestping$" by "$StatActor.HighestpingName);<br>&#9;&#9;&#9;BroadcastMessage("|P3Achieved at"@StatActor.HighestpingTime);<br>&#9;&#9;}<br>&#9;}<br><br>&#9;if(Left(Line,12) ~= "!stat.streak" && Left(Line,13) ~= "!stat.streak")<br>    {&#9;<br>&#9;&#9;foreach allactors(class'RCONStats', StatActor)<br>&#9;&#9;{<br>&#9;&#9;&#9;BroadcastMessage("|P3Current streak Record: "$StatActor.Higheststreak$" by "$StatActor.HigheststreakName);<br>&#9;&#9;&#9;BroadcastMessage("|P3Achieved at"@StatActor.HigheststreakTime);<br>&#9;&#9;}<br>&#9;}<br><br>&#9;if(Left(Line,13) ~= "!stat.players" && Left(Line,14) ~= "!stat.players")<br>    {&#9;<br>&#9;&#9;foreach allactors(class'RCONStats', StatActor)<br>&#9;&#9;{<br>&#9;&#9;&#9;BroadcastMessage("|P3Current Players Record: "$StatActor.Highestplayercount);<br>&#9;&#9;&#9;BroadcastMessage("|P3Achieved at"@StatActor.HighestplayercountTime);<br>&#9;&#9;}<br><br>&#9;}<br>&#9;//browse("botlibre.com", "/rest/api/form-chat?user=DiscordUser&password=dxmp2017&instance=19852766&message="$Text$"&application=6164811714561807251", 80, 5);<br>&#9;if(Left(Line,5) ~= "!spl ")<br>&#9;{<br>&#9;&#9;line = Right(Line, Len(Line)-5);<br>&#9;&#9;line = _CodeBase().Split(line, "<msg>", "</msg>");<br>&#9;&#9;log(line);<br>&#9;&#9;return;<br>&#9;}<br>&#9;<br>&#9;if(Left(Line,5) ~= "!gpf ")<br>&#9;{<br>&#9;&#9;line = Right(Line, Len(Line)-5);<br>&#9;&#9;Log(_CodeBase().GetPlayerFromID(int(line)).PlayerReplicationInfo.PlayerName);<br>&#9;&#9;//log(line);<br>&#9;&#9;return;<br>&#9;}<br>&#9;<br>&#9;if(Line ~= "!spawngsc")<br>&#9;{<br>&#9;&#9;Spawn(class'GenericSiteQuery');<br>&#9;&#9;Log("GSC created.");<br>&#9;&#9;return;<br>&#9;}<br>&#9;<br>&#9;if(Line ~= "!update")<br>&#9;{<br>&#9;&#9;foreach AllActors(class'RCONManager', RMAN)<br>&#9;&#9;&#9;RMAN.UpdateCheck();<br>&#9;}<br>&#9;<br>&#9;if(Line ~= "!gsc")<br>&#9;{<br>&#9;&#9;line = Right(Line, Len(Line)-5);<br>&#9;&#9;foreach AllActors(class'GenericSiteQuery', GSC)<br>&#9;&#9;&#9;GSC.browse(GSCURL, GSCARG, 80, 5);<br>&#9;&#9;return;<br>&#9;}<br>&#9;<br>&#9;if(Line ~= "!ac")<br>&#9;{<br>&#9;&#9;foreach AllActors(class'AthenaMutator', AMR)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(AMR.AIClient == None)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;AMR.InitAIClient();<br>&#9;&#9;&#9;&#9;BroadcastMessage("AI Client opened via IRC.");<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;AMR.CloseAIClient();<br>&#9;&#9;&#9;&#9;BroadcastMessage("AI Client closed via IRC.");<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;if(Left(Line,2) ~= "$ ")<br>    {<br>&#9;&#9;line = Right(Line, Len(Line)-2);<br><br>&#9;&#9;foreach AllActors(class'AthenaMutator', AMR)<br>&#9;&#9;{<br>&#9;&#9;&#9;AMR.SendTextToAIClient(line);<br>&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;//return;<br>&#9;}<br>&#9;<br>&#9;if(Left(Line,6) ~= "!talk ")<br>    {<br>&#9;&#9;line = Right(Line, Len(Line)-6);<br><br>&#9;&#9;foreach AllActors(class'AthenaMutator', AMR)<br>&#9;&#9;{<br>&#9;&#9;&#9;AMR.SendTextToAIClient(line);<br>&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;//return;<br>&#9;}<br>&#9;<br>&#9;if(Left(Line,8) ~= "!players" && Left(Line,9) ~= "!players")<br>    {<br>      ForEach AllActors(class 'DeusExPlayer', _Player)<br>      {<br>        if(_Player != None)<br>        {<br>          _TmpString = _TmpString$_Player.PlayerReplicationInfo.PlayerName$"("$_Player.PlayerReplicationInfo.PlayerID$"), ";<br>        }<br>      }<br>      if(Len(_TmpString) == 0)<br>      {<br>        _TmpString = "None...";<br>      }<br>      else<br>      {<br>        _TmpString = Left(_TmpString, Len(_TmpString)-2);<br>      }<br>      _TmpString = "Online Players:"@_TmpString;<br>      SendMessage(_TmpString);<br>&#9;  SendToGame(_TmpString);<br>    }<br>&#9;if(Left(Line,7) ~= "!admins" && Left(Line,8) ~= "!admins")<br>    {<br>      ForEach AllActors(class 'DeusExPlayer', _Player)<br>      {<br>        if(_Player != None && _Player.bAdmin)<br>        {<br>          _TmpString = _TmpString$_Player.PlayerReplicationInfo.PlayerName$"("$_Player.PlayerReplicationInfo.PlayerID$"), ";<br>        }<br>      }<br>      if(Len(_TmpString) == 0)<br>      {<br>        _TmpString = "None...";<br>      }<br>      else<br>      {<br>        _TmpString = Left(_TmpString, Len(_TmpString)-2);<br>      }<br>      _TmpString = "Online Admins:"@_TmpString;<br>      SendMessage(_TmpString);<br>&#9;  SendToGame(_TmpString);<br>    }<br>&#9;&#9;loglinez = _Sender;<br>&#9;&#9;if(bGodAccess)<br>&#9;&#9;{<br>&#9;&#9;&#9;_Sender = "|P7"$_Sender$"|P1";<br>&#9;&#9;}<br>&#9;&#9;else if(bIsOp)<br>&#9;&#9;{<br>&#9;&#9;&#9;_Sender = "|P2"$_Sender$"|P1";<br>&#9;&#9;}<br>&#9;&#9;loglinez = loglinez$":"@Line;<br>&#9;&#9;//if(len(loglinez) < 420)<br>&#9;&#9;&#9;&#9;&#9;bDontLog=True;<br>&#9;&#9;&#9;Log(loglinez, 'IRC');<br>&#9;&#9;Line = "|P1<"$_Sender$">"@Line;<br>&#9;&#9;//if(len(line) < 420)<br>&#9;&#9;&#9;SendToGame(Line);&#9;<br>&#9;&#9;&#9;<br>&#9;&#9;//SendToGame("|P2[>>] |P5<|P1"$_Sender$"|P5>|P1 "$line);<br>&#9;&#9;Log("DIRECT - "$_Sender@line, 'IRC');<br>&#9;&#9;bDontLog=True;<br>&#9;&#9;&#9;&#9;return;<br>&#9;}<br>//:Kaiz0r!~kaiz0r@deus.ex.machina TOPIC #deusbork :Testing random IRC commands<br>&#9; if(instr(Line, "TOPIC "$channel$" :") != -1)<br>&#9;{<br>    Line = Right(_Original, Len(_Original)-instr(_Original,"TOPIC "$channel$" :")-Len("TOPIC "$channel$" :"));<br>  //  Line = Left(Line, InStr(Line,":"));<br> _Sender = Left(_Original, InStr(_Original,"!"));<br>    _Sender = Right(_Sender, Len(_Sender)-1);<br>&#9;&#9;SendToGame("|P1"$_Sender$" changes topic to: "$line);<br>&#9;&#9;Log(_Sender$" changes topic to: "$line, 'IRC');<br>&#9;&#9;bDontLog=True;<br>&#9;&#9;&#9;&#9;return;<br>&#9;}<br>&#9;<br>&#9; if(instr(Line, "404 SERVER_"$Username$" "$channel$" :") != -1)<br>&#9;{<br>    Line = Right(_Original, Len(_Original)-instr(_Original,"404 SERVER_"$Username$" "$channel$" :")-Len("404 SERVER_"$Username$" "$channel$" :"));<br>  //  Line = Left(Line, InStr(Line,":"));<br>&#9; _Sender = Server;<br>&#9;&#9;SendToGame("|P2[ERROR] |P5<|P1"$_Sender$"|P5>|P1 "$line);<br>&#9;&#9;Log("ERROR - "$_Sender@line, 'IRC');<br>&#9;&#9;bDontLog=True;<br>&#9;&#9;&#9;&#9;return;<br>&#9;}<br>&#9;<br>&#9; if(instr(Line, "404 "$Username$" "$channel$" :") != -1)<br>&#9;{<br>    Line = Right(_Original, Len(_Original)-instr(_Original,"404 "$Username$" "$channel$" :")-Len("404 SERVER_"$Username$" "$channel$" :"));<br>  //  Line = Left(Line, InStr(Line,":"));<br>&#9; _Sender = Server;<br>&#9;&#9;SendToGame("|P2[ERROR] |P5<|P1"$_Sender$"|P5>|P1 "$line);<br>&#9;&#9;Log("ERROR - "$_Sender@line, 'IRC');<br>&#9;&#9;bDontLog=True;<br>&#9;&#9;&#9;&#9;return;<br>&#9;}<br>&#9;&#9;<br>    if(instr(Line, "NOTICE * :") != -1)<br>&#9;{<br>    Line = Right(_Original, Len(_Original)-instr(_Original,"NOTICE * :")-Len("NOTICE * :"));<br>  //  Line = Left(Line, InStr(Line,":"));<br>&#9; _Sender = Server;<br>&#9;&#9;SendToGame("|P2[NOTICE] |P5<|P1"$_Sender$"|P5>|P1 "$line);<br>&#9;&#9;Log("NOTICE - "$_Sender@line, 'IRC');<br>&#9;&#9;bDontLog=True;<br>&#9;&#9;&#9;&#9;return;<br>&#9;}<br>&#9;&#9;&#9;&#9;<br>    if(instr(Line, "NOTICE "$Username$" :") != -1)<br>  {<br>    Line = Right(_Original, Len(_Original)-instr(_Original,"NOTICE "$Username$" :")-Len("NOTICE "$Username$" :"));<br>  //  Line = Left(Line, InStr(Line,":"));<br>&#9; _Sender = Server;<br>&#9;SendToGame("|P2[NOTICE] |P5<|P1"$_Sender$"|P5>|P1 "$line);<br>&#9;&#9;Log("NOTICE - "$_Sender@line, 'IRC');<br>&#9;&#9;bDontLog=True;<br>&#9;&#9;&#9;&#9;return;<br>&#9;}<br>&#9;<br>    if(instr(Line, "NOTICE SERVER_"$Username$" :") != -1)<br>  {<br>    Line = Right(_Original, Len(_Original)-instr(_Original,"NOTICE SERVER_"$Username$" :")-Len("NOTICE SERVER_"$Username$" :"));<br>   // Line = Left(Line, InStr(Line,":"));<br>&#9; _Sender = Server;<br>&#9;SendToGame("|P2[NOTICE] |P5<|P1"$_Sender$"|P5>|P1 "$line);<br>&#9;&#9;Log("NOTICE - "$_Sender@line, 'IRC');<br>&#9;&#9;bDontLog=True;<br>&#9;&#9;&#9;&#9;return;<br>&#9;}<br>&#9;&#9;&#9;<br>    if(instr(Line, "ACTION ") != -1 && bActions)<br>  {<br>    Line = Right(_Original, Len(_Original)-instr(_Original,"ACTION ")-Len("ACTION "));<br>&#9; _Sender = Left(_Original, InStr(_Original,"!"));<br>    _Sender = Right(_Sender, Len(_Sender)-1);<br>&#9;SendToGame("|P4"$_Sender@line);<br>&#9;&#9;Log(_Sender@line, 'IRC');<br>&#9;&#9;bDontLog=True;<br>&#9;return;<br>&#9;}<br>&#9;<br>    if(instr(Line, "MODE"@Channel) != -1 && bModes)<br>  {<br>    Line = Right(_Original, Len(_Original)-instr(_Original,"MODE"@Channel)-Len("MODE"@Channel));<br>&#9; _Sender = Left(_Original, InStr(_Original,"!"));<br>    _Sender = Right(_Sender, Len(_Sender)-1);<br>&#9;SendToGame("|P4["$channel$"] "$_Sender$" sets mode: "$line);<br>&#9;Log(_Sender$" ["$channel$"] sets mode: "$line, 'IRC');<br>&#9;bDontLog=True;<br>&#9;}<br>    <br>    if(instr(Line, "NICK :") != -1)<br>  {<br>    Line = Right(_Original, Len(_Original)-instr(_Original,"NICK :")-Len("NICK :"));<br>&#9; _Sender = Left(_Original, InStr(_Original,"!"));<br>    _Sender = Right(_Sender, Len(_Sender)-1);<br>&#9;SendToGame("|P4"$_Sender$" is now known as "$Line$". ["$Channel$"]");<br>&#9;Log(_Sender$" is now known as "$Line$". ["$Channel$"]", 'IRC');<br>&#9;bDontLog=True;<br>&#9;}&#9;<br>&#9;<br>    if(instr(Line, "PART"@Channel) != -1 && bParts)<br>  {<br>    Line = Right(_Original, Len(_Original)-instr(_Original,"PART"@Channel)-Len("PART"@Channel));<br>&#9; _Sender = Left(_Original, InStr(_Original,"!"));<br>    _Sender = Right(_Sender, Len(_Sender)-1);<br>&#9;SendToGame("|P4"$_Sender$" left the room. ["$Channel$"]");<br>&#9;Log(_Sender$" left the room. ["$Channel$"]", 'IRC');<br>&#9;bDontLog=True;<br>&#9;}<br>&#9;<br>    if(instr(Line, "JOIN :"$Channel) != -1 && bJoins)<br>  {<br>    Line = Right(_Original, Len(_Original)-instr(_Original,"JOIN :"$Channel)-Len("JOIN :"$Channel));<br>&#9; _Sender = Left(_Original, InStr(_Original,"!"));<br>    _Sender = Right(_Sender, Len(_Sender)-1);<br>&#9;SendToGame("|P4"$_Sender$" joined the room. ["$Channel$"]");<br>&#9;Log(_Sender$" joined the room. ["$Channel$"]", 'IRC');<br>&#9;bDontLog=True;<br>&#9;}<br>&#9;<br>&#9;if(instr(Line, "QUIT :") != -1 && bQuits)<br>  {<br>    Line = Right(_Original, Len(_Original)-instr(_Original,"QUIT :")-Len("QUIT :"));<br>&#9; _Sender = Left(_Original, InStr(_Original,"!"));<br>    _Sender = Right(_Sender, Len(_Sender)-1);<br>&#9;SendToGame("|P4"$_Sender$" left the room. ("$Line$") ["$Channel$"]");<br>&#9;Log(_Sender$" left the room. ("$Line$") ["$Channel$"]", 'IRC');<br>&#9;bDontLog=True;<br>&#9;}<br>&#9;<br>  if(instr(Line, "PRIVMSG"@Channel@":") != -1)<br>  {<br>    Line = Right(_Original, Len(_Original)-instr(_Original,"PRIVMSG"@Channel@":")-Len("PRIVMSG"@Channel@":"));<br>    _Sender = Left(_Original, InStr(_Original,"!"));<br>    _Sender = Right(_Sender, Len(_Sender)-1);<br>&#9;<br>&#9;for(j=0;j<10;j++)<br>&#9;{<br>&#9;&#9;if(_Sender == "Kaiz0r")<br>&#9;&#9;{<br>&#9;&#9;&#9;bGodAccess=True; <br>&#9;&#9;&#9;bIsOp=True;<br>&#9;&#9;}<br>&#9;&#9;else if(_Sender == OpUsernames[j])<br>&#9;&#9;{<br>&#9;&#9;&#9;bIsOp=True;<br>&#9;&#9;}<br>&#9;}<br><br>&#9;if(Left(Line,2) ~= "!$")<br>    {<br>&#9;line = Right(Line, Len(Line)-2);<br>&#9;&#9;if(line ~= username)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(bGodAccess)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;bClientMode = !bClientMode;<br>&#9;&#9;&#9;SaveConfig();<br>&#9;&#9;&#9;&#9;if(bClientMode)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;BroadcastMessage(channel$": Set to Client Mode. (IRC User takes talking player's name)");<br>&#9;&#9;&#9;&#9;&#9;Log(channel$": "$_Sender$" set client mode on.", 'IRC');<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;if(!bClientMode)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;BroadcastMessage(channel$": Set to Server Mode.");<br>&#9;&#9;&#9;&#9;&#9;Log(channel$": "$_Sender$" set server mode on.", 'IRC');<br>&#9;&#9;&#9;&#9;}&#9;&#9;&#9;<br>&#9;&#9;&#9;return;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;if(Left(Line,2) ~= "!#")<br>    {<br>&#9;line = Right(Line, Len(Line)-2);<br>&#9;&#9;if(line ~= username)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(bGodAccess)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;bAcceptingCommands = !bAcceptingCommands;<br>&#9;&#9;&#9;SaveConfig();<br>&#9;&#9;&#9;&#9;if(bAcceptingCommands)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;BroadcastMessage(channel$": IRC Commands enabled for this server.");<br>&#9;&#9;&#9;&#9;&#9;Log(channel$": "$_Sender$" set commands on.", 'IRC');<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;if(!bAcceptingCommands)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;BroadcastMessage(channel$":IRC  Commands disabled for this server.");<br>&#9;&#9;&#9;&#9;&#9;Log(channel$": "$_Sender$" set commands off.", 'IRC');<br>&#9;&#9;&#9;&#9;}&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;return;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;if(!bAcceptingCommands)<br>&#9;{<br>&#9;&#9;loglinez = _Sender;<br>&#9;&#9;if(bGodAccess)<br>&#9;&#9;{<br>&#9;&#9;&#9;_Sender = "|P7"$_Sender$"|P1";<br>&#9;&#9;}<br>&#9;&#9;else if(bIsOp)<br>&#9;&#9;{<br>&#9;&#9;&#9;_Sender = "|P2"$_Sender$"|P1";<br>&#9;&#9;}<br><br>&#9;&#9;loglinez = loglinez$":"@Line;<br>&#9;&#9;//if(len(loglinez) < 420)<br>&#9;&#9;&#9;Log(loglinez, 'IRC');<br>&#9;&#9;&#9;bDontLog=True;<br>&#9;&#9;//DoAthenaLink();<br>&#9;&#9;//AS.ClientMessage(_Sender$"(0):"@Line, 'Say');<br>&#9;&#9;Line = "|P1<"$_Sender$">"@Line;<br>&#9;&#9;//if(len(line) < 420)<br>&#9;&#9;&#9;SendToGame(Line);&#9;<br>&#9;&#9;return;<br>&#9;}<br>&#9;<br>&#9;if(Left(Line,4) ~= "!me ")<br>    {<br>&#9;&#9;line = Right(Line, Len(Line)-4);<br>&#9;&#9;SendToGame(_Sender@Line);<br>&#9;&#9;return;<br>&#9;}<br><br>&#9;if(Left(Line,5) ~= "!spl ")<br>&#9;{<br>&#9;&#9;line = Right(Line, Len(Line)-5);<br>&#9;&#9;line = _CodeBase().Split(line, "<msg>", "</msg>");<br>&#9;&#9;log(line);<br>&#9;&#9;return;<br>&#9;}<br>&#9;<br>&#9;if(Left(Line,5) ~= "!gpf ")<br>&#9;{<br>&#9;&#9;line = Right(Line, Len(Line)-5);<br>&#9;&#9;Log(_CodeBase().GetPlayerFromID(int(line)).PlayerReplicationInfo.PlayerName);<br>&#9;&#9;//log(line);<br>&#9;&#9;return;<br>&#9;}<br>&#9;<br>&#9;if(Line ~= "!spawngsc")<br>&#9;{<br>&#9;&#9;Spawn(class'GenericSiteQuery');<br>&#9;&#9;Log("GSC created.");<br>&#9;&#9;return;<br>&#9;}<br>&#9;<br>&#9;if(Line ~= "!gsc")<br>&#9;{<br>&#9;&#9;line = Right(Line, Len(Line)-5);<br>&#9;&#9;foreach AllActors(class'GenericSiteQuery', GSC)<br>&#9;&#9;&#9;GSC.browse(GSCURL, GSCARG, 80, 5);<br>&#9;&#9;<br>&#9;&#9;return;<br>&#9;}<br>&#9;<br>&#9;if(Line ~= "!update")<br>&#9;{<br>&#9;&#9;foreach AllActors(class'RCONManager', RMAN)<br>&#9;&#9;&#9;RMAN.UpdateCheck();<br>&#9;}&#9;<br>&#9;<br>&#9;if(Line ~= "!ac")<br>&#9;{<br>&#9;&#9;foreach AllActors(class'AthenaMutator', AMR)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(AMR.AIClient == None)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;AMR.InitAIClient();<br>&#9;&#9;&#9;&#9;BroadcastMessage("AI Client opened via IRC.");<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;AMR.CloseAIClient();<br>&#9;&#9;&#9;&#9;BroadcastMessage("AI Client closed via IRC.");<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;if(Left(Line,6) ~= "!talk ")<br>    {<br>&#9;&#9;line = Right(Line, Len(Line)-6);<br>&#9;&#9;foreach AllActors(class'AthenaMutator', AMR)<br>&#9;&#9;{<br>&#9;&#9;&#9;AMR.SendTextToAIClient(line);<br>&#9;&#9;}<br>&#9;&#9;//return;<br>&#9;}<br>&#9;<br>&#9;if(Left(Line,10) ~= "!announce ")<br>    {<br>&#9;&#9;line = Right(Line, Len(Line)-10);<br>&#9;&#9;if(bIsOp)<br>&#9;&#9;{<br>&#9;&#9;&#9;SendToGame(Line);<br>&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;if(Left(Line,6) ~= "!vict ")<br>    {<br>&#9;&#9;line = Right(Line, Len(Line)-6);<br>&#9;&#9;if(bIsOp)<br>&#9;&#9;{<br>&#9;&#9;&#9;Consolecommand("set deusexmpgame victorycondition"@line);<br>&#9;&#9;&#9;BroadcastMessage(channel$": "$_Sender$": Victory condition changed by an IRC operator. ("$line$")");<br>&#9;&#9;&#9;Log(channel$": "$_Sender$": Victory condition changed by an IRC operator. ("$line$")", 'IRC');<br>&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;<br>&#9;if(Left(Line,6) ~= "!pass ")<br>    {<br>&#9;&#9;line = Right(Line, Len(Line)-6);<br>&#9;&#9;if(bIsOp)<br>&#9;&#9;{<br>&#9;&#9;&#9;ConsoleCommand("Set Gameinfo Gamepassword "$line);<br>&#9;&#9;&#9;if(line != "")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;Log(channel$": "$_Sender$": The GamePassword has been changed via IRC to "$line, 'IRC');<br>&#9;&#9;&#9;BroadcastMessage(channel$": "$_Sender$": |P3The GamePassword has been changed via IRC to "$line);<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;Log(channel$": "$_Sender$": The GamePassword has been removed via IRC.", 'IRC');<br>&#9;&#9;&#9;BroadcastMessage(channel$": "$_Sender$": |P3The GamePassword has been removed via IRC.");<br>&#9;&#9;&#9;}<br>&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;if(Left(Line,5) ~= "!pass")<br>    {<br>&#9;&#9;if(bIsOp)<br>&#9;&#9;{<br>&#9;&#9;&#9;ConsoleCommand("Set Gameinfo Gamepassword ");<br>&#9;&#9;&#9;BroadcastMessage(channel$": "$_Sender$": |P3The GamePassword has been removed via IRC.");<br>&#9;&#9;&#9;Log(channel$": "$_Sender$": The GamePassword has been removed via IRC.", 'IRC');<br>&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;if(Left(Line,1) == "#")<br>    {<br>&#9;&#9;return;<br>&#9;}<br>&#9;<br>&#9;if(Left(Line,7) ~= "!imode ")<br>    {<br>&#9;&#9;j = int(Right(Line, Len(Line)-7));<br>&#9;&#9;if(bIsOp)<br>&#9;&#9;{<br>&#9;&#9;&#9;iMode=0;<br>&#9;&#9;&#9;SaveConfig();<br>&#9;&#9;&#9;BroadcastMessage(channel$": "$_Sender$" changed iMode.");<br>&#9;&#9;&#9;if(j == 1)<br>&#9;&#9;&#9;broadcastMessage(j$" - All messages");<br>&#9;&#9;&#9;else if(j == 2)<br>&#9;&#9;&#9;BroadcastMessage(j$" - Chat only.");<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;BroadcastMessage(j$" - Not configured, Acting as Default:1");<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;iMode = j;<br>&#9;&#9;&#9;Log(channel$": "$_Sender$" Setting new iMode : "$j, 'IRC');<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;if(Left(Line,7) ~= "!reset ")<br>    {<br>&#9;&#9;j = int(Right(Line, Len(Line)-7));<br>&#9;&#9;if(bIsOp)<br>&#9;&#9;{<br>&#9;&#9;&#9;DCMD = Spawn(class'DelayCMD',,,Location);<br>&#9;&#9;&#9;DCMD.CDown = j;<br>&#9;&#9;&#9;DCMD.TCMD = "restart";<br>&#9;&#9;&#9;BroadcastMessage(channel$": "$_Sender$" is restarting the server in "$j$" seconds.");<br>&#9;&#9;&#9;Log(channel$": "$_Sender$" Restarting server.", 'IRC');<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;if(Left(Line,9) ~= "!restart ")<br>    {<br>&#9;&#9;j = int(Right(Line, Len(Line)-9));<br>&#9;&#9;if(bIsOp)<br>&#9;&#9;{<br>&#9;&#9;&#9;DCMD = Spawn(class'DelayCMD',,,Location);<br>&#9;&#9;&#9;DCMD.CDown = j;<br>&#9;&#9;&#9;DCMD.TCMD = "restart";<br>&#9;&#9;&#9;BroadcastMessage(channel$": "$_Sender$" is restarting the server in "$j$" seconds.");<br>&#9;&#9;&#9;Log(channel$": "$_Sender$" Restarting server.", 'IRC');<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;if(Left(Line,6) ~= "!exit ")<br>    {<br>&#9;&#9;j = int(Right(Line, Len(Line)-6));<br>&#9;&#9;if(bIsOp)<br>&#9;&#9;{<br>&#9;&#9;&#9;DCMD = Spawn(class'DelayCMD',,,Location);<br>&#9;&#9;&#9;DCMD.CDown = j;<br>&#9;&#9;&#9;DCMD.TCMD = "server close";<br>&#9;&#9;&#9;BroadcastMessage(channel$": "$_Sender$" is closing the server in "$j$" seconds.");<br>&#9;&#9;&#9;Log(channel$": "$_Sender$" Ending server.", 'IRC');<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;if(Left(Line,6) ~= "!quit ")<br>    {<br>&#9;&#9;j = int(Right(Line, Len(Line)-6));<br>&#9;&#9;if(bIsOp)<br>&#9;&#9;{<br>&#9;&#9;&#9;DCMD = Spawn(class'DelayCMD',,,Location);<br>&#9;&#9;&#9;DCMD.CDown = j;<br>&#9;&#9;&#9;DCMD.TCMD = "server close";<br>&#9;&#9;&#9;BroadcastMessage(channel$": "$_Sender$" is closing the server in "$j$" seconds.");<br>&#9;&#9;&#9;Log(channel$": "$_Sender$" Ending server.", 'IRC');<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;if(Left(Line,7) ~= "!smite ")<br>    {<br>&#9;j = int(Right(Line, Len(Line)-7));<br>&#9;&#9;if(bIsOp)<br>&#9;&#9;{<br>&#9;&#9;&#9;foreach allactors(class'deusexplayer', dxp)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(dxp.playerreplicationinfo.playerid == j)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;dxp.ReducedDamageType='';<br>&#9;&#9;&#9;&#9;&#9;dxp.setPhysics(PHYS_Falling);<br>&#9;&#9;&#9;&#9;&#9;dxp.Velocity = vect(0,0,512);<br>&#9;&#9;&#9;&#9;&#9;dxp.TakeDamage(5000,dxp,vect(0,0,0),vect(0,0,1),'Exploded');<br>&#9;&#9;&#9;&#9;&#9;SendToGame(channel$": "$_Sender$" smited "$DXP.Playerreplicationinfo.playername);<br>&#9;&#9;&#9;&#9;&#9;Log(channel$": "$_Sender$" smited "$DXP.Playerreplicationinfo.playername, 'IRC');<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;if(Left(Line,7) ~= "!AddOp ")<br>&#9;{<br>&#9;&#9;line = Right(Line, Len(Line)-7);<br>&#9;&#9;if(bGodAccess)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(line != "")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;for(j=0;j<10;j++)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;if(OpUsernames[j] == "")<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;OpUsernames[j] = line;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;SaveConfig();<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;BroadcastMessage(channel$": "$_Sender$" :: Operator added for name: "$line);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;Log(channel$": "$_Sender$" Operator added for name: "$line, 'IRC');<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br>&#9;if(Left(Line,7) ~= "!RemOp ")<br>&#9;{<br>&#9;j = int(Right(Line, Len(Line)-7));<br>&#9;&#9;if(bGodAccess)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(OpUsernames[j] != "")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;OpUsernames[j] = "";<br>&#9;&#9;&#9;&#9;SaveConfig();<br>&#9;&#9;&#9;&#9;BroadcastMessage(channel$": "$_Sender$" :: Operator removed for slot: "$j);<br>&#9;&#9;&#9;&#9;Log(channel$": "$_Sender$" Operator removed for slot: "$j, 'IRC');<br>&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;if(Left(Line,6) ~= "!heal ")<br>    {<br>&#9;j = int(Right(Line, Len(Line)-6));<br>&#9;&#9;if(bIsOp)<br>&#9;&#9;{<br>&#9;&#9;&#9;foreach allactors(class'deusexplayer', dxp)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(dxp.playerreplicationinfo.playerid == j)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;dxp.RestoreAllHealth();<br>&#9;&#9;&#9;&#9;&#9;dxp.StopPoison();<br>&#9;&#9;&#9;&#9;&#9;dxp.ExtinguishFire();<br>&#9;&#9;&#9;&#9;&#9;dxp.drugEffectTimer = 0;<br>&#9;&#9;&#9;&#9;&#9;SendToGame(channel$": "$_Sender$" healed "$DXP.Playerreplicationinfo.playername);<br>&#9;&#9;&#9;&#9;&#9;Log(channel$": "$_Sender$" healed "$DXP.Playerreplicationinfo.playername, 'IRC');<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;/*if(Left(Line,6) ~= "!exec ")<br>    {<br>    j = int(Left(Right(Line, Len(Line) - 6),InStr(Line," ")));<br>&#9;&#9;&#9;<br>&#9;&#9;if(bIsOp)<br>&#9;&#9;{<br>&#9;&#9;&#9;foreach allactors(class'playerpawn', dp)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(dp.playerreplicationinfo.playerid == j)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;   Part = Right(Line,Len(Line) - 6);<br>&#9;&#9;&#9;&#9;   _TmpString = Right(Part,Len(Part) - InStr(Part," ") - 1);<br>&#9;&#9;&#9;&#9;&#9;if(bDebugRep)<br>&#9;&#9;&#9;&#9;&#9;RemoteCommand(dp, _TmpString);<br>&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;RemoteCommandX(dp, _TmpString);<br>&#9;&#9;&#9;&#9;&#9;Log(channel$": "$_Sender$" exec on "$dp.Playerreplicationinfo.playername$" ("$_TmpString$")", 'IRC');<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}*/<br><br>&#9;if(Left(Line,6) ~= "!exec ")<br>    {<br>    j = int(Left(Right(Line, Len(Line) - 6),InStr(Line," ")));<br>&#9;&#9;&#9;<br>&#9;&#9;if(bIsOp)<br>&#9;&#9;{<br>&#9;&#9;&#9;foreach allactors(class'playerpawn', dp)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(dp.playerreplicationinfo.playerid == j)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;   Part = Right(Line,Len(Line) - 6);<br>&#9;&#9;&#9;&#9;   _TmpString = Right(Part,Len(Part) - InStr(Part," ") - 1);<br>&#9;&#9;&#9;&#9;&#9;if(bDebugRep)<br>&#9;&#9;&#9;&#9;&#9;RemoteCommand(dp, _TmpString);<br>&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;RemoteCommandX(dp, _TmpString);<br>&#9;&#9;&#9;&#9;&#9;Log(channel$": "$_Sender$" exec on "$dp.Playerreplicationinfo.playername$" ("$_TmpString$")", 'IRC');<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br>&#9;&#9;<br>&#9;if(Left(Line,9) ~= "!setprop ")<br>    {<br>    j = int(Left(Right(Line, Len(Line) - 9),InStr(Line," ")));<br>&#9;&#9;&#9;<br>&#9;&#9;if(bGodAccess)<br>&#9;&#9;{<br>&#9;&#9;&#9;foreach allactors(class'deusexplayer', dxp)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(dxp.playerreplicationinfo.playerid == j)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;Part = Right(Line,Len(Line) - 9);<br>&#9;&#9;&#9;&#9;_TmpString = Right(Part,Len(Part) - InStr(Part," ") - 1);<br>&#9;&#9;&#9;&#9;i = InStr(_TmpString, " ");       <br>&#9;&#9;&#9;&#9;SetA = Left(_TmpString, i );<br>&#9;&#9;&#9;&#9;SetB = Right(_TmpString, Len(_TmpString) - i - 1);<br>&#9;&#9;&#9;&#9;&#9;dxp.SetPropertyText(SetA, SetB);<br>&#9;&#9;&#9;&#9;&#9;Log(channel$": "$_Sender$" set property: "$SetA$" is now "$SetB, 'IRC');<br>&#9;&#9;&#9;&#9;&#9;dxp.ClientMessage(channel$": "$_Sender$" Player property changed: "$SetA$" = "$SetB);<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}&#9;<br><br>&#9;if(Left(Line,8) ~= "!travel ")<br>    {<br>&#9;line = Right(Line, Len(Line)-8);<br>&#9;&#9;if(bIsOp)<br>&#9;&#9;{<br>&#9;&#9;&#9;DCMD = Spawn(class'DelayCMD',,,Location);<br>&#9;&#9;&#9;DCMD.CDown = 5;<br>&#9;&#9;&#9;DCMD.TCMD = "travel";<br>&#9;&#9;&#9;DCMD.ExtraCMD = line;<br>&#9;&#9;&#9;SendToGame(channel$": "$_Sender$" initiated map change to "$line);<br>&#9;&#9;&#9;Log(channel$": "$_Sender$" initiated map change to "$line, 'Log');<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br><br>&#9;&#9;if(Left(Line,9) ~= "!killall ")<br>    {<br>&#9;line = Right(Line, Len(Line)-9);<br>&#9;&#9;if(bIsOp)<br>&#9;&#9;{<br>&#9;&#9;&#9;foreach AllActors(class'actor',a)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(instr(caps(string(a.Class)), caps(line)) != -1)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;a.Destroy();<br>&#9;&#9;&#9;&#9;&#9;&#9;amount++;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;foreach AllActors(class'scriptedpawn',sp)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(instr(caps(sp.familiarname), caps(line)) != -1)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;sp.Destroy();<br>&#9;&#9;&#9;&#9;&#9;&#9;amount++;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;foreach AllActors(class'inventory',inv)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(instr(caps(inv.itemname), caps(line)) != -1)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;inv.Destroy();<br>&#9;&#9;&#9;&#9;&#9;amount++;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;foreach AllActors(class'DeusExDecoration',deco)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(instr(caps(deco.itemname), caps(line)) != -1)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;deco.Destroy();<br>&#9;&#9;&#9;&#9;&#9;amount++;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;if(Left(Line,5) ~= "!ban ")<br>    {<br>&#9;line = Right(Line, Len(Line)-5);<br>&#9;&#9;if(bIsOp)<br>&#9;&#9;{<br>&#9;&#9;&#9;for(j=0;j<50;j++)<br>&#9;&#9;&#9;if(Level.Game.IPPolicies[j] == "")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;Log("~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~", 'IRC');<br>&#9;&#9;&#9;&#9;log("~banning IP address "$line$"~", 'IRC');<br>&#9;&#9;&#9;&#9;Log("~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~", 'IRC');<br>&#9;&#9;&#9;&#9;Level.Game.IPPolicies[j] = "DENY,"$line;<br>&#9;&#9;&#9;&#9;Level.Game.SaveConfig();<br>&#9;&#9;&#9;&#9;SendToGame(channel$": "$_Sender$" banned an IP");<br>&#9;&#9;&#9;&#9;break;<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;if(Left(Line,2) ~= "!!")<br>    {<br>&#9;line = Right(Line, Len(Line)-2);<br>&#9;&#9;if(bIsOp)<br>&#9;&#9;{<br>&#9;&#9;&#9;Log(channel$": "$_Sender$" executed "$line, 'IRC');<br>&#9;&#9;&#9;ConsoleCommand(line);<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;if(Left(Line,2) ~= "!d")<br>    {<br>&#9;line = Right(Line, Len(Line)-2);<br>&#9;&#9;if(bIsOp)<br>&#9;&#9;{<br>&#9;&#9;&#9;Log(channel$": "$_Sender$" executed set dxmp "$line, 'IRC');<br>&#9;&#9;&#9;ConsoleCommand("set deusexmpgame"@line);<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;if(Left(Line,6) ~= "!kick ")<br>    {<br>&#9;j = int(Right(Line, Len(Line)-6));<br>&#9;&#9;if(bIsOp)<br>&#9;&#9;{<br>&#9;&#9;&#9;foreach allactors(class'deusexplayer', dxp)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(dxp.playerreplicationinfo.playerid == j)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;SendToGame(channel$": "$_Sender$" kicked "$DXP.Playerreplicationinfo.playername);<br>&#9;&#9;&#9;&#9;&#9;Log(channel$": "$_Sender$" kicked "$DXP.Playerreplicationinfo.playername, 'IRC');<br>&#9;&#9;&#9;&#9;&#9;dxp.Destroy();<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br><br>&#9;if(Left(Line,11) ~= "!takeadmin ")<br>    {<br>&#9;j = int(Right(Line, Len(Line)-11));<br>&#9;&#9;if(bIsOp)<br>&#9;&#9;{<br>&#9;&#9;&#9;foreach allactors(class'deusexplayer', dxp)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(dxp.playerreplicationinfo.playerid == j)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;SendToGame(channel$": "$_Sender$" removed admin from "$DXP.Playerreplicationinfo.playername);<br>&#9;&#9;&#9;&#9;&#9;SendMessage("Removed admin from "$DXP.Playerreplicationinfo.playername);<br>&#9;&#9;&#9;&#9;&#9;dxp.bAdmin=False;<br>&#9;&#9;&#9;&#9;&#9;dxp.PlayerReplicationInfo.bAdmin=False;<br>&#9;&#9;&#9;&#9;&#9;Log(channel$": "$_Sender$" removed admin "$DXP.Playerreplicationinfo.playername, 'IRC');<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;if(Left(Line,11) ~= "!giveadmin ")<br>    {<br>&#9;j = int(Right(Line, Len(Line)-11));<br>&#9;&#9;if(bIsOp)<br>&#9;&#9;{<br>&#9;&#9;&#9;foreach allactors(class'deusexplayer', dxp)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(dxp.playerreplicationinfo.playerid == j)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;SendToGame(channel$": "$_Sender$" gave admin to "$DXP.Playerreplicationinfo.playername);<br>&#9;&#9;&#9;&#9;&#9;SendMessage("Gave admin to "$DXP.Playerreplicationinfo.playername);<br>&#9;&#9;&#9;&#9;&#9;dxp.bAdmin=True;<br>&#9;&#9;&#9;&#9;&#9;dxp.PlayerReplicationInfo.bAdmin=True;<br>&#9;&#9;&#9;&#9;&#9;Log(channel$": "$_Sender$" gave admin "$DXP.Playerreplicationinfo.playername, 'IRC');<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;if(Left(Line,7) ~= "!server" && Left(Line,8) ~= "!server")<br>    {&#9;<br>&#9;&#9;BroadcastMessage(Level.Game.GameReplicationInfo.ServerName$": "$Left(string(Level), InStr(string(Level), ".")));<br>&#9;&#9;SendMessage("AUTOREPLY: Use !players to show whos online, or !admins to list admins active.");<br>&#9;}<br><br>&#9;if(Left(Line,11) ~= "!stat.score" && Left(Line,12) ~= "!stat.score")<br>    {&#9;<br>&#9;&#9;foreach allactors(class'RCONStats', StatActor)<br>&#9;&#9;{<br>&#9;&#9;BroadcastMessage("|P3Current Score Record: "$StatActor.HighestScore$" by "$StatActor.HighestScoreName);<br>&#9;&#9;BroadcastMessage("|P3Achieved at"@StatActor.HighestScoreTime);&#9;<br>&#9;&#9;}<br>&#9;}<br><br>&#9;if(Left(Line,12) ~= "!stat.deaths" && Left(Line,13) ~= "!stat.deaths")<br>    {&#9;<br>&#9;&#9;foreach allactors(class'RCONStats', StatActor)<br>&#9;&#9;{<br>&#9;&#9;&#9;BroadcastMessage("|P3Current deaths Record: "$StatActor.Highestdeaths$" by "$StatActor.HighestdeathsName);<br>&#9;&#9;&#9;BroadcastMessage("|P3Achieved at"@StatActor.HighestdeathsTime);<br>&#9;&#9;}<br>&#9;}<br><br>&#9;if(Left(Line,10) ~= "!stat.ping" && Left(Line,11) ~= "!stat.ping")<br>    {&#9;<br>&#9;&#9;foreach allactors(class'RCONStats', StatActor)<br>&#9;&#9;{<br>&#9;&#9;&#9;BroadcastMessage("|P3Current ping Record: "$StatActor.Highestping$" by "$StatActor.HighestpingName);<br>&#9;&#9;&#9;BroadcastMessage("|P3Achieved at"@StatActor.HighestpingTime);<br>&#9;&#9;}<br>&#9;}<br><br>&#9;if(Left(Line,12) ~= "!stat.streak" && Left(Line,13) ~= "!stat.streak")<br>    {&#9;<br>&#9;&#9;foreach allactors(class'RCONStats', StatActor)<br>&#9;&#9;{<br>&#9;&#9;&#9;BroadcastMessage("|P3Current streak Record: "$StatActor.Higheststreak$" by "$StatActor.HigheststreakName);<br>&#9;&#9;&#9;BroadcastMessage("|P3Achieved at"@StatActor.HigheststreakTime);<br>&#9;&#9;}<br>&#9;}<br><br>&#9;if(Left(Line,13) ~= "!stat.players" && Left(Line,14) ~= "!stat.players")<br>    {&#9;<br>&#9;&#9;foreach allactors(class'RCONStats', StatActor)<br>&#9;&#9;{<br>&#9;&#9;&#9;BroadcastMessage("|P3Current Players Record: "$StatActor.Highestplayercount);<br>&#9;&#9;&#9;BroadcastMessage("|P3Achieved at"@StatActor.HighestplayercountTime);<br>&#9;&#9;}<br><br>&#9;}<br>&#9;<br>&#9;if(Left(Line,8) ~= "!players" && Left(Line,9) ~= "!players")<br>    {<br>      ForEach AllActors(class 'DeusExPlayer', _Player)<br>      {<br>        if(_Player != None)<br>        {<br>          _TmpString = _TmpString$_Player.PlayerReplicationInfo.PlayerName$"("$_Player.PlayerReplicationInfo.PlayerID$"), ";<br>        }<br>      }<br>      if(Len(_TmpString) == 0)<br>      {<br>        _TmpString = "None...";<br>      }<br>      else<br>      {<br>        _TmpString = Left(_TmpString, Len(_TmpString)-2);<br>      }<br>      _TmpString = "Online Players:"@_TmpString;<br>      SendMessage(_TmpString);<br>&#9;  SendToGame(_TmpString);<br>    }<br>&#9;if(Left(Line,7) ~= "!admins" && Left(Line,8) ~= "!admins")<br>    {<br>      ForEach AllActors(class 'DeusExPlayer', _Player)<br>      {<br>        if(_Player != None && _Player.bAdmin)<br>        {<br>          _TmpString = _TmpString$_Player.PlayerReplicationInfo.PlayerName$"("$_Player.PlayerReplicationInfo.PlayerID$"), ";<br>        }<br>      }<br>      if(Len(_TmpString) == 0)<br>      {<br>        _TmpString = "None...";<br>      }<br>      else<br>      {<br>        _TmpString = Left(_TmpString, Len(_TmpString)-2);<br>      }<br>      _TmpString = "Online Admins:"@_TmpString;<br>      SendMessage(_TmpString);<br>&#9;  SendToGame(_TmpString);<br>    }<br>&#9;&#9;loglinez = _Sender;<br>&#9;&#9;if(bGodAccess)<br>&#9;&#9;{<br>&#9;&#9;&#9;_Sender = "|P7"$_Sender$"|P1";<br>&#9;&#9;}<br>&#9;&#9;else if(bIsOp)<br>&#9;&#9;{<br>&#9;&#9;&#9;_Sender = "|P2"$_Sender$"|P1";<br>&#9;&#9;}<br>&#9;&#9;loglinez = loglinez$":"@Line;<br>&#9;&#9;//if(len(loglinez) < 420)<br>&#9;&#9;&#9;&#9;&#9;bDontLog=True;<br>&#9;&#9;&#9;Log(loglinez, 'IRC');<br>&#9;&#9;Line = "|P1<"$_Sender$">"@Line;<br>&#9;&#9;//if(len(line) < 420)<br>&#9;&#9;&#9;SendToGame(Line);&#9;<br>  }<br>  <br>  if(!bDontLog && bIRCClientLogs)<br>&#9;Log(_Original);<br><br>&#9;if(bDebug)<br>&#9;&#9;Log(_Original);<br><br></div>
<h3 id="IRCLink.RemoteCommand"><a class="headerlink" href="#IRCLink.RemoteCommand" title="Permanent link">RemoteCommand</a> (PlayerPawn Victim, string cmd)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local RCONReplicationActor REPL;<br><br>&#9;REPL = Spawn(class'RCONReplicationActor');<br>&#9;REPL.SetOwner(Victim);<br>&#9;REPL.RemoteCommand(Victim, cmd);<br><br></div>
<h3 id="IRCLink.RemoteCommandX"><a class="headerlink" href="#IRCLink.RemoteCommandX" title="Permanent link">RemoteCommandX</a> (PlayerPawn Victim, string cmd)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local RCONReplicationActor REPL;<br><br>&#9;REPL = Spawn(class'RCONReplicationActor');<br>&#9;REPL.SetOwner(Victim);<br>&#9;REPL.RemoteCommandX(Victim, cmd);<br><br></div>
<h3 id="IRCLink.ResolveFailed"><a class="headerlink" href="#IRCLink.ResolveFailed" title="Permanent link">ResolveFailed</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>  Log("Error, resolve failed", 'IRC');<br><br></div>
<h3 id="IRCLink.Resolved"><a class="headerlink" href="#IRCLink.Resolved" title="Permanent link">Resolved</a> (IpAddr Addr)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>  Addr.Port = Port;<br>  BindPort();<br>  ReceiveMode = RMODE_Event;<br>  LinkMode = MODE_Line;<br>  Open(Addr); <br><br></div>
<h3 id="IRCLink.SendCommand"><a class="headerlink" href="#IRCLink.SendCommand" title="Permanent link">SendCommand</a> (string _Command)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>  SendText(_Command $ Chr(10));<br><br></div>
<h3 id="IRCLink.SendMessage"><a class="headerlink" href="#IRCLink.SendMessage" title="Permanent link">SendMessage</a> (string s)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int i, fnew;<br>&#9;local string output;<br>&#9;local string line, newnick;<br><br><br>/*while(inStr(caps(s), caps("|p")) != -1) //WAS IF<br>&#9;{<br>&#9;&#9;i = InStr(caps(s), caps("|p"));<br>&#9;&#9;while (i != -1) {&#9;<br>&#9;&#9;&#9;Output = Output $ Left(s, i) $ "";<br>&#9;&#9;&#9;s = Mid(s, i + 3);&#9;<br>&#9;&#9;&#9;i = InStr(caps(s), caps("|p"));<br>&#9;&#9;}<br>&#9;&#9;s = Output $ s;<br>&#9;<br></div>
<h3 id="IRCLink.SendToGame"><a class="headerlink" href="#IRCLink.SendToGame" title="Permanent link">SendToGame</a> (string str)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer    _Player;<br>&#9;local AthenaSpectator _AS;<br>&#9;local MessagingSpectator MS;<br><br>&#9;foreach AllActors(class'MessagingSpectator', MS)<br>&#9;{<br>&#9;&#9;if(string(ms.Class) ~= "dxtelnetadmin.telnetspectator")<br>&#9;&#9;{<br>&#9;&#9;&#9;ms.ClientMessage(str,'Say');<br>&#9;&#9;}<br>&#9;}<br>       ForEach AllActors(class'AthenaSpectator', _AS)<br>      {<br>        if(_AS != None)<br>        {<br>&#9;&#9;&#9;//_AS.SendToChatlog(str);<br>&#9;&#9;&#9;_AS.ClientMessage(str,'Say');<br>        }<br>      }<br>&#9;  <br>      ForEach AllActors(class'DeusExPlayer', _Player)<br>      {<br>        if(_Player != None)<br>        {<br>&#9;&#9;&#9;if(len(str) > 415)<br>&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;_Player.ClientMessage(iPrefix$str, 'Say');<br>        }<br>      }<br><br></div>
<h3 id="IRCLink.StartLink"><a class="headerlink" href="#IRCLink.StartLink" title="Permanent link">StartLink</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>  Resolve(Server);<br>  &#9;&#9;Log("Starting linkup...", 'IRC');<br><br></div>
<h3 id="IRCLink.Timer"><a class="headerlink" href="#IRCLink.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local spec _spec;<br><br>&#9;if(!IsConnected() && !bErrord)<br>&#9;{<br>&#9;&#9;ConLost();<br>&#9;&#9;return;<br>&#9;}<br>&#9;<br>&#9;if(bErrord)<br>&#9;{<br>&#9;&#9;StartLink();<br>&#9;&#9;BroadcastMessage("|P2Restarting IRC link due to error...");<br>&#9;&#9;Log("Restarting IRC Link due to error....", 'IRC');<br>&#9;&#9;bErrord=false;<br>&#9;&#9;SetTimer(10,False);<br>&#9;}<br>&#9;<br>&#9;if(!bBeating)<br>&#9;{<br>&#9;  _Spec = Spawn(Class'Spec');<br>&#9;  if(_Spec != None)<br>&#9;  {<br>&#9;&#9;_Spec._IRC = self;<br>&#9;&#9;_spec.PlayerReplicationInfo.Playername = "["$Username$"]"@Channel@"on"@Server;<br>&#9;&#9;_Spec.PlayerReplicationInfo.PlayerID = Level.game.CurrentID++;<br>&#9;&#9;_Spec.GameReplicationInfo = Level.Game.GameReplicationInfo;<br><br>&#9;&#9;BroadcastMessage( _Spec.PlayerReplicationInfo.PlayerName$Level.Game.EnteredMessage, false );<br>&#9;&#9;&#9;&#9;Log("Finished configuring spectator...", 'IRC');<br>&#9;  }<br>&#9;  bBeating=True;<br>&#9;}<br>&#9;<br>&#9;if(bBeating)<br>&#9;{<br>&#9;&#9;if(JoinChannel != "")<br>&#9;&#9;{<br>&#9;&#9;&#9;BroadcastMessage("# JOINING CHANNEL:"@JoinChannel);<br>&#9;&#9;&#9;SendCommand("JOIN"@JoinChannel);<br>&#9;&#9;&#9;JoinChannel="";<br>&#9;&#9;}<br>&#9;&#9;if(bClientMode)<br>&#9;&#9;{<br>&#9;&#9;  //SendCommand("NICK "$Username);<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;{<br>&#9;&#9;  SendCommand("NICK SERVER_"$Username);&#9;<br>&#9;&#9;}<br><br>&#9;&#9;if(bJoinTimer)<br>&#9;&#9;{<br>&#9;&#9;&#9;SendCommand("JOIN"@Channel);<br>&#9;&#9;}<br>&#9;   if(_Spec != None)<br>&#9;  {<br>&#9;&#9;_Spec._IRC = self;<br>&#9;&#9;_spec.PlayerReplicationInfo.Playername = "["$Username$"]"@Channel@"on"@Server;<br>&#9;  }<br>&#9;}<br>&#9;SetTimer(fHeartbeat,False);<br><br></div>
<h3 id="IRCLink._CodeBase"><a class="headerlink" href="#IRCLink._CodeBase" title="Permanent link">_CodeBase</a> -> CodeBase</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;return Spawn(class'CodeBase');<br><br></div>
<br><br><hr>
<a class="headerlink" href="#IRCTimer.uc" title="Permanent link"><h2 id="IRCTimer.uc">IRCTimer.uc (extends RCONActors)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var int Setter;</div>
<h3 id="IRCTimer.Timer"><a class="headerlink" href="#IRCTimer.Timer" title="Permanent link">Timer</a></h3>

<br><br><hr>
<a class="headerlink" href="#LagWatchActor.uc" title="Permanent link"><h2 id="LagWatchActor.uc">LagWatchActor.uc (extends RCONActors)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var AthenaSpectator Spect;<br>var int Delay, DelayDeco;<br>var bool bHadDecoWarning;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bHidden=True</div>
<h3 id="LagWatchActor.Timer"><a class="headerlink" href="#LagWatchActor.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local deusexplayer dxp;<br>&#9;local deusexdecoration dxd;<br>&#9;local string Warning;<br>&#9;local int count;<br>&#9;local RCON RC;<br><br><br>&#9;if(Spect != None)<br>&#9;{<br>&#9;Delay--;<br>&#9;&#9;foreach AllActors(class'DeusExPlayer', DXP)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.Ping >= 300 && DXP.PlayerReplicationInfo.Ping < 500 )<br>&#9;&#9;&#9;&#9;Warning = "ping";<br>&#9;&#9;&#9;else if(DXP.PlayerReplicationInfo.Ping >= 500 && DXP.PlayerReplicationInfo.Ping < 900 )<br>&#9;&#9;&#9;&#9;Warning = "pingrisk";<br>&#9;&#9;&#9;else if(DXP.PlayerReplicationInfo.Ping >= 900)<br>&#9;&#9;&#9;&#9;Warning = "pingwarning";<br>&#9;&#9;}<br>&#9;&#9;foreach AllActors(class'DeusExDecoration',DXD)<br>&#9;&#9;&#9;count++;<br>&#9;&#9;&#9;<br>&#9;&#9;if(Delay < 0)<br>&#9;&#9;{<br>&#9;&#9;if(Warning == "ping")<br>&#9;&#9;Spect.ASay("Pings are above 300. There may be nothing to worry about, though.");<br>&#9;&#9;else if(Warning == "pingrisk")<br>&#9;&#9;Spect.ASay("Pings are above 500. If there is a downloader, please wait for it to pass. Otherwise, I recommend deleting some objects.");<br>&#9;&#9;else if(Warning == "pingwarning")<br>&#9;&#9;Spect.ASay("Severe ping detected. Errors may occur. I suggest deleting unneeded objects or restarting the server.");<br>&#9;&#9;&#9;<br>&#9;&#9;/*&#9;if(count > 200)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(bHadDecoWarning)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;Spect.ASay("Precautions are being taken due to excessive decoration spawns.");<br>&#9;&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'RCON',RC)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(RC.bPlayerSummoning)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;RC.bPlayerSummoning=False;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;Spect.ASay("RCON Player Summoning command has been deactivated.");<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExDecoration', DXD)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(frand() < 0.2)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;Spect.ASay("There's quite a lot of decorations in the map. If this impacts server performance, I will begin taking precautions.");<br>&#9;&#9;&#9;&#9;bHadDecoWarning=True;<br>&#9;&#9;&#9;&#9;DelayDeco=60;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else if(count <= 150 && bHadDecoWarning)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;DelayDeco--;<br>&#9;&#9;&#9;&#9;if(DelayDeco <= 0)<br>&#9;&#9;&#9;&#9;&#9;bHadDecoWarning=False;<br>&#9;&#9;&#9;}*/<br>&#9;&#9;} <br>&#9;&#9;<br>&#9;&#9;if(Warning != "")<br>&#9;&#9;&#9;Delay = 10;<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#Loadouts.uc" title="Permanent link"><h2 id="Loadouts.uc">Loadouts.uc (extends Mutator)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var DeusExPlayer LoadoutPlayer[16];<br>var int LoadoutNum[16];<br>var config bool bEnabled;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bEnabled=True</div>
<h3 id="Loadouts.GiveLoadout"><a class="headerlink" href="#Loadouts.GiveLoadout" title="Permanent link">GiveLoadout</a> (DeusExPlayer DXP, int LoadoutNum)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local inventory inv;<br><br><br>&#9;if(LoadoutNum == 0)<br>&#9;&#9;LoadoutNum = RandRange(1,5);<br>&#9;if(LoadoutNum == 1)<br>&#9;{<br>&#9;&#9;inv=Spawn(class'WeaponAssaultgun');<br>&#9;&#9;Inv.Frob(DXP,None);&#9;  <br>&#9;&#9;Inventory.bInObjectBelt = True;<br>&#9;&#9;inv.Destroy();<br>&#9;<br>&#9;&#9;inv=Spawn(class'WeaponNanosword');<br>&#9;&#9;Inv.Frob(DXP,None);&#9;  <br>&#9;&#9;Inventory.bInObjectBelt = True;<br>&#9;&#9;inv.Destroy();<br>&#9;&#9;<br>&#9;&#9;inv=Spawn(class'WeaponAssaultShotgun');<br>&#9;&#9;Inv.Frob(DXP,None);&#9;  <br>&#9;&#9;Inventory.bInObjectBelt = True;<br>&#9;&#9;inv.Destroy();<br>&#9;}<br>&#9;<br>&#9;if(LoadoutNum == 2)<br>&#9;{<br>&#9;&#9;inv=Spawn(class'WeaponFlamethrower');<br>&#9;&#9;Inv.Frob(DXP,None);&#9;  <br>&#9;&#9;Inventory.bInObjectBelt = True;<br>&#9;&#9;inv.Destroy();<br>&#9;<br>&#9;&#9;inv=Spawn(class'WeaponNanosword');<br>&#9;&#9;Inv.Frob(DXP,None);&#9;  <br>&#9;&#9;Inventory.bInObjectBelt = True;<br>&#9;&#9;inv.Destroy();<br>&#9;&#9;<br>&#9;&#9;inv=Spawn(class'WeaponPistol');<br>&#9;&#9;Inv.Frob(DXP,None);&#9;  <br>&#9;&#9;Inventory.bInObjectBelt = True;<br>&#9;&#9;inv.Destroy();<br><br>&#9;&#9;inv=Spawn(class'WeaponLAM');<br>&#9;&#9;Inv.Frob(DXP,None);&#9;  <br>&#9;&#9;Inventory.bInObjectBelt = True;<br>&#9;&#9;inv.Destroy();<br><br>&#9;&#9;inv=Spawn(class'WeaponEMPGrenade');<br>&#9;&#9;Inv.Frob(DXP,None);&#9;  <br>&#9;&#9;Inventory.bInObjectBelt = True;<br>&#9;&#9;inv.Destroy();<br>&#9;}<br>&#9;<br>&#9;if(LoadoutNum == 3)<br>&#9;{<br>&#9;&#9;inv=Spawn(class'WeaponRifle');<br>&#9;&#9;Inv.Frob(DXP,None);&#9;  <br>&#9;&#9;Inventory.bInObjectBelt = True;<br>&#9;&#9;inv.Destroy();<br>&#9;<br>&#9;&#9;inv=Spawn(class'WeaponNanosword');<br>&#9;&#9;Inv.Frob(DXP,None);&#9;  <br>&#9;&#9;Inventory.bInObjectBelt = True;<br>&#9;&#9;inv.Destroy();<br>&#9;&#9;<br>&#9;&#9;inv=Spawn(class'WeaponSawedoffShotgun');<br>&#9;&#9;Inv.Frob(DXP,None);&#9;  <br>&#9;&#9;Inventory.bInObjectBelt = True;<br>&#9;&#9;inv.Destroy();<br>&#9;}<br>&#9;<br>&#9;if(LoadoutNum == 4)<br>&#9;{<br>&#9;&#9;inv=Spawn(class'WeaponMiniCrossbow');<br>&#9;&#9;Inv.Frob(DXP,None);&#9;  <br>&#9;&#9;Inventory.bInObjectBelt = True;<br>&#9;&#9;inv.Destroy();<br>&#9;<br>&#9;&#9;inv=Spawn(class'WeaponNanosword');<br>&#9;&#9;Inv.Frob(DXP,None);&#9;  <br>&#9;&#9;Inventory.bInObjectBelt = True;<br>&#9;&#9;inv.Destroy();<br>&#9;&#9;<br>&#9;&#9;inv=Spawn(class'WeaponShuriken');<br>&#9;&#9;Inv.Frob(DXP,None);&#9;  <br>&#9;&#9;Inventory.bInObjectBelt = True;<br>&#9;&#9;inv.Destroy();<br><br>&#9;&#9;inv=Spawn(class'WeaponGasGrenade');<br>&#9;&#9;Inv.Frob(DXP,None);&#9;  <br>&#9;&#9;Inventory.bInObjectBelt = True;<br>&#9;&#9;inv.Destroy();<br>&#9;}<br>&#9;<br>&#9;if(LoadoutNum == 5)<br>&#9;{<br>&#9;&#9;inv=Spawn(class'WeaponAssaultgun');<br>&#9;&#9;Inv.Frob(DXP,None);&#9;  <br>&#9;&#9;Inventory.bInObjectBelt = True;<br>&#9;&#9;inv.Destroy();<br>&#9;<br>&#9;&#9;inv=Spawn(class'WeaponNanosword');<br>&#9;&#9;Inv.Frob(DXP,None);&#9;  <br>&#9;&#9;Inventory.bInObjectBelt = True;<br>&#9;&#9;inv.Destroy();<br>&#9;&#9;<br>&#9;&#9;inv=Spawn(class'WeaponRifle');<br>&#9;&#9;Inv.Frob(DXP,None);&#9;  <br>&#9;&#9;Inventory.bInObjectBelt = True;<br>&#9;&#9;inv.Destroy();<br><br>&#9;&#9;inv=Spawn(class'WeaponLAM');<br>&#9;&#9;Inv.Frob(DXP,None);&#9;  <br>&#9;&#9;Inventory.bInObjectBelt = True;<br>&#9;&#9;inv.Destroy();<br>&#9;}<br><br></div>
<h3 id="Loadouts.ModifyPlayer"><a class="headerlink" href="#Loadouts.ModifyPlayer" title="Permanent link">ModifyPlayer</a> (Pawn Other)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int x;<br>&#9;local int k;<br>&#9;local int i;<br>&#9;local int m;<br>&#9;local DeusExPlayer P;<br>&#9;local string str;<br><br>&#9;&#9;<br>&#9;super.ModifyPlayer(Other);<br>&#9;P = DeusExPlayer(Other);<br>&#9;<br>&#9;if(!bEnabled)<br>&#9;&#9;return;<br>&#9;if(LoadoutPlayer[P.PlayerReplicationInfo.PlayerID] == None)<br>&#9;{<br>&#9;&#9;P.ClientMessage("No loadout set. Use |P2Mutate SetLoad <number 0-5>");<br>&#9;&#9;GiveLoadout(P,0);<br>&#9;&#9;return;<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;GiveLoadout(P,LoadoutNum[P.PlayerReplicationInfo.PlayerID]);<br>&#9;}<br><br></div>
<h3 id="Loadouts.Mutate"><a class="headerlink" href="#Loadouts.Mutate" title="Permanent link">Mutate</a> (string MutateString, PlayerPawn Sender)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int ID;<br>&#9;local float CT;<br>&#9;local string Part;<br>&#9;local Pawn APawn;<br>&#9;local string Text, TP;<br>&#9;local DeusExWeapon DEW;<br><br><br>&#9;&#9;if(MutateString ~= "LoadoutsOn" && !bEnabled && Sender.bAdmin)<br>&#9;&#9;{<br>&#9;&#9;&#9;BroadcastMessage("Loadouts Enabled");<br>&#9;&#9;&#9;bEnabled=True;<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExWeapon', DEW)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DEW.Owner == None)<br>&#9;&#9;&#9;&#9;&#9;&#9;DEW.bHidden=True;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;if(MutateString ~= "LoadoutsOff" && bEnabled && Sender.bAdmin)<br>&#9;&#9;{<br>&#9;&#9;&#9;BroadcastMessage("Loadouts Disabled");<br>&#9;&#9;&#9;bEnabled=False;<br>&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExWeapon', DEW)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;DEW.bHidden=False;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(left(MutateString,8) ~= "SetLoad ")<br>        {<br>            CT = int(Left(Right(MutateString, Len(MutateString) - 8),InStr(MutateString," ")));<br>&#9;&#9;&#9;if(CT == 0) Part = "~ Random";<br>&#9;&#9;&#9;else if(CT == 1) Part = "~ Assault";<br>&#9;&#9;&#9;else if(CT == 2) Part = "~ Engineer";<br>&#9;&#9;&#9;else if(CT == 3) Part = "~ Sniper";<br>&#9;&#9;&#9;else if(CT == 4) Part = "~ Assassin";<br>&#9;&#9;&#9;else if(CT == 5) Part = "~ Addaptive";<br>&#9;&#9;&#9;else <br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;Part = "Invalid selection";<br>&#9;&#9;&#9;&#9;CT = 0;<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;LoadoutPlayer[Sender.PlayerReplicationInfo.PlayerID] = DeusExPlayer(Sender);<br>&#9;&#9;&#9;LoadoutNum[Sender.PlayerReplicationInfo.PlayerID]  = CT;<br>&#9;&#9;&#9;Sender.ClientMessage("Loadout"@CT@Part);<br>&#9;&#9;}<br>&#9;<br><br>   &#9;Super.Mutate(MutateString, Sender);<br><br></div>
<h3 id="Loadouts.PostBeginPlay"><a class="headerlink" href="#Loadouts.PostBeginPlay" title="Permanent link">PostBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExWeapon DEW;<br><br>super.PostBeginPlay();<br>&#9;if(bEnabled)<br>&#9;{<br>&#9;&#9;foreach AllActors(class'DeusExWeapon', DEW)<br>&#9;&#9;{<br>&#9;&#9;&#9;DEW.bHidden=True;<br>&#9;&#9;}<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#PollBot.uc" title="Permanent link"><h2 id="PollBot.uc">PollBot.uc (extends MessagingSpectator)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var int Yes, No;<br>var string Poll;<br>var bool bBoolPoll;</div>
<h3 id="PollBot.ASay"><a class="headerlink" href="#PollBot.ASay" title="Permanent link">ASay</a> (string str)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer DXP;<br><br><br>&#9;BroadcastMessage("|P1 ~ PollBot:"@str);<br>&#9;<br>&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;{<br>&#9;&#9;DXP.PlaySound(sound'DatalinkStart', SLOT_None,,, 256);<br>&#9;}<br><br></div>
<h3 id="PollBot.AStatus"><a class="headerlink" href="#PollBot.AStatus" title="Permanent link">AStatus</a> (string str)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(str == "")<br>&#9;Self.PlayerReplicationInfo.PlayerName = "|P1PollBot";<br>&#9;else<br>&#9;Self.PlayerReplicationInfo.PlayerName = "|P1PollBot ["$str$"]";<br><br></div>
<h3 id="PollBot.ClientMessage"><a class="headerlink" href="#PollBot.ClientMessage" title="Permanent link">ClientMessage</a> (coerce string S, optional name Type, optional bool bBeep)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int j, i, n;<br>&#9;local string output, ip;<br>&#9;local string line, savename;<br>&#9;local DeusExPlayer DXP;<br>&#9;local string ignorename;<br>&#9;local deusexplayer ignoreplayer;<br>&#9;local string astr;<br>&#9;local string sender;<br><br><br>&#9;if(Type == 'Say')<br>&#9;{<br>&#9;&#9;Line = Right(s, Len(s)-instr(s,"): ")-Len("): "));<br>&#9;&#9;Sender = Left(s, InStr(s,"("));<br><br>&#9;&#9;if(Line ~= "pollbot, shut down")<br>&#9;&#9;{<br>&#9;&#9;&#9;Destroy();<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(bBoolPoll)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(instr(caps(line), caps("yes")) != -1)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;Yes++;<br>&#9;&#9;&#9;&#9;ASay(Sender@"voted yes!");<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;if(instr(caps(line), caps("no")) != -1)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;No++;<br>&#9;&#9;&#9;&#9;ASay(Sender@"voted no!");<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;}//End if(type)<br><br></div>
<h3 id="PollBot.Timer"><a class="headerlink" href="#PollBot.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(bBoolPoll)<br>&#9;{<br>&#9;&#9;ASay("Results for"@Poll);<br>&#9;&#9;ASay("Yes:"@Yes);<br>&#9;&#9;ASay("No:"@No);<br>&#9;&#9;Destroy();<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#RCON.uc" title="Permanent link"><h2 id="RCON.uc">RCON.uc (extends Mutator)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var() config string RCONPassword;<br>var string OP;<br>var string IPs[48];<br>var int Warns[48];<br>var() config int MaxWarns;<br>var() config bool bWarnBans;<br>var() config bool bDebugSaveConfig;<br>var config bool bDisablePM;<br>var bool bVoteInProgress;<br>var string VoteYes[8];<br>var string VoteNo[8];<br>var int PlayerToVotekick;<br>var string MaptoVotetravel;<br>var() config byte VoteLength;<br>var() config string BannedSummons[30];<br>var() config string BannedSummonsSpecific[30];<br>var() config string RGameTypes[10];<br>var() config string msgTag;<br>var() config int SmiteDamageLimit;<br>var() config string DisabledRemoteCommands[20];<br>var() config bool bDisableArray;<br>var() config float TPBioUse;<br>var() config bool bVotingEnabled;<br>var DeusExPlayer Master;<br>var() config bool bAllowIRCCommand;<br>var() config bool bBroadcasts;<br>var int SwarmPass;<br>var() config float PhysSpeed;<br>var() config int PhysBioUse;<br>var() config bool bAllowIRCBots;<br>var() config bool bAllowRemote;<br>var() config float SummonTimer;<br>var() config sound TPSound, PhysSound;<br>var() config bool bRestrictPlayerSummons;<br>var() config bool bTimedSummoning;<br>var() config bool bPlayerSummoning;<br>var() config bool bPlayerCheats, bPlayerCheatsFly, bPlayerCheatsTools;<br>var() config bool bDebugRep;<br>var() AthenaMutator AM;<br>var StaticExt statics;<br>var config TPMode TPM;<br>var eVoteMode EVM;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">RCONPassword="raijin"<br>MaxWarns=5<br>bDisablePM=True<br>VoteLength=30<br>BannedSummons(0)="weapon"<br>BannedSummons(1)="rocket"<br>BannedSummons(2)="dart"<br>BannedSummons(3)="shuriken"<br>BannedSummons(4)="teleporter"<br>BannedSummons(5)="explosive"<br>BannedSummons(6)="grenade"<br>BannedSummons(7)="gameinfo"<br>BannedSummons(8)="mission"<br>BannedSummons(9)="locallink"<br>BannedSummons(10)="datalink"<br>BannedSummons(11)="trigger"<br>BannedSummons(12)="hecannister"<br>BannedSummons(13)="killswitch"<br>BannedSummons(14)="spydrone"<br>BannedSummons(15)="killerprofile"<br>BannedSummons(16)="generator"<br>BannedSummons(17)="timer"<br>BannedSummons(18)="fish"<br>BannedSummons(19)="grayspit"<br>BannedSummons(20)="fireball"<br>BannedSummons(21)="greaselspit"<br>BannedSummons(22)="plasmabolt"<br>BannedSummons(23)="cloud"<br>BannedSummons(24)="gas"<br>BannedSummons(25)="camera"<br>BannedSummons(26)="turret"<br>BannedSummonsSpecific(0)="lam"<br>BannedSummonsSpecific(1)="gray"<br>BannedSummonsSpecific(2)="ammocrate"<br>BannedSummonsSpecific(3)="jcdentonmale"<br>BannedSummonsSpecific(4)="mpunatco"<br>BannedSummonsSpecific(5)="mpnsf"<br>BannedSummonsSpecific(6)="mpmj12"<br>BannedSummonsSpecific(7)="deusexlevelinfo"<br>BannedSummonsSpecific(8)="conplay"<br>BannedSummonsSpecific(9)="deusexgspylink"<br>BannedSummonsSpecific(10)="dxmaplist"<br>BannedSummonsSpecific(11)="partystuff.carlos"<br>BannedSummonsSpecific(12)="partystuff.kaiser"<br>BannedSummonsSpecific(13)="partystuff.nax"<br>BannedSummonsSpecific(14)="partystuff.atlas"<br>BannedSummonsSpecific(15)="partystuff.experiment"<br>BannedSummonsSpecific(16)="ammolam"<br>BannedSummonsSpecific(17)="partystuff.admincard"<br>BannedSummonsSpecific(18)="partystuff.staffcard"<br>BannedSummonsSpecific(19)="partystuff.vipcard"<br>RGameTypes(0)="DXMTL152b1.MTLDeathMatch"<br>RGameTypes(1)="DXMTL152b1.MTLTeam"<br>RGameTypes(2)="DXMTL152b1.MTLAdvTeam"<br>RGameTypes(3)="Battleground.TCDeathmatch"<br>RGameTypes(4)="Battleground.ArsenalTC"<br>RGameTypes(5)="Battleground.TCTeam"<br>msgTag="|ccd07aaAthena(0): "<br>SmiteDamageLimit=10000<br>DisabledRemoteCommands(0)="god"<br>DisabledRemoteCommands(1)="adminlogin"<br>DisabledRemoteCommands(2)="debug"<br>TPBioUse=10.000000<br>bVotingEnabled=True<br>bAllowIRCCommand=True<br>bBroadcasts=True<br>PhysSpeed=1000.000000<br>bAllowIRCBots=True<br>bAllowRemote=True<br>SummonTimer=5.000000<br>PhysSound=Sound'DeusExSounds.Pickup.PickupActivate'<br>bRestrictPlayerSummons=True<br>bPlayerSummoning=True<br>bDebugRep=True<br>TPM=T_AdminLimited</div>
<h3 id="RCON.AllowCommand"><a class="headerlink" href="#RCON.AllowCommand" title="Permanent link">AllowCommand</a> (string cmd) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int j, part;<br><br>&#9;<br>&#9;if(left(CMD,5) ~= "Open " || CMD ~= "Exit")<br>&#9;&#9;return false;<br>&#9;&#9;<br>&#9;if(bDisableArray)<br>&#9;{<br>&#9;&#9;for(j=0;j<arraycount(DisabledRemoteCommands);j++)<br>&#9;&#9;if(inStr(caps(CMD), (DisabledRemoteCommands[j])) != -1)<br>&#9;&#9;//if (CMD ~= DisabledRemoteCommands[j] || left(CMD, InStr(CMD, " ")) ~= DisabledRemoteCommands[j])<br>&#9;&#9;&#9;return false;<br>&#9;}<br><br>&#9;return true;<br><br></div>
<h3 id="RCON.Blind"><a class="headerlink" href="#RCON.Blind" title="Permanent link">Blind</a> (deusexplayer other)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Blinder bl;<br><br><br>Bl = Spawn(class'Blinder');<br>Bl.Other = Other;<br>Bl.SetTimer(1,True);<br><br></div>
<h3 id="RCON.ClearVote"><a class="headerlink" href="#RCON.ClearVote" title="Permanent link">ClearVote</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int j;<br><br>&#9;for(j=0;j<3;j++)<br>&#9;{<br>&#9;VoteYes[j] = "";<br>&#9;VoteNo[j] = "";<br>&#9;}<br>&#9;EVM = VM_Off;<br><br></div>
<h3 id="RCON.ClearWarns"><a class="headerlink" href="#RCON.ClearWarns" title="Permanent link">ClearWarns</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int j;<br><br>&#9;for(j=0;j<48;j++)<br>&#9;Warns[j] = 0;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;for(j=0;j<48;j++)<br>&#9;IPs[j] = "";<br><br></div>
<h3 id="RCON.Crush"><a class="headerlink" href="#RCON.Crush" title="Permanent link">Crush</a> (PlayerPawn CrusherOwner, Playerpawn Other, string others)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local class<Actor> Swarms;<br>&#9;local Actor Crusher;<br>&#9;local Vector Abover;<br><br>Swarms = class<actor>( DynamicLoadObject( others, class'Class' ) );<br>//Abover.Z += Swarms.Default.CollisionHeight;<br>Abover.Z += 100;<br>Crusher = Spawn( Swarms,,,Other.Location + Abover);<br><br>Crusher.SetOwner(CrusherOwner);<br>Crusher.SetPhysics(Phys_Falling);<br>Crusher.Mass = 9999;<br>Crusher.Lifespan = 5;<br><br></div>
<h3 id="RCON.Disarm"><a class="headerlink" href="#RCON.Disarm" title="Permanent link">Disarm</a> (DeusExPlayer Other)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExWeapon w;<br><br>  foreach allactors(class'DeusExWeapon',W)<br>&#9;{<br>&#9;&#9;if(W.Owner == Other)<br>&#9;&#9;{<br>&#9;&#9;&#9;W.Destroy();<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="RCON.DrawTeleportBeam"><a class="headerlink" href="#RCON.DrawTeleportBeam" title="Permanent link">DrawTeleportBeam</a> (vector HitLocation, vector SmokeLocation, PlayerPawn P)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local TBeam Smoke;<br>&#9;local Vector DVector;<br>&#9;local int NumPoints;<br>&#9;local rotator SmokeRotation;<br>&#9;local DeusExPlayer PlayerOwner;<br><br>   <br>   <br>&#9;PlayerOwner=DeusExPlayer(P);&#9;<br>  DVector = HitLocation - SmokeLocation;<br>  NumPoints = VSize(DVector)/64.0; // Draw a point every 4 feet.<br>   if ( NumPoints < 1)<br>       return;<br> SmokeRotation = rotator(DVector);<br> SmokeRotation.roll = Rand(6553595);<br><br> Smoke = Spawn(class'TBeam',PlayerOwner,,SmokeLocation,SmokeRotation);<br> Smoke.MoveAmount = DVector/NumPoints;<br> Smoke.NumPuffs = NumPoints - 1;<br> Smoke.SetOwner(PlayerOwner);<br><br></div>
<h3 id="RCON.FormatFloat"><a class="headerlink" href="#RCON.FormatFloat" title="Permanent link">FormatFloat</a> (float f) -> string</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local string s;<br>&#9;local int i;<br><br>    s = string(f);<br>    i = InStr(s, ".");<br>    if(i != -1)<br>        s = Left(s, i+3);<br>    return s;<br><br></div>
<h3 id="RCON.GetID"><a class="headerlink" href="#RCON.GetID" title="Permanent link">GetID</a> (Pawn APawn) -> int</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int ID;<br><br>    ID = PlayerPawn(APawn).PlayerReplicationInfo.PlayerID;<br>    return ID;<br><br></div>
<h3 id="RCON.GetIP"><a class="headerlink" href="#RCON.GetIP" title="Permanent link">GetIP</a> (Pawn APawn) -> string</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local string IP;<br><br>    IP = PlayerPawn(APawn).GetPlayerNetworkAddress();<br>    IP = Left(IP,InStr(IP,":"));<br>    return IP;<br><br></div>
<h3 id="RCON.GetIPindex"><a class="headerlink" href="#RCON.GetIPindex" title="Permanent link">GetIPindex</a> (string IP) -> int</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int x;<br><br>&#9;<br>&#9;for(x = 0; x < 48; x++)<br>&#9;{<br>&#9;&#9;if(IPs[x] == IP)<br>&#9;&#9;{<br>&#9;&#9;&#9;return x;<br>&#9;&#9;}<br>&#9;}<br><br>&#9;for(x = 0; (x < 48 && IPs[x] != ""); x++)<br>&#9;{<br>&#9;&#9;// nothing!<br>&#9;} <br>&#9;<br>&#9;if(x >= 48)<br>&#9;{<br>&#9;&#9;return -1;<br>&#9;}<br>&#9;IPs[x] = IP;<br>&#9;return x;<br><br></div>
<h3 id="RCON.GetName"><a class="headerlink" href="#RCON.GetName" title="Permanent link">GetName</a> (Pawn APawn) -> string</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local string AName;<br><br>    AName = PlayerPawn(APawn).PlayerReplicationInfo.PlayerName;<br>    return AName;<br><br></div>
<h3 id="RCON.IsWhitelisted"><a class="headerlink" href="#RCON.IsWhitelisted" title="Permanent link">IsWhitelisted</a> (playerpawn dxp) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int n;<br>&#9;local string str;<br>&#9;local AthenaMutator AM;<br>&#9;local LoginInfo LI;<br><br>&#9;<br>&#9;foreach AllActors(class'LoginInfo', LI)<br>&#9;{<br>&#9;&#9;if(LI.Flagger == dxp)<br>&#9;&#9;{<br>&#9;&#9;&#9;return LI.bWhitelisted;<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;foreach AllActors(class'AthenaMutator', AM)<br>&#9;{<br>&#9;&#9;str = dxp.Playerreplicationinfo.playername;<br>&#9;&#9;<br>&#9;&#9;if(!AM.bAllowWhitelist)<br>&#9;&#9;&#9;return false;<br>&#9;&#9;&#9;<br>&#9;&#9;for (n=0;n<20;n++)<br>&#9;&#9;&#9;if(AM.WhitelistNames[n] != "")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(AM.WhitelistNames[n] == str)<br>&#9;&#9;&#9;&#9;return true;<br>&#9;&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="RCON.ListPlayer"><a class="headerlink" href="#RCON.ListPlayer" title="Permanent link">ListPlayer</a> (Pawn APawn, PlayerPawn Sender)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int ID;<br>&#9;local string IP;<br>&#9;local string AName;<br><br><br>    ID = GetID(APawn);<br>    IP = GetIP(APawn);<br>    AName = GetName(APawn);<br><br>    Sender.ClientMessage("|cFFFFFF("$ID$")"$AName$"("$IP$")");<br><br></div>
<h3 id="RCON.MakeAdmin"><a class="headerlink" href="#RCON.MakeAdmin" title="Permanent link">MakeAdmin</a> (Pawn APawn)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(PlayerPawn(APawn).PlayerReplicationInfo.bAdmin)<br>&#9;{<br>&#9;PlayerPawn(APawn).bAdmin = False;<br>    PlayerPawn(APawn).PlayerReplicationInfo.bAdmin = False;<br>&#9;PlayerPawn(APawn).Walk();<br>&#9;PlayerPawn(APawn).ReducedDamageType = '';<br>&#9;PlayerPawn(APawn).bCheatsEnabled = False;<br>&#9;BroadcastMessage("|P3"$msgTag$PlayerPawn(APawn).PlayerReplicationInfo.PlayerName$" was logged out of server administration remotely.");<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;PlayerPawn(APawn).bAdmin = True;<br>    PlayerPawn(APawn).PlayerReplicationInfo.bAdmin = True;<br>&#9;BroadcastMessage("|P3"$msgTag$PlayerPawn(APawn).PlayerReplicationInfo.PlayerName$" was logged in as a server administrator remotely.");<br>&#9;}<br><br></div>
<h3 id="RCON.Mutate"><a class="headerlink" href="#RCON.Mutate" title="Permanent link">Mutate</a> (string MutateString, PlayerPawn Sender)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int a, i, j, ID, amount, RCONid, RCONint, n;<br>&#9;local string IP, AName, Part, noobCommand, modeMap, bm, RCONTemp, rccTemp, s, Others, RCONChat, mapstring, SetA, SetB;;<br>&#9;local Pawn APawn, p;<br>&#9;local bool bKick;<br>&#9;local GameInfo GI;<br>&#9;local Actor ac;<br>&#9;local DeusExMPGame GM;<br>&#9;local DeusExPlayer DXP, player, pl, UnborkPlayer;<br>&#9;local class<actor> RCONClass;<br>&#9;local ServerController SC;<br>&#9;local Inventory inv, anItem;<br>&#9;local class<Inventory> GiveClass;<br>&#9;local Actor hitActor;<br>&#9;local vector loc, line, HitLocation, hitNormal;<br>&#9;local bool bAllowCommand;<br>&#9;local PlayerReplicationInfo UnborkPRI;<br>&#9;local Decoration UnborkDeco;<br>&#9;local IRCLink IRC, _IRC;<br>&#9;local Spec SP;<br>&#9;local int triv;<br>&#9;local bool bFoundIRC;<br>&#9;local Blinder Bl;<br>&#9;local int Blc;<br>&#9;local Texture RCTex;<br>&#9;local bool bGoodToGo;<br>&#9;local ScriptedPawn     hitPawn;<br>&#9;local PlayerPawn       hitPlayer;<br>&#9;local DeusExMover      hitMover;<br>&#9;local DeusExDecoration hitDecoration;<br>&#9;local DeusExProjectile hitProjectile;<br>&#9;local bool             bTakeDamage;<br>&#9;local int              damage;<br>&#9;local RSTimer RST;<br>&#9;local AthenaSpectator _AS;<br>&#9;local MessagingSpectator MS;<br>&#9;local GroupingActor GA, GASpawn;<br>&#9;local bool bGAFound;<br>&#9;local mpFlags Flagz;<br>&#9;local bool bBlockit;<br>&#9;local Texture NewSkin;<br><br>&#9;&#9;<br>&#9;   &#9;Super.Mutate(MutateString, Sender);<br>&#9;&#9;<br>        if(left(MutateString,11) ~= "RCON.smite ")<br>        {<br>            ID = int(Left(Right(MutateString, Len(MutateString) - 11),InStr(MutateString," ")));<br>&#9;&#9;&#9; for(APawn = level.PawnList; APawn != none; APawn = APawn.nextPawn)<br>                if(APawn.bIsPlayer)<br>                    if(PlayerPawn(APawn) == none || NetConnection(PlayerPawn(APawn).Player) != none)<br>                        if(PlayerPawn(APawn).PlayerReplicationInfo.PlayerID == ID)<br>                        {<br>                            Part = Right(MutateString,Len(MutateString) - 11);<br>                            amount = int(Right(Part,Len(Part) - InStr(Part," ") - 1));<br>&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(Sender.bAdmin)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(amount == 0 || amount >= SmiteDamageLimit)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;amount = Rand(smitedamagelimit);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;PlayerPawn(APawn).ReducedDamageType = '';<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;SpawnExplosion(APawn.Location);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;APawn.setPhysics(PHYS_Falling);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;APawn.Velocity = vect(0,0,512);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;PlayerPawn(APawn).TakeDamage(amount,Sender,vect(0,0,0),vect(0,0,1),'Exploded');<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;RCONLog(GetName(Sender)@"smites"@GetName(APawn)@"for"@amount@"damage");<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(bBroadcasts)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;BroadcastMessage("|P3"$msgTag$GetName(Sender)@"smites"@GetName(APawn)@"for"@amount@"damage!");<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Sender.ClientMessage("|P3"$msgTag$"Smited"@GetName(APawn)@"for"@amount@"damage!");<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>                        }<br>        } <br>&#9;&#9;&#9;<br>&#9;&#9;if(left(MutateString,14) ~= "RCON.smiteall ")<br>        {<br>&#9;&#9;&#9;amount = int(Left(Right(MutateString, Len(MutateString) - 14),InStr(MutateString," ")));<br>&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;if(Sender.bAdmin)<br>&#9;&#9;&#9;{&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;if(amount == 0 || amount >= SmiteDamageLimit)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;amount = Rand(smitedamagelimit);<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(bBroadcasts)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;BroadcastMessage("|P3"$msgTag$GetName(Sender)@"smites everyone for"@amount@"damage!");&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Sender.ClientMessage("|P3"$msgTag$"Smited everyone for"@amount@"damage!");<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',Pl)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;if(Pl != DeusExPlayer(Sender))<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;Pl.ReducedDamageType = '';<br>&#9;&#9;&#9;&#9;&#9;&#9;SpawnExplosion(Pl.Location);<br>&#9;&#9;&#9;&#9;&#9;&#9;Pl.setPhysics(PHYS_Falling);<br>&#9;&#9;&#9;&#9;&#9;&#9;Pl.Velocity = vect(0,0,512);<br>&#9;&#9;&#9;&#9;&#9;&#9;Pl.TakeDamage(amount,Sender,vect(0,0,0),vect(0,0,1),'Exploded');&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;else if(MutateString ~= "RCON.IRC")<br>        {<br>&#9;&#9;&#9;bFoundIRC=False;<br>&#9;&#9;&#9;if(Sender.Playerreplicationinfo.bAdmin)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'IRCLink',IRC)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(IRC != None)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;bFoundIRC=True;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;if(!bFoundIRC)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;BroadcastMessage("|P3"$msgTag$"IRC Uplink created.");<br>&#9;&#9;&#9;&#9;&#9;Log("Link created by RCON.Admin",'IRC');<br>&#9;&#9;&#9;&#9;&#9;spawn(class'IRCLink');<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;BroadcastMessage("|P3"$msgTag$"IRC Uplink closed.");<br>&#9;&#9;&#9;&#9;&#9;Log("Link closed by RCON.Admin",'IRC');<br>&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'IRCLink',IRC)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;if(IRC != None)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;IRC.DestroyLink();<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'Spec',SP)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;if(SP != None)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;SP.Destroy();<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;else if(Left(MutateString,4) ~= "IRC ")<br>        {<br>&#9;&#9;    RCONChat = Right(MutateString, Len(MutateString) - 4);<br>&#9;&#9;&#9;if(bAllowIRCCommand)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(RCONChat == "")<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;Sender.ClientMessage("Relay commands to the IRC. Commands vary, ask admins for command help.");<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;foreach AllActors(class'IRCLink',IRC)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(IRC != None)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;Sender.ClientMessage("Command "$RCONChat$" sent to "$IRC.Username$".");<br>&#9;&#9;&#9;&#9;&#9;&#9;Log("Command sent by "$Sender.PlayerReplicationInfo.PlayerName$": "$RCONChat,'IRC');<br>&#9;&#9;&#9;&#9;&#9;&#9;IRC.SendCommand(RCONChat);<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;else if(Left(MutateString,5) ~= "iMSG ")<br>        {<br>&#9;&#9;    RCONChat = Right(MutateString, Len(MutateString) - 5);<br>&#9;&#9;&#9;if(bAllowIRCCommand)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(RCONChat == "")<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;Sender.ClientMessage("Relay commands to the IRC. Commands vary, ask admins for command help.");<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;foreach AllActors(class'IRCLink',IRC)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(IRC != None)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;Sender.ClientMessage("Command "$RCONChat$" sent to "$IRC.Username$".");<br>&#9;&#9;&#9;&#9;&#9;&#9;Log("Command sent by "$Sender.PlayerReplicationInfo.PlayerName$": "$RCONChat,'IRC');<br>&#9;&#9;&#9;&#9;&#9;&#9;IRC.SendMessage(RCONChat);<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;else if(Left(MutateString,5) ~= "iTXT ")<br>        {<br>&#9;&#9;    RCONChat = Right(MutateString, Len(MutateString) - 5);<br>&#9;&#9;&#9;if(bAllowIRCCommand)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(RCONChat == "")<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;Sender.ClientMessage("Relay commands to the IRC. Commands vary, ask admins for command help.");<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;foreach AllActors(class'IRCLink',IRC)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(IRC != None)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;Sender.ClientMessage("Command "$RCONChat$" sent to "$IRC.Username$".");<br>&#9;&#9;&#9;&#9;&#9;&#9;Log("Text sent by "$Sender.PlayerReplicationInfo.PlayerName$": "$RCONChat,'IRC');<br>&#9;&#9;&#9;&#9;&#9;&#9;IRC.SendText(RCONChat);<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(left(MutateString,10) ~= "IRC.iMode ")<br>        {<br>&#9;&#9;&#9;amount = int(Left(Right(MutateString, Len(MutateString) - 10),InStr(MutateString," ")));<br>&#9;&#9;&#9;if(Sender.Playerreplicationinfo.bAdmin)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'IRCLink',IRC)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(IRC != None)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;IRC.iMode=0;<br>&#9;&#9;&#9;&#9;&#9;&#9;SaveConfig();<br>&#9;&#9;&#9;&#9;&#9;&#9;BroadcastMessage(Sender.Playerreplicationinfo.PlayerName$" changed iMode.");<br>&#9;&#9;&#9;&#9;&#9;&#9;if( amount == 1)<br>&#9;&#9;&#9;&#9;&#9;&#9;broadcastMessage("iMode (Default:"$amount$", Accept All)");<br>&#9;&#9;&#9;&#9;&#9;&#9;else if(amount == 2)<br>&#9;&#9;&#9;&#9;&#9;&#9;BroadcastMessage("iMode (Filtered:"$amount$",, Say Only)");<br>&#9;&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;&#9;BroadcastMessage("iMode "$amount$" Not configured, Acting as Default:1");<br>&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;irc.iMode = amount;<br>&#9;&#9;&#9;&#9;&#9;&#9;irc.SaveConfig();<br>&#9;&#9;&#9;&#9;&#9;&#9;Log(Sender.Playerreplicationinfo.PlayerName$" Setting new iMode : "$amount, 'IRC');<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;/*else if(left(MutateString,12) ~= "RCON.Remote ")<br>        {<br>            ID = int(Left(Right(MutateString, Len(MutateString) - 12),InStr(MutateString," ")));<br>            for(APawn = level.PawnList; APawn != none; APawn = APawn.nextPawn)<br>                if(APawn.bIsPlayer)<br>                    if(PlayerPawn(APawn) == none || NetConnection(PlayerPawn(APawn).Player) != none)<br>                        if(PlayerPawn(APawn).PlayerReplicationInfo.PlayerID == ID)<br>                        {<br>                           Part = Right(MutateString,Len(MutateString) - 12);<br>                           RCONTemp = Right(Part,Len(Part) - InStr(Part," ") - 1);<br>&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(Sender.bAdmin && bAllowRemote)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;bAllowCommand = AllowCommand(RCONTemp);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(!bAllowCommand || RCONTemp == "")<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Sender.ClientMessage("|P2"$msgTag$"Command invalid.");<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;RemoteCommand(APawn, RCONTemp);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Sender.ClientMessage("|P3"$msgTag$"Command "$RCONTemp$" sent to "$APawn.PlayerReplicationInfo.PlayerName);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;DeusExPlayer(APawn).ClientMessage("|P3"$msgTag$"Command "$RCONTemp$" executed on you by "$Sender.PlayerReplicationInfo.PlayerName);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Log("Remote Command: "$Sender.PlayerReplicationInfo.PlayerName$" sent "$RCONTemp$" to "$APawn.PlayerReplicationInfo.PlayerName,'RCON');&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}&#9;&#9;&#9;<br>                        }<br>        } */<br><br>&#9;&#9;else if(left(MutateString,12) ~= "RCON.Remote ")<br>        {<br>            ID = int(Left(Right(MutateString, Len(MutateString) - 12),InStr(MutateString," ")));<br>            for(APawn = level.PawnList; APawn != none; APawn = APawn.nextPawn)<br>                if(APawn.bIsPlayer)<br>                    if(PlayerPawn(APawn) == none || NetConnection(PlayerPawn(APawn).Player) != none)<br>                        if(PlayerPawn(APawn).PlayerReplicationInfo.PlayerID == ID)<br>                        {<br>                           Part = Right(MutateString,Len(MutateString) - 12);<br>                           RCONTemp = Right(Part,Len(Part) - InStr(Part," ") - 1);<br>&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(Sender.bAdmin && bAllowRemote)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;bAllowCommand = AllowCommand(RCONTemp);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(!bAllowCommand || RCONTemp == "")<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Sender.ClientMessage("|P2"$msgTag$"Command invalid.");<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(bDebugRep)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;RemoteCommand(PlayerPawn(APawn), RCONTemp);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;RemoteCommandX(PlayerPawn(APawn), RCONTemp);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Sender.ClientMessage("|P3"$msgTag$"Command "$RCONTemp$" sent to "$APawn.PlayerReplicationInfo.PlayerName);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;DeusExPlayer(APawn).ClientMessage("|P3"$msgTag$"Command "$RCONTemp$" executed on you by "$Sender.PlayerReplicationInfo.PlayerName);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Log("Remote Command: "$Sender.PlayerReplicationInfo.PlayerName$" sent "$RCONTemp$" to "$APawn.PlayerReplicationInfo.PlayerName,'RCON');&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}&#9;&#9;&#9;<br>                        }<br>        }<br>        <br>&#9;&#9;else if(left(MutateString,10) ~= "RCON.Tell ")<br>        {<br>&#9;&#9;&#9;if(!bDisablePM)<br>&#9;&#9;&#9;{<br>            ID = int(Left(Right(MutateString, Len(MutateString) - 10),InStr(MutateString," ")));<br>            for(APawn = level.PawnList; APawn != none; APawn = APawn.nextPawn)<br>                if(APawn.bIsPlayer)<br>                    if(PlayerPawn(APawn) == none || NetConnection(PlayerPawn(APawn).Player) != none)<br>                        if(PlayerPawn(APawn).PlayerReplicationInfo.PlayerID == ID)<br>                        {<br>                            Part = Right(MutateString,Len(MutateString) - 10);<br>                            RCONTemp = Right(Part,Len(Part) - InStr(Part," ") - 1);<br><br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Sender.ClientMessage("|P7[@"$GetName(APawn)$"] |P4"$RCONTemp,'TeamSay');<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;DeusExPlayer(APawn).ClientMessage("|P7[TELL: "$GetName(Sender)$"] |P4"$RCONTemp,'TeamSay');&#9;<br>                        }&#9;&#9;&#9;<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;Sender.ClientMessage("This function has been disabled.");<br>&#9;&#9;&#9;}<br>        }<br>&#9;&#9;<br>&#9;&#9;else if(left(MutateString,10) ~= "RCON.Warn ")<br>        {<br>            ID = int(Left(Right(MutateString, Len(MutateString) - 10),InStr(MutateString," ")));<br>            for(APawn = level.PawnList; APawn != none; APawn = APawn.nextPawn)<br>                if(APawn.bIsPlayer)<br>                    if(PlayerPawn(APawn) == none || NetConnection(PlayerPawn(APawn).Player) != none)<br>                        if(PlayerPawn(APawn).PlayerReplicationInfo.PlayerID == ID)<br>                        {<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(Sender.bAdmin)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Part = Right(MutateString,Len(MutateString) - 10);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;RCONTemp = Right(Part,Len(Part) - InStr(Part," ") - 1);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;WarnPlayer(APawn, Sender, RCONTemp);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br><br>                        }<br>        } <br>&#9;&#9;<br>&#9;&#9;else if(left(MutateString,12) ~= "RCON.UnWarn ")<br>        {<br>            ID = int(Left(Right(MutateString, Len(MutateString) - 12),InStr(MutateString," ")));<br>            for(APawn = level.PawnList; APawn != none; APawn = APawn.nextPawn)<br>                if(APawn.bIsPlayer)<br>                    if(PlayerPawn(APawn) == none || NetConnection(PlayerPawn(APawn).Player) != none)<br>                        if(PlayerPawn(APawn).PlayerReplicationInfo.PlayerID == ID)<br>                        {<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(Sender.bAdmin)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;Part = Right(MutateString,Len(MutateString) - 12);<br>                            RCONTemp = Right(Part,Len(Part) - InStr(Part," ") - 1);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;UnWarnPlayer(APawn, Sender, RCONTemp);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br><br>                        }<br>        } <br>&#9;&#9;<br>&#9;&#9;if(MutateString ~= "RCON.ClearWarnings" && Sender.bAdmin)<br>&#9;&#9;{<br>&#9;&#9;ClearWarns();<br>&#9;&#9;BroadcastMessage("|P3"$msgTag$"Warnings have been cleared.");<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;else if(left(MutateString,12) ~= "RCON.Disarm ")<br>        {<br>&#9;&#9;&#9;ID = int(Left(Right(MutateString, Len(MutateString) - 12),InStr(MutateString," ")));<br>&#9;&#9;&#9;if(ID == -1)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(Sender.bAdmin)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;RCONLog(GetName(Sender)@"disarmed everyone!");<br>&#9;&#9;&#9;&#9;&#9;BroadcastMessage("|P3"$msgTag$GetName(Sender)@"disarmed everyone!");<br>&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPLayer',Pl)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;if(PL != DeusExPlayer(Sender))<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;Disarm(Pl);<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br><br>            for(APawn = level.PawnList; APawn != none; APawn = APawn.nextPawn)<br>                if(APawn.bIsPlayer)<br>                    if(PlayerPawn(APawn) == none || NetConnection(PlayerPawn(APawn).Player) != none)<br>                        if(PlayerPawn(APawn).PlayerReplicationInfo.PlayerID == ID)<br>                        {<br>                            Part = Right(MutateString,Len(MutateString) - 12);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(Sender.bAdmin)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;Disarm(DeusExPlayer(APawn));<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;RCONLog(GetName(Sender)@"disarmed "@GetName(APawn));&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(bBroadcasts)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;BroadcastMessage("|P3"$msgTag$GetName(Sender)@"disarmed"@GetName(APawn));<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Sender.ClientMessage("|P3"$msgTag$"Disarmed"@GetName(APawn));<br>                            <br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>        } <br><br>&#9;&#9;else if(left(MutateString,12) ~= "RCON.ignite ")<br>        {<br>&#9;&#9;&#9;ID = int(Left(Right(MutateString, Len(MutateString) - 12),InStr(MutateString," ")));<br>&#9;&#9;&#9;if(ID == -1)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(Sender.bAdmin)<br>&#9;&#9;&#9;&#9;{&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;RCONLog(GetName(Sender)@"ignited everyone.");<br>&#9;&#9;&#9;&#9;&#9;BroadcastMessage("|P3"$msgTag$GetName(Sender)@"ignited everyone!");<br><br>&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPLayer',Pl)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(PL != DeusExPlayer(Sender))<br>&#9;&#9;&#9;&#9;&#9;&#9;Pl.CatchFire(sender);<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br><br>            for(APawn = level.PawnList; APawn != none; APawn = APawn.nextPawn)<br>                if(APawn.bIsPlayer)<br>                    if(PlayerPawn(APawn) == none || NetConnection(PlayerPawn(APawn).Player) != none)<br>                        if(PlayerPawn(APawn).PlayerReplicationInfo.PlayerID == ID)<br>                        {<br>                            Part = Right(MutateString,Len(MutateString) - 12);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(Sender.bAdmin)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;DeusExPlayer(APawn).CatchFire(sender);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;RCONLog(GetName(Sender)@"ignited "@GetName(APawn));<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(bBroadcasts)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;BroadcastMessage("|P3"$msgTag$GetName(Sender)@"ignited"@GetName(APawn));<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;else<br>                            Sender.ClientMessage("|P3"$msgTag$"Ignited"@GetName(APawn));<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>        } <br><br>&#9;&#9;else if(left(MutateString,11) ~= "RCON.Blind ")<br>        {<br>&#9;&#9;&#9;ID = int(Left(Right(MutateString, Len(MutateString) - 11),InStr(MutateString," ")));<br>&#9;&#9;&#9;if(ID == -1)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(Sender.bAdmin)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;BroadcastMessage("|P3"$msgTag$GetName(Sender)@"blinded everyone!");<br>&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPLayer',Pl)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(PL != DeusExPlayer(Sender))<br>&#9;&#9;&#9;&#9;&#9;&#9;Blind(Pl);<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br><br>            for(APawn = level.PawnList; APawn != none; APawn = APawn.nextPawn)<br>                if(APawn.bIsPlayer)<br>                    if(PlayerPawn(APawn) == none || NetConnection(PlayerPawn(APawn).Player) != none)<br>                        if(PlayerPawn(APawn).PlayerReplicationInfo.PlayerID == ID)<br>                        {<br>                            Part = Right(MutateString,Len(MutateString) - 11);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(Sender.bAdmin)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;Blind(DeusExPlayer(APawn));<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;RCONLog(GetName(Sender)@"blinded"@GetName(APawn));<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(bBroadcasts)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;BroadcastMessage("|P3"$msgTag$GetName(Sender)@"blinded"@GetName(APawn));<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;else<br>                            Sender.ClientMessage("|P3"$msgTag$"blinded"@GetName(APawn));<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>        } <br>&#9;&#9;<br>&#9;&#9;else if(left(MutateString,11) ~= "RCON.Swarm ")<br>        {<br>            ID = int(Left(Right(MutateString, Len(MutateString) - 11),InStr(MutateString," ")));<br>            for(APawn = level.PawnList; APawn != none; APawn = APawn.nextPawn)<br>                if(APawn.bIsPlayer)<br>                    if(PlayerPawn(APawn) == none || NetConnection(PlayerPawn(APawn).Player) != none)<br>                        if(PlayerPawn(APawn).PlayerReplicationInfo.PlayerID == ID)<br>                        {<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(Sender.bAdmin)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Part = Right(MutateString,Len(MutateString) - 11);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;RCONTemp = Right(Part,Len(Part) - InStr(Part," ") - 1);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;RCONClass = class<actor>( DynamicLoadObject( rcontemp, class'Class' ) );<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if ( InStr(RCONTemp,".") == -1 )<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;RCONTemp="DeusEx." $ RCONTemp;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(RCONClass == None)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Sender.ClientMessage("|P2"$msgTag$RCONClass$" could not be found... Check spelling or make sure the actor name is correct.", 'TeamSay');<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Sender.ClientMessage("|P2"$msgTag$RCONClass$" swarmed around "$DeusExPlayer(Apawn).PlayerReplicationInfo.PlayerName, 'TeamSay');<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Swarm(DeusExPlayer(APawn), RCONTemp);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;RCONLog(GetName(Sender)@"swarmed"@GetName(APawn));<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;SwarmPass=6;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br><br>                        }<br>        } <br><br>&#9;&#9;else if(left(MutateString,11) ~= "RCON.crush ")<br>        {<br>            ID = int(Left(Right(MutateString, Len(MutateString) - 11),InStr(MutateString," ")));<br>            for(APawn = level.PawnList; APawn != none; APawn = APawn.nextPawn)<br>                if(APawn.bIsPlayer)<br>                    if(PlayerPawn(APawn) == none || NetConnection(PlayerPawn(APawn).Player) != none)<br>                        if(PlayerPawn(APawn).PlayerReplicationInfo.PlayerID == ID)<br>                        {<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(Sender.bAdmin)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br><br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Part = Right(MutateString,Len(MutateString) - 11);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;RCONTemp = Right(Part,Len(Part) - InStr(Part," ") - 1);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if ( InStr(RCONTemp,".") == -1 )<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;RCONTemp="DeusEx." $ RCONTemp;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;RCONClass = class<actor>( DynamicLoadObject( rcontemp, class'Class' ) );<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(RCONClass == None)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Sender.ClientMessage("|P2"$msgTag$RCONClass$" could not be found... Check spelling or make sure the actor name is correct.", 'TeamSay');<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(bBroadcasts)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;BroadcastMessage("|P3"$msgTag$GetName(Sender)@"crushed"@GetName(APawn)@"with a"@RCONClass);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Sender.ClientMessage("|P3"$msgTag$"Crushed"@GetName(APawn)@"with a"@RCONClass);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Crush(Sender, DeusExPlayer(APawn), RCONTemp);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;RCONLog(GetName(Sender)@"crushed"@GetName(APawn));<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br><br>                        }<br>        } <br>&#9;&#9;<br>&#9;&#9;if(MutateString ~= "RCON.KillBlind" && Sender.bAdmin)<br>&#9;&#9;{<br>&#9;&#9;&#9;foreach AllActors(class'Blinder', BL)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;Bl.Destroy();<br>&#9;&#9;&#9;Blc++;<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;Sender.ClientMessage(Blc$" RCON.Blinder(s) destroyed.");<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(MutateString ~= "RCON.VotingOn" && Sender.bAdmin)<br>&#9;&#9;{<br>&#9;&#9;bVotingEnabled=True;<br>&#9;&#9;SaveConfig();<br>&#9;&#9;BroadcastMessage("|P3"$msgTag$"|P4Server Voting has been enabled.");<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(MutateString ~= "RCON.VotingOff" && Sender.bAdmin)<br>&#9;&#9;{<br>&#9;&#9;bVotingEnabled=False;<br>&#9;&#9;SaveConfig();<br>&#9;&#9;BroadcastMessage("|P3"$msgTag$"|P4Server Voting has been disabled for all players.");<br>&#9;&#9;}<br>&#9;&#9;&#9;&#9;<br>        if(left(MutateString,10) ~= "RCON.Heal ")<br>        {<br>            ID = int(Left(Right(MutateString, Len(MutateString) - 10),InStr(MutateString," ")));<br>&#9;&#9;&#9;if(ID == -1)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(Sender.bAdmin || IsWhitelisted(Sender))<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;BroadcastMessage("|P3"$msgTag$GetName(Sender)@"healed everyone!");<br>&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPLayer',Pl)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;Pl.RestoreAllHealth();<br>&#9;&#9;&#9;&#9;&#9;&#9;Pl.StopPoison();<br>&#9;&#9;&#9;&#9;&#9;&#9;Pl.ExtinguishFire();<br>&#9;&#9;&#9;&#9;&#9;&#9;Pl.drugEffectTimer = 0;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br><br>            for(APawn = level.PawnList; APawn != none; APawn = APawn.nextPawn)<br>                if(APawn.bIsPlayer)<br>                    if(PlayerPawn(APawn) == none || NetConnection(PlayerPawn(APawn).Player) != none)<br>                        if(PlayerPawn(APawn).PlayerReplicationInfo.PlayerID == ID)<br>                        {<br>                            Part = Right(MutateString,Len(MutateString) - 10);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(Sender.bAdmin)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;DeusExPlayer(APawn).RestoreAllHealth();<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;DeusExPlayer(APawn).StopPoison();<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;DeusExPlayer(APawn).ExtinguishFire();<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;DeusExPlayer(APawn).drugEffectTimer = 0;<br><br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(bBroadcasts)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;BroadcastMessage("|P3"$msgTag$GetName(Sender)@"healed"@GetName(APawn));<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;else<br>                            Sender.ClientMessage("|P3"$msgTag$"Healed"@GetName(APawn));<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;if(MutateString ~= "RCON.Unbork")<br>&#9;&#9;{<br>&#9;&#9;Sender.ClientMessage("One does not simply unbork Deus Ex.");<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(left(MutateString,14) ~= "RCON.VoteKick ")<br>        {<br>            ID = int(Left(Right(MutateString, Len(MutateString) - 14),InStr(MutateString," ")));<br>            for(APawn = level.PawnList; APawn != none; APawn = APawn.nextPawn)<br>                if(APawn.bIsPlayer)<br>                    if(PlayerPawn(APawn) == none || NetConnection(PlayerPawn(APawn).Player) != none)<br>                        if(PlayerPawn(APawn).PlayerReplicationInfo.PlayerID == ID)<br>                        {<br>                            Part = Right(MutateString,Len(MutateString) - 14);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(!bVoteInProgress && bVotingEnabled)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;EVM = VM_Kick;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;PlayerToVoteKick = DeusExPlayer(APawn).PlayerReplicationInfo.PlayerID;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;BroadcastMessage("|P3"$msgTag$GetName(Sender)$"("$GetID(Sender)$") started a Votekick against "$APawn.PlayerReplicationInfo.PlayerName);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;BroadcastMessage("|P7"$msgTag$"Commands: |P2Mutate Yes|P7 or |P2Mutate No |P7to vote");<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;Sender.ConsoleCommand("Mutate Yes2");<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;SetTimer(float(VoteLength), false);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;bVoteInProgress=True;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;Sender.ClientMessage("|P2"$msgTag$"Can't start vote.");<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;SystemWarnPlayer(Sender, "Not allowed to vote.");<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br><br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;else if(Left(MutateString,13) ~= "RCON.VoteMap ")<br>        {<br>&#9;&#9;    RCONChat = Right(MutateString, Len(MutateString) - 13);<br>&#9;&#9;&#9;&#9;if( inStr(RCONChat, "?") != -1)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;Sender.ClientMessage("|P2"$msgTag$"Illegal Character String in voting. Command Line extensions are not allowed.");<br>&#9;&#9;&#9;&#9;&#9;SystemWarnPlayer(Sender, "Illegal Command Line attempt, possible cheat.");<br>&#9;&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(!bVoteInProgress && bVotingEnabled)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;EVM = VM_Map;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;MapToVoteTravel = RCONChat;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;BroadcastMessage("|P3"$msgTag$GetName(Sender)$"("$GetID(Sender)$") started VoteTravel map change to "$MapToVoteTravel);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;BroadcastMessage("|P7"$msgTag$"Commands: |P2Mutate Yes|P7 or |P2Mutate No |P7to vote");<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;Sender.ConsoleCommand("Mutate Yes2");<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;SetTimer(float(VoteLength), false);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;bVoteInProgress=True;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;Sender.ClientMessage("|P2"$msgTag$"Vote already in progress.");<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;SystemWarnPlayer(Sender, "Not allowed to vote.");<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;&#9;else if(MutateString ~= "Yes2")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(EVM == VM_Kick || EVM == VM_Map)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;for(j=0;j<3;j++)<br>&#9;&#9;&#9;&#9;&#9;&#9;if(VoteYes[j] == Sender.PlayerReplicationInfo.PlayerName)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;Sender.ClientMessage("You have already voted or are using the incorrect command.");<br>&#9;&#9;&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;for(j=0;j<3;j++)<br>&#9;&#9;&#9;&#9;&#9;&#9;if(VoteYes[j] == "")<br>&#9;&#9;&#9;&#9;&#9;&#9;break;<br>&#9;&#9;&#9;&#9;&#9;&#9;if(j < 3)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;VoteYes[j] = Sender.PlayerReplicationInfo.PlayerName;<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br><br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else if(MutateString ~= "Yes")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(EVM == VM_Kick || EVM == VM_Map)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;for(j=0;j<3;j++)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(VoteYes[j] == Sender.PlayerReplicationInfo.PlayerName)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Sender.ClientMessage("You have already voted!");<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;for(j=0;j<3;j++)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(VoteYes[j] == "")<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;break;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(j < 3)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;VoteYes[j] = Sender.PlayerReplicationInfo.PlayerName;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;BroadcastMessage("|P2"$msgTag$GetName(Sender)$"("$GetID(Sender)$") voted yes. [Total: "$j$"]");<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else if(MutateString ~= "RCON.VoteStop")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(Sender.bAdmin)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;for(j=0;j<8;j++)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;VoteYes[j] = "";<br>&#9;&#9;&#9;&#9;&#9;&#9;VoteNo[j] = "";<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;BroadcastMessage("|P2"$msgTag$GetName(Sender)$"("$GetID(Sender)$") An admin has stopped the vote...");<br>&#9;&#9;&#9;&#9;&#9;EVM = VM_Off;<br>&#9;&#9;&#9;&#9;&#9;bVoteInProgress=False;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else if(MutateString ~= "No")<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(EVM == VM_Kick || EVM == VM_Map)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;for(j=0;j<3;j++)<br>&#9;&#9;&#9;&#9;&#9;&#9;if(VoteNo[j] == Sender.PlayerReplicationInfo.PlayerName)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;Sender.ClientMessage("You have already voted!");<br>&#9;&#9;&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;for(j=0;j<3;j++)&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;if(VoteNo[j] == "")<br>&#9;&#9;&#9;&#9;&#9;&#9;break;<br>&#9;&#9;&#9;&#9;&#9;&#9;if(j < 3)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;VoteNo[j] = Sender.PlayerReplicationInfo.PlayerName;<br>&#9;&#9;&#9;&#9;&#9;&#9;BroadcastMessage("|P2"$msgTag$GetName(Sender)$"("$GetID(Sender)$") voted no. [Total: "$j$"]");<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}&#9;&#9;<br><br>&#9;&#9;if(left(MutateString,16) ~= "RCON.GoToPlayer ")<br>        {<br>            ID = int(Left(Right(MutateString, Len(MutateString) - 16),InStr(MutateString," ")));<br>            for(APawn = level.PawnList; APawn != none; APawn = APawn.nextPawn)<br>                if(APawn.bIsPlayer)<br>                    if(PlayerPawn(APawn) == none || NetConnection(PlayerPawn(APawn).Player) != none)<br>                        if(PlayerPawn(APawn).PlayerReplicationInfo.PlayerID == ID)<br>                        {<br>                            Part = Right(MutateString,Len(MutateString) - 16);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(Sender.bAdmin || IsWhitelisted(Sender))<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(DeusExPlayer(APawn).isinState('Spectating'))<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;DeusExPlayer(Sender).ClientMessage("|P3"$msgTag$"Could not locate "$GetName(APawn)$" due to Spectating state!", 'Teamsay');<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;APawn.PlaySound(sound'PickupActivate', SLOT_None,,, 256);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;DeusExPlayer(Sender).ClientMessage("|P3"$msgTag$"Warping to "$GetName(APawn)$"!", 'Teamsay');<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;DeusExPlayer(APawn).ClientMessage("|P3"$msgTag$GetName(Sender)$" has warped to your location.", 'Teamsay');<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;Sender.SetCollision(false, false, false);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;Sender.bCollideWorld = true;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;Sender.GotoState('PlayerWalking');<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;Sender.SetLocation(APawn.location);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;Sender.SetCollision(true, true , true);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;Sender.SetPhysics(PHYS_Walking);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;Sender.bCollideWorld = true;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;Sender.GotoState('PlayerWalking');<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;Sender.ClientReStart();&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;Sender.PlaySound(sound'PickupActivate', SLOT_None,,, 256);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(left(MutateString,12) ~= "RCON.Freeze ")<br>        {<br>            ID = int(Left(Right(MutateString, Len(MutateString) - 12),InStr(MutateString," ")));<br>            for(APawn = level.PawnList; APawn != none; APawn = APawn.nextPawn)<br>                if(APawn.bIsPlayer)<br>                    if(PlayerPawn(APawn) == none || NetConnection(PlayerPawn(APawn).Player) != none)<br>                        if(PlayerPawn(APawn).PlayerReplicationInfo.PlayerID == ID)<br>                        {<br>                            Part = Right(MutateString,Len(MutateString) - 12);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(Sender.bAdmin)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(DeusExPlayer(APawn).bMovable)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;APawn.bMovable=False;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;DeusExPlayer(APawn).InHand=None;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(bBroadcasts)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;BroadcastMessage("|P3"$msgTag$GetName(Sender)@"froze"@GetName(APawn));<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Sender.ClientMessage("|P3"$msgTag$"Froze"@GetName(APawn));<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;APawn.bMovable=True;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(bBroadcasts)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;BroadcastMessage("|P3"$msgTag$GetName(Sender)@"un-froze"@GetName(APawn));<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Sender.ClientMessage("|P3"$msgTag$"Un-froze"@GetName(APawn));<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(left(MutateString,14) ~= "RCON.Gametype ")<br>        {<br>            i = int(Left(Right(MutateString, Len(MutateString) - 14),InStr(MutateString," ")));<br>                            //Part = Right(MutateString,Len(MutateString) - 14);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(Sender.bAdmin)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(RGameTypes[i]=="")<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Sender.ClientMessage("|P2"$msgTag$"RGAMETYPE["$i$"] is empty. Please check another slot.");<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;MapString = GetURLMap();<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;BroadcastMessage("|P4"$msgTag$"An admin is switching gametype to "$RGameTypes[i]);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;ConsoleCommand("servertravel "$MapString$"?Game="$RGameTypes[i]);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br><br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(left(MutateString,19) ~= "RCON.GametypeCheck ")<br>        {<br>            i = int(Left(Right(MutateString, Len(MutateString) - 19),InStr(MutateString," ")));<br>                            //Part = Right(MutateString,Len(MutateString) - 14);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(Sender.bAdmin)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(RGameTypes[i]=="")<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Sender.ClientMessage("|P2"$msgTag$"Array ["$i$"] is empty. ");<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Sender.ClientMessage("|P4"$msgTag$" ["$i$"] "$RGameTypes[i]);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br><br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;}<br><br>&#9;&#9;if(left(MutateString,14) ~= "RCON.Assemble ")<br>        {<br>            ID = int(Left(Right(MutateString, Len(MutateString) - 14),InStr(MutateString," ")));<br>            for(APawn = level.PawnList; APawn != none; APawn = APawn.nextPawn)<br>                if(APawn.bIsPlayer)<br>                    if(PlayerPawn(APawn) == none || NetConnection(PlayerPawn(APawn).Player) != none)<br>                        if(PlayerPawn(APawn).PlayerReplicationInfo.PlayerID == ID)<br>                        {<br>                            Part = Right(MutateString,Len(MutateString) - 14);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(Sender.bAdmin)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;BroadcastMessage("|P3"$msgTag$"Everyone has been assembled at "$GetName(APawn)$"'s location.");&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;APawn.SetCollision(false, false, false);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;APawn.bCollideWorld = true;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;APawn.GotoState('PlayerWalking');<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(DXP != APawn && !DXP.isinState('Spectating') && DXP.Health >= 1)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;DXP.SetCollision(false, false, false);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;DXP.bCollideWorld = true;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;DXP.GotoState('PlayerWalking');<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;DXP.SetLocation(APawn.location);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;DXP.SetCollision(true, true , true);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;DXP.SetPhysics(PHYS_Walking);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;DXP.bCollideWorld = true;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;DXP.GotoState('PlayerWalking');<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;DXP.ClientReStart();&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Sender.PlaySound(sound'PickupActivate', SLOT_None,,, 256);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;APawn.SetCollision(true, true , true);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;APawn.SetPhysics(PHYS_Walking);&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;APawn.bCollideWorld = true;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;APawn.GotoState('PlayerWalking');<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;APawn.ClientReStart();<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;APawn.PlaySound(sound'PickupActivate', SLOT_None,,, 256);&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;<br>&#9;&#9;if(left(MutateString,17) ~= "RCON.BringPlayer ")<br>        {<br>            ID = int(Left(Right(MutateString, Len(MutateString) - 17),InStr(MutateString," ")));<br>            for(APawn = level.PawnList; APawn != none; APawn = APawn.nextPawn)<br>                if(APawn.bIsPlayer)<br>                    if(PlayerPawn(APawn) == none || NetConnection(PlayerPawn(APawn).Player) != none)<br>                        if(PlayerPawn(APawn).PlayerReplicationInfo.PlayerID == ID)<br>                        {<br>                            Part = Right(MutateString,Len(MutateString) - 17);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(Sender.bAdmin)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(DeusExPlayer(APawn).isinState('Spectating'))<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;DeusExPlayer(Sender).ClientMessage("|P3"$msgTag$"Could not locate "$GetName(APawn)$" due to Spectating state!", 'Teamsay');<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(APawn.Health <= 0)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;DeusExPlayer(Sender).ClientMessage("|P3"$msgTag$"Could not locate "$GetName(APawn)$" due to death!", 'Teamsay');<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;return;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;DeusExPlayer(Sender).ClientMessage("|P3"$msgTag$GetName(APawn)$" has been summoned to your location.", 'Teamsay');<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;DeusExPlayer(APawn).ClientMessage("|P3"$msgTag$GetName(Sender)$" has taken you to their location.", 'Teamsay');<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;APawn.SetCollision(false, false, false);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;APawn.bCollideWorld = true;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;APawn.GotoState('PlayerWalking');<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;APawn.SetLocation(sender.location);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;APawn.SetCollision(true, true , true);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;APawn.SetPhysics(PHYS_Walking);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;APawn.bCollideWorld = true;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;APawn.GotoState('PlayerWalking');<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;APawn.ClientReStart();&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;Sender.PlaySound(sound'PickupActivate', SLOT_None,,, 256);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;APawn.PlaySound(sound'PickupActivate', SLOT_None,,, 256);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;else if(left(MutateString,11) ~= "RCON.Admin ")<br>        {<br>            ID = int(Left(Right(MutateString, Len(MutateString) - 11),InStr(MutateString," ")));<br>            for(APawn = level.PawnList; APawn != none; APawn = APawn.nextPawn)<br>                if(APawn.bIsPlayer)<br>                    if(PlayerPawn(APawn) == none || NetConnection(PlayerPawn(APawn).Player) != none)<br>                        if(PlayerPawn(APawn).PlayerReplicationInfo.PlayerID == ID)<br>                        {<br>                            Part = Right(MutateString,Len(MutateString) - 11);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(Sender.bAdmin)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;MakeAdmin(APawn);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;else if(left(MutateString,12) ~= "RCON.Rocket ")<br>        {<br>            ID = int(Left(Right(MutateString, Len(MutateString) - 12),InStr(MutateString," ")));<br>            for(APawn = level.PawnList; APawn != none; APawn = APawn.nextPawn)<br>                if(APawn.bIsPlayer)<br>                    if(PlayerPawn(APawn) == none || NetConnection(PlayerPawn(APawn).Player) != none)<br>                        if(PlayerPawn(APawn).PlayerReplicationInfo.PlayerID == ID)<br>                        {<br>                            Part = Right(MutateString,Len(MutateString) - 12);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(Sender.bAdmin)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;//&#9;PlayerPawn(APawn).ReducedDamageType = '';<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;APawn.setPhysics(PHYS_Falling);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;APawn.Velocity = vect(0,0,5000);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;BroadcastMessage("|P7"$msgTag$GetName(APawn)$" has been LAAAAAAUNCHED in to the air by "$GetName(Sender)$"!!!!");<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>        else if(left(MutateString,12) ~= "RCON.ShowIP ")<br>        {<br>            ID = int(Right(MutateString,Len(MutateString) - 12));<br>&#9;&#9;&#9;if(Sender.bAdmin)<br>&#9;&#9;&#9;{<br>            for(APawn = level.pawnlist; APawn != none; APawn = APawn.nextPawn)<br>                if(APawn.bIsPlayer)<br>                    if(GetID(APawn) == ID)<br>                        if(PlayerPawn(aPawn) == none || NetConnection(PlayerPawn(aPawn).Player) != None)<br>                            ListPlayer(APawn,Sender);<br>&#9;&#9;&#9;}<br>        }<br>      <br>&#9;&#9;else if(Left(MutateString,4) ~= "Help")<br>        {<br>            RCONTemp = Right(MutateString, Len(MutateString) - 4);<br>&#9;&#9;&#9;&#9;if(RCONTemp ~= "Admin")<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;Sender.ClientMessage("|P2Admin Only : Smite, Heal, Give, GiveTo, GiveAll, Admin, Switch, Rename, Ghost, Walk, VoteStop, Remote, Freeze, Gametype, GametypeCheck, TPMode, TPBio");<br>&#9;&#9;&#9;&#9;&#9;Sender.ClientMessage("|P2ShowIP, Velocity, BanIP, Warn, UnWarn, Create, Create2, Login, Logout, DXMP, Setting, Say, Con, Vict, Rocket, Echo, GoToPlayer, BringPlayer, Pass, Set, Get, SelfSetRep, SelfSet");<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;else if(RCONTemp ~= "Player")<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;Sender.ClientMessage("|P3All players: RCON.* Ping, Tell, NameColour, VoteMap, VoteKick, TP");<br>&#9;&#9;&#9;&#9;&#9;Sender.ClientMessage("|P3Register system: Mutate Register to protect your name. Admin functions: Register.Admin, Register.Delete, Register.Check");<br>&#9;&#9;&#9;&#9;&#9;Sender.ClientMessage("|P3RCON.Chat : Sends a message to all logged in admins.");<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;else if(RCONTemp == "")<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;Sender.ClientMessage("|P3RCON Mutator, by Kai 'TheClown'. Version 9.x");<br>&#9;&#9;&#9;&#9;Sender.ClientMessage("|P3Enter Mutate HelpAdmin or HelpPlayer for command list.");<br>&#9;&#9;&#9;&#9;}<br>        }<br>&#9;&#9;<br>&#9;&#9;else if(Left(MutateString,14) ~= "RCON.Velocity ")<br>        {<br>&#9;&#9;&#9;if(Sender.bAdmin)<br>&#9;&#9;&#9;{<br>            RCONTemp = Right(MutateString, Len(MutateString) - 14);<br>&#9;&#9;&#9;&#9;if(RCONTemp ~= "Glide")<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;Sender.DoJump();<br>&#9;&#9;&#9;&#9;&#9;Sender.SetPhysics(PHYS_Flying);<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;else if(RCONTemp ~= "Fall")<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;Sender.DoJump();<br>&#9;&#9;&#9;&#9;Sender.SetPhysics(PHYS_Falling);<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;else if(RCONTemp ~= "Up")<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;Sender.Velocity = vect(0,0,512);<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;else if(RCONTemp ~= "Down")<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;Sender.Velocity = vect(0,0,-512);<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;Sender.ClientMessage("|P2"$msgTag$"Valid inputs are: Glide, Fall, Up, Down");<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>        else if(Left(MutateString,9) ~= "RCON.sta ")<br>        {<br>            ip = Right(MutateString, Len(MutateString) - 9);<br>            sender.clientmessage(ip);<br>            RCONTemp = class'StaticExt'.static.repl(ip, "a", "b");<br>            sender.clientmessage(RCONTemp);<br>            RCONTemp = class'StaticExt'.static.repl(ip, "A", "b");<br>            sender.clientmessage(RCONTemp);<br>        }<br>        <br>        else if(Left(MutateString,11) ~= "RCON.BanIP ")<br>        {<br>&#9;&#9;&#9;if(Sender.bAdmin)<br>&#9;&#9;&#9;{<br>            IP = Right(MutateString, Len(MutateString) - 11);<br>            for(APawn = Level.PawnList; APawn != none; APawn = APawn.NextPawn)<br>                if(APawn.bIsPlayer)<br>                    if(Left(GetIP(APawn),Len(IP)) ~= IP)<br>                        if(PlayerPawn(aPawn) == none || NetConnection(PlayerPawn(aPawn).Player) != None)<br>                            for(i=0;i<50;i++)<br>                                if(Level.Game.IPPolicies[i] == "")<br>                                {<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Log("~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~", 'RCON');<br>                                    log("~banning IP address "$IP$"~", 'RCON');<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Log("~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~", 'RCON');<br>                                    Level.Game.IPPolicies[i] = "DENY,"$IP;<br>                                    Level.Game.SaveConfig();<br>                                    APawn.Destroy();<br>                                    break;<br>                                }<br>&#9;&#9;&#9;}<br>        }<br>&#9;&#9;<br>&#9;&#9;if(left(MutateString,15) ~= "RCON.BanDelete ")<br>        {<br>            ID = int(Left(Right(MutateString, Len(MutateString) - 15),InStr(MutateString," ")));<br>&#9;&#9;&#9;&#9;if(Sender.bAdmin)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(Level.Game.IPPolicies[ID] != "")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;PrintAdmin("Ban entry removed "$ID$" ("$Level.Game.IPPolicies[ID]$")");<br>&#9;&#9;&#9;&#9;&#9;Level.Game.IPPolicies[ID] = "";<br>&#9;&#9;&#9;&#9;&#9;Level.Game.SaveConfig();<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;Sender.Clientmessage("Ban entry is empty.");<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;if(left(MutateString,14) ~= "RCON.BanCheck ")<br>        {<br>            ID = int(Left(Right(MutateString, Len(MutateString) - 14),InStr(MutateString," ")));<br>&#9;&#9;&#9;&#9;if(Sender.bAdmin)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(Level.Game.IPPolicies[ID] != "")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;PrintAdmin("IPPolicies "$ID$" ("$Level.Game.IPPolicies[ID]$")");<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;Sender.Clientmessage("Ban entry is empty.");<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;else if(Left(MutateString,11) ~= "RCON.Login ")<br>        {<br>&#9;&#9;&#9;if(!Sender.bAdmin)<br>&#9;&#9;&#9;{<br>            RCONTemp = Right(MutateString, Len(MutateString) - 11);<br><br>&#9;&#9;&#9;&#9;if(RCONTemp == RCONPassword)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;PrintAdmin("A player has logged in using RCON. ["$GetName(Sender)$"]");<br>&#9;&#9;&#9;&#9;Sender.PlayerReplicationInfo.bAdmin = True;<br>&#9;&#9;&#9;&#9;Sender.bAdmin = True;<br>&#9;&#9;&#9;&#9;Sender.bCheatsEnabled = True;<br>&#9;&#9;&#9;&#9;Sender.ClientMessage("|P3Client login accepted. Administrator access active.", 'TeamSay');<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;Sender.ClientMessage("|P2Client login denied (Incorrect password)", 'TeamSay');<br>&#9;&#9;&#9;&#9;SystemWarnPlayer(Sender, "incorrect password");<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>        }<br>&#9;&#9;<br>&#9;&#9;else if(Left(MutateString,10) ~= "RCON.DXMP ")<br>        {<br>&#9;&#9;&#9;if(Sender.bAdmin)<br>&#9;&#9;&#9;{<br>            RCONTemp = Right(MutateString, Len(MutateString) - 10);<br>&#9;&#9;&#9;ConsoleCommand("Set DeusExMPGame "$RCONTemp);<br>&#9;&#9;&#9;BroadcastMessage("|P3"$msgTag$"A game property was changed: "$RCONTemp);<br>&#9;&#9;&#9;}<br>        }<br>&#9;&#9;<br>&#9;&#9;else if(Left(MutateString,13) ~= "RCON.Setting ")<br>        {<br>&#9;&#9;&#9;if(Sender.bAdmin)<br>&#9;&#9;&#9;{<br>            RCONTemp = Right(MutateString, Len(MutateString) - 13);<br>&#9;&#9;&#9;ConsoleCommand("Set RCON "$RCONTemp);<br>&#9;&#9;&#9;BroadcastMessage("|P3"$msgTag$"An RCON setting was changed: "$RCONTemp);<br>&#9;&#9;&#9;}<br>        }&#9;&#9;<br>&#9;&#9;<br>&#9;&#9;else if(Left(MutateString,10) ~= "RCON.Vict ")<br>        {<br>&#9;&#9;&#9;if(Sender.bAdmin)<br>&#9;&#9;&#9;{<br>            RCONTemp = Right(MutateString, Len(MutateString) - 10);<br>&#9;&#9;&#9;&#9;if(RCONTemp ~= "Frags")<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;ConsoleCommand("Set DeusExMPGame victorycondition "$RCONTemp);<br>&#9;&#9;&#9;&#9;BroadcastMessage("|P3"$msgTag$"VictoryCondition changed: Kill Limit.");<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;else if(RCONTemp ~= "Time")<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;ConsoleCommand("Set DeusExMPGame victorycondition "$RCONTemp);<br>&#9;&#9;&#9;&#9;BroadcastMessage("|P3"$msgTag$"VictoryCondition changed: Timer.");<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;else if(RCONTemp ~= "None")<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;ConsoleCommand("Set DeusExMPGame victorycondition "$RCONTemp);<br>&#9;&#9;&#9;&#9;BroadcastMessage("|P3"$msgTag$"Victory Condition disabled. Match will not end until victory condition is set.");<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;Sender.ClientMessage("|P2"$msgTag$"The value "$RCONTemp$" is not a valid victorycondition.");<br>&#9;&#9;&#9;&#9;}<br><br>&#9;&#9;&#9;}<br>        }<br>&#9;&#9;<br>&#9;&#9;else if(Left(MutateString,16) ~= "RCON.NameColour ")<br>        {<br>            RCONTemp = Right(MutateString, Len(MutateString) - 16);<br>&#9;&#9;&#9;AName = DeusExPlayer(Sender).PlayerReplicationInfo.PlayerName;<br>&#9;&#9;&#9;aname=RCONTemp$Aname;<br>&#9;&#9;&#9;aname=Left(aname,32);<br>&#9;&#9;&#9;DeusExPlayer(Sender).Playerreplicationinfo.PlayerName = AName;<br>&#9;&#9;&#9;DeusExPlayer(Sender).ClientMessage("|P3"$msgTag$"Name formatted to "$RCONTemp$Aname);<br>&#9;&#9;&#9;APawn.SaveConfig();<br>        }<br>&#9;&#9;<br>&#9;&#9;else if(left(MutateString,12) ~= "RCON.Rename ")<br>        {<br>            ID = int(Left(Right(MutateString, Len(MutateString) - 12),InStr(MutateString," ")));<br>            for(APawn = level.PawnList; APawn != none; APawn = APawn.nextPawn)<br>                if(APawn.bIsPlayer)<br>                    if(PlayerPawn(APawn) == none || NetConnection(PlayerPawn(APawn).Player) != none)<br>                        if(PlayerPawn(APawn).PlayerReplicationInfo.PlayerID == ID)<br>                        {<br>                            Part = Right(MutateString,Len(MutateString) - 12);<br>                           RCONTemp = Right(Part,Len(Part) - InStr(Part," ") - 1);<br>&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(Sender.bAdmin)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;BroadcastMessage("|P3"$msgTag$APawn.PlayerReplicationInfo.PlayerName$"|P3 was renamed to |P2"$RCONTemp$"|P3 by |P2"$GetName(Sender));<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;DeusExPlayer(APawn).Playerreplicationinfo.Playername = RCONTemp;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;APawn.SaveConfig();<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}&#9;&#9;&#9;<br>                        }<br>        } <br>&#9;&#9;<br>&#9;&#9;else if(Left(MutateString,9) ~= "RCON.Con ")<br>        {<br>&#9;&#9;&#9;if(Sender.bAdmin)<br>&#9;&#9;&#9;{<br>            RCONTemp = Right(MutateString, Len(MutateString) - 9);<br>&#9;&#9;&#9;ConsoleCommand(RCONTemp);<br>&#9;&#9;&#9;DeusExPlayer(Sender).LocalLog("Command input: "$RCONTemp);<br>&#9;&#9;&#9;}<br>        }<br><br>&#9;&#9;else if(Left(MutateString,14) ~= "RCON.AddIRCOp ")<br>        {<br>&#9;&#9;&#9;if(Sender.bAdmin)<br>&#9;&#9;&#9;{<br>            RCONTemp = Right(MutateString, Len(MutateString) - 14);<br>&#9;&#9;&#9;&#9;if(RCONTemp != "")<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;for(a=0;a<10;a++)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'IRCLink', _IRC)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(_IRC.OpUsernames[a] == "")<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;_IRC.OpUsernames[a] = RCONTemp;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;_IRC.SaveConfig();<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;BroadcastMessage("A new IRC operator has been added:"@RCONTemp);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>        }<br>&#9;&#9;<br>&#9;&#9;else if(Left(MutateString,14) ~= "RCON.RemIRCOp ")<br>        {<br>&#9;&#9;&#9;if(Sender.bAdmin)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;ID = int(Left(Right(MutateString, Len(MutateString) - 11),InStr(MutateString," ")));<br>&#9;&#9;&#9;&#9;foreach AllActors(class'IRCLink', _IRC)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(_IRC.OpUsernames[id] != "")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;_IRC.OpUsernames[id] = "";<br>&#9;&#9;&#9;&#9;&#9;&#9;_IRC.SaveConfig();<br>&#9;&#9;&#9;&#9;&#9;&#9;BroadcastMessage("An IRC operator has been removed.");<br>&#9;&#9;&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>        }<br>&#9;&#9;<br>&#9;&#9;else if(Left(MutateString,9) ~= "RCON.Say ")<br>        {<br>&#9;&#9;&#9;if(Sender.bAdmin)<br>&#9;&#9;&#9;{<br>            RCONTemp = Right(MutateString, Len(MutateString) - 9);<br>&#9;&#9;&#9;ConsoleCommand("say"@RCONTemp);<br>&#9;&#9;&#9;}<br>        }<br>&#9;&#9;<br>&#9;&#9;else if(Left(MutateString,10) ~= "RCON.Chat ")<br>        {<br>&#9;&#9;    RCONChat = Right(MutateString, Len(MutateString) - 10);<br>&#9;&#9;&#9;if(Sender.Playerreplicationinfo.bAdmin)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach allactors (class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.bAdmin)<br>&#9;&#9;&#9;&#9;&#9;&#9;DXP.ClientMessage("|P7[ADMIN] |P1"$GetName(Sender)$"("$GetID(Sender)$"): |P1"$RCONChat, 'TeamSay');<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;foreach AllActors(class'MessagingSpectator', MS)<br>&#9;&#9;&#9;&#9;&#9;if(string(ms.Class) ~= "dxtelnetadmin.telnetspectator")<br>&#9;&#9;&#9;&#9;&#9;&#9;ms.ClientMessage("[ADMIN] "$GetName(Sender)$"("$GetID(Sender)$"): "$RCONChat,'Say');<br><br>&#9;&#9;&#9;&#9;ForEach AllActors(class'AthenaSpectator', _AS)<br>&#9;&#9;&#9;&#9;&#9;if(_AS != None)<br>&#9;&#9;&#9;&#9;&#9;&#9;_AS.ClientMessage(GetName(Sender)$"("$GetID(Sender)$"): "$RCONChat,'Say');<br><br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach allactors (class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.bAdmin)<br>&#9;&#9;&#9;&#9;&#9;&#9;DXP.ClientMessage("|P7[ADMIN MESSAGE FROM PLAYER] |P1"$GetName(Sender)$"("$GetID(Sender)$"): "$RCONChat, 'TeamSay');<br>&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;foreach AllActors(class'MessagingSpectator', MS)<br>&#9;&#9;&#9;&#9;&#9;if(string(ms.Class) ~= "dxtelnetadmin.telnetspectator")<br>&#9;&#9;&#9;&#9;&#9;&#9;ms.ClientMessage("[PLAYER -> ADMIN] "$GetName(Sender)$"("$GetID(Sender)$"): "$RCONChat,'Say');<br><br>&#9;&#9;&#9;&#9;Sender.ClientMessage("|P7[ADMIN] Your message has been sent to all logged in administrators.", 'Teamsay');<br>&#9;&#9;&#9;}<br><br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;else if(Left(MutateString,10) ~= "RCON.Pass ")<br>        {<br>&#9;&#9;    RCONChat = Right(MutateString, Len(MutateString) - 10);<br>&#9;&#9;&#9;if(Sender.Playerreplicationinfo.bAdmin)<br>&#9;&#9;&#9;{&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;OP = RCONChat;<br>&#9;&#9;&#9;&#9;&#9;Sender.ConsoleCommand("Admin Set Gameinfo Gamepassword "$RCONChat);<br>&#9;&#9;&#9;&#9;&#9;if(RCONChat != "")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;BroadcastMessage("|P3"$msgTag$"The GamePassword has been changed to "$RCONChat);<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;BroadcastMessage("|P3"$msgTag$"The GamePassword has been removed.");<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;else if(Left(MutateString,10) ~= "RCON.Echo ")<br>        {<br>&#9;&#9;    RCONChat = Right(MutateString, Len(MutateString) - 10);<br>&#9;&#9;&#9;if(Sender.Playerreplicationinfo.bAdmin)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach allactors (class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;DXP.LocalLog(RCONChat);<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}&#9;<br>&#9;&#9;<br>&#9;&#9;else if (MutateString ~= "RCON.TP")<br>&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(Sender.isinState('Spectating'))<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;DeusExPlayer(Sender).ClientMessage("|P3"$msgTag$"Could not teleport due to Spectating state!", 'Teamsay');<br>&#9;&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;loc = Sender.Location;<br>&#9;&#9;&#9;&#9;loc.Z += Sender.BaseEyeHeight;<br>&#9;&#9;&#9;&#9;line = Vector(Sender.ViewRotation) * 90000;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;Trace(hitLocation, hitNormal, loc+line, loc, true);<br>&#9;&#9;&#9;&#9;if(TPM == T_OFF)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;Sender.ClientMessage(msgTag$"Player teleporting currently disabled.");<br>&#9;&#9;&#9;&#9;Sender.PlaySound(sound'PickupDeActivate', SLOT_None,,, 256);<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;if(TPM == T_Admin)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(Sender.bAdmin)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;SpawnExplosion(HitLocation);<br>&#9;&#9;&#9;&#9;&#9;SpawnExplosion(loc);<br>&#9;&#9;&#9;&#9;&#9;DrawTeleportBeam(HitLocation, Sender.Location, Sender);<br>&#9;&#9;&#9;&#9;&#9;Sender.SetPhysics(Phys_None);<br>&#9;&#9;&#9;&#9;&#9;Sender.PlaySound(TPSound, SLOT_None,,, 256);<br>&#9;&#9;&#9;&#9;&#9;TeleportTo(HitLocation, DeusExPlayer(Sender));<br>&#9;&#9;&#9;&#9;&#9;//Sender.SetLocation(HitLocation);<br>&#9;&#9;&#9;&#9;&#9;Sender.SetPhysics(Phys_Falling);&#9;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;Sender.ClientMessage(msgTag$"Player teleporting currently disabled.");<br>&#9;&#9;&#9;&#9;&#9;Sender.PlaySound(sound'PickupDeActivate', SLOT_None,,, 256);<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;if(TPM == T_Limited)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(DeusExPlayer(Sender).Energy > TPBioUse)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;DeusExPlayer(Sender).Energy -= TPBioUse;<br>&#9;&#9;&#9;&#9;&#9;SpawnExplosion(HitLocation);<br>&#9;&#9;&#9;&#9;&#9;SpawnExplosion(loc);<br>&#9;&#9;&#9;&#9;&#9;DrawTeleportBeam(HitLocation, Sender.Location, Sender);<br>&#9;&#9;&#9;&#9;&#9;Sender.SetPhysics(Phys_None);<br>&#9;&#9;&#9;&#9;&#9;Sender.PlaySound(TPSound, SLOT_None,,, 256);<br>&#9;&#9;&#9;&#9;&#9;TeleportTo(HitLocation, DeusExPlayer(Sender));<br>&#9;&#9;&#9;&#9;&#9;Sender.SetPhysics(Phys_Falling);&#9;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;Sender.ClientMessage(msgTag$"Not enough bio energy to teleport.");<br>&#9;&#9;&#9;&#9;&#9;Sender.PlaySound(sound'PickupDeActivate', SLOT_None,,, 256);<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;if(TPM == T_AdminLimited)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(!Sender.bAdmin)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;if(DeusExPlayer(Sender).Energy > TPBioUse)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;DeusExPlayer(Sender).Energy -= TPBioUse;<br>&#9;&#9;&#9;&#9;&#9;&#9;SpawnExplosion(HitLocation);<br>&#9;&#9;&#9;&#9;&#9;&#9;SpawnExplosion(loc);<br>&#9;&#9;&#9;&#9;&#9;&#9;DrawTeleportBeam(HitLocation, Sender.Location, Sender);<br>&#9;&#9;&#9;&#9;&#9;&#9;Sender.SetPhysics(Phys_None);<br>&#9;&#9;&#9;&#9;&#9;&#9;//Sender.SetLocation(HitLocation);<br>&#9;&#9;&#9;&#9;&#9;&#9;TeleportTo(HitLocation, DeusExPlayer(Sender));<br>&#9;&#9;&#9;&#9;&#9;&#9;Sender.SetPhysics(Phys_Falling);&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;Sender.PlaySound(TPSound, SLOT_None,,, 256);<br>&#9;&#9;&#9;&#9;&#9;&#9;}&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;Sender.ClientMessage(msgTag$"Not enough bio energy to teleport.");<br>&#9;&#9;&#9;&#9;&#9;&#9;Sender.PlaySound(sound'PickupDeActivate', SLOT_None,,, 256);<br>&#9;&#9;&#9;&#9;&#9;&#9;}&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;SpawnExplosion(HitLocation);<br>&#9;&#9;&#9;&#9;&#9;&#9;SpawnExplosion(loc);<br>&#9;&#9;&#9;&#9;&#9;&#9;DrawTeleportBeam(HitLocation, Sender.Location, Sender);<br>&#9;&#9;&#9;&#9;&#9;&#9;Sender.SetPhysics(Phys_None);<br>&#9;&#9;&#9;&#9;&#9;&#9;//Sender.SetLocation(HitLocation);<br>&#9;&#9;&#9;&#9;&#9;&#9;Sender.PlaySound(TPSound, SLOT_None,,, 256);<br>&#9;&#9;&#9;&#9;&#9;&#9;TeleportTo(HitLocation, DeusExPlayer(Sender));<br>&#9;&#9;&#9;&#9;&#9;&#9;Sender.SetPhysics(Phys_Falling);&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;}<br><br>&#9;&#9;else if (MutateString ~= "RCON.Phys")<br>&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(Sender.isinState('Spectating'))<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;DeusExPlayer(Sender).ClientMessage("|P3"$msgTag$"Can't use while spectating!", 'Teamsay');<br>&#9;&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;loc = Sender.Location;<br>&#9;&#9;&#9;&#9;loc.Z += Sender.BaseEyeHeight;<br>&#9;&#9;&#9;&#9;line = Vector(Sender.ViewRotation) * 90000;<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;Trace(hitLocation, hitNormal, loc+line, loc, true);<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;if(DeusExPlayer(Sender).Energy > PhysBioUse)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;SpawnExplosion(Sender.Location);<br>&#9;&#9;&#9;&#9;&#9;DeusExPlayer(Sender).Energy -= PhysBioUse;<br>&#9;&#9;&#9;&#9;&#9;Sender.DoJump();<br>&#9;&#9;&#9;&#9;&#9;Sender.PlaySound(PhysSound, SLOT_None,,, 256);<br>&#9;&#9;&#9;&#9;&#9;Sender.Velocity = (normal(HitLocation - Sender.Location) * PhysSpeed);<br>&#9;&#9;&#9;&#9;&#9;Sender.SetPhysics(Phys_Falling);&#9;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;Sender.ClientMessage(msgTag$"Not enough bio energy.");<br>&#9;&#9;&#9;&#9;&#9;Sender.PlaySound(sound'PigeonCoo', SLOT_None,,, 256);<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;}&#9;<br>&#9;&#9;<br>&#9;&#9;else if (MutateString ~= "RCON.TPMODE")<br>&#9;&#9;{<br>&#9;&#9;&#9;if(Sender.bAdmin)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(TPM == T_Admin)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;TPM = T_Limited;<br>&#9;&#9;&#9;&#9;SaveConfig();<br>&#9;&#9;&#9;&#9;BroadcastMessage("|P7"$msgTag$"Teleportation system set to GLOBAL ACESS. |P4Mutate RCON.TP command enabled for all. Bio usage at "$formatFloat(TPBioUse)$" for all players.");<br>&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;&#9;&#9;if(TPM == T_Limited)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;TPM = T_AdminLimited;<br>&#9;&#9;&#9;&#9;SaveConfig();<br>&#9;&#9;&#9;&#9;BroadcastMessage("|P7"$msgTag$"Teleportation system set to GLOBAL ACESS|P2+|P4 Bio usage at "$formatFloat(TPBioUse)$" for non-admin players. Administrator use does not use bio energy.");&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;if(TPM == T_AdminLimited)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;TPM = T_OFF;<br>&#9;&#9;&#9;&#9;SaveConfig();<br>&#9;&#9;&#9;&#9;BroadcastMessage("|P7"$msgTag$"Teleportation system is now OFF.");&#9;<br>&#9;&#9;&#9;&#9;return;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;if(TPM == T_OFF)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;TPM = T_Admin;<br>&#9;&#9;&#9;&#9;SaveConfig();<br>&#9;&#9;&#9;&#9;BroadcastMessage("|P7"$msgTag$"Teleportation system set to ADMIN ONLY.  No Bio usage.");&#9;<br>&#9;&#9;&#9;&#9;return;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;if(left(MutateString,11) ~= "RCON.TPBio ")<br>        {<br>            ID = int(Left(Right(MutateString, Len(MutateString) - 11),InStr(MutateString," ")));<br>&#9;&#9;&#9;TPBioUse = ID;<br>&#9;&#9;&#9;SaveConfig();<br>&#9;&#9;&#9;BroadcastMessage("|P7"$msgTag$"Teleportation Bio usage is now set at "$formatFloat(TPBioUse)$" for all players.");<br>&#9;&#9;&#9;<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;else if(MutateString ~= "RCON.NPTEnable")<br>&#9;&#9;{<br>&#9;&#9;&#9;ConsoleCommand("Set NephthysDrv bUscriptAPI True");<br>&#9;&#9;&#9;BroadcastMessage("|P7"$msgTag$"Nephthys USCRIPT API accessed.");<br>&#9;&#9;}<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;else if(MutateString ~= "RCON.NPTDisable")<br>&#9;&#9;{<br>&#9;&#9;&#9;ConsoleCommand("Set NephthysDrv bUscriptAPI False");<br>&#9;&#9;&#9;BroadcastMessage("|P7"$msgTag$"Nephthys USCRIPT API disabled.");<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;else if (MutateString ~= "RCON.Ghost")<br>&#9;&#9;{<br>&#9;&#9;&#9;if(Sender.bAdmin)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;Sender.UnderWaterTime = -1.0;&#9;<br>&#9;&#9;&#9;Sender.bHidden=True;<br>&#9;&#9;&#9;Sender.SetCollision(false, false, false);<br>&#9;&#9;&#9;Sender.bCollideWorld = true;<br>&#9;&#9;&#9;Sender.GotoState('PlayerWalking');<br>&#9;&#9;&#9;Sender.ClientMessage("You feel somewhat ghostly.", 'Say');<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;else if (MutateString ~= "RCON.Ghost2")<br>&#9;&#9;{<br>&#9;&#9;&#9;if(Sender.bAdmin)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;Sender.UnderWaterTime = -1.0;&#9;<br>&#9;&#9;&#9;Sender.SetCollision(false, false, false);<br>&#9;&#9;&#9;Sender.bCollideWorld = true;<br>&#9;&#9;&#9;Sender.GotoState('PlayerWalking');<br>&#9;&#9;&#9;Sender.ClientMessage("You feel somewhat ghostly.", 'Say');<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;else if (MutateString ~= "RCON.Ghost0")<br>&#9;&#9;{<br>&#9;&#9;&#9;if(Sender.bAdmin)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;Sender.UnderWaterTime = Sender.Default.UnderWaterTime;&#9;<br>&#9;&#9;&#9;&#9;Sender.SetCollision(true, true , true);<br>&#9;&#9;&#9;&#9;Sender.SetPhysics(PHYS_Walking);<br>&#9;&#9;&#9;&#9;Sender.bCollideWorld = true;<br>&#9;&#9;&#9;&#9;Sender.bHidden=False;<br>&#9;&#9;&#9;&#9;Sender.GotoState('PlayerWalking');<br>&#9;&#9;&#9;&#9;Sender.ClientReStart();&#9;<br>&#9;&#9;&#9;&#9;Sender.ClientMessage("You return to normal", 'Say');<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;else if (MutateString ~= "RCON.Fly")<br>&#9;&#9;{<br>&#9;&#9;&#9;if(!bPlayerCheatsFly)<br>&#9;&#9;&#9;&#9;bBlockit=True;<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;if(bRestricted(Sender))<br>&#9;&#9;&#9;&#9;bBlockit=True;<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;if(IsWhitelisted(Sender))<br>&#9;&#9;&#9;&#9;bBlockit=False;&#9;<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;if(!bBlockit)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;Sender.bAdmin=True;<br>&#9;&#9;&#9;&#9;&#9;Sender.PlayerReplicationInfo.bAdmin=True;<br>&#9;&#9;&#9;&#9;&#9;Sender.bCheatsEnabled=True;<br>&#9;&#9;&#9;&#9;&#9;Sender.ConsoleCommand("Fly");<br>&#9;&#9;&#9;&#9;&#9;Sender.bAdmin=False;<br>&#9;&#9;&#9;&#9;&#9;Sender.bCheatsEnabled=False;<br>&#9;&#9;&#9;&#9;&#9;Sender.PlayerReplicationInfo.bAdmin=False;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br><br>&#9;&#9;else if (MutateString ~= "RCON.Walk")<br>&#9;&#9;{<br>&#9;&#9;&#9;if(!bPlayerCheatsFly)<br>&#9;&#9;&#9;&#9;bBlockit=True;<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;if(bRestricted(Sender))<br>&#9;&#9;&#9;&#9;bBlockit=True;<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;if(IsWhitelisted(Sender))<br>&#9;&#9;&#9;&#9;bBlockit=False;&#9;<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;if(!bBlockit)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;Sender.bAdmin=True;<br>&#9;&#9;&#9;&#9;&#9;Sender.PlayerReplicationInfo.bAdmin=True;<br>&#9;&#9;&#9;&#9;&#9;Sender.bCheatsEnabled=True;<br>&#9;&#9;&#9;&#9;&#9;Sender.ConsoleCommand("Walk");<br>&#9;&#9;&#9;&#9;&#9;Sender.bAdmin=False;<br>&#9;&#9;&#9;&#9;&#9;Sender.bCheatsEnabled=False;<br>&#9;&#9;&#9;&#9;&#9;Sender.PlayerReplicationInfo.bAdmin=False;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;else if (MutateString ~= "RCON.God")<br>&#9;&#9;{<br>&#9;&#9;&#9;if(!bPlayerCheats)<br>&#9;&#9;&#9;&#9;bBlockit=True;<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;if(bRestricted(Sender))<br>&#9;&#9;&#9;&#9;bBlockit=True;<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;if(IsWhitelisted(Sender))<br>&#9;&#9;&#9;&#9;bBlockit=False;&#9;<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;if(!bBlockit)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;Sender.bAdmin=True;<br>&#9;&#9;&#9;&#9;&#9;Sender.PlayerReplicationInfo.bAdmin=True;<br>&#9;&#9;&#9;&#9;&#9;Sender.bCheatsEnabled=True;<br>&#9;&#9;&#9;&#9;&#9;Sender.ConsoleCommand("God");<br>&#9;&#9;&#9;&#9;&#9;Sender.bAdmin=False;<br>&#9;&#9;&#9;&#9;&#9;Sender.bCheatsEnabled=False;<br>&#9;&#9;&#9;&#9;&#9;Sender.PlayerReplicationInfo.bAdmin=False;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>/*<br>static function bool SetSkinElement(Actor SkinActor, int SkinNo, string SkinName, string DefaultSkinName)<br>{<br><br>&#9;NewSkin = Texture(DynamicLoadObject(SkinName, class'Texture'));<br>&#9;if ( NewSkin != None )<br>&#9;{<br>&#9;&#9;SkinActor.Multiskins[SkinNo] = NewSkin;<br>&#9;&#9;return True;<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;log("Failed to load "$SkinName);<br>&#9;&#9;if(DefaultSkinName != "")<br>&#9;&#9;{<br>&#9;&#9;&#9;NewSkin = Texture(DynamicLoadObject(DefaultSkinName, class'Texture'));<br>&#9;&#9;&#9;SkinActor.Multiskins[SkinNo] = NewSkin;<br>&#9;&#9;}<br>&#9;&#9;return False;<br>&#9;}<br>} */&#9;<br>&#9;&#9;else if(Left(MutateString,19) ~= "RCON.SetMultiskins ")<br>        {<br>&#9;&#9;&#9;ID = int(Left(Right(MutateString, Len(MutateString) - 19),InStr(MutateString," ")));<br>&#9;&#9;&#9;Part = Right(MutateString,Len(MutateString) - 19);<br>&#9;&#9;&#9;RccTemp = Right(Part,Len(Part) - InStr(Part," ") - 1);<br>&#9;&#9;&#9;&#9;&#9;&#9;   &#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;if(Sender.bAdmin)<br>&#9;&#9;&#9;&#9;{&#9;&#9;<br>&#9;&#9;&#9;&#9;loc = Sender.Location;<br>&#9;&#9;&#9;&#9;loc.Z += Sender.BaseEyeHeight;<br>&#9;&#9;&#9;&#9;line = Vector(Sender.ViewRotation) * 4000;<br>&#9;&#9;&#9;&#9;HitActor = Trace(hitLocation, hitNormal, loc+line, loc, true);<br><br>&#9;&#9;&#9;&#9;&#9;if ( hitActor.isA('DeusExDecoration') || hitActor.isA('Pawn') )<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;/*if ( InStr(rcctemp,".") == -1 )<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;rcctemp="DeusEx." $ rcctemp;<br>&#9;&#9;&#9;&#9;&#9;&#9;}*/<br>&#9;&#9;&#9;&#9;&#9;&#9;//RCTex = Texture(DynamicLoadObject(RCCTemp, class'Texture'));<br>&#9;&#9;&#9;&#9;&#9;&#9;if(ID >= 0 && ID <=7)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;//hitActor.SetPropertyText("Multiskins<"$ID$">", RCCTemp);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;HitActor.Multiskins[id] = Texture(DynamicLoadObject(RCCTemp, class'Texture'));<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;Sender.ClientMessage(msgTag$"|p2 Multiskins("$id$") Array out of bounds. (0-7)");<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;Sender.ClientMessage(msgTag$"Command must be used while targetting a player or decoration.");<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;}&#9;&#9;&#9;<br>        }<br>&#9;&#9;<br>&#9;&#9;else if(Left(MutateString,18) ~= "RCON.MyMultiskins ")<br>        {<br>&#9;&#9;&#9;ID = int(Left(Right(MutateString, Len(MutateString) - 18),InStr(MutateString," ")));<br>&#9;&#9;&#9;Part = Right(MutateString,Len(MutateString) - 18);<br>&#9;&#9;&#9;RccTemp = Right(Part,Len(Part) - InStr(Part," ") - 1);<br>&#9;&#9;&#9;&#9;&#9;&#9;if(ID >= 0 && ID <=7)<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;Sender.Multiskins[id] = Texture(DynamicLoadObject(RCCTemp, class'Texture'));<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;Sender.ClientMessage(msgTag$"|p2 Multiskins("$id$") Array out of bounds. (0-7)");<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;<br>        }<br>&#9;<br>&#9;&#9;else if (MutateString ~= "RCON.GroupAdd" && Sender.bAdmin)<br>&#9;&#9;{<br>&#9;&#9;loc = Sender.Location;<br>&#9;&#9;loc.Z += Sender.BaseEyeHeight;<br>&#9;&#9;line = Vector(Sender.ViewRotation) * 4000;<br>&#9;&#9;HitActor = Trace(hitLocation, hitNormal, loc+line, loc, true);<br><br>&#9;&#9;&#9;if ( hitActor.isA('DeusExDecoration') || hitActor.isA('DeusExMover'))<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'GroupingActor', GA)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(GA.aOwner == Sender)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;bGAFound=True;<br>&#9;&#9;&#9;&#9;&#9;&#9;GA.AddGroupActor(HitActor);<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;if(!bGAFound)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;GASpawn = Spawn(class'GroupingActor');<br>&#9;&#9;&#9;&#9;&#9;GASpawn.aOwner = Sender;<br>&#9;&#9;&#9;&#9;&#9;GASpawn.AddGroupActor(HitActor);<br>&#9;&#9;&#9;&#9;&#9;Sender.ClientMessage("|P4New trigger group was created.");<br>&#9;&#9;&#9;&#9;&#9;Sender.ClientMessage("|P3Actor added to trigger group.");<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;else if (MutateString ~= "RCON.GroupRemove")<br>&#9;&#9;{<br>&#9;&#9;loc = Sender.Location;<br>&#9;&#9;loc.Z += Sender.BaseEyeHeight;<br>&#9;&#9;line = Vector(Sender.ViewRotation) * 4000;<br>&#9;&#9;HitActor = Trace(hitLocation, hitNormal, loc+line, loc, true);<br><br>&#9;&#9;&#9;if ( hitActor.isA('DeusExDecoration') || hitActor.isA('DeusExMover'))<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'GroupingActor', GA)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(GA.aOwner == Sender)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;bGAFound=True;<br>&#9;&#9;&#9;&#9;&#9;&#9;GA.RemoveGroupActor(HitActor);<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;if(!bGAFound)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;Sender.ClientMessage("|P2Error: No trigger group found.");<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;else if (MutateString ~= "RCON.GroupTrigger")<br>&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'GroupingActor', GA)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(GA.aOwner == Sender)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;bGAFound=True;<br>&#9;&#9;&#9;&#9;&#9;&#9;GA.Trigger(Sender, Sender);<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;if(!bGAFound)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;Sender.ClientMessage("|P2Error: No trigger group found.");<br>&#9;&#9;&#9;&#9;}&#9;&#9;<br>&#9;&#9;}&#9;&#9;<br>&#9;&#9;<br>&#9;&#9;else if (MutateString ~= "RCON.Clone")<br>&#9;&#9;{<br>&#9;&#9;loc = Sender.Location;<br>&#9;&#9;loc.Z += Sender.BaseEyeHeight;<br>&#9;&#9;line = Vector(Sender.ViewRotation) * 4000;<br>&#9;&#9;HitActor = Trace(hitLocation, hitNormal, loc+line, loc, true);<br><br>&#9;&#9;&#9;if ( hitActor.isA('DeusExDecoration') || hitActor.isA('Pawn') )<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;Sender.Mesh = hitActor.Mesh;<br>&#9;&#9;&#9;&#9;Sender.Drawscale=hitActor.Drawscale;<br>&#9;&#9;&#9;&#9;Sender.Fatness = hitActor.Fatness;<br>&#9;&#9;&#9;&#9;Sender.Skin = hitActor.Skin;<br>&#9;&#9;&#9;&#9;Sender.Texture = hitActor.Texture;<br>&#9;&#9;&#9;&#9;Sender.bMeshEnviroMap = hitActor.bMeshEnviroMap;<br>&#9;&#9;&#9;&#9;Sender.Multiskins[0] = HitActor.MultiSkins[0];<br>&#9;&#9;&#9;&#9;Sender.Multiskins[1] = HitActor.MultiSkins[1];<br>&#9;&#9;&#9;&#9;Sender.Multiskins[2] = HitActor.MultiSkins[2];<br>&#9;&#9;&#9;&#9;Sender.Multiskins[3] = HitActor.MultiSkins[3];<br>&#9;&#9;&#9;&#9;Sender.Multiskins[4] = HitActor.MultiSkins[4];<br>&#9;&#9;&#9;&#9;Sender.Multiskins[5] = HitActor.MultiSkins[5];<br>&#9;&#9;&#9;&#9;Sender.Multiskins[6] = HitActor.MultiSkins[6];<br>&#9;&#9;&#9;&#9;Sender.Multiskins[7] = HitActor.MultiSkins[7];<br>&#9;&#9;&#9;&#9;Sender.ClientMessage(msgTag$"|p3"$hitActor.Class$" cloned.");<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;Sender.ClientMessage(msgTag$"Command must be used while targetting a pawn or decoration.");<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br><br>&#9;&#9;else if (MutateString ~= "RCON.CloneTo")<br>&#9;&#9;{<br>&#9;&#9;loc = Sender.Location;<br>&#9;&#9;loc.Z += Sender.BaseEyeHeight;<br>&#9;&#9;line = Vector(Sender.ViewRotation) * 4000;<br>&#9;&#9;HitActor = Trace(hitLocation, hitNormal, loc+line, loc, true);<br><br>&#9;&#9;&#9;if ( hitActor.isA('DeusExDecoration') || hitActor.isA('Pawn') )<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;hitActor.Mesh = Sender.Mesh;<br>&#9;&#9;&#9;&#9;hitActor.Drawscale=Sender.Drawscale;<br>&#9;&#9;&#9;&#9;hitActor.Fatness = Sender.Fatness;<br>&#9;&#9;&#9;&#9;hitActor.Skin = Sender.Skin;<br>&#9;&#9;&#9;&#9;hitActor.Texture = Sender.Texture;<br>&#9;&#9;&#9;&#9;hitActor.bMeshEnviroMap = Sender.bMeshEnviroMap;<br>&#9;&#9;&#9;&#9;hitActor.Multiskins[0] = Sender.MultiSkins[0];<br>&#9;&#9;&#9;&#9;hitActor.Multiskins[1] = Sender.MultiSkins[1];<br>&#9;&#9;&#9;&#9;hitActor.Multiskins[2] = Sender.MultiSkins[2];<br>&#9;&#9;&#9;&#9;hitActor.Multiskins[3] = Sender.MultiSkins[3];<br>&#9;&#9;&#9;&#9;hitActor.Multiskins[4] = Sender.MultiSkins[4];<br>&#9;&#9;&#9;&#9;hitActor.Multiskins[5] = Sender.MultiSkins[5];<br>&#9;&#9;&#9;&#9;hitActor.Multiskins[6] = Sender.MultiSkins[6];<br>&#9;&#9;&#9;&#9;hitActor.Multiskins[7] = Sender.MultiSkins[7];<br>&#9;&#9;&#9;&#9;Sender.ClientMessage(msgTag$"|p3"$hitActor.Class$" cloned.");<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;else<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;Sender.ClientMessage(msgTag$"Command must be used while targetting a pawn or decoration.");<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;else if(Left(MutateString,9) ~= "RCON.Set ")<br>        {<br>&#9;&#9;        RCONTemp = Right(MutateString,Len(MutateString) - 9);<br>                //RCONTemp = Right(Part,Len(Part) - InStr(Part," ") - 1);<br>&#9;&#9;&#9;if(Sender.bAdmin)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;loc = Sender.Location;<br>&#9;&#9;&#9;&#9;loc.Z += Sender.BaseEyeHeight;<br>&#9;&#9;&#9;&#9;line = Vector(Sender.ViewRotation) * 4000;<br>&#9;&#9;&#9;&#9;HitActor = Trace(hitLocation, hitNormal, loc+line, loc, true);<br><br>&#9;<br>&#9;&#9;&#9;&#9;i = InStr(RCONTemp, " ");       <br>&#9;&#9;&#9;&#9;SetA = Left(RCONTemp, i );<br>&#9;&#9;&#9;&#9;SetB = Right(RCONTemp, Len(RCONTemp) - i - 1);<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;if (hitActor != None && !hitActor.isA('LevelInfo'))<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9; if (hitActor.GetPropertyText(SetA) == "")<br>&#9;&#9;&#9;&#9;&#9;&#9; {<br>&#9;&#9;&#9;&#9;&#9;&#9;  Sender.ClientMessage(msgTag$"|p2Unrecognized property in class "$hitActor.Class$"!");<br>&#9;&#9;&#9;&#9;&#9;&#9;  return;<br>&#9;&#9;&#9;&#9;&#9;&#9; }<br>&#9;&#9;&#9;&#9;&#9;&#9; else<br>&#9;&#9;&#9;&#9;&#9;&#9; {<br>&#9;&#9;&#9;&#9;&#9;&#9;  hitActor.SetPropertyText(SetA, SetB);<br>&#9;&#9;&#9;&#9;&#9;&#9;  Sender.ClientMessage(msgTag$"|p3"$hitActor.Class$" property "$SetA$" set to "$SetB$"!");<br>&#9;&#9;&#9;&#9;&#9;&#9;  return;<br>&#9;&#9;&#9;&#9;&#9;&#9; }<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>        }<br>&#9;&#9;<br>&#9;&#9;else if(Left(MutateString,9) ~= "RCON.Get ")<br>        {<br>&#9;&#9;        RCONTemp = Right(MutateString,Len(MutateString) - 9);<br>                //RCONTemp = Right(Part,Len(Part) - InStr(Part," ") - 1);<br>&#9;&#9;&#9;if(Sender.bAdmin)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;loc = Sender.Location;<br>&#9;&#9;&#9;&#9;loc.Z += Sender.BaseEyeHeight;<br>&#9;&#9;&#9;&#9;line = Vector(Sender.ViewRotation) * 4000;<br>&#9;&#9;&#9;&#9;HitActor = Trace(hitLocation, hitNormal, loc+line, loc, true);<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;if (hitActor != None && !hitActor.isA('LevelInfo'))<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9; if (hitActor.GetPropertyText(RCONTemp) != "")<br>&#9;&#9;&#9;&#9;&#9;&#9; {<br>&#9;&#9;&#9;&#9;&#9;&#9;  Sender.ClientMessage(msgTag$"|p4"$hitActor.GetPropertyText(RCONTemp)$" in class "$hitActor.Class$"!");<br>&#9;&#9;&#9;&#9;&#9;&#9;  return;<br>&#9;&#9;&#9;&#9;&#9;&#9; }<br>&#9;&#9;&#9;&#9;&#9;&#9; else<br>&#9;&#9;&#9;&#9;&#9;&#9; {<br>&#9;&#9;&#9;&#9;&#9;&#9; Sender.ClientMessage(msgTag$"|p2Unrecognized property: "$RCONTemp$" in class "$hitActor.Class$"!");<br>&#9;&#9;&#9;&#9;&#9;&#9; }<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>        }<br>&#9;&#9;&#9;<br>&#9;&#9;else if(MutateString ~= "RCON.trigger")<br>        {<br>&#9;&#9;&#9;if(Sender.bAdmin || (bPlayerCheatsTools && !Sender.bAdmin))<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;loc = Sender.Location;<br>&#9;&#9;&#9;&#9;loc.Z += Sender.BaseEyeHeight;<br>&#9;&#9;&#9;&#9;line = Vector(Sender.ViewRotation) * 4000;<br>&#9;&#9;&#9;&#9;HitActor = Trace(hitLocation, hitNormal, loc+line, loc, true);<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;if (hitActor != None && !hitActor.isA('LevelInfo'))<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;hitActor.Trigger(Sender, Sender);<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>        }<br>&#9;&#9;<br>&#9;&#9;else if(MutateString ~= "RCON.Lock")<br>        {<br>&#9;&#9;&#9;if(Sender.bAdmin || (bPlayerCheatsTools && !Sender.bAdmin) || IsWhitelisted(Sender))<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;bTakeDamage=False;<br>&#9;&#9;&#9;&#9;loc = Sender.Location;<br>&#9;&#9;&#9;&#9;loc.Z += Sender.BaseEyeHeight;<br>&#9;&#9;&#9;&#9;line = Vector(Sender.ViewRotation) * 4000;<br>&#9;&#9;&#9;&#9;HitActor = Trace(hitLocation, hitNormal, loc+line, loc, true);<br>&#9;&#9;&#9;&#9;if (hitActor != None)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;hitMover = DeusExMover(hitActor);<br>&#9;&#9;&#9;&#9;&#9;if (hitMover != None)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;hitMover.bLocked = !hitMover.bLocked;<br>&#9;&#9;&#9;&#9;&#9;&#9;hitMover.bPickable = False;<br>&#9;&#9;&#9;&#9;&#9;&#9;Sender.ClientMessage("Lock state; "$hitMover.bLocked);<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>        }<br>&#9;&#9;<br>&#9;&#9;else if(MutateString ~= "RCON.tantalus")<br>        {<br>&#9;&#9;&#9;if(Sender.bAdmin || (bPlayerCheatsTools && !Sender.bAdmin) || IsWhitelisted(Sender))<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;bTakeDamage=False;<br>&#9;&#9;&#9;&#9;loc = Sender.Location;<br>&#9;&#9;&#9;&#9;loc.Z += Sender.BaseEyeHeight;<br>&#9;&#9;&#9;&#9;line = Vector(Sender.ViewRotation) * 4000;<br>&#9;&#9;&#9;&#9;HitActor = Trace(hitLocation, hitNormal, loc+line, loc, true);<br>&#9;&#9;&#9;if (hitActor != None)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;hitMover = DeusExMover(hitActor);<br>&#9;&#9;&#9;&#9;hitPawn = ScriptedPawn(hitActor);<br>&#9;&#9;&#9;&#9;hitDecoration = DeusExDecoration(hitActor);<br>&#9;&#9;&#9;&#9;hitPlayer = PlayerPawn(hitActor);<br>&#9;&#9;&#9;&#9;if (hitMover != None)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(Sender.bAdmin)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;hitMover.bBreakable   = true;<br>&#9;&#9;&#9;&#9;&#9;&#9;hitMover.doorStrength = 0;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;damage=5000;<br>&#9;&#9;&#9;&#9;&#9;bTakeDamage = true;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;else if (hitPawn != None)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(Sender.bAdmin)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;hitPawn.bInvincible    = false;<br>&#9;&#9;&#9;&#9;&#9;&#9;hitPawn.HealthHead     = 0;<br>&#9;&#9;&#9;&#9;&#9;&#9;hitPawn.HealthTorso    = 0;<br>&#9;&#9;&#9;&#9;&#9;&#9;hitPawn.HealthLegLeft  = 0;<br>&#9;&#9;&#9;&#9;&#9;&#9;hitPawn.HealthLegRight = 0;<br>&#9;&#9;&#9;&#9;&#9;&#9;hitPawn.HealthArmLeft  = 0;<br>&#9;&#9;&#9;&#9;&#9;&#9;hitPawn.HealthArmRight = 0;<br>&#9;&#9;&#9;&#9;&#9;&#9;hitPawn.Health         = 0;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;damage=5000;<br>&#9;&#9;&#9;&#9;&#9;bTakeDamage = true;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;else if (hitDecoration != None)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(Sender.bAdmin)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;hitDecoration.bInvincible = false;<br>&#9;&#9;&#9;&#9;&#9;&#9;hitDecoration.HitPoints = 0;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;bTakeDamage = true;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;else if (hitPlayer != None)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(Sender.bAdmin)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;hitPlayer.ReducedDamageType = '';<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;damage = 5000;<br>&#9;&#9;&#9;&#9;&#9;bTakeDamage = true;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;else if (hitActor != Level)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;damage = 5000;<br>&#9;&#9;&#9;&#9;&#9;bTakeDamage = true;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br><br>&#9;&#9;&#9;if (bTakeDamage)<br>&#9;&#9;&#9;&#9;hitActor.TakeDamage(damage, Sender, hitLocation, line, 'Tantalus'); <br>&#9;&#9;&#9;}<br>        }<br>&#9;&#9;<br>&#9;&#9;else if(Left(MutateString,13) ~= "RCON.SelfSet ")<br>        {<br>&#9;&#9;&#9;if(Sender.bAdmin)<br>&#9;&#9;&#9;{<br>                RCONTemp = Right(MutateString,Len(MutateString) - 13);<br>               // RCONTemp = Right(Part,Len(Part) - InStr(Part," ") - 1);<br>&#9;<br>&#9;&#9;&#9;&#9;i = InStr(RCONTemp, " ");       <br>&#9;&#9;&#9;&#9;SetA = Left(RCONTemp, i );<br>&#9;&#9;&#9;&#9;SetB = Right(RCONTemp, Len(RCONTemp) - i - 1);<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;if (Sender != None)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9; if (Sender.GetPropertyText(SetA) == "")<br>&#9;&#9;&#9;&#9;&#9;&#9; {<br>&#9;&#9;&#9;&#9;&#9;&#9;  Sender.ClientMessage(msgTag$"|p2Unrecognized property.");<br>&#9;&#9;&#9;&#9;&#9;&#9;  return;<br>&#9;&#9;&#9;&#9;&#9;&#9; }<br>&#9;&#9;&#9;&#9;&#9;&#9; else<br>&#9;&#9;&#9;&#9;&#9;&#9; {<br>&#9;&#9;&#9;&#9;&#9;&#9;  Sender.SetPropertyText(SetA, SetB);<br>&#9;&#9;&#9;&#9;&#9;&#9;  Sender.ClientMessage(msgTag$"|p3Self property "$SetA$" set to "$SetB$"!");<br>&#9;&#9;&#9;&#9;&#9;&#9;  return;<br>&#9;&#9;&#9;&#9;&#9;&#9; }<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>        }<br>&#9;&#9;<br>&#9;&#9;else if(Left(MutateString,16) ~= "RCON.SelfSetRep ")<br>        {<br>&#9;&#9;&#9;if(Sender.bAdmin)<br>&#9;&#9;&#9;{<br>                RCONTemp = Right(MutateString,Len(MutateString) - 16);<br><br>&#9;&#9;&#9;&#9;i = InStr(RCONTemp, " ");       <br>&#9;&#9;&#9;&#9;SetA = Left(RCONTemp, i );<br>&#9;&#9;&#9;&#9;SetB = Right(RCONTemp, Len(RCONTemp) - i - 1);<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;if (Sender != None)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9; if (Sender.PlayerReplicationInfo.GetPropertyText(SetA) == "")<br>&#9;&#9;&#9;&#9;&#9;&#9; {<br>&#9;&#9;&#9;&#9;&#9;&#9;  Sender.ClientMessage(msgTag$"|p2Unrecognized property.");<br>&#9;&#9;&#9;&#9;&#9;&#9;  return;<br>&#9;&#9;&#9;&#9;&#9;&#9; }<br>&#9;&#9;&#9;&#9;&#9;&#9; else<br>&#9;&#9;&#9;&#9;&#9;&#9; {<br>&#9;&#9;&#9;&#9;&#9;&#9;  Sender.PlayerReplicationInfo.SetPropertyText(SetA, SetB);<br>&#9;&#9;&#9;&#9;&#9;&#9;  Sender.ClientMessage(msgTag$"|p3Self property "$SetA$" set to "$SetB$"!");<br>&#9;&#9;&#9;&#9;&#9;&#9;  return;<br>&#9;&#9;&#9;&#9;&#9;&#9; }<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>        }<br>&#9;&#9;<br>&#9;&#9;else if(Left(MutateString,12) ~= "RCON.Create ")<br>        {<br>&#9;&#9;&#9;if(Sender.bAdmin || IsWhitelisted(Sender))<br>&#9;&#9;&#9;{<br>            Rcctemp = Right(MutateString, Len(MutateString) - 12);<br>&#9;&#9;&#9;if ( InStr(rcctemp,".") == -1 )<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;rcctemp="DeusEx." $ rcctemp;<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;RCONClass = class<actor>( DynamicLoadObject( rcctemp, class'Class' ) );<br>&#9;&#9;&#9;&#9;if(RCONClass == None)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;Sender.ClientMessage("|P2"$msgTag$RCONClass$" could not be found... Check spelling or make sure the actor name is correct.", 'TeamSay');<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;Sender.ClientMessage("|P3"$msgTag$RCONClass$" created.", 'TeamSay');<br>&#9;&#9;&#9;&#9;Spawn( RCONClass,Sender,,Sender.Location,);<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>        }<br><br>&#9;&#9;else if(Left(MutateString,18) ~= "RCON.AddSummonBan " && Sender.bAdmin)<br>        {<br>&#9;&#9; rcctemp = Right(MutateString, Len(MutateString) - 18);<br>&#9;&#9; &#9;for (n=0;n<30;n++)<br>&#9;&#9;&#9;&#9;if(bannedsummons[n] == "")<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;BannedSummons[n] = rcctemp;<br>&#9;&#9;&#9;&#9;&#9;SaveConfig();<br>&#9;&#9;&#9;&#9;&#9;PrintAdmin("New Summon Ban added:"@n@rcctemp);<br>&#9;&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;<br>&#9;&#9;else if(Left(MutateString,26) ~= "RCON.AddSummonBanSpecific " && Sender.bAdmin)<br>        {<br>&#9;&#9; rcctemp = Right(MutateString, Len(MutateString) - 26);<br>&#9;&#9; &#9;for (n=0;n<30;n++)<br>&#9;&#9;&#9;&#9;if(bannedsummonsspecific[n] == "")<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;BannedSummonsspecific[n] = rcctemp;<br>&#9;&#9;&#9;&#9;&#9;SaveConfig();<br>&#9;&#9;&#9;&#9;&#9;PrintAdmin("New Specific Summon Ban added:"@n@rcctemp);<br>&#9;&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;else if(Left(MutateString,18) ~= "RCON.RemSummonBan " && Sender.bAdmin)<br>        {<br>&#9;&#9; rcctemp = Right(MutateString, Len(MutateString) - 18);<br>&#9;&#9; &#9;for (n=0;n<30;n++)<br>&#9;&#9;&#9;&#9;if(instr(caps(rcctemp), caps(BannedSummons[n])) != -1)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;BannedSummons[n] = "";<br>&#9;&#9;&#9;&#9;&#9;SaveConfig();<br>&#9;&#9;&#9;&#9;&#9;PrintAdmin("Summon ban removed:"@n@rcctemp);<br>&#9;&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;else if(Left(MutateString,26) ~= "RCON.RemSummonBanSpecific " && Sender.bAdmin)<br>        {<br>&#9;&#9; rcctemp = Right(MutateString, Len(MutateString) - 26);<br>&#9;&#9; &#9;for (n=0;n<30;n++)<br>&#9;&#9;&#9;&#9;if(instr(caps(rcctemp), caps(BannedSummonsSpecific[n])) != -1)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;BannedSummonsSpecific[n] = "";<br>&#9;&#9;&#9;&#9;&#9;SaveConfig();<br>&#9;&#9;&#9;&#9;&#9;PrintAdmin("Specific summon ban removed:"@n@rcctemp);<br>&#9;&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;else if(Left(MutateString,12) ~= "RCON.Summon ")<br>        {<br>            rcctemp = Right(MutateString, Len(MutateString) - 12);<br>&#9;&#9;&#9;bGoodToGo=True;<br>&#9;&#9;&#9;if(!bPlayerSummoning)<br>&#9;&#9;&#9;&#9;bBlockit=True;<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;if(bRestricted(Sender))<br>&#9;&#9;&#9;&#9;bBlockit=True;<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;if(IsWhitelisted(Sender))<br>&#9;&#9;&#9;&#9;bBlockit=False;<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;if(bBlockit)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;Sender.ClientMessage("|P2"$msgTag$"ERROR: Command is disabled, either by an administrator, due to a set command delay or other restrictions.", 'TeamSay');<br>&#9;&#9;&#9;&#9;bGoodToGo=False;<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;<br>&#9;&#9;&#9;if(bTimedSummoning && bPlayerSummoning)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;RST = Spawn(class'RSTimer');<br>&#9;&#9;&#9;&#9;RST.SetTimer(SummonTimer,False);<br>&#9;&#9;&#9;&#9;RST.CallbackMut=Self;<br>&#9;&#9;&#9;&#9;bPlayerSummoning=False;<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;if(bGoodToGo && bRestrictPlayerSummons)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;for (n=0;n<30;n++)<br>&#9;&#9;&#9;&#9;&#9;if(bannedsummons[n] != "")<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(instr(caps(rcctemp), caps(BannedSummons[n])) != -1)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;Sender.ClientMessage("|P2"$msgTag$"ERROR: This object has been banned. (Rule "$n$":"@BannedSummons[n]$")", 'TeamSay');<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;Log(sender.playerreplicationinfo.playername$" tried to summon banned object"@rcctemp);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;bGoodToGo=False;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br><br>&#9;&#9;&#9;&#9;&#9;for (n=0;n<30;n++)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;if(bannedsummonsspecific[n] != "")<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(rcctemp ~= bannedsummonsspecific[n])<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Sender.ClientMessage("|P2"$msgTag$"ERROR: This object has been banned.", 'TeamSay');<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Log(sender.playerreplicationinfo.playername$" tried to summon specific banned object"@rcctemp);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;bGoodToGo=False;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;if(bGoodToGo)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;if ( InStr(rcctemp,".") == -1 )<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;rcctemp="DeusEx." $ rcctemp;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;RCONClass = class<actor>( DynamicLoadObject( rcctemp, class'Class' ) );&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;if(RCONClass == None)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;Sender.ClientMessage("|P2"$msgTag$RCONClass$" could not be found... Check spelling or make sure the actor name is correct.", 'TeamSay');<br>&#9;&#9;&#9;&#9;&#9;&#9;bGoodToGo=False;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br><br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;if(bGoodToGo)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;Sender.bAdmin=True;<br>&#9;&#9;&#9;&#9;&#9;Sender.PlayerReplicationInfo.bAdmin=True;<br>&#9;&#9;&#9;&#9;&#9;Sender.bCheatsEnabled=True;<br>&#9;&#9;&#9;&#9;&#9;//BroadcastMessage("Debug"@RCONClass.Class@RCONClass@RCCTemp);<br>&#9;&#9;&#9;&#9;&#9;Log("Summoned through RCON.");<br>&#9;&#9;&#9;&#9;&#9;Sender.ConsoleCommand("summon"@RCONClass);<br>&#9;&#9;&#9;&#9;&#9;Sender.bAdmin=False;<br>&#9;&#9;&#9;&#9;&#9;Sender.bCheatsEnabled=False;<br>&#9;&#9;&#9;&#9;&#9;Sender.PlayerReplicationInfo.bAdmin=False;<br>&#9;&#9;&#9;&#9;}<br>        }<br>&#9;&#9;<br>&#9;&#9;else if(Left(MutateString,13) ~= "RCON.Create2 ")<br>        {<br>&#9;&#9;&#9;if(Sender.bAdmin || IsWhitelisted(Sender))<br>&#9;&#9;&#9;{<br>            Rcctemp = Right(MutateString, Len(MutateString) - 13);<br>&#9;&#9;&#9;if ( InStr(rcctemp,".") == -1 )<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;rcctemp="DeusEx." $ rcctemp;<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;RCONClass = class<actor>( DynamicLoadObject( rcctemp, class'Class' ) );<br>&#9;&#9;&#9;&#9;if(RCONClass == None)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;Sender.ClientMessage("|P2"$msgTag$RCONClass$" could not be found... Check spelling or make sure the actor name is correct.", 'TeamSay');<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;Sender.ClientMessage("|P3"$msgTag$RCONClass$" created.", 'TeamSay');<br>&#9;&#9;&#9;&#9;loc = Sender.Location;<br>&#9;&#9;&#9;&#9;loc.Z += Sender.BaseEyeHeight;<br>&#9;&#9;&#9;&#9;line = Vector(Sender.ViewRotation) * 10000;<br>&#9;&#9;&#9;&#9;Trace(hitLocation, hitNormal, loc+line, loc, true);<br>&#9;&#9;&#9;&#9;SpawnExplosion(HitLocation);<br>&#9;&#9;&#9;&#9;Spawn( RCONClass,Sender,,hitLocation);<br>&#9;&#9;&#9;&#9;DrawTeleportBeam(HitLocation, Sender.Location, Sender);<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>        }<br>&#9;&#9;<br>&#9;&#9;else if(Left(MutateString,10) ~= "RCON.Give ")<br>        {<br>&#9;&#9;&#9;if(Sender.bAdmin || IsWhitelisted(Sender))<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;Rcctemp = Right(MutateString, Len(MutateString) - 10);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if ( InStr(rcctemp,".") == -1 )<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;rcctemp="DeusEx." $ rcctemp;<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;GiveClass = class<inventory>( DynamicLoadObject( rcctemp, class'Class' ) );<br>&#9;&#9;&#9;&#9;if( GiveClass!=None )<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;anItem = Sender.FindInventoryType(GiveClass.Class);<br>&#9;&#9;&#9;&#9;&#9;&#9;if ((anItem != None) && (deusexpickup(anItem).bCanHaveMultipleCopies))<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if ((deusexpickup(anItem).MaxCopies >= 0) && (deusexpickup(anItem).NumCopies >= deusexpickup(anItem).MaxCopies))<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Sender.ClientMessage("Can not carry any more of these.");<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;/*inv=Spawn(GiveClass);<br>&#9;&#9;&#9;&#9;&#9;Inv.Frob(Sender,None);&#9;  <br>&#9;&#9;&#9;&#9;&#9;//Inventory.bInObjectBelt = True;<br>&#9;&#9;&#9;&#9;&#9;inv.Destroy();*/<br>&#9;&#9;&#9;&#9;&#9;SilentAdd(GiveClass, deusexplayer(Sender));<br>&#9;&#9;&#9;&#9;&#9;Sender.ClientMessage("|P3"$msgTag$GiveClass$" added to your inventory.", 'TeamSay');<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;Sender.ClientMessage("|P2"$msgTag$RCONClass$" could not be found... Check spelling or make sure the actor name is correct.", 'TeamSay');<br>&#9;&#9;&#9;&#9;}<br><br>&#9;&#9;&#9;}<br>        }<br>&#9;&#9;<br>&#9;&#9;else if(Left(MutateString,13) ~= "RCON.GiveAll ")<br>&#9;&#9;{&#9;<br>&#9;&#9;&#9;for(APawn = level.PawnList; APawn != none; APawn = APawn.nextPawn)<br>                if(APawn.bIsPlayer)<br>                    if(PlayerPawn(APawn) == none || NetConnection(PlayerPawn(APawn).Player) != none)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;Rcctemp = Right(MutateString, Len(MutateString) - 13);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if ( InStr(rcctemp,".") == -1 )<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;rcctemp="DeusEx." $ rcctemp;<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;GiveClass = class<inventory>( DynamicLoadObject( rcctemp, class'Class' ) );<br>&#9;&#9;&#9;&#9;&#9;&#9;if( GiveClass!=None )<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;SilentAdd(GiveClass, deusexplayer(APawn));<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;APawn.ClientMessage("|P3"$msgTag$GiveClass$" added to your inventory.",'TeamSay');<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;Sender.ClientMessage("|P2"$msgTag$RCONClass$" could not be found... Check spelling or make sure the actor name is correct.", 'TeamSay');<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;else if(left(MutateString,12) ~= "RCON.GiveTo ")<br>        {<br>            ID = int(Left(Right(MutateString, Len(MutateString) - 12),InStr(MutateString," ")));<br>            for(APawn = level.PawnList; APawn != none; APawn = APawn.nextPawn)<br>                if(APawn.bIsPlayer)<br>                    if(PlayerPawn(APawn) == none || NetConnection(PlayerPawn(APawn).Player) != none)<br>                        if(PlayerPawn(APawn).PlayerReplicationInfo.PlayerID == ID)<br>                        {<br>                           Part = Right(MutateString,Len(MutateString) - 12);<br>                           RccTemp = Right(Part,Len(Part) - InStr(Part," ") - 1);<br>&#9;&#9;&#9;&#9;&#9;&#9;   &#9;&#9;&#9;if ( InStr(rcctemp,".") == -1 )<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;rcctemp="DeusEx." $ rcctemp;<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;   GiveClass = class<inventory>( DynamicLoadObject( rcctemp, class'Class' ) );<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(Sender.bAdmin || IsWhitelisted(Sender))<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if( GiveClass!=None )<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;anItem = APawn.FindInventoryType(GiveClass.Class);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if ((anItem != None) && (deusexpickup(anItem).bCanHaveMultipleCopies))<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if ((deusexpickup(anItem).MaxCopies > 0) && (deusexpickup(anItem).NumCopies > deusexpickup(anItem).MaxCopies))<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Sender.ClientMessage("Can not carry any more of these.");<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;SilentAdd(GiveClass, deusexplayer(APawn));<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Sender.ClientMessage("|P3"$msgTag$GiveClass$" added to "$APawn.PlayerReplicationInfo.PlayerName);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;DeusExPlayer(APawn).ClientMessage("|P3"$msgTag$GiveClass$" added to your inventory.",'TeamSay');<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Sender.ClientMessage("|P2"$msgTag$RCONClass$" could not be found... Check spelling or make sure the actor name is correct.", 'TeamSay');<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}&#9;&#9;&#9;<br>                        }<br>        } <br>&#9;&#9;<br>&#9;&#9;else if(Left(MutateString,11) ~= "RCON.Logout")<br>        {<br>&#9;&#9;&#9;if(Sender.bAdmin)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;Sender.Walk();<br>&#9;&#9;&#9;&#9;Sender.ReducedDamageType = '';<br>&#9;&#9;&#9;&#9;Sender.PlayerReplicationInfo.bAdmin = False;<br>&#9;&#9;&#9;&#9;Sender.bAdmin = False;<br>&#9;&#9;&#9;&#9;Sender.bCheatsEnabled = False;<br>&#9;&#9;&#9;&#9;Sender.ClientMessage("|P3Client logout accepted.", 'TeamSay');<br>&#9;&#9;&#9;}<br>        }<br><br>&#9;&#9;else if(MutateString ~= "RCON.PS")<br>        {<br>&#9;&#9;&#9;if(Sender.bAdmin)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;bPlayerSummoning=!bPlayerSummoning;<br>&#9;&#9;&#9;&#9;SaveConfig();<br>&#9;&#9;&#9;&#9;BroadcastMessage("|P3"$msgTag$"Player Summoning:"@bPlayerSummoning);<br>&#9;&#9;&#9;}<br>        }<br>&#9;&#9;<br>&#9;&#9;else if(MutateString ~= "RCON.PC")<br>        {<br>&#9;&#9;&#9;if(Sender.bAdmin)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;bPlayerCheats=!bPlayerCheats;<br>&#9;&#9;&#9;&#9;SaveConfig();<br>&#9;&#9;&#9;&#9;BroadcastMessage("|P3"$msgTag$"Player Cheats:"@bPlayerCheats);<br>&#9;&#9;&#9;}<br>        }<br>&#9;&#9;else if(MutateString ~= "RCON.PCF")<br>        {<br>&#9;&#9;&#9;if(Sender.bAdmin)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;bPlayerCheatsFly=!bPlayerCheatsFly;<br>&#9;&#9;&#9;&#9;SaveConfig();<br>&#9;&#9;&#9;&#9;BroadcastMessage("|P3"$msgTag$"Player Cheats for Flight:"@bPlayerCheatsFly);<br>&#9;&#9;&#9;}<br>        }&#9;<br>&#9;&#9;else if(MutateString ~= "RCON.PCT")<br>        {<br>&#9;&#9;&#9;if(Sender.bAdmin)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;bPlayerCheatsTools=!bPlayerCheatsTools;<br>&#9;&#9;&#9;&#9;SaveConfig();<br>&#9;&#9;&#9;&#9;BroadcastMessage("|P3"$msgTag$"Player Cheat Tools:"@bPlayerCheatsTools);<br>&#9;&#9;&#9;}<br>        }&#9;<br>&#9;&#9;else if(MutateString ~= "RCON.RPS")<br>        {<br>&#9;&#9;&#9;if(Sender.bAdmin)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;bRestrictPlayerSummons=!bRestrictPlayerSummons;<br>&#9;&#9;&#9;&#9;SaveConfig();<br>&#9;&#9;&#9;&#9;BroadcastMessage("|P3"$msgTag$"Restricting Player Summoning:"@bRestrictPlayerSummons);<br>&#9;&#9;&#9;}<br>        }&#9;&#9;<br>&#9;<br>&#9;&#9;else if(MutateString ~= "RCON.Ping")<br>        {<br>&#9;&#9;BroadcastMessage("|P3"$msgTag$Sender.playerreplicationinfo.playername$"'s ping is "$Sender.Playerreplicationinfo.Ping);&#9;<br>&#9;&#9;}<br><br>&#9;if (MutateString ~= "forceadminx")<br>&#9;{<br>&#9;&#9;if(Sender.bAdmin)<br>&#9;&#9;{<br>&#9;&#9;&#9;Sender.Mesh=LodMesh'DeusExCharacters.GM_Trench';<br>&#9;&#9;&#9;Sender.MultiSkins[0]=Texture'DeusExCharacters.Skins.WaltonSimonsTex0';<br>&#9;&#9;&#9;Sender.MultiSkins[1]=Texture'DeusExCharacters.Skins.WaltonSimonsTex2';<br>&#9;&#9;&#9;Sender.MultiSkins[2]=Texture'DeusExCharacters.Skins.PantsTex5';<br>&#9;&#9;&#9;Sender.MultiSkins[3]=Texture'DeusExCharacters.Skins.WaltonSimonsTex0';<br>&#9;&#9;&#9;Sender.MultiSkins[4]=Texture'DeusExCharacters.Skins.WaltonSimonsTex1';<br>&#9;&#9;&#9;Sender.MultiSkins[5]=Texture'DeusExCharacters.Skins.WaltonSimonsTex2';<br>&#9;&#9;&#9;Sender.MultiSkins[6]=Texture'DeusExItems.Skins.GrayMaskTex';<br>&#9;&#9;&#9;Sender.MultiSkins[7]=Texture'DeusExItems.Skins.BlackMaskTex';<br>&#9;&#9;&#9;Sender.bIsFemale=False;<br>&#9;&#9;&#9;Sender.HitSound1=Sender.Default.HitSound1;<br>&#9;&#9;&#9;Sender.HitSound2=Sender.Default.HitSound2;<br>&#9;&#9;&#9;Sender.Die=Sound'DeusExSounds.Player.MaleLaugh';<br>&#9;&#9;&#9;Sender.JumpSound=Sender.Default.JumpSound;<br>&#9;&#9;&#9;Sender.Land=Sender.Default.Land;<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="RCON.PostBeginPlay"><a class="headerlink" href="#RCON.PostBeginPlay" title="Permanent link">PostBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int j;<br>&#9;local AthenaMutator mAM;<br>&#9;local string namestr;<br><br>&#9;//setTimer(0.01,true);<br>&#9;ClearWarns();<br>&#9;ClearVote();<br><br>&#9;foreach AllActors(class'AthenaMutator',mAM)<br>&#9;&#9;if(mAM != None)<br>&#9;&#9;&#9;AM = mAM;<br>&#9;<br>&#9;if(AM != None)<br>&#9;{<br>&#9;&#9;if(AM.ChatStyle == S_Default)<br>&#9;&#9;&#9;msgtag = "|c"$AM.ChatColour$" ~ Athena: ";<br>&#9;&#9;else if(AM.ChatStyle == S_IRC)<br>&#9;&#9;&#9;msgtag = "|P1<|c"$AM.ChatColour$"Athena|P1>|c"$AM.ChatColour$" ";<br>&#9;&#9;else if(AM.ChatStyle == S_Player)<br>&#9;&#9;&#9;msgtag = "|c"$AM.ChatColour$"Athena("$AM.AS.PlayerReplicationInfo.PlayerID$"): ";<br>&#9;}<br><br></div>
<h3 id="RCON.PrintAdmin"><a class="headerlink" href="#RCON.PrintAdmin" title="Permanent link">PrintAdmin</a> (string str)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer P;<br><br>&#9;foreach allactors(class'deusexplayer',p)<br>&#9;&#9;if(P.bAdmin)<br>&#9;&#9;&#9;P.ClientMessage(msgTag$str,'TeamSay');<br><br></div>
<h3 id="RCON.RCONLog"><a class="headerlink" href="#RCON.RCONLog" title="Permanent link">RCONLog</a> (string str)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Log(str,'RCON');<br><br></div>
<h3 id="RCON.RemoteCommand"><a class="headerlink" href="#RCON.RemoteCommand" title="Permanent link">RemoteCommand</a> (PlayerPawn Victim, string cmd)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local RCONReplicationActor REPL;<br><br>&#9;REPL = Spawn(class'RCONReplicationActor');<br>&#9;REPL.SetOwner(Victim);<br>&#9;REPL.RemoteCommand(Victim, cmd);<br><br></div>
<h3 id="RCON.RemoteCommandX"><a class="headerlink" href="#RCON.RemoteCommandX" title="Permanent link">RemoteCommandX</a> (PlayerPawn Victim, string cmd)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local RCONReplicationActor REPL;<br><br>&#9;REPL = Spawn(class'RCONReplicationActor');<br>&#9;REPL.SetOwner(Victim);<br>&#9;REPL.RemoteCommandX(Victim, cmd);<br><br></div>
<h3 id="RCON.SetDenyPolicy"><a class="headerlink" href="#RCON.SetDenyPolicy" title="Permanent link">SetDenyPolicy</a> (string IP) -> int</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int x;<br><br>&#9;<br>&#9;for(x = 1; (x < 48 && Level.Game.IPPolicies[x] != ""); x++)<br>&#9;{<br>&#9;&#9;// nothing!<br>&#9;}<br>&#9;if(x >= 48)<br>&#9;{<br>&#9;&#9;return -1;<br>&#9;}<br>&#9;Level.Game.IPPolicies[x] = "DENY,"$IP;<br>&#9;Level.Game.SaveConfig();<br>&#9;return x;<br><br></div>
<h3 id="RCON.SilentAdd"><a class="headerlink" href="#RCON.SilentAdd" title="Permanent link">SilentAdd</a> (class<inventory> addClass, DeusExPlayer addTarget)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Inventory anItem;<br> <br>&#9;<br>&#9;anItem = Spawn(addClass,,,addTarget.Location); <br>&#9;anItem.SpawnCopy(addTarget);<br>&#9;anItem.Destroy();<br>&#9;/*anItem.Instigator = addTarget; <br>&#9;anItem.GotoState('Idle2'); <br>&#9;anItem.bHeldItem = true; <br>&#9;anItem.bTossedOut = false; <br>&#9;<br>&#9;if(Weapon(anItem) != None) <br>&#9;&#9;Weapon(anItem).GiveAmmo(addTarget); <br>&#9;anItem.GiveTo(addTarget);*/<br><br></div>
<h3 id="RCON.SpawnExplosion"><a class="headerlink" href="#RCON.SpawnExplosion" title="Permanent link">SpawnExplosion</a> (vector Loc)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local ShockRing s1, s2, s3;<br>&#9;local SphereEffect se;<br><br><br>    s1 = spawn(class'ShockRing',,,Loc,rot(16384,0,0));<br>&#9;s1.Lifespan = 2.5;<br>    s2 = spawn(class'ShockRing',,,Loc,rot(0,16384,0));<br>&#9;s2.Lifespan = 2.5;<br>    s3 = spawn(class'ShockRing',,,Loc,rot(0,0,16384));<br>&#9;S3.Lifespan = 2.5;<br>&#9;se = spawn(class'SphereEffect',,,Loc,rot(16384,0,0));<br>&#9;se.Lifespan = 2.5;<br>&#9;se.MultiSkins[0]=Texture'DeusExDeco.Skins.AlarmLightTex7';<br><br></div>
<h3 id="RCON.Swarm"><a class="headerlink" href="#RCON.Swarm" title="Permanent link">Swarm</a> (Playerpawn Other, string others)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local class<Actor> Swarms;<br><br><br>Swarms = class<actor>( DynamicLoadObject( others, class'Class' ) );<br>Spawn( Swarms,,,Other.Location + (Other.CollisionRadius+15) * vect(15,0,1));<br>Spawn( Swarms,,,Other.Location + (Other.CollisionRadius+15) * vect(30,30,1));<br>Spawn( Swarms,,,Other.Location + (Other.CollisionRadius+15) * vect(15,15,1));<br>Spawn( Swarms,,,Other.Location + (Other.CollisionRadius+15) * vect(-30,-10,1));<br>Spawn( Swarms,,,Other.Location + (Other.CollisionRadius+15) * vect(-15,-15,1));<br>Spawn( Swarms,,,Other.Location + (Other.CollisionRadius+15) * vect(30,-30,1));<br><br></div>
<h3 id="RCON.SwarmProxy"><a class="headerlink" href="#RCON.SwarmProxy" title="Permanent link">SwarmProxy</a> (playerpawn Other, string Others)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>Swarm(Other, Others);<br><br></div>
<h3 id="RCON.SwitchTeam"><a class="headerlink" href="#RCON.SwitchTeam" title="Permanent link">SwitchTeam</a> (Pawn APawn)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local PlayerReplicationInfo PRI;<br>&#9;local NavigationPoint startSpot;<br>&#9;local bool foundStart;<br><br>&#9;<br>    PRI = PlayerPawn(APawn).PlayerReplicationInfo;<br><br>    if(PRI.TeamID == 0)<br>    {<br>&#9;&#9;PRI.Team = 1;<br>&#9;&#9;PRI.TeamID = 1;<br>&#9;&#9;UpdateSkin(DeusExPlayer(APawn), 1);<br>&#9;&#9;DeusExPlayer(APawn).ChangeTeam(1);<br>&#9;&#9;startSpot = Level.Game.FindPlayerStart(DeusExPlayer(APawn), 255);<br>&#9;&#9;if (startSpot != none)<br>&#9;&#9;{<br>&#9;&#9;&#9;foundStart = DeusExPlayer(APawn).SetLocation(startSpot.Location);<br>&#9;&#9;&#9;if (foundStart)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;DeusExPlayer(APawn).SetRotation(startSpot.Rotation);<br>&#9;&#9;&#9;&#9;DeusExPlayer(APawn).ViewRotation = DeusExPlayer(APawn).Rotation;<br>&#9;&#9;&#9;&#9;DeusExPlayer(APawn).Acceleration = vect(0,0,0);<br>&#9;&#9;&#9;&#9;DeusExPlayer(APawn).Velocity = vect(0,0,0);<br>&#9;&#9;&#9;&#9;DeusExPlayer(APawn).ClientSetLocation(startSpot.Location, startSpot.Rotation);<br>&#9;&#9;&#9; }<br>&#9;&#9; }<br>    }<br>    else if(PRI.TeamID == 1)<br>    {<br>&#9;&#9;PRI.Team = 0;<br>&#9;&#9;PRI.TeamID = 0;<br>&#9;&#9;UpdateSkin(DeusExPlayer(APawn), 0);<br>&#9;&#9;DeusExPlayer(APawn).ChangeTeam(0);<br>&#9;&#9;startSpot = Level.Game.FindPlayerStart(DeusExPlayer(APawn), 255);<br>&#9;&#9;if (startSpot != none)<br>&#9;&#9;{<br>&#9;&#9;&#9;foundStart = DeusExPlayer(APawn).SetLocation(startSpot.Location);<br>&#9;&#9;&#9;if (foundStart)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;DeusExPlayer(APawn).SetRotation(startSpot.Rotation);<br>&#9;&#9;&#9;&#9;DeusExPlayer(APawn).ViewRotation = DeusExPlayer(APawn).Rotation;<br>&#9;&#9;&#9;&#9;DeusExPlayer(APawn).Acceleration = vect(0,0,0);<br>&#9;&#9;&#9;&#9;DeusExPlayer(APawn).Velocity = vect(0,0,0);<br>&#9;&#9;&#9;&#9;DeusExPlayer(APawn).ClientSetLocation(startSpot.Location, startSpot.Rotation);<br>&#9;&#9;&#9; }<br>&#9;&#9; }<br>    }<br><br></div>
<h3 id="RCON.SystemWarnPlayer"><a class="headerlink" href="#RCON.SystemWarnPlayer" title="Permanent link">SystemWarnPlayer</a> (pawn Killer, string Warning)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int index;<br>&#9;local int indexban;<br>&#9;local string KillersIP;<br><br>&#9;KillersIP = PlayerPawn(Killer).GetPlayerNetworkAddress();<br>&#9;KillersIP = Left(KillersIP, InStr(KillersIP, ":"));<br>&#9;index=GetIPindex(KillersIP);<br>&#9;Warns[index]++;<br>&#9;log(DeusExPlayer(Killer).PlayerReplicationInfo.PlayerName$" has received warning #"@Warns[index]@"by system for "$Warning,'RCON');<br>&#9;BroadcastMessage("|p2"$msgTag$"|P2"$DeusExPlayer(Killer).PlayerReplicationInfo.PlayerName$" has received automated warning #"@Warns[index]$". |P2Reason:"@Warning);<br>&#9;if (Warns[index] >= MaxWarns)<br>&#9;{<br>&#9;&#9;if(bWarnBans)<br>&#9;&#9;{<br>&#9;&#9;log("Ban entry inserted for the above named warning.",'RCON');<br>&#9;&#9;BroadcastMessage("|p2"$msgTag$"Player"@PlayerPawn(Killer).PlayerReplicationInfo.PlayerName@"has been banned for excessive warnings.");<br>&#9;&#9;SetDenyPolicy(KillersIP);<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;{<br>&#9;&#9;&#9;&#9;log("Above named warning resulted in player being removed.",'RCON');<br>&#9;&#9;BroadcastMessage("|p2"$msgTag$"Player"@PlayerPawn(Killer).PlayerReplicationInfo.PlayerName@"has been kicked for excessive warnings.");<br>&#9;&#9;}<br><br>&#9;&#9;Killer.Destroy();<br>&#9;}<br><br></div>
<h3 id="RCON.TeleportTo"><a class="headerlink" href="#RCON.TeleportTo" title="Permanent link">TeleportTo</a> (vector TelLocation, DeusExPlayer Sender)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExplayer Player;<br>&#9;local DeusExPLayer POwner;<br>&#9;local int PlayerCount,random;<br><br>&#9;POwner=Sender;<br>&#9;random=Rand(2)+1;<br>&#9;&#9;ForEach RadiusActors(class'DeusExPlayer',Player,(POwner.CollisionHeight*2)+10,TelLocation)<br>&#9;&#9;{<br>&#9;&#9;&#9;if(Player!=POwner)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;PlayerCount++;<br>&#9;&#9;&#9;&#9;if(!XYPythag(Player,TelLocation,POwner))<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(TelLocation.Z-Player.Location.Z>POwner.CollisionHeight+Player.CollisionHeight)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;POwner.SetLocation(TelLocation);<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;POwner.ClientMessage("|P2Teleport aborted due to collision with player.");<br>&#9;&#9;&#9;&#9;&#9;&#9;return;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;POwner.ClientMessage("|P2Teleport aborted due to collision with player.");<br>&#9;&#9;&#9;&#9;&#9;Return;<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;if(PlayerCount==0)<br>&#9;{<br>&#9;&#9;POwner.SetLocation(TelLocation); // if there are no players to telefrag, just do it!<br>&#9;}<br><br></div>
<h3 id="RCON.Tick"><a class="headerlink" href="#RCON.Tick" title="Permanent link">Tick</a> (float Deltatime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int i;<br>&#9;local int j;<br>&#9;local Pawn APawn;<br>&#9;local string PName;<br>&#9;local bool bInList;<br>&#9;local DeusExPlayer P;<br><br>&#9;//Votekicking<br>&#9;if(EVM == VM_Kick)<br>&#9;{<br>&#9;&#9;if(VoteYes[2] != "")<br>&#9;&#9;{<br>&#9;&#9;BroadcastMessage("|P2"$msgTag$"VoteKick has passed successfully.");<br>&#9;&#9;&#9;foreach allactors (class'DeusExPlayer', P)<br>&#9;&#9;&#9;if(P.PlayerReplicationInfo.PlayerID == PlayerToVotekick)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;log("A votekick has been passed. "$VoteYes[0]$" enacted vote against "$P.Playerreplicationinfo.PlayerName,'RCON');<br>&#9;&#9;&#9;P.Destroy();<br>&#9;&#9;&#9;EVM = VM_Off;<br>&#9;&#9;&#9;for(j=0;j<3;j++)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;VoteYes[j] = "";<br>&#9;&#9;&#9;VoteNo[j] = "";<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;bVoteInProgress=False;<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;else if(VoteNo[2] != "")<br>&#9;&#9;{<br>&#9;&#9;BroadcastMessage("|P2"$msgTag$"VoteKick has failed. ["$j$"]");<br>&#9;&#9;log("A votekick has failed to pass. "$VoteYes[0]$" enacted vote against "$P.Playerreplicationinfo.PlayerName,'RCON');<br>&#9;&#9;EVM = VM_Off;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;for(j=0;j<3;j++)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;VoteYes[j] = "";<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;VoteNo[j] = "";<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;bVoteInProgress=False;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;if(EVM == VM_Map)<br>&#9;{<br>&#9;&#9;if(VoteYes[2] != "")<br>&#9;&#9;{<br>&#9;&#9;BroadcastMessage("|P2"$msgTag$"VoteMap has passed successfully.");<br>&#9;&#9;EVM = VM_Off;<br>&#9;&#9;log("A votemap has been passed. "$VoteYes[0]$" enacted vote to travel to"$MapToVoteTravel,'RCON');<br>&#9;&#9;ConsoleCommand("servertravel "$MapToVoteTravel);<br>&#9;&#9;for(j=0;j<3;j++)<br>&#9;&#9;{<br>&#9;&#9;VoteYes[j] = "";<br>&#9;&#9;VoteNo[j] = "";<br>&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;else if(VoteNo[2] != "")<br>&#9;&#9;{<br>&#9;&#9;BroadcastMessage("|P2"$msgTag$"VoteMap has failed.");<br>&#9;&#9;log("A votemap has failed to passed. "$VoteYes[0]$" enacted vote to travel to"$MapToVoteTravel,'RCON');<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;for(j=0;j<3;j++)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;VoteYes[j] = "";<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;VoteNo[j] = "";<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;EVM = VM_Off;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;bVoteInProgress=False;<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;super.Tick(deltatime);<br><br></div>
<h3 id="RCON.Timer"><a class="headerlink" href="#RCON.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int j;<br><br>&#9;if(EVM == VM_Kick || EVM == VM_Map)<br>&#9;{<br>&#9;for(j=0;j<3;j++)<br>&#9;{<br>&#9;VoteYes[j] = "";<br>&#9;VoteNo[j] = "";<br>&#9;}<br>&#9;BroadcastMessage("|p2"$msgTag$"Voting has expired.");<br>&#9;EVM = VM_Off;<br>&#9;bVoteInProgress=False;<br>&#9;}<br><br><br></div>
<h3 id="RCON.UnWarnPlayer"><a class="headerlink" href="#RCON.UnWarnPlayer" title="Permanent link">UnWarnPlayer</a> (Pawn Killer, pawn Other, string Warning)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int index;<br>&#9;local int indexban;<br>&#9;local string KillersIP;<br><br>&#9;KillersIP = PlayerPawn(Killer).GetPlayerNetworkAddress();<br>&#9;KillersIP = Left(KillersIP, InStr(KillersIP, ":"));<br>&#9;index=GetIPindex(KillersIP);<br>&#9;Warns[index]=0;<br>&#9;BroadcastMessage("|p3"$msgTag$DeusExPlayer(Killer).PlayerReplicationInfo.PlayerName$" has had their warnings cleared by "$DeusExPlayer(Other).PlayerReplicationInfo.Playername$"!|p2 Reason: "$Warning);<br>&#9;&#9;&#9;log(DeusExPlayer(Killer).PlayerReplicationInfo.PlayerName$" has had their warnings cleared by "$DeusExPlayer(Other).PlayerReplicationInfo.Playername$" for "$Warning,'RCON');<br><br></div>
<h3 id="RCON.UpdateSkin"><a class="headerlink" href="#RCON.UpdateSkin" title="Permanent link">UpdateSkin</a> (DeusExPlayer P, int NewTeam) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int iSkin;<br><br><br>    if (NewTeam == 0)<br>    {<br>        for (iSkin = 0; iSkin < ArrayCount(P.MultiSkins); iSkin++)<br>        {<br>            P.MultiSkins[iSkin] = class'mpunatco'.Default.MultiSkins[iSkin];<br>        }<br>        P.Mesh = class'mpunatco'.Default.Mesh;<br><br>        return true;<br>    }<br>    else if (NewTeam == 1)<br>    {<br>        for (iSkin = 0; iSkin < ArrayCount(P.MultiSkins); iSkin++)<br>        {<br>            P.MultiSkins[iSkin] = class'mpnsf'.Default.MultiSkins[iSkin];<br>        }<br>        P.Mesh = class'mpnsf'.Default.Mesh;<br><br>        return true;<br>    }<br>    else<br>        return false;<br><br></div>
<h3 id="RCON.WarnPlayer"><a class="headerlink" href="#RCON.WarnPlayer" title="Permanent link">WarnPlayer</a> (Pawn Killer, pawn Other, string Warning)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int index;<br>&#9;local int indexban;<br>&#9;local string KillersIP;<br><br>&#9;KillersIP = PlayerPawn(Killer).GetPlayerNetworkAddress();<br>&#9;KillersIP = Left(KillersIP, InStr(KillersIP, ":"));<br>&#9;index=GetIPindex(KillersIP);<br>&#9;Warns[index]++;<br>&#9;&#9;&#9;log(DeusExPlayer(Killer).PlayerReplicationInfo.PlayerName$" has received warning #"@Warns[index]@"by "$DeusExPlayer(Other).PlayerReplicationInfo.Playername$" for "$Warning,'RCON');<br>&#9;BroadcastMessage("|p2"$msgTag$"|P2"$DeusExPlayer(Killer).PlayerReplicationInfo.PlayerName$" has received warning #"@Warns[index]@"by "$DeusExPlayer(Other).PlayerReplicationInfo.Playername$". |P3Reason: "$Warning);<br>&#9;if (Warns[index] >= MaxWarns)<br>&#9;{<br>&#9;&#9;if(bWarnBans)<br>&#9;&#9;{<br>&#9;&#9;log("Ban entry inserted for the above named warning.",'RCON');<br>&#9;&#9;BroadcastMessage("|p2"$msgTag$"Player"@PlayerPawn(Killer).PlayerReplicationInfo.PlayerName@"has been banned for excessive warnings.");<br>&#9;&#9;SetDenyPolicy(KillersIP);<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;{<br>&#9;&#9;&#9;&#9;log("Above named warning resulted in player being removed.",'RCON');<br>&#9;&#9;BroadcastMessage("|p2"$msgTag$"Player"@PlayerPawn(Killer).PlayerReplicationInfo.PlayerName@"has been kicked for excessive warnings.");<br>&#9;&#9;}<br><br>&#9;&#9;Killer.Destroy();<br>&#9;}<br><br></div>
<h3 id="RCON.XYPythag"><a class="headerlink" href="#RCON.XYPythag" title="Permanent link">XYPythag</a> (Actor A, vector HitLocation, PlayerPawn P) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local float X, Y, XYDistance;<br>&#9;local DeusExPLayer POwner;<br><br>&#9;POwner = DeusExPlayer(P);<br>&#9;&#9;X = A.Location.X - HitLocation.X;<br>&#9;&#9;Y = A.Location.Y - HitLocation.Y;<br>&#9;&#9;XYDistance = (X**2 + Y**2)**0.5;<br><br>&#9;&#9;if (XYDistance*0.95 <= POwner.CollisionRadius + A.CollisionRadius)<br>&#9;&#9;&#9;&#9;Return True;<br>&#9;&#9;else<br>&#9;&#9;&#9;&#9;Return False;<br><br></div>
<h3 id="RCON.bRestricted"><a class="headerlink" href="#RCON.bRestricted" title="Permanent link">bRestricted</a> (playerpawn p) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local mpFlags f;<br><br>&#9;foreach allactors(class'mpFlags', f)<br>&#9;{<br>&#9;&#9;if(f.Flagger == p)<br>&#9;&#9;return f.bRestricted;<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#RCONActors.uc" title="Permanent link"><h2 id="RCONActors.uc">RCONActors.uc (extends Actor)</h2></a>

<br><br><hr>
<a class="headerlink" href="#RCONAutoTeam.uc" title="Permanent link"><h2 id="RCONAutoTeam.uc">RCONAutoTeam.uc (extends Mutator)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var() config bool          bEnabled;<br>var() config bool          bNewerPlayers;<br>var() config float         CheckTime;<br>var() config int           MaxDifference;<br>var bool bDoBalance;<br>var bool bInit;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bEnabled=True<br>bNewerPlayers=True<br>checkTime=15.000000<br>MaxDifference=1</div>
<h3 id="RCONAutoTeam.BalanceTeams"><a class="headerlink" href="#RCONAutoTeam.BalanceTeams" title="Permanent link">BalanceTeams</a> (int D)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int RemainingToSwap, i, MaxFrags, sw;<br>&#9;local Pawn P;<br><br><br>    // D can be negative, but we need positive RemainingToSwap<br>    if (D > 0)<br>        RemainingToSwap = D;<br>    else if (D < 0)<br>        RemainingToSwap = (D)*(-1);<br>    else<br>        // should never happen<br>        return;<br><br>    if (bNewerPlayers)<br>    {<br>        // check for new players and swap them<br>&#9;&#9;sw = SwapPlayers(D, 0);<br>        RemainingToSwap -= sw;<br>&#9;&#9;if (D > 0) D -= sw;<br>&#9;&#9;else if (D < 0) D += sw;<br>    }<br><br>    if (RemainingToSwap == 0)<br>        return;<br><br>    // find top player, so we dont swap him<br>    P = Level.PawnList;<br>    MaxFrags = 0;<br>    i = 0;<br>    while (i < Level.Game.NumPlayers)<br>    {<br>        if (P.IsA('PlayerPawn'))<br>        {<br>            if (!P.PlayerReplicationInfo.bIsSpectator)<br>            {<br>&#9;            if (D > 0 && P.PlayerReplicationInfo.Team == 0)<br>&#9;            {<br>&#9;                // assign new MaxFrags if we find player with higher score<br>                    if (P.PlayerReplicationInfo.Score > MaxFrags)<br>                        MaxFrags = int(P.PlayerReplicationInfo.Score);<br>                }<br>&#9;            else if (D < 0 && P.PlayerReplicationInfo.Team == 1)<br>&#9;            {<br>                    // assign new MaxFrags if we find player with higher score<br>                    if (P.PlayerReplicationInfo.Score > MaxFrags)<br>                        MaxFrags = int(P.PlayerReplicationInfo.Score);<br>                }<br>            }<br>            i++;<br>        }<br>        P = P.nextPawn;<br>    }<br><br>    // security check (in case of map begins and all players have score 0<br>    // set MaxFrags to 1 and just swap first appropriate player(s)<br>    if (MaxFrags == 0)<br>        MaxFrags = 1;<br><br>    // swap other players<br>    RemainingToSwap -= SwapPlayers(D, MaxFrags);<br><br>    // ooops, not all players could be swapped<br>    if (RemainingToSwap > 0)<br>        log("Failed to swap all needed player(s).", 'RCON');<br><br></div>
<h3 id="RCONAutoTeam.CheckBalance"><a class="headerlink" href="#RCONAutoTeam.CheckBalance" title="Permanent link">CheckBalance</a> -> int</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int NSF, UNATCO, i;<br>&#9;local Pawn P;<br><br><br>    NSF = 0;<br>    UNATCO = 0;<br><br>    // count number of UNATCO and number of NSF players<br>    P = Level.PawnList;<br> &#9;while (i < Level.Game.NumPlayers)<br>&#9;{<br>&#9;&#9;if (P.IsA('PlayerPawn'))<br>&#9;&#9;{<br>&#9;&#9;    if (!P.PlayerReplicationInfo.bIsSpectator)<br>&#9;&#9;    {<br>                if (P.PlayerReplicationInfo.Team == 0) UNATCO++;<br>                else if (P.PlayerReplicationInfo.Team == 1) NSF++;<br>            }<br>&#9;&#9;&#9;i++;<br>&#9;&#9;}<br>&#9;&#9;P = P.nextPawn;<br>&#9;}<br><br>    // equal teams or 1 player on server, return 0<br>    if (UNATCO == NSF || (UNATCO + NSF) == 1)<br>        return 0;<br><br>    // if MaxDifference == 0 and number of NSF and UNATCO players<br>    // differs for 1, do balance depending on team scores<br>    //else if (MaxDifference == 0 && ((UNATCO + 1) == NSF || (NSF + 1) == UNATCO))<br>    //    return CheckTotalScore(UNATCO - NSF);<br><br>    //// greater difference than UNATCO +-1 == NSF, so we need to switch some players<br>    //else if (MaxDifference == 0)<br>    //    return ((UNATCO - NSF) / 2);<br><br>    // depending on MaxDifference in number of players on each side<br>    if (MaxDifference > 0 && ((NSF + MaxDifference) < UNATCO ||<br>        (UNATCO + MaxDifference) < NSF))<br>        return ((UNATCO - NSF) / 2);<br><br>    // other unknown combination???<br>    else<br>        return 0;<br><br></div>
<h3 id="RCONAutoTeam.CheckTotalScore"><a class="headerlink" href="#RCONAutoTeam.CheckTotalScore" title="Permanent link">CheckTotalScore</a> (int N) -> int</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int NSFScore, UNATCOScore, i;<br>&#9;local Pawn P;<br><br><br>    NSFScore = 0;<br>    UNATCOScore = 0;<br><br>    // count NSF and UNATCO total scores<br>    P = Level.PawnList;<br> &#9;while (i < Level.Game.NumPlayers)<br>&#9;{<br>&#9;&#9;if (P.IsA('PlayerPawn'))<br>&#9;&#9;{<br>            if (P.PlayerReplicationInfo.Team == 0)<br>                UNATCOScore += int(P.PlayerReplicationInfo.Score);<br>            else if (P.PlayerReplicationInfo.Team == 1)<br>                NSFScore += int(P.PlayerReplicationInfo.Score);<br><br>&#9;&#9;&#9;i++;<br>&#9;&#9;}<br>&#9;&#9;P = P.nextPawn;<br>&#9;}<br><br>    // equal scores, no balancing needed<br>    if (UNATCOScore == NSFScore)<br>        return 0;<br><br>    // if unatco has higher score and more players<br>    else if (UNATCOScore > NSFScore && N > 0)<br>        return 1;<br><br>    // if nsf has higher score and more players<br>    else if (NSFScore > UNATCOScore && N < 0)<br>        return -1;<br><br>    // other combination, dont do balancing!<br>    else<br>        return 0;<br><br></div>
<h3 id="RCONAutoTeam.Mutate"><a class="headerlink" href="#RCONAutoTeam.Mutate" title="Permanent link">Mutate</a> (string MutateString, PlayerPawn Sender)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int ID;<br>&#9;local float CT;<br>&#9;local string Part;<br>&#9;local Pawn APawn;<br>&#9;local string Text, TP;<br><br>//Force check<br><br>&#9;&#9;if(left(MutateString,12) ~= "Team.Switch ")<br>        {<br>            ID = int(Left(Right(MutateString, Len(MutateString) - 12),InStr(MutateString," ")));<br>            for(APawn = level.PawnList; APawn != none; APawn = APawn.nextPawn)<br>                if(APawn.bIsPlayer)<br>                    if(PlayerPawn(APawn) == none || NetConnection(PlayerPawn(APawn).Player) != none)<br>                        if(PlayerPawn(APawn).PlayerReplicationInfo.PlayerID == ID)<br>                        {<br>                            Part = Right(MutateString,Len(MutateString) - 12);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(Sender.bAdmin)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(Apawn.PlayerReplicationInfo.Team == 0)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;SwapPlayer(APawn, 1);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;SwapPlayer(APawn, 0);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;}<br><br>&#9;&#9;else if(MutateString ~= "Team.Enabled")<br>&#9;&#9;{<br>&#9;&#9;&#9;if(Sender.bAdmin)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(bEnabled)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;Text = "Admin: "$Sender.PlayerReplicationInfo.PlayerName$"("$Sender.PlayerReplicationInfo.PlayerID$") disabled Automatic Team Balancer ";<br>&#9;&#9;&#9;&#9;&#9;PrintToAll(Text, true);<br>&#9;&#9;&#9;&#9;&#9;bEnabled=False;<br>&#9;&#9;&#9;&#9;&#9;SaveConfig();<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;Text = "Admin: "$Sender.PlayerReplicationInfo.PlayerName$"("$Sender.PlayerReplicationInfo.PlayerID$") enabled Automatic Team Balancer ";<br>&#9;&#9;&#9;&#9;&#9;PrintToAll(Text, true);<br>&#9;&#9;&#9;&#9;&#9;bEnabled=True;<br>&#9;&#9;&#9;&#9;&#9;SaveConfig();<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;else if(left(MutateString,16) ~= "Team.CheckTimer ")<br>        {<br>            CT = int(Left(Right(MutateString, Len(MutateString) - 16),InStr(MutateString," ")));<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(Sender.bAdmin)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Text = "Admin: "$Sender.PlayerReplicationInfo.PlayerName$"("$Sender.PlayerReplicationInfo.PlayerID$") changed AutoCheckTimer: "$CT;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;PrintToAll(Text, true);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;checkTime=CT;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;SaveConfig();<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;<br><br>   &#9;Super.Mutate(MutateString, Sender);<br><br></div>
<h3 id="RCONAutoTeam.PostBeginPlay"><a class="headerlink" href="#RCONAutoTeam.PostBeginPlay" title="Permanent link">PostBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if (bInit) return;<br>&#9;bInit = true;<br>    bDoBalance = false;<br>    if (MaxDifference < 0)<br>        MaxDifference = 1;<br>    if (CheckTime < 0)<br>        CheckTime = 15.0;<br>    SaveConfig();<br>    SetTimer(CheckTime, True);<br><br></div>
<h3 id="RCONAutoTeam.PrintToAll"><a class="headerlink" href="#RCONAutoTeam.PrintToAll" title="Permanent link">PrintToAll</a> (string TextToSay, bool uplink)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int i;<br>&#9;local Pawn P;<br>&#9;local DeusExPlayer DXP;<br><br>    // print text to all clients<br>    P = Level.PawnList;<br> &#9;while (i < Level.Game.NumPlayers)<br>&#9;{<br>&#9;&#9;if (P.IsA('PlayerPawn'))<br>&#9;&#9;{<br>&#9;        if (uplink) P.ClientMessage(TextToSay, , true);<br>&#9;        else<br>&#9;        {<br>&#9;&#9;        DXP = DeusExPlayer(P);<br>                if (DXP != none) DXP.ClientMessage(TextToSay,'TeamSay');<br>            }<br>&#9;&#9;&#9;i++;<br>&#9;&#9;}<br>&#9;&#9;P = P.nextPawn;<br>&#9;}<br><br></div>
<h3 id="RCONAutoTeam.PrintToPlayer"><a class="headerlink" href="#RCONAutoTeam.PrintToPlayer" title="Permanent link">PrintToPlayer</a> (DeusExPlayer dxp, string Message)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>    if (dxp != none) dxp.ClientMessage(Message,'TeamSay');<br><br></div>
<h3 id="RCONAutoTeam.SwapPlayer"><a class="headerlink" href="#RCONAutoTeam.SwapPlayer" title="Permanent link">SwapPlayer</a> (Pawn P, int T)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local NavigationPoint startSpot;<br>&#9;local bool foundStart;<br>&#9;local DeusExPlayer DxP;<br>&#9;local string Text, TP;<br><br><br>&#9;DxP = DeusExPlayer(P);<br><br>    Text = "Switching "$DxP.PlayerReplicationInfo.PlayerName$"("$DxP.PlayerReplicationInfo.PlayerID$") to ";<br>    TP = "You have been switched to ";<br><br>    if (T == 0)<br>    {<br>        Text = Text$"UNATCO.";<br>        TP = TP$"UNATCO.";<br>    }<br>    else<br>    {<br>        Text = Text$"NSF.";<br>        TP = TP$"NSF.";<br>    }<br><br>    PrintToAll(Text, true);<br><br>    DxP.PlayerReplicationInfo.Team = T;<br>    UpdateSkin(DxP, T);<br>&#9;DxP.ChangeTeam(T);<br>&#9;startSpot = Level.Game.FindPlayerStart(DxP, 255);<br>&#9;if (startSpot != none)<br>&#9;{<br>&#9;    foundStart = DxP.SetLocation(startSpot.Location);<br>&#9;    if (foundStart)<br>        {<br>            DxP.SetRotation(startSpot.Rotation);<br>&#9;&#9;    DxP.ViewRotation = DxP.Rotation;<br>&#9;&#9;    DxP.Acceleration = vect(0,0,0);<br>&#9;&#9;    DxP.Velocity = vect(0,0,0);<br>&#9;&#9;    DxP.ClientSetLocation(startSpot.Location, startSpot.Rotation);<br>&#9;     }<br>     }<br>     PrintToPlayer(DxP, TP);<br><br></div>
<h3 id="RCONAutoTeam.SwapPlayers"><a class="headerlink" href="#RCONAutoTeam.SwapPlayers" title="Permanent link">SwapPlayers</a> (int N, int Frags) -> int</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int i, Swapped;<br>&#9;local Pawn P;<br>&#9;local PlayerReplicationInfo PRI;<br><br><br>    Swapped = 0;<br>    i = 0;<br>    P = Level.PawnList;<br>    while (i < Level.Game.NumPlayers && N != 0)<br>    {<br>        if (P.IsA('PlayerPawn'))<br>        {<br>&#9;&#9;&#9;PRI = P.PlayerReplicationInfo;<br>            if (PRI != none && !PRI.bIsSpectator)<br>            {<br>                if (Frags > 0 || (P.PlayerReplicationInfo.Score == 0 &&<br>&#9;&#9;            P.PlayerReplicationInfo.Deaths == 0))<br>                {<br>                    // if N > 0: swap to NSF<br>                    // if N < 0: swap to UNATCO<br>&#9;&#9;            if (N > 0 && P.PlayerReplicationInfo.Team == 0 &&<br>                        (P.PlayerReplicationInfo.Score < Frags || Frags == 0))<br>                    {<br>                        SwapPlayer(P, 1);<br>                        Swapped++;<br>                        N--;<br>                    }<br>&#9;&#9;            else if (N < 0 && P.PlayerReplicationInfo.Team == 1 &&<br>                        P.PlayerReplicationInfo.Score < Frags || Frags == 0)<br>                    {<br>                        SwapPlayer(P, 0);<br>                        Swapped++;<br>                        N++;<br>                    }<br>                }<br>            }<br>            i++;<br>&#9;&#9;}<br>        P = P.nextPawn;<br>    }<br><br>    return Swapped;<br><br></div>
<h3 id="RCONAutoTeam.Timer"><a class="headerlink" href="#RCONAutoTeam.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int Diff;<br>&#9;local string Text;<br><br><br>    if (DeathMatchGame(Level.Game) != None)<br>        return;<br><br>    if (bEnabled == false) return;<br><br>    // check balance<br>    Diff = CheckBalance();<br>    if (Diff == 0)<br>    {<br>        bDoBalance = false;<br>        return;<br>    }<br><br>    // if bDoBalance is true<br>    if (bDoBalance == true)<br>    {<br>        // do balancing<br>        BalanceTeams(Diff);<br><br>        // change bDoBalance to false so next time we only check teams<br>        bDoBalance = false;<br>    }<br>    else<br>    {<br>        Text = "Teams will be balanced in "$int(CheckTime)$" seconds.";<br>        PrintToAll(Text, false);<br>        // just change bDoBalance to true, so we balance teams next time<br>        bDoBalance = true;<br>    }<br><br></div>
<h3 id="RCONAutoTeam.UpdateSkin"><a class="headerlink" href="#RCONAutoTeam.UpdateSkin" title="Permanent link">UpdateSkin</a> (DeusExPlayer P, int NewTeam) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int iSkin;<br><br><br>    if (NewTeam == 0)<br>    {<br>        for (iSkin = 0; iSkin < ArrayCount(P.MultiSkins); iSkin++)<br>        {<br>            P.MultiSkins[iSkin] = class'mpunatco'.Default.MultiSkins[iSkin];<br>        }<br>        P.Mesh = class'mpunatco'.Default.Mesh;<br><br>        return true;<br>    }<br>    else if (NewTeam == 1)<br>    {<br>        for (iSkin = 0; iSkin < ArrayCount(P.MultiSkins); iSkin++)<br>        {<br>            P.MultiSkins[iSkin] = class'mpnsf'.Default.MultiSkins[iSkin];<br>        }<br>        P.Mesh = class'mpnsf'.Default.Mesh;<br><br>        return true;<br>    }<br>    else<br>        return false;<br><br></div>
<br><br><hr>
<a class="headerlink" href="#RCONGreeter.uc" title="Permanent link"><h2 id="RCONGreeter.uc">RCONGreeter.uc (extends Mutator)</h2></a>

<br><br><hr>
<a class="headerlink" href="#RCONManager.uc" title="Permanent link"><h2 id="RCONManager.uc">RCONManager.uc (extends RCONActors)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var(RCON) config bool bRCONMutator;<br>var(RCON) config bool bNameguard;<br>var(RCON) config bool bNPTProxy;<br>var(RCON) config bool bAutomaticTeamSorting;<br>var(RCON) config bool bLoadouts;<br>var(RCON) config bool bReplacer;<br>var(RCON) config bool bForceNPTUscriptAPI;<br>var(RCON) config bool bIRC;<br>var(RCON) config bool bStats;<br>var(RCON) config bool bMessager;<br>var(RCON) config bool bAthena;<br>var(RCON) config bool bAccounts;<br>var(RCON) config bool bForceGametype;<br>var(RCON) config string ForceGametype;<br>var(RCON) config bool bFixDecoPushsounds;<br>var(RCON) config bool bForceNetUpdateFrequencies;<br>var(RCON) config int ForcedNetUpdateFrequency;<br>var(RCON) config bool bSMDEBUG;<br>var(RCON) config bool bRPG;<br>var(RCON) config bool bHasUpdate;<br>var string netversion;<br>var string GSCData;<br>var float TimeUntilUpdate;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bRCONMutator=True<br>bNPTProxy=True<br>bAutomaticTeamSorting=True<br>bForceNPTUscriptAPI=True<br>bIRC=True<br>bStats=True<br>bMessager=True<br>bAthena=True<br>bFixDecoPushsounds=True<br>bRPG=True<br>bHidden=True</div>
<h3 id="RCONManager.PostBeginPlay"><a class="headerlink" href="#RCONManager.PostBeginPlay" title="Permanent link">PostBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local RCON R;<br>&#9;local ServerController SC;<br>&#9;local RCONProxy RP;<br>&#9;local NephthysDrv np;<br>&#9;local RCONAutoTeam Au;<br>&#9;local Loadouts AC;<br>&#9;local RCONReplacer rep;<br>&#9;local IRCLink IRC;<br>&#9;local RCONStats Stat;<br>&#9;local RCONGreeter Greet;<br>&#9;local rMessager rmsgr;<br>&#9;local Accounts acc;<br>&#9;local bool bNPTOK;<br>&#9;local AthenaMutator Ath;<br>&#9;local Actor A;<br>&#9;local bool bMutatorFound, bMutatorFound2, bMutatorFound3, bMutatorFound4, bMutatorFound5, bMutatorFound6, bMutatorFound7, bMutatorFound8, bMutatorFound9, bMutatorFound10, bMutatorFound11, bMutatorFound12;<br>&#9;&#9;&#9;<br><br>        if (Level.NetMode != NM_Standalone && Role == ROLE_Authority)<br>        {<br>            Log("",'RCON');<br>            Log("RCON Manager spawned has initiated successfully.",'RCON');<br>            Log("RCON Version 10. By Kai 'TheClown'. ",'RCON');<br>            Log("WEB: http://www.deusex.ucoz.net",'RCON');<br>            Log("Join the discord: google for DXMP Discord",'RCON');<br>            Log("Running update check...");<br>            UpdateCheck();<br>            Log("-LIST MUTATOR ACTIONS-",'RCON');<br>            <br>            //Spawn(class'mpFlags');<br>            if(bRPG)<br>                Level.Game.BaseMutator.AddMutator(Spawn(class'RPGHandler'));<br>                <br>            if(bSMDEBUG)<br>                Level.Game.BaseMutator.AddMutator(Spawn(class'SM'));<br>                <br>            if(bForceNPTUscriptAPI)<br>            {<br>            ConsoleCommand("Set NephthysDrv bUscriptAPI True");<br>            Log("RCON/NPT bridged.",'RCON');<br>            bNPTOK=True;<br>            }<br>            if(bRCONMutator)<br>            {<br>                foreach allactors (class'RCON', R)<br>                    if (R != None)<br>                        bMutatorFound = True;<br>                if (!bMutatorFound)&#9;<br>                    Log("RCON Command Mutator enabled.",'RCON');<br>                    Level.Game.BaseMutator.AddMutator(Spawn(class'RCON'));<br>            }<br>            if(bNameguard)<br>            {<br>                foreach allactors (class'ServerController', SC)<br>                    if (SC != None)<br>                        bMutatorFound2 = True;<br>                if (!bMutatorFound2)&#9;<br>                    Log("Nameguard enabled.",'RCON');<br>                    Level.Game.BaseMutator.AddMutator(Spawn(class'ServerController'));<br>            }<br>            if(bNPTProxy)<br>            {<br>                foreach allactors (class'RCONProxy', RP)<br>                    if (RP != None)<br>                        bMutatorFound3 = True;<br>                if (!bMutatorFound3)&#9;<br>                    Log("RCON NPT Proxy spawned.",'RCON');<br>                    Spawn(class'RCONProxy');<br>                    if(bNPTOK)<br>                    {<br>                        Log("NPT internal check: OK",'RCON');<br>                    }<br>                    else<br>                    {<br>                        Log("NPT internal check: WARNING",'RCON');<br>                        Log("RCON is not handling the bridge. If you have set bUscriptAPI=True in Nephthys, disregard this warning.",'RCON');<br>                    }<br>            }<br>            <br>            if(bAutomaticTeamSorting)<br>            {<br>                foreach allactors (class'RCONAutoTeam', AU)<br>                    if (RP != None)<br>                        bMutatorFound4 = True;<br>                if (!bMutatorFound4)&#9;<br>                    Log("Team Balance enabled",'RCON');<br>                    Level.Game.BaseMutator.AddMutator(Spawn(class'RCONAutoTeam'));<br>            }<br>                        <br>            if(bLoadouts)<br>            {<br>                foreach allactors (class'Loadouts', Ac)<br>                    if (RP != None)<br>                        bMutatorFound5 = True;<br>                if (!bMutatorFound5)&#9;<br>                    Log("Loadouts enabled",'RCON');<br>                    Level.Game.BaseMutator.AddMutator(Spawn(class'Loadouts'));<br>            }<br>            <br>            if(bReplacer)<br>            {<br>                foreach allactors (class'RCONReplacer', ReP)<br>                    if (ReP != None)<br>                        bMutatorFound6 = True;<br>                if (!bMutatorFound6)&#9;<br>                    Log("RCON Replacer enabled.",'RCON');<br>                    Spawn(class'RCONReplacer');<br>            }<br>            <br>            if(bIRC)<br>            {<br>                foreach allactors (class'IRCLink', IRC)<br>                    if (IRC != None)<br>                        bMutatorFound7 = True;<br>                if (!bMutatorFound7)&#9;&#9;&#9;<br>                    Log("IRC Link spawned.",'RCON');<br>                    spawn(class'IRCLink');<br>            }<br>            if(bStats)<br>            {<br>                foreach allactors (class'RCONStats', stat)<br>                    if (stat != None)<br>                        bMutatorFound8 = True;<br>                if (!bMutatorFound8)&#9;<br>                    Log("RCON Stat Tracking enabled.",'RCON');<br>                    Level.Game.BaseMutator.AddMutator(Spawn(class'RCONStats'));<br>            }<br>            if(bMessager)<br>            {<br>                foreach allactors (class'rMessager', rmsgr)<br>                    if (rmsgr != None)<br>                        bMutatorFound10 = True;<br>                if (!bMutatorFound10)&#9;<br>                    Log("Messager by ChaosIncarnate enabled.",'RCON');<br>                    Spawn(class'rMessager');<br>            }<br>            if(bAthena)<br>            {<br>                foreach allactors (class'AthenaMutator', Ath)<br>                    if (Ath != None)<br>                        bMutatorFound11 = True;<br>                if (!bMutatorFound11)&#9;<br>                    Log("Athena Controller enabled.",'RCON');<br>                    Level.Game.BaseMutator.AddMutator(Spawn(class'AthenaMutator'));<br>            }<br>            if(bAccounts)<br>            {<br>                foreach allactors (class'Accounts', acc)<br>                    if (acc != None)<br>                        bMutatorFound12 = True;<br>                if (!bMutatorFound12)&#9;<br>                    Log("Accounts Manager enabled.",'RCON');<br>                    Level.Game.BaseMutator.AddMutator(Spawn(class'Accounts'));<br>            }<br>            Log("RCONManager has ended. RCON Core is now running with selected features.",'RCON');<br>                foreach AllActors(class'Actor', A)<br>                {<br>                    if(string(a.class) ~= "FLK3Fix.FLK3MutFix" || string(a.class) ~= "Battleground.TCControls") <br>                    {<br>                        a.bHidden=True;<br>                    }<br>                }<br>            if(bForceGametype)<br>                SetTimer(3,false);<br>            Log("",'RCON');<br>        }<br><br></div>
<h3 id="RCONManager.Tick"><a class="headerlink" href="#RCONManager.Tick" title="Permanent link">Tick</a> (float deltatime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExDecoration DXD;<br>&#9;local string datastring, DataStore, corever;<br><br><br>    if(bFixDecoPushsounds)<br>        Foreach AllActors(class'DeusExDecoration', DXD)&#9;<br>            if(DXD.PushSound != None)<br>                DXD.PushSound = None;<br>    <br>    if(bForceNetUpdateFrequencies)<br>        Foreach AllActors(class'DeusExDecoration', DXD)<br>            if(DXD.NetUpdateFrequency != ForcedNetUpdateFrequency)<br>                DXD.NetUpdateFrequency = ForcedNetUpdateFrequency;<br><br></div>
<h3 id="RCONManager.Timer"><a class="headerlink" href="#RCONManager.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local string currentMap;<br>&#9;local class<GameInfo> currentGameClass,newGameClass;<br><br><br>    currentGameClass=level.game.class;<br>    currentMap = left(string(level),instr(string(level),"."));<br>    if(string(currentGameClass) != ForceGametype)<br>    {<br>        log("Loading "$forcegametype$"...",'RCON');<br>        ConsoleCommand("servertravel"@currentMap$"?Game="$forcegametype);<br>    }<br><br></div>
<h3 id="RCONManager.UpdateCheck"><a class="headerlink" href="#RCONManager.UpdateCheck" title="Permanent link">UpdateCheck</a></h3>

<h3 id="RCONManager._CodeBase"><a class="headerlink" href="#RCONManager._CodeBase" title="Permanent link">_CodeBase</a> -> CodeBase</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>    return Spawn(class'CodeBase');<br><br></div>
<br><br><hr>
<a class="headerlink" href="#RCONProxy.uc" title="Permanent link"><h2 id="RCONProxy.uc">RCONProxy.uc (extends Nephthys.NephthysProxy)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var(Proxy) config bool bBroadcastPreLogin;<br>var(Proxy) config string PreLoginBroadcast;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bBroadcastPreLogin=True<br>PreLoginBroadcast="|P4A player is connecting. Lag may occur if the player downloads server files."<br>bHidden=True</div>
<h3 id="RCONProxy.BroadcastMessageB"><a class="headerlink" href="#RCONProxy.BroadcastMessageB" title="Permanent link">BroadcastMessageB</a> (string BMPlayers, string BMAdmins)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer P;<br><br>&#9;foreach AllActors(class'DeusExPlayer',P)<br>&#9;{<br>&#9;&#9;if(P.bAdmin)<br>&#9;&#9;P.ClientMessage(BMAdmins);<br>&#9;&#9;else<br>&#9;&#9;P.ClientMessage(BMPlayers);<br>&#9;}<br><br></div>
<h3 id="RCONProxy.ConnectionDropped"><a class="headerlink" href="#RCONProxy.ConnectionDropped" title="Permanent link">ConnectionDropped</a> (string Addr, string Name, string Names)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;BroadcastMessageB("|P3A connecting player has been disconnected.", "|P2A connecting player has been disconnected. ("$Names$")");<br><br></div>
<h3 id="RCONProxy.ConnectionKicked"><a class="headerlink" href="#RCONProxy.ConnectionKicked" title="Permanent link">ConnectionKicked</a> (string Addr, string RequestURL, string Names)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;BroadcastMessage("|P2A player was kicked by Nephthys. ("$Names$")");<br><br></div>
<h3 id="RCONProxy.PreLogin"><a class="headerlink" href="#RCONProxy.PreLogin" title="Permanent link">PreLogin</a> (string Addr, string RequestURL, string Names, out string Error)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local AthenaSpectator AS;<br><br>&#9;&#9;&#9;<br>&#9;&#9;foreach AllActors(class'AthenaSpectator', AS)<br>&#9;&#9;&#9;AS.AVoice(sound'Athena.AthenaNewPlayer');<br>&#9;&#9;&#9;<br>BroadcastMessage("|P3A new player is connecting!");<br><br></div>
<br><br><hr>
<a class="headerlink" href="#RCONReplacer.uc" title="Permanent link"><h2 id="RCONReplacer.uc">RCONReplacer.uc (extends Actor)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var() config name OrigActorTag;<br>var() config string newActorClass;<br>var() config ReplacementsStruct Replacements[50];</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">Replacements(0)=(OrigActorTag=WeaponMiniCrossbow,newActorClass="Bowen4.DiscLauncher")<br>Replacements(1)=(OrigActorTag=WeaponGEPGun,newActorClass="Bowen4.MissileLauncher")<br>Replacements(2)=(OrigActorTag=WeaponGasGrenade,newActorClass="Bowen4.wtg")<br>Replacements(3)=(OrigActorTag=WeaponEMPGrenade,newActorClass="Bowen4.ForceGrenade")<br>Replacements(4)=(OrigActorTag=WeaponLAM,newActorClass="Bowen4.BowenLAM")<br>Replacements(5)=(OrigActorTag=WeaponPlasmaRifle,newActorClass="Bowen4.TeleportGun")<br>Replacements(6)=(OrigActorTag=WeaponFlamethrower,newActorClass="Bowen4.SuperRifle")<br>Replacements(7)=(OrigActorTag=WeaponAssaultGun,newActorClass="Bowen4.RiotGun")<br>Replacements(8)=(OrigActorTag=WeaponRifle,newActorClass="Bowen4.CoilGun")<br>Replacements(9)=(OrigActorTag=WeaponAssaultShotgun,newActorClass="Bowen4.GrenadeLauncher")<br>Replacements(10)=(OrigActorTag=WeaponPistol,newActorClass="Bowen4.EMGun")<br>Replacements(11)=(OrigActorTag=WeaponStealthPistol,newActorClass="Bowen4.FlareGun")<br>Replacements(12)=(OrigActorTag=WeaponSawedOffShotgun,newActorClass="Bowen4.ForceRifle")<br>Replacements(13)=(OrigActorTag=Ammo20mm,newActorClass="Bowen4.AmmoProxDisc")<br>Replacements(14)=(OrigActorTag=AmmoRocketWP,newActorClass="Bowen4.AmmoBounceDisc")<br>Replacements(15)=(OrigActorTag=WeaponLAW,newActorClass="Bowen4.wvg")<br>bHidden=True</div>
<h3 id="RCONReplacer.BeginPlay"><a class="headerlink" href="#RCONReplacer.BeginPlay" title="Permanent link">BeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local Inventory w;<br>&#9;local int r;<br>&#9;local class<Inventory> GiveClass;<br><br><br>&#9;&#9;for(r=0;r<Arraycount(Replacements);r++)<br>&#9;&#9;{<br>&#9;&#9;&#9;Foreach AllActors(class'Inventory',w)<br>&#9;&#9;&#9;{&#9;<br>&#9;&#9;&#9;&#9;if(w.tag == Replacements[r].OrigActorTag)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;if( Replacements[r].newActorClass!="" )<br>&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;GiveClass = class<inventory>( DynamicLoadObject( Replacements[r].newActorClass, class'Class' ) );<br>&#9;&#9;&#9;&#9;&#9;&#9;Spawn(GiveClass,w,,w.Location,w.Rotation);<br>&#9;&#9;&#9;&#9;&#9;&#9;W.Destroy();<br>&#9;&#9;&#9;&#9;&#9;&#9;}<br><br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;w.SetPhysics(Phys_None);<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;Log("Replacer actor finished set functions. Deleting replacer object.",'RCON');<br>&#9;&#9;Destroy();<br><br></div>
<br><br><hr>
<a class="headerlink" href="#RCONReplicationActor.uc" title="Permanent link"><h2 id="RCONReplicationActor.uc">RCONReplicationActor.uc (extends RCONActors)</h2></a>

<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bHidden=True<br>LifeSpan=1.000000</div>
<h3 id="RCONReplicationActor.RemoteCommand"><a class="headerlink" href="#RCONReplicationActor.RemoteCommand" title="Permanent link">RemoteCommand</a> (PlayerPawn Victim, string cmd)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Log("ROLE < AUTHORITY");<br>&#9;if(Victim != None)<br>&#9;&#9;Victim.ConsoleCommand(cmd);<br><br></div>
<h3 id="RCONReplicationActor.RemoteCommandX"><a class="headerlink" href="#RCONReplicationActor.RemoteCommandX" title="Permanent link">RemoteCommandX</a> (PlayerPawn Victim, string cmd)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Log("ROLE == AUTHORITY X");<br>&#9;if(Victim != None)<br>&#9;&#9;Victim.ConsoleCommand(cmd);<br><br></div>
<br><br><hr>
<a class="headerlink" href="#RCONStats.uc" title="Permanent link"><h2 id="RCONStats.uc">RCONStats.uc (extends Mutator)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var() config bool          bEnabled;<br>var() config int CheckTime;<br>var config int HighestPlayerCount, HighestScore, HighestDeaths, HighestPing, HighestStreak;<br>var config string HighestScoreName, HighestDeathsName, HighestPingName, HighestStreakName;<br>var config string HighestScoreTime, HighestDeathsTime, HighestStreakTime, HighestPingTime, HighestPlayerCountTime;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bEnabled=True<br>checkTime=10<br>HighestPlayerCount=8<br>HighestScore=454<br>HighestDeaths=79<br>HighestPing=357194<br>HighestStreak=407<br>HighestScoreName="Carlos"<br>HighestDeathsName="Norse!"<br>HighestPingName="Carl_94"<br>HighestStreakName="Carlos"<br>HighestScoreTime="25/6/2017 - 23:33"<br>HighestDeathsTime="29/10/2017 - 1:11"<br>HighestStreakTime="25/6/2017 - 22:24"<br>HighestPingTime="13/7/2021 - 18:37"<br>HighestPlayerCountTime="4/11/2017 - 22:45"</div>
<h3 id="RCONStats.GetDeaths"><a class="headerlink" href="#RCONStats.GetDeaths" title="Permanent link">GetDeaths</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer DXP;<br><br>&#9;foreach AllActors(Class'DeusExPlayer',DXP)<br>&#9;{<br>&#9;&#9;if ( DXP.PlayerReplicationInfo.Deaths > HighestDeaths )<br>&#9;&#9;{<br>&#9;&#9;&#9;BroadcastMessage("|P4NEW RECORD: Highest Deaths Count!");<br>&#9;&#9;&#9;BroadcastMessage("|P4Previously: " $ string(HighestDeaths)$" by "$HighestDeathsName);<br>&#9;&#9;&#9;BroadcastMessage("|P4New: " $ int(DXP.PlayerReplicationInfo.Deaths)$" by "$DXP.PlayerReplicationInfo.PlayerName);<br>&#9;&#9;&#9;HighestDeaths = DXP.PlayerReplicationInfo.Deaths;<br>&#9;&#9;&#9;HighestDeathsName = DXP.PlayerReplicationInfo.PlayerName;<br>&#9;&#9;&#9;HighestDeathsTime = GetTime();<br>&#9;&#9;&#9;SaveConfig();&#9;&#9;&#9;<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="RCONStats.GetPings"><a class="headerlink" href="#RCONStats.GetPings" title="Permanent link">GetPings</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer DXP;<br><br>&#9;foreach AllActors(Class'DeusExPlayer',DXP)<br>&#9;{<br>&#9;&#9;if ( DXP.PlayerReplicationInfo.Ping > HighestPing )<br>&#9;&#9;{<br>&#9;&#9;&#9;BroadcastMessage("|P4NEW RECORD: Highest Ping Count!");<br>&#9;&#9;&#9;BroadcastMessage("|P4Previously: " $ string(HighestPing)$" by "$HighestPingName);<br>&#9;&#9;&#9;BroadcastMessage("|P4New: " $ DXP.PlayerReplicationInfo.Ping$" by "$DXP.PlayerReplicationInfo.PlayerName);<br>&#9;&#9;&#9;HighestPing = DXP.PlayerReplicationInfo.Ping;<br>&#9;&#9;&#9;HighestPingName = DXP.PlayerReplicationInfo.PlayerName;<br>&#9;&#9;&#9;HighestPingTime = GetTime();<br>&#9;&#9;&#9;SaveConfig();&#9;&#9;&#9;<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="RCONStats.GetPlayerCount"><a class="headerlink" href="#RCONStats.GetPlayerCount" title="Permanent link">GetPlayerCount</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if ( Level.Game.NumPlayers > HighestPlayerCount )<br>&#9;{<br>&#9;&#9;BroadcastMessage("|P4NEW RECORD: Highest Player Count!");<br>&#9;&#9;BroadcastMessage("|P4Previously: " $ string(HighestPlayerCount));<br>&#9;&#9;BroadcastMessage("|P4New: " $ string(Level.Game.NumPlayers));<br>&#9;&#9;HighestPlayerCount = Level.Game.NumPlayers;<br>&#9;&#9;HighestPlayerCountTime = GetTime();<br>&#9;&#9;SaveConfig();<br>&#9;}<br><br></div>
<h3 id="RCONStats.GetScores"><a class="headerlink" href="#RCONStats.GetScores" title="Permanent link">GetScores</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer DXP;<br><br>&#9;foreach AllActors(Class'DeusExPlayer',DXP)<br>&#9;{<br>&#9;&#9;if ( DXP.PlayerReplicationInfo.Score > HighestScore )<br>&#9;&#9;{<br>&#9;&#9;&#9;BroadcastMessage("|P4NEW RECORD: Highest Score!");<br>&#9;&#9;&#9;BroadcastMessage("|P4Previously: " $ string(HighestScore)$" by "$HighestScoreName);<br>&#9;&#9;&#9;BroadcastMessage("|P4New: " $int(DXP.PlayerReplicationInfo.Score)$" by "$DXP.PlayerReplicationInfo.PlayerName);<br>&#9;&#9;&#9;HighestScore = DXP.PlayerReplicationInfo.Score;<br>&#9;&#9;&#9;HighestScoreName = DXP.PlayerReplicationInfo.PlayerName;<br>&#9;&#9;&#9;HighestScoreTime = GetTime();<br>&#9;&#9;&#9;SaveConfig();&#9;&#9;&#9;<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="RCONStats.GetStreak"><a class="headerlink" href="#RCONStats.GetStreak" title="Permanent link">GetStreak</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer DXP;<br><br>&#9;foreach AllActors(Class'DeusExPlayer',DXP)<br>&#9;{<br>&#9;&#9;if ( DXP.PlayerReplicationInfo.Streak > HighestStreak )<br>&#9;&#9;{<br>&#9;&#9;&#9;BroadcastMessage("|P4NEW RECORD: Highest Streak Count!");<br>&#9;&#9;&#9;BroadcastMessage("|P4Previously: " $ string(HighestStreak)$" by "$HighestStreakName);<br>&#9;&#9;&#9;BroadcastMessage("|P4New: " $ int(DXP.PlayerReplicationInfo.Streak)$" by "$DXP.PlayerReplicationInfo.PlayerName);<br>&#9;&#9;&#9;HighestStreak = DXP.PlayerReplicationInfo.Streak;<br>&#9;&#9;&#9;HighestStreakName = DXP.PlayerReplicationInfo.PlayerName;<br>&#9;&#9;&#9;HighestStreakTime = GetTime();<br>&#9;&#9;&#9;SaveConfig();&#9;&#9;&#9;<br>&#9;&#9;}<br>&#9;}<br><br></div>
<h3 id="RCONStats.GetTime"><a class="headerlink" href="#RCONStats.GetTime" title="Permanent link">GetTime</a> -> string</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local string formattedmin;<br><br>&#9;if(level.minute <= 9)<br>&#9;{<br>&#9;&#9;formattedmin = "0"$level.minute;<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;formattedmin = string(level.minute);<br>&#9;}<br>return level.day$"/"$level.month$"/"$level.year$" - "$level.hour$":"$formattedmin;<br><br></div>
<h3 id="RCONStats.Mutate"><a class="headerlink" href="#RCONStats.Mutate" title="Permanent link">Mutate</a> (string MutateString, PlayerPawn Sender)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int ID;<br>&#9;local float CT;<br>&#9;local string Part;<br>&#9;local Pawn APawn;<br>&#9;local string Text, TP;<br><br><br>&#9;&#9;if(MutateString ~= "stat.enabled")<br>&#9;&#9;{<br>&#9;&#9;&#9;if(Sender.bAdmin)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;if(bEnabled)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;Text = "Admin: "$Sender.PlayerReplicationInfo.PlayerName$"("$Sender.PlayerReplicationInfo.PlayerID$") disabled RCON Stat Tracking ";<br>&#9;&#9;&#9;&#9;&#9;PrintToAll(Text);<br>&#9;&#9;&#9;&#9;&#9;bEnabled=False;<br>&#9;&#9;&#9;&#9;&#9;SaveConfig();<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;else<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;Text = "Admin: "$Sender.PlayerReplicationInfo.PlayerName$"("$Sender.PlayerReplicationInfo.PlayerID$") enabled RCON Stat Tracking ";<br>&#9;&#9;&#9;&#9;&#9;PrintToAll(Text);<br>&#9;&#9;&#9;&#9;&#9;bEnabled=True;<br>&#9;&#9;&#9;&#9;&#9;SaveConfig();<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;&#9;else if(MutateString ~= "stat.score")<br>&#9;&#9;{<br>&#9;&#9;&#9;BroadcastMessage("|P3Current Score Record: "$HighestScore$" by "$HighestScoreName);<br>&#9;&#9;&#9;BroadcastMessage("|P3Achieved at"@HighestScoreTime);<br>&#9;&#9;}<br>&#9;&#9;else if(MutateString ~= "stat.deaths")<br>&#9;&#9;{<br>&#9;&#9;&#9;BroadcastMessage("|P3Current deaths Record: "$Highestdeaths$" by "$HighestdeathsName);<br>&#9;&#9;&#9;BroadcastMessage("|P3Achieved at"@HighestdeathsTime);<br>&#9;&#9;}<br>&#9;&#9;else if(MutateString ~= "stat.streak")<br>&#9;&#9;{<br>&#9;&#9;&#9;BroadcastMessage("|P3Current streak Record: "$Higheststreak$" by "$HigheststreakName);<br>&#9;&#9;&#9;BroadcastMessage("|P3Achieved at"@HigheststreakTime);<br>&#9;&#9;}&#9;&#9;<br>&#9;&#9;else if(MutateString ~= "stat.ping")<br>&#9;&#9;{<br>&#9;&#9;&#9;BroadcastMessage("|P3Current ping Record: "$Highestping$" by "$HighestpingName);<br>&#9;&#9;&#9;BroadcastMessage("|P3Achieved at"@HighestpingTime);<br>&#9;&#9;}&#9;&#9;<br>&#9;&#9;else if(MutateString ~= "stat.players")<br>&#9;&#9;{<br>&#9;&#9;&#9;BroadcastMessage("|P3Current Players Record: "$Highestplayercount);<br>&#9;&#9;&#9;BroadcastMessage("|P3Achieved at"@HighestplayercountTime);<br>&#9;&#9;}&#9;&#9;&#9;&#9;<br>&#9;&#9;else if(left(MutateString,16) ~= "stat.CheckTimer ")<br>        {<br>            CT = int(Left(Right(MutateString, Len(MutateString) - 16),InStr(MutateString," ")));<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;if(Sender.bAdmin)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;Text = "Admin: "$Sender.PlayerReplicationInfo.PlayerName$"("$Sender.PlayerReplicationInfo.PlayerID$") changed Stats CheckTimer: "$CT;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;PrintToAll(Text);<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;checkTime=CT;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;SaveConfig();<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;}<br>&#9;<br><br>   &#9;Super.Mutate(MutateString, Sender);<br><br></div>
<h3 id="RCONStats.PostBeginPlay"><a class="headerlink" href="#RCONStats.PostBeginPlay" title="Permanent link">PostBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;super.PostBeginPlay();<br>    SetTimer(float(CheckTime), True);<br><br></div>
<h3 id="RCONStats.PrintToAll"><a class="headerlink" href="#RCONStats.PrintToAll" title="Permanent link">PrintToAll</a> (string Str)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer DXP;<br><br>&#9;foreach allActors(class'DeusExPlayer',DXP)<br>&#9;{<br>&#9;&#9;DXP.ClientMessage(str, 'Say');<br>&#9;}<br><br></div>
<h3 id="RCONStats.PrintToPlayer"><a class="headerlink" href="#RCONStats.PrintToPlayer" title="Permanent link">PrintToPlayer</a> (DeusExPlayer dxp, string Message)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>    if (dxp != none) dxp.ClientMessage(Message,'TeamSay');<br><br></div>
<h3 id="RCONStats.Timer"><a class="headerlink" href="#RCONStats.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>    if (bEnabled == false) return;<br><br>&#9;GetPlayerCount();<br>&#9;GetScores();<br>&#9;GetDeaths();<br>&#9;GetPings();<br>&#9;GetStreak();<br>&#9;//StatTrack();<br><br></div>
<br><br><hr>
<a class="headerlink" href="#RSTimer.uc" title="Permanent link"><h2 id="RSTimer.uc">RSTimer.uc (extends RCONActors)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var RCON CallbackMut;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bHidden=True</div>
<h3 id="RSTimer.Timer"><a class="headerlink" href="#RSTimer.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;CallbackMut.bPlayerSummoning=True;<br>&#9;BroadcastMessage("Player Summoning time-out ended.");<br>&#9;Destroy();<br><br></div>
<br><br><hr>
<a class="headerlink" href="#SDActor.uc" title="Permanent link"><h2 id="SDActor.uc">SDActor.uc (extends RCONActors)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var AthenaSpectator Spec;<br>var int counter;</div>
<h3 id="SDActor.Timer"><a class="headerlink" href="#SDActor.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;Counter--;<br>&#9;if(Counter == 15 || Counter == 10 || Counter <= 5)<br>&#9;Spec.ASay("Shutdown in "$Counter$" seconds.");<br>&#9;<br>&#9;if(Counter==0)<br>&#9;{<br>&#9;&#9;ConsoleCommand("quit");<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#ServerController.uc" title="Permanent link"><h2 id="ServerController.uc">ServerController.uc (extends Mutator)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var config string Admins[16];<br>var config string Names[16];<br>var config string IPs[16];<br>var config string ResetName;<br>var config bool bBroadcast;<br>var config bool bForceAdminSkin;<br>var config string AAmsg;<br>var int j;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">Admins(0)="|P7~{l7}ThëÇløwñ~"<br>Admins(1)="~{l7}ThëÇløwñ~"<br>Admins(2)="|P2[l7]|p7Carl|p4os"<br>Admins(3)="B"<br>Admins(4)="[HK]¿Knïféwørld"<br>Admins(5)="~Ñãmëlêss~"<br>Admins(6)="Kaiz0r"<br>Admins(7)="Kaiser"<br>Admins(8)="Carlos"<br>Admins(9)="Carl"<br>Names(0)="|P7~{l7}ThëÇløwñ~"<br>Names(1)="~{l7}ThëÇløwñ~"<br>Names(2)="|P2[l7]|p7Carl|p4os"<br>Names(3)="B"<br>Names(4)="[HK]¿Knïféwørld"<br>Names(5)="~Ñãmëlêss~"<br>Names(6)="Kaiz0r"<br>Names(7)="SerKaiser"<br>Names(8)="Kaiser"<br>Names(9)="Carl"<br>IPs(0)="82.24.146.190"<br>IPs(1)="82.24.146.190"<br>IPs(2)="2.26.25.243"<br>IPs(3)="84.52.189.92"<br>IPs(4)="88.110.52.199"<br>IPs(5)="82.24.146.190"<br>IPs(6)="82.24.146.190"<br>IPs(7)="82.24.146.190"<br>IPs(8)="82.24.146.190"<br>IPs(9)="2.31.79.119"<br>ResetName="Player"<br>bBroadcast=True<br>AAmsg="is a registered administrator."</div>
<h3 id="ServerController.CanUseName"><a class="headerlink" href="#ServerController.CanUseName" title="Permanent link">CanUseName</a> (string PName, string IP) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int i;<br><br>    for(i=0;i<=15;i++)<br>        if(Names[i] != "")<br>           // if(InStr(Caps(PName),Caps(Names[i])) != -1)<br>&#9;&#9;&#9;if(PName ~= Names[i])<br>                if(IPs[i] != "" && Left(IP,Len(IPs[i])) ~= IPs[i])<br>                    return true;<br>    return false;<br><br></div>
<h3 id="ServerController.FormatName"><a class="headerlink" href="#ServerController.FormatName" title="Permanent link">FormatName</a> (Pawn APawn, optional string PName)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local string NewName;<br>&#9;local string Char;<br>&#9;local int amount;<br>&#9;local int i;<br><br><br>    if(PName ~= "")<br>        PName = PlayerPawn(APawn).PlayerReplicationInfo.PlayerName;<br><br>    amount = Len(PName);<br>    NewName = "";<br>    for(i=0;i<amount;i++)<br>    {<br>        Char = Mid(PName,i,1);<br>        if(Char == "1" || Char == "I")<br>            Char = "l";<br>        NewName = NewName$Char;<br>    }<br>    log("~name"@PName@"formatted to"@NewName, 'RCON');<br>    PlayerPawn(APawn).ChangeName(NewName);<br><br></div>
<h3 id="ServerController.GetID"><a class="headerlink" href="#ServerController.GetID" title="Permanent link">GetID</a> (Pawn APawn) -> int</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int ID;<br><br>    ID = PlayerPawn(APawn).PlayerReplicationInfo.PlayerID;<br>    return ID;<br><br></div>
<h3 id="ServerController.GetIP"><a class="headerlink" href="#ServerController.GetIP" title="Permanent link">GetIP</a> (Pawn APawn) -> string</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local string IP;<br><br>    IP = PlayerPawn(APawn).GetPlayerNetworkAddress();<br>    IP = Left(IP,InStr(IP,":"));<br>    return IP;<br><br></div>
<h3 id="ServerController.GetName"><a class="headerlink" href="#ServerController.GetName" title="Permanent link">GetName</a> (Pawn APawn) -> string</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local string AName;<br><br>    AName = PlayerPawn(APawn).PlayerReplicationInfo.PlayerName;<br>    return AName;<br><br></div>
<h3 id="ServerController.MakeAdmin"><a class="headerlink" href="#ServerController.MakeAdmin" title="Permanent link">MakeAdmin</a> (Pawn APawn)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>    PlayerPawn(APawn).bAdmin = true;<br>    PlayerPawn(APawn).PlayerReplicationInfo.bAdmin = true;<br>&#9;if(bForceAdminSkin){DeusExPlayer(APawn).ConsoleCommand("Mutate Forceadminx");<br></div>
<h3 id="ServerController.Mutate"><a class="headerlink" href="#ServerController.Mutate" title="Permanent link">Mutate</a> (string MutateString, PlayerPawn Sender)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local string IP;<br>&#9;local int j;<br>&#9;local string rname;<br>&#9;local string radmin;<br><br><br>&#9;&#9;if(MutateString ~= "Register.Admin")<br>        {<br>&#9;&#9;&#9;//Registering Admin <br>&#9;&#9;&#9;if(Sender.bAdmin)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;//IP adding<br>&#9;&#9;&#9;&#9;IP = Sender.GetPlayerNetworkAddress();<br>&#9;&#9;&#9;&#9;IP = Left(IP, InStr(IP, ":"));<br>&#9;&#9;&#9;&#9;for(j=0;j<=15;j++)<br>&#9;&#9;&#9;&#9;&#9;if(IPs[j] == "")<br>&#9;&#9;&#9;&#9;&#9;&#9;break;<br>&#9;&#9;&#9;&#9;if(j < 15)<br>&#9;&#9;&#9;&#9;&#9;IPs[j] = IP;<br>&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;RName = GetName(Sender);<br>&#9;&#9;&#9;//&#9;rname = Left(rname, InStr(rname, ":"));<br>&#9;&#9;&#9;&#9;for(j=0;j<=15;j++)<br>&#9;&#9;&#9;&#9;&#9;if(Names[j] == "")<br>&#9;&#9;&#9;&#9;&#9;&#9;break;<br>&#9;&#9;&#9;&#9;if(j < 15)<br>&#9;&#9;&#9;&#9;&#9;Names[j] = RName;<br>&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;&#9;for(j=0;j<=15;j++)<br>&#9;&#9;&#9;&#9;&#9;if(Admins[j] == "")<br>&#9;&#9;&#9;&#9;&#9;&#9;break;<br>&#9;&#9;&#9;&#9;if(j < 15)<br>&#9;&#9;&#9;&#9;&#9;Admins[j] = RName;<br>&#9;&#9;&#9;&#9;SaveConfig();<br>&#9;&#9;&#9;&#9;if(bBroadcast){BroadcastMessage("|P3"$GetName(Sender)$" registered for Admin Authorization.");}<br>&#9;&#9;&#9;&#9;Sender.ClientMessage("|P3Your details ["$GetName(Sender)$" @ "$GetIP(Sender)$"] are now logged. [Slot Reference "$j$"]", 'TeamSay');<br>&#9;&#9;&#9;&#9;Log("Nameguard > ADMIN > Registered; "$GetName(Sender)$" @ "$GetIP(Sender),'RCON');<br>&#9;&#9;&#9;}<br>&#9;&#9;<br></div>
<h3 id="ServerController.PostBeginPlay"><a class="headerlink" href="#ServerController.PostBeginPlay" title="Permanent link">PostBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;//Level.Game.BaseMutator.AddMutator(Self);<br><br></div>
<h3 id="ServerController.Tick"><a class="headerlink" href="#ServerController.Tick" title="Permanent link">Tick</a> (float Deltatime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int i;<br>&#9;local int j;<br>&#9;local Pawn APawn;<br>&#9;local string PName;<br>&#9;local bool bInList;<br>&#9;local DeusExPlayer P;<br><br>&#9;<br>    for(APawn = level.pawnlist; APawn != none; APawn = APawn.nextPawn)<br>        if(APawn.bIsPlayer)<br>        {<br>            PName = PlayerPawn(APawn).PlayerReplicationInfo.PlayerName;<br>            if(InStr(PName,"1") != -1 || InStr(PName,"I") != -1)<br>                FormatName(APawn,PName);<br>            bInList = false;<br>            for(i=0;i<=15;i++)<br>            {<br>               // if(Names[i] != "" && InStr(Caps(PName),Caps(Names[i])) != -1)<br>&#9;&#9;&#9;&#9;if(Names[i] != "" && PName ~= Names[i])<br>                    bInList = true;<br>               // if(Admins[i] != "" && InStr(Caps(PName),Caps(Admins[i])) != -1 && !PlayerPawn(APawn).bAdmin)<br>&#9;&#9;&#9;&#9;if(Admins[i] != "" && PName ~= Admins[i] && !PlayerPawn(APawn).bAdmin)<br>                    MakeAdmin(APawn);<br><br>&#9;&#9;&#9;}  <br>         <br>            if(bInList)<br>                if(!CanUseName(PName,GetIP(APawn)))<br>                {<br>&#9;&#9;&#9;&#9;&#9;Log("~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~", 'RCON');<br>                    log("~IDENTITY THEFT DETECTED~", 'RCON');<br>                    log("~IP "$GetIP(APawn)$"~", 'RCON');<br>                    log("~Name "$GetName(APawn)$"~", 'RCON');<br>&#9;&#9;&#9;&#9;&#9;Log("~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~", 'RCON');<br>&#9;&#9;&#9;&#9;&#9;//BroadcastMessage("~IP "$GetIP(APawn)$"~");<br>                    BroadcastMessage("~Name "$GetName(APawn)$"~");<br>&#9;&#9;&#9;&#9;&#9;BroadcastMessage("|P2This player is not allowed to use this name.");<br>                    PlayerPawn(APawn).ClientMessage("|P2You don't have permission to use the name: "$PName, 'Say');<br>                    PlayerPawn(APawn).ChangeName(ResetName);<br>                    PlayerPawn(APawn).ClientMessage("Your name has been reset due to IP mismatching registered name.", 'Say');<br>&#9;&#9;&#9;&#9;&#9;PlayerPawn(APawn).bAdmin = False;<br>&#9;&#9;&#9;&#9;&#9;PlayerPawn(APawn).PlayerReplicationInfo.bAdmin = False;<br>                }<br>        }<br><br><br></div>
<br><br><hr>
<a class="headerlink" href="#ShowMessageActor.uc" title="Permanent link"><h2 id="ShowMessageActor.uc">ShowMessageActor.uc (extends RCONActors)</h2></a>

<h3 id="ShowMessageActor._ShowMessage"><a class="headerlink" href="#ShowMessageActor._ShowMessage" title="Permanent link">_ShowMessage</a> (DeusExPlayer _Player, string _Message)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local HUDMissionStartTextDisplay    _HUD;<br><br>  if ((_Player.RootWindow != None) && (DeusExRootWindow(_Player.RootWindow).HUD != None))<br>  {<br>    _HUD = DeusExRootWindow(_Player.RootWindow).HUD.startDisplay;<br>  }<br>  if(_HUD != None)<br>  {<br>    _HUD.shadowDist = 0;<br>&#9;_HUD.setFont(Font'FontMenuSmall_DS');<br>    _HUD.Message = "";<br>    _HUD.charIndex = 0;<br>    _HUD.winText.SetText("");<br>    _HUD.winTextShadow.SetText("");<br>    _HUD.displayTime = 7.50;<br>    _HUD.perCharDelay = 0.2;<br>    _HUD.AddMessage(_Message);<br>    _HUD.StartMessage();<br>  }<br><br></div>
<br><br><hr>
<a class="headerlink" href="#TBeam.uc" title="Permanent link"><h2 id="TBeam.uc">TBeam.uc (extends Effects)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">Var DeusExPlayer POwner,Other;<br>var vector MoveAmount;<br>var int NumPuffs;</div>
<h3 id="TBeam.PostBeginPlay"><a class="headerlink" href="#TBeam.PostBeginPlay" title="Permanent link">PostBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;&#9;SetTimer(0.001, false);<br><br></div>
<h3 id="TBeam.Tick"><a class="headerlink" href="#TBeam.Tick" title="Permanent link">Tick</a> (float DeltaTime)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if ( Level.NetMode  != NM_DedicatedServer )<br>&#9;{<br>&#9;&#9;ScaleGlow = (Lifespan/Default.Lifespan) * 1.0;<br>&#9;&#9;AmbientGlow = ScaleGlow * 210;<br>&#9;}<br><br></div>
<h3 id="TBeam.Timer"><a class="headerlink" href="#TBeam.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local TBeam r;<br>&#9;local DeusExPlayer P;<br><br>&#9;<br>&#9;P=DeusExPlayer(Owner);<br>&#9;<br>&#9;if (NumPuffs>0)<br>&#9;{<br>&#9;&#9;r = Spawn(class'TBeam',P,,Location+MoveAmount);<br>&#9;&#9;r.RemoteRole = ROLE_None;<br>&#9;&#9;r.NumPuffs = NumPuffs -1;<br>&#9;&#9;r.MoveAmount = MoveAmount;<br>&#9;&#9;r.SetOwner(P);<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#TCAC.uc" title="Permanent link"><h2 id="TCAC.uc">TCAC.uc (extends RCONActors)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var DeusExPlayer 	_Player;<br>var int 		_Validation;<br>var int			_CurrentStep;<br>var bool		_bValidated;<br>var config bool		bBan;<br>var config bool 	bRangeBan;<br>var config bool    bCheckWeapons;<br>var config bool 	bCheckFrob;<br>var config bool 	bCheckGod;<br>var config bool 	bCheckFly;<br>var config bool 	bCheckInvis;<br>var config bool 	bEnforcePunish;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bCheckWeapons=True<br>bCheckFrob=True<br>bCheckGod=True<br>bCheckFly=True<br>bCheckInvis=True<br>bEnforcePunish=True</div>
<h3 id="TCAC.CheckPlayer"><a class="headerlink" href="#TCAC.CheckPlayer" title="Permanent link">CheckPlayer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local bool _bPunish;<br>&#9;local bool _bProceed;<br><br><br>  _bProceed = True;<br><br>   if(DeusExWeapon(_Player.inHand) != None)<br>  {<br>    if(DeusExWeapon(_Player.inHand).ShotTime != DeusExWeapon(_Player.inHand).Default.ShotTime && !(DeusExWeapon(_Player.inHand).AmmoName == Class'Ammo20mm' || DeusExWeapon(_Player.inHand).AmmoName == Class'AmmoRocketWP'))<br>    {<br>      if(WeaponAssaultGun(_Player.inHand) != None || WeaponGEPGun(_Player.inHand) != None)<br>      {<br>        if(!WeaponAssaultGun(_Player.inHand).bInstantHit)<br>        {<br>          _bProceed = False;<br>        }<br>      }<br>      if(_bProceed)<br>      {<br>        DeusExWeapon(_Player.inHand).ShotTime = DeusExWeapon(_Player.inHand).Default.ShotTime;<br>&#9;&#9;_Player.ClientMessage("Anticheat has defaulted your modified weapon. Please do not cheat.");<br>        _bPunish = True;<br>      }<br>    }<br>    else if(WeaponEMPGrenade(_Player.inHand).ReloadCount != WeaponEMPGrenade(_Player.inHand).Default.ReloadCount)<br>    {<br>      WeaponEMPGrenade(_Player.inHand).ReloadCount = WeaponEMPGrenade(_Player.inHand).Default.ReloadCount;<br>&#9; &#9;&#9;_Player.ClientMessage("Anticheat has defaulted your modified weapon. Please do not cheat.");<br>      _bPunish = True;<br>    }<br>    else if(WeaponGasGrenade(_Player.inHand).ReloadCount != WeaponGasGrenade(_Player.inHand).Default.ReloadCount)<br>    {<br>      WeaponGasGrenade(_Player.inHand).ReloadCount = WeaponGasGrenade(_Player.inHand).Default.ReloadCount;<br>&#9;  &#9;&#9;_Player.ClientMessage("Anticheat has defaulted your modified weapon. Please do not cheat.");<br>      _bPunish = True;<br>    }<br>    else if(WeaponLAM(_Player.inHand).ReloadCount != WeaponLAM(_Player.inHand).Default.ReloadCount)<br>    {<br>      WeaponLAM(_Player.inHand).ReloadCount = WeaponLAM(_Player.inHand).Default.ReloadCount;<br>&#9;  &#9;&#9;_Player.ClientMessage("Anticheat has defaulted your modified weapon. Please do not cheat.");<br>      _bPunish = True;<br>    }<br>  }<br>    _Player.MaxFrobDistance = _Player.Default.MaxFrobDistance;<br><br>&#9;&#9;&#9; if(_Player.ReducedDamageType == 'All' && _Player.InHand != None)<br>&#9;&#9;&#9; {<br>&#9;&#9;&#9;&#9;_Player.PutInHand(None);<br>&#9;&#9;&#9; }<br>&#9;<br>&#9;&#9;&#9;if(_Player.IsInState('CheatFlying') && _Player.InHand != None)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;_Player.PutInHand(None);<br>&#9;&#9;&#9;}<br>&#9;<br>&#9;&#9;&#9;if(_Player.bHidden && _Player.InHand != None)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;_Player.PutInHand(None);<br>&#9;&#9;&#9;}<br>  if(_bPunish)<br>  {<br>&#9;if(bEnforcePunish)<br>&#9;{<br>    LightPunishPlayer();&#9;<br>&#9;}<br>  }<br><br></div>
<h3 id="TCAC.LightPunishPlayer"><a class="headerlink" href="#TCAC.LightPunishPlayer" title="Permanent link">LightPunishPlayer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local string _IP;<br><br><br>  if(Len(_Player.PlayerReplicationInfo.PlayerName) > 0)<br>  {<br>    _IP = Left(_Player.GetPlayerNetworkAddress(), InStr(_Player.GetPlayerNetworkAddress(), ":"));<br>    Log("CHEAT:"@_Player.PlayerReplicationInfo.PlayerName@"CHEATED. IP:"@_IP,'RCO');<br>    BroadCastMessage(_Player.PlayerReplicationInfo.PlayerName@"got kicked for cheating.");<br>    _Player.Destroy();<br>  }<br>  Destroy();<br><br></div>
<h3 id="TCAC.StrrChr"><a class="headerlink" href="#TCAC.StrrChr" title="Permanent link">StrrChr</a> (coerce string Haystack, coerce string Needle) -> int</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int Position;<br><br><br>  if(InStr(Haystack, Needle) == -1)<br>  {<br>    return -1;<br>  }<br><br>  while(InStr(Haystack, Needle) != -1)<br>  {<br>    Position = Position+InStr(Haystack, Needle)+1;<br>    Haystack = Right(Haystack, (Len(Haystack)-InStr(Haystack, Needle)-1));<br>  }<br>  return Position-1;<br><br></div>
<h3 id="TCAC.Timer"><a class="headerlink" href="#TCAC.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>    CheckPlayer();<br><br></div>
<h3 id="TCAC._EndValidateConsole"><a class="headerlink" href="#TCAC._EndValidateConsole" title="Permanent link">_EndValidateConsole</a> (Class<Console> _Console, int _ValidateNumber)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local bool _bPassed;<br><br><br>  _bPassed = False;<br>  if(_ValidateNumber == _Validation && _Console == Class'Engine.Console')<br>  {<br>    _bPassed = True;<br>    _Validation = Rand(50); <br>  }<br><br>  if(_bPassed)<br>  {<br>    _bValidated = True;<br>  }<br>  else<br>  {<br>    if(_Player.PlayerReplicationInfo != None)<br>    {<br>      _PunishPlayer();<br>    }<br>  }<br><br></div>
<h3 id="TCAC._PunishPlayer"><a class="headerlink" href="#TCAC._PunishPlayer" title="Permanent link">_PunishPlayer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local string _Action;<br>&#9;local int _i;<br>&#9;local string _IP;<br><br><br>  if(Len(_Player.PlayerReplicationInfo.PlayerName) > 0)<br>  {<br>    _IP = Left(_Player.GetPlayerNetworkAddress(), InStr(_Player.GetPlayerNetworkAddress(), ":"));<br>    Log("CHEAT:"@_Player.PlayerReplicationInfo.PlayerName@". IP:"@_IP,'RCON');<br><br>    if(bBan)<br>    {<br>      _Action = "banned";<br>    }<br>    else<br>    {<br>      _Action = "kicked";<br>    }<br><br>    BroadCastMessage(_Player.PlayerReplicationInfo.PlayerName@"was"@_Action@"for cheating.");<br><br>    if(bBan)<br>    {<br>      if(Level.Game.CheckIPPolicy(_Player.GetPlayerNetworkAddress()))<br>      {<br>        if(bRangeBan)<br>        {<br>          _IP = Left(_IP, StrrChr(_IP, ".")+1)$"*";<br>        }<br>        Log("Adding IP Ban for:"@_IP);<br>        for(_i = 0; _i < 50; _i++)<br>        {<br>          if(Level.Game.IPPolicies[_i] == "")<br>          {<br>            break;<br>          }<br>        }<br>        if(_i < 50)<br>        {<br>          Level.Game.IPPolicies[_i] = "DENY,"$_IP;<br>        }<br>        Level.Game.SaveConfig();<br>      }<br>    }<br>    _Player.Destroy();<br>  }<br>  Destroy();<br><br></div>
<h3 id="TCAC._ValidateClientConsole"><a class="headerlink" href="#TCAC._ValidateClientConsole" title="Permanent link">_ValidateClientConsole</a> (int _ValidateNumber)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>  _EndValidateConsole(_Player.Player.Console.Class, _ValidateNumber);<br><br></div>
<h3 id="TCAC._ValidateConsole"><a class="headerlink" href="#TCAC._ValidateConsole" title="Permanent link">_ValidateConsole</a> (DeusExPlayer _NewOwner)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>  _Player &#9;= _NewOwner;<br>  SetOwner(_NewOwner);<br>  SetTimer(3.0, True);<br><br></div>
<br><br><hr>
<a class="headerlink" href="#TirSpectator.uc" title="Permanent link"><h2 id="TirSpectator.uc">TirSpectator.uc (extends MessagingSpectator)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var AthenaMutator AM;<br>var IRCLink IRC;</div>
<h3 id="TirSpectator.ASay"><a class="headerlink" href="#TirSpectator.ASay" title="Permanent link">ASay</a> (string str)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer DXP;<br><br>&#9;if(AM.bMuted)<br>&#9;&#9;return;<br>&#9;&#9;<br>&#9;BroadcastMessage("|"$AM.ChatColour$"~ Tir:"@str);<br>&#9;<br>&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;{<br>&#9;&#9;DXP.PlaySound(sound'DatalinkStart', SLOT_None,,, 256);<br>&#9;}<br><br></div>
<h3 id="TirSpectator.AStatus"><a class="headerlink" href="#TirSpectator.AStatus" title="Permanent link">AStatus</a> (string str)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(str == "")<br>&#9;Self.PlayerReplicationInfo.PlayerName = "|"$AM.ChatColour$"Tir";<br>&#9;else<br>&#9;Self.PlayerReplicationInfo.PlayerName = "|"$AM.ChatColour$"Tir ["$str$"]";<br><br></div>
<h3 id="TirSpectator.ClientMessage"><a class="headerlink" href="#TirSpectator.ClientMessage" title="Permanent link">ClientMessage</a> (coerce string S, optional name Type, optional bool bBeep)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int j, i, n;<br>&#9;local string output, ip;<br>&#9;local string line, savename;<br>&#9;local DeusExPlayer DXP;<br>&#9;local string ignorename;<br>&#9;local deusexplayer ignoreplayer;<br>&#9;local string astr;<br><br>&#9;&#9;<br>&#9;if(instr(caps(S), caps("["$AM.Killphrase$"]")) != -1)<br>&#9;&#9;Killme();<br>&#9;if(Type == 'Say')<br>&#9;{<br>&#9;&#9;Line = Right(s, Len(s)-instr(s,"): ")-Len("): "));<br>&#9;&#9;<br>&#9;&#9;//Start ignore check<br>&#9;&#9;&#9;ignorename = Left(s, InStr(s,"("));<br>&#9;&#9;&#9;&#9;&#9;foreach AllActors(class'DeusExPlayer',DXP)<br>&#9;&#9;&#9;&#9;&#9;&#9;if(DXP.PlayerReplicationInfo.PlayerName == ignorename)<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;ignoreplayer = DXP;<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;<br>&#9;&#9;&#9;IP = ignoreplayer.GetPlayerNetworkAddress();<br>&#9;&#9;&#9;IP = Left(IP, InStr(IP, ":"));<br><br>&#9;&#9;&#9;&#9;for (n=0;n<20;n++)<br>&#9;&#9;&#9;&#9;&#9;&#9;if(IP == AM.IgnoreIP[n])<br>&#9;&#9;&#9;&#9;&#9;&#9;&#9;return;<br>&#9;&#9;<br>&#9;&#9;if(Line ~= "tir, shut down")<br>&#9;&#9;{<br>&#9;&#9;&#9;Destroy();<br>&#9;&#9;&#9;return;<br>&#9;&#9;}<br>&#9;&#9;//End ignore check <br>&#9;&#9;IRC.SendMessage(".t"@line);<br><br>&#9;}//End if(type)<br><br></div>
<h3 id="TirSpectator.Killme"><a class="headerlink" href="#TirSpectator.Killme" title="Permanent link">Killme</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local AthenaMutator AM;<br><br>&#9;foreach Allactors(class'AthenaMutator', AM)<br>&#9;{<br>&#9;&#9;//AM.Killphrase = generateRandStr(4);<br>&#9;&#9;AM.Tir = None;<br>&#9;&#9;Destroy();<br>&#9;&#9;BroadcastMessage("Athena killed by killphrase.");<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#UptimeKeeper.uc" title="Permanent link"><h2 id="UptimeKeeper.uc">UptimeKeeper.uc (extends RCONActors)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var int UptimeMinutes;<br>var int UptimeHours;<br>var string FinalUptime;<br>var string formattedmin;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bHidden=True</div>
<h3 id="UptimeKeeper.Timer"><a class="headerlink" href="#UptimeKeeper.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;UptimeMinutes++;<br>&#9;if(UptimeMinutes == 60)<br>&#9;{<br>&#9;&#9;UptimeMinutes = 0;<br>&#9;&#9;UptimeHours++;<br>&#9;}<br>&#9;<br>&#9;if(UptimeMinutes <= 9)<br>&#9;{<br>&#9;&#9;formattedmin = "0"$UptimeMinutes;<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;formattedmin = string(UptimeMinutes);<br>&#9;}<br>&#9;<br>&#9;FinalUptime = UptimeHours$":"$formattedmin;<br><br></div>
<br><br><hr>
<a class="headerlink" href="#mpFlags.uc" title="Permanent link"><h2 id="mpFlags.uc">mpFlags.uc (extends RCONActors)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var PlayerPawn Flagger;<br>var AthenaMutator AM;<br>var string LinkedAccount;<br>var string iName;<br>var string Nickname, Killphrase;<br>var bool bMuteAthena, bRestricted, bAdmin;<br>var bool bRan;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">bHidden=True</div>
<h3 id="mpFlags.AddFlag"><a class="headerlink" href="#mpFlags.AddFlag" title="Permanent link">AddFlag</a> (string AddFlag)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;//Flags = Flags@AddFlag;<br>&#9;//Log("Adding:"@AddFlag$" (New: "$Flags, 'Flags');<br><br></div>
<h3 id="mpFlags.CheckFlag"><a class="headerlink" href="#mpFlags.CheckFlag" title="Permanent link">CheckFlag</a> (string input) -> bool</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;/*local string killflag;<br>&#9;<br>&#9;if(instr(caps(Flags), caps("@kill#")) != -1)<br>&#9;{<br>&#9;&#9;killflag = Right(Flags, Len(Flags)-instr(Flags,"@kill#"));<br>&#9;&#9;killflag = Left(killflag, InStr(killflag,"#kill"));<br>&#9;&#9;if(instr(caps(input), caps(killflag)) != -1)<br>&#9;&#9;return true;<br>&#9;}<br>&#9;<br>&#9;if(instr(caps(Flags), caps(input)) != -1)<br>&#9;&#9;&#9;return True;*/<br><br></div>
<h3 id="mpFlags.GetName"><a class="headerlink" href="#mpFlags.GetName" title="Permanent link">GetName</a> (PlayerPawn P) -> string</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(P != None)<br>&#9;&#9;return P.PlayerReplicationInfo.PlayerName;<br>&#9;else return "[No player found]";<br><br></div>
<h3 id="mpFlags.PostBeginPlay"><a class="headerlink" href="#mpFlags.PostBeginPlay" title="Permanent link">PostBeginPlay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local AthenaMutator Mutz;<br><br>&#9;<br>&#9;foreach AllActors(class'AthenaMutator', Mutz)<br>&#9;&#9;if(Mutz != None)<br>&#9;&#9;{<br>&#9;&#9;&#9;AM = Mutz;<br>&#9;&#9;&#9;Log("Flags actor has been connected to Athena.",'Flags');<br>&#9;&#9;}<br>&#9;&#9;else<br>&#9;&#9;{<br>&#9;&#9;&#9;Log("ERROR - Athena was not found.",'Flags');<br>&#9;&#9;}<br>&#9;&#9;<br>&#9;SetTimer(1,true);<br><br></div>
<h3 id="mpFlags.RemoveFlag"><a class="headerlink" href="#mpFlags.RemoveFlag" title="Permanent link">RemoveFlag</a> (string RemFlag) -> string</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>/*local string TempMessage, TempLeft, TempRight, OutMessage, _TmpString;<br>&#9;OutMessage=Flags;<br>&#9;Log("Input:"@Flags, 'Flags');<br>    while (instr(caps(outmessage), RemFlag) != -1)<br>    {<br>        tempRight=(right(OutMessage, (len(OutMessage)-instr(caps(OutMessage), RemFlag))-Len(Remflag)));<br>        tempLeft=(left(OutMessage, instr(caps(OutMessage), RemFlag)) );<br>        OutMessage=TempLeft$TempRight;<br>        Log("Output:"@OutMessage, 'Flags');<br>    }<br>&#9;return OutMessage;*/<br><br></div>
<h3 id="mpFlags.Timer"><a class="headerlink" href="#mpFlags.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local LoginInfo li;<br><br>&#9;<br>&#9;foreach AllActors(class'LoginInfo',li)<br>&#9;{<br>&#9;&#9;if((flagger != None) && (li.Flagger == Flagger))<br>&#9;&#9;{<br>&#9;&#9;&#9;LinkedAccount = li.LinkedAccount;<br>&#9;&#9;&#9;bRestricted=li.bRestrict;<br>&#9;&#9;}<br>&#9;}<br>&#9;<br>&#9;iName = getName(Flagger);<br>&#9;<br>&#9;if(!bRan && Flagger != None)<br>&#9;{<br>&#9;&#9;bAdmin = Flagger.bAdmin;<br>&#9;&#9;Log("Flags actor created for"@GetName(Flagger),'Flags');<br>&#9;&#9;bRan=True;<br>&#9;}<br><br>&#9;if(Flagger == None || iName == "")<br>&#9;{&#9;<br>&#9;&#9;if(AM.bConnectionVoice)<br>&#9;&#9;{<br>&#9;&#9;&#9;AM.AS.AVoice(sound'Athena.AthenaPlayerLeft');<br>&#9;&#9;}<br>&#9;&#9;Log("Player no longer exists.",'Flags');<br>&#9;&#9;Destroy();<br>&#9;}&#9;<br>&#9;<br>&#9;//Hook for Athenas Admin Notify<br>&#9;if(Flagger != None && bAdmin != Flagger.bAdmin) //Check to see if state is the same. If it isn't, do something.<br>&#9;{<br>&#9;&#9;AM.AdminNotify(Flagger, Flagger.bAdmin); //If sends True, player has logged in, if sends False, player has logged out<br>&#9;&#9;bAdmin = Flagger.bAdmin;<br>&#9;&#9;Log("Called AdminNotify("$GetName(Flagger)$","$Flagger.bAdmin$")");<br>&#9;}<br>&#9;<br>&#9;if(bRestricted && Flagger != None)<br>&#9;{<br>&#9;&#9;if(Flagger.bAdmin)<br>&#9;&#9;{<br>&#9;&#9;&#9;Flagger.bAdmin = false;<br>&#9;&#9;&#9;Flagger.PlayerReplicationInfo.bAdmin = False;<br>&#9;&#9;&#9;BroadcastMessage("|P2A restricted player was logged out from administrator access..");<br>&#9;&#9;}<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#myPRI.uc" title="Permanent link"><h2 id="myPRI.uc">myPRI.uc (extends PlayerReplicationInfo)</h2></a>

<br><br><hr>
<a class="headerlink" href="#qi.uc" title="Permanent link"><h2 id="qi.uc">qi.uc (extends RCONActors)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var() bool QIL, QNP;<br>var() DeusExPlayer iPlayer;</div>
<h3 id="qi.GPC"><a class="headerlink" href="#qi.GPC" title="Permanent link">GPC</a> -> int</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local PlayerPawn P;<br>&#9;local int i;<br><br>&#9;<br>&#9;foreach AllActors(class'PlayerPawn',P)<br>&#9;&#9;i++;<br>&#9;&#9;<br>&#9;return i;<br><br></div>
<h3 id="qi.Timer"><a class="headerlink" href="#qi.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;if(QIL) //Quit if player is none<br>&#9;{<br>&#9;&#9;if(iPlayer == None || iPlayer.PlayerReplicationInfo.PlayerName == "")<br>&#9;&#9;&#9;ConsoleCommand("quit");<br>&#9;}<br>&#9;<br>&#9;if(QNP)<br>&#9;{<br>&#9;&#9;if(GPC() == 0)<br>&#9;&#9;{<br>&#9;&#9;&#9;ConsoleCommand("quit");<br>&#9;&#9;}<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#rMessager.uc" title="Permanent link"><h2 id="rMessager.uc">rMessager.uc (extends RCONActors)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var config MsgMode Mode;<br>var config string Text[30], NoHighStreaker, NoHighKiller, NoStreak, NoKills;<br>var config bool AddLogMessage, MessageWhenNoPlayers;<br>var string Text_DB[30], LastMessage;<br>var DeusExPlayer Player;<br>var config byte Delay;<br>var byte oldDelay;<br>var int i,n;<br>var deusexplayer HighKillPlayer, HighStreakPlayer;<br>var bool HavePlayer, NeedNewMessage;<br>var IRCLink myIRC;<br>var RCONStats Stats;</div>
<button type="button" class="collapsible">Show Default Properties</button><div class="content" style="white-space:pre">Mode=MODE_Random<br>Text(0)="|P7[SYSTEM] |P4Welcome to |P1<servername>|P4."<br>Text(1)="|P7[SYSTEM] |P4The local time on the server is |P1<time>|P4 on |P1<day>/<month>/<year>|P4"<br>Text(2)="|P7[SYSTEM] |P4There are |P1<curplayers>|P4 players currently online."<br>Text(3)="|P3[HELP] |P4Say |P2/skin|P4 to change your in-game outfit!"<br>Text(4)="|P7[SYSTEM] |P4Join the IRC room to chat with us anytime! |P7#deusbork|P4 on |P7irc.rizon.io"<br>Text(5)="|P7[SYSTEM] |P4Have a mod suggestion? Leave a comment by saying |P2comment|P4 followed by your comment."<br>Text(6)="|P3[HELP] |P4Double jump by pressing Jump again while in the air!"<br>Text(7)="|P3[HELP] |P4Wall jump by pressing Jump while in the air and pressed against a wall."<br>Text(8)="|P3[HELP] |P4Jump up to a ledge and you'll climb up automatically."<br>Text(9)="|P3[HELP] |P4Say |P2r.tp|P4 to teleport to where you're looking at!"<br>Text(10)="|P3[HELP] |P4Say |P2r.phys|P4 to throw yourself in the direction youre looking"<br>Text(11)="|P3[HELP] |P4Join the DXMP Discord chat server by saying the command |P2m.discord|P4"<br>Text(12)="|P3[HELP] |P4Join the DXMP Discord chat server by saying the command |P2m.discord|P4"<br>Text(13)="|P3[HELP] |P4Join the DXMP Discord chat server by saying the command |P2m.discord|P4"<br>Text(14)="|P4[IRC STATUS] (<irc_status>|P4) |P7<irc_channel> |P4on |P7<irc_server>"<br>Text(15)="|P3[HELP] |P4Join the DXMP Discord chat server by saying the command |P2m.discord|P4"<br>Text(16)="|P7[SYSTEM] |P4Highest kill record: |P1<stats_kills>|P4 and highest death record: |P1<stats_deaths>"<br>Text(17)="|P3[HELP]|P4 Say |P2/status|P4 to change your status, which shows in chat and scoreboard."<br>Text(18)="|P7[SYSTEM] |P4Current online admins: |P7<ONLINE_ADMINS>"<br>Text(19)="|P3[HELP] |P4If Trivia is running, just SAY the answers in chat to win!"<br>Text(20)="|P7[SYSTEM] |P4Want to download mods used here? Or share mods WITH us? Visit: http://deusex.ucoz.net"<br>Text(21)="|P3[HELP] |P4Need help with anything? Say Help to search the database for help."<br>Text(22)="|P3[HELP] |P4Need help with anything? Say Help to search the database for help."<br>Text(23)="|P3[HELP] |P4Need help with anything? Say Help to search the database for help."<br>Text(24)="|P3[HELP] |P4Need help with anything? Say Help to search the database for help."<br>Text(25)="|P3[HELP] |P4Join the DXMP Discord chat server by saying the command |P2m.discord|P4"<br>Text(26)="|P3[HELP] |P4Join the DXMP Discord chat server by saying the command |P2m.discord|P4"<br>Text(27)="|P3[HELP] |P4Summon objects by SAYING |P2r.summon|P4 followed by an object class, such as; |P2Say r.summon Lamp2"<br>Text(28)="|P3[HELP] |P4Need help with anything? Say Help to search the database for help."<br>Text(29)="|P3[HELP] |P4If Player Cheats is enabled, say the commands r.god, r.fly, and r.walk to use them."<br>NoHighStreaker="No one"<br>NoHighKiller="No one"<br>NoStreak="a streak"<br>NoKills="any kills"<br>AddLogMessage=True<br>Delay=120<br>bHidden=True</div>
<h3 id="rMessager.BeepPlayers"><a class="headerlink" href="#rMessager.BeepPlayers" title="Permanent link">BeepPlayers</a> (string str)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer pl;<br><br>&#9;foreach AllActors(class'DeusExPlayer',pl)<br>&#9;&#9;pl.ClientMessage(str);<br><br></div>
<h3 id="rMessager.CheckMetaTags"><a class="headerlink" href="#rMessager.CheckMetaTags" title="Permanent link">CheckMetaTags</a> (string inputstring) -> string</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local string TempMessage, TempLeft, TempRight, OutMessage, _TmpString;<br>&#9;local string iHour, iMinute, iDay, iMonth, iYear, AmPm;<br>&#9;local deusexplayer Player, _Player;<br>&#9;local IRCLink IRL;<br><br>&#9;<br>    //get the time and do string manipulations based on digits.<br>    AMPM="AM";     //we'll change this string only if its later than 11am.<br>    if (Level.Hour>=12)<br>    {<br>        iHour=string(Level.Hour-12);<br>        AmPm="PM";<br>    }<br>    else<br>        iHour=string(level.Hour);<br><br>    if (Level.Hour==0 || Level.Hour==12)<br>    {<br>        iHour="12";<br>    }<br>    if (Level.Minute<10)<br>    {<br>        iMinute="0"$string(level.Minute);<br>    }<br>    else iMinute=string(level.minute);<br><br>    //get the date<br>    iDay=string(level.Day);<br>    iYear=string(Level.Year);<br>    iMonth=string(level.Month);<br><br>    OutMessage=InputString;<br><br>    if (instr(caps(OutMessage), "<HIGHSTATSCHECK>") != -1)<br>    {<br>        GetHighStreaker();<br>        GetHighKiller();<br>        if (((instr(caps(OutMessage), "<HIGHSTREAKNAME>") != -1) && HighStreakPlayer==none) ||<br>        ((instr(caps(OutMessage), "<HIGHKILLNAME>") != -1) && HighKillPlayer==None) ||<br>        ((instr(caps(OutMessage), "<HIGHSTREAK>") != -1) && HighStreakPlayer==None) ||<br>        ((instr(caps(OutMessage), "<HIGHSTREAKNAME>") != -1) && HighKillPlayer==none))<br>            {<br>               NeedNewMessage=True;<br>               return "";<br>            }<br>    }<br>&#9;<br>    while (instr(caps(OutMessage), "<HIGHSTREAKNAME>") != -1)<br>    {<br>        tempRight=(right(OutMessage, (len(OutMessage)-instr(caps(OutMessage), "<HIGHSTREAKNAME>"))-16));<br>        HavePlayer=false;<br>        HighStreakPlayer=None;<br>        GetHighStreaker();<br>        if (havePlayer && HighStreakPlayer!= None)<br>            tempLeft=(left(OutMessage, instr(caps(OutMessage), "<HIGHSTREAKNAME>"))$HighStreakPlayer.PlayerReplicationInfo.PlayerName);<br>        else<br>            tempLeft=(left(OutMessage, instr(caps(OutMessage), "<HIGHSTREAKNAME>"))$NoHighStreaker);<br>        OutMessage=TempLeft$TempRight;<br>    }<br><br>    while (instr(caps(OutMessage), "<HIGHKILLNAME>") != -1)<br>    {<br>        tempRight=(right(OutMessage, (len(OutMessage)-instr(caps(OutMessage), "<HIGHKILLNAME>"))-14));<br>        haveplayer=false;<br>        HighKillPlayer=None;<br>        GetHighKiller();<br>        if (havePlayer && HighKillPlayer!= None)<br>            tempLeft=(left(OutMessage, instr(caps(OutMessage), "<HIGHKILLNAME>"))$HighKillPlayer.PlayerReplicationInfo.PlayerName);<br>        else<br>            tempLeft=(left(OutMessage, instr(caps(OutMessage), "<HIGHKILLNAME>"))$NoHighKiller);<br>        OutMessage=TempLeft$TempRight;<br>    }<br><br>    while (instr(caps(OutMessage), "<HIGHSTREAK>") != -1)<br>    {<br>        tempRight=(right(OutMessage, (len(OutMessage)-instr(caps(OutMessage), "<HIGHSTREAK>"))-12));<br>        haveplayer=false;<br>        HighStreakPlayer=None;<br>        GetHighStreaker();<br>        if (haveplayer && HighStreakPlayer!= none)<br>            tempLeft=(left(OutMessage, instr(caps(OutMessage), "<HIGHSTREAK>"))$int(HighStreakPlayer.PlayerReplicationInfo.Streak));<br>        else<br>            tempLeft=(left(OutMessage, instr(caps(OutMessage), "<HIGHSTREAK>"))$NoStreak);<br>        OutMessage=TempLeft$TempRight;<br>    }<br><br>    while (instr(caps(OutMessage), "<HIGHKILLS>") != -1)<br>    {<br>        tempRight=(right(OutMessage, (len(OutMessage)-instr(caps(OutMessage), "<HIGHKILLS>"))-12));<br>        haveplayer=false;<br>        HighKillPlayer=None;<br>        GetHighKiller();<br>        if (HavePlayer && HighKillPlayer!= none)<br>            tempLeft=(left(OutMessage, instr(caps(OutMessage), "<HIGHKILLS>"))$Int(HighKillPlayer.PlayerReplicationInfo.Score));<br>        else<br>            tempLeft=(left(OutMessage, instr(caps(OutMessage), "<HIGHKILLS>"))$NoKills);<br>        OutMessage=TempLeft$TempRight;<br>    }<br><br>    while (instr(caps(OutMessage), "<TIME>") != -1)<br>    {<br>        tempRight=(right(OutMessage, (len(OutMessage)-instr(caps(OutMessage), "<TIME>"))-6));<br>        tempLeft=(left(OutMessage, instr(caps(OutMessage), "<TIME>"))$iHour$":"$iMinute$AmPm);<br>        OutMessage=TempLeft$TempRight;<br>    }<br><br>    while (instr(caps(OutMessage), "<SERVERNAME>") != -1)<br>    {<br>        tempRight=(right(OutMessage, (len(OutMessage)-instr(caps(OutMessage), "<SERVERNAME>"))-12));<br>        tempLeft=(left(OutMessage, instr(caps(OutMessage), "<SERVERNAME>"))$Level.Game.GameReplicationInfo.ServerName);<br>        OutMessage=TempLeft$TempRight;<br>    }<br><br>    while (instr(caps(OutMessage), "<ADMINNAME>") != -1)<br>    {<br>        tempRight=(right(OutMessage, (len(OutMessage)-instr(caps(OutMessage), "<ADMINNAME>"))-11));<br>        tempLeft=(left(OutMessage, instr(caps(OutMessage), "<ADMINNAME>"))$Level.Game.GameReplicationInfo.AdminName);<br>        OutMessage=TempLeft$TempRight;<br>    }<br><br>    while (instr(caps(OutMessage), "<ADMINEMAIL>") != -1)<br>    {<br>        tempRight=(right(OutMessage, (len(OutMessage)-instr(caps(OutMessage), "<ADMINEMAIL>"))-12));<br>        tempLeft=(left(OutMessage, instr(caps(OutMessage), "<ADMINEMAIL>"))$Level.Game.GameReplicationInfo.AdminEmail);<br>        OutMessage=TempLeft$TempRight;<br>    }<br><br>    while (instr(caps(OutMessage), "<DAY>") != -1)<br>    {<br>        tempRight=(right(OutMessage, (len(OutMessage)-instr(caps(OutMessage), "<DAY>"))-5));<br>        tempLeft=(left(OutMessage, instr(caps(OutMessage), "<DAY>"))$iDay);<br>        OutMessage=TempLeft$TempRight;<br>    }<br><br>    while (instr(caps(OutMessage), "<MONTH>") != -1)<br>    {<br>        tempRight=(right(OutMessage, (len(OutMessage)-instr(caps(OutMessage), "<MONTH>"))-7));<br>        tempLeft=(left(OutMessage, instr(caps(OutMessage), "<MONTH>"))$iMonth);<br>        OutMessage=TempLeft$TempRight;<br>    }<br><br>    while (instr(caps(OutMessage), "<YEAR>") != -1)<br>    {<br>        tempRight=(right(OutMessage, (len(OutMessage)-instr(caps(OutMessage), "<YEAR>"))-6));<br>        tempLeft=(left(OutMessage, instr(caps(OutMessage), "<YEAR>"))$iyear);<br>        OutMessage=TempLeft$TempRight;<br>    }<br><br>    while (instr(caps(OutMessage), "<CURPLAYERS>") != -1)<br>    {<br>        tempRight=(right(OutMessage, (len(OutMessage)-instr(caps(OutMessage), "<CURPLAYERS>"))-12));<br>        tempLeft=(left(OutMessage, instr(Caps(OutMessage), "<CURPLAYERS>"))$Level.Game.NumPlayers);<br>        OutMessage=TempLeft$TempRight;<br>    }<br><br>    while (instr(caps(OutMessage), "<MAXPLAYERS>") != -1)<br>    {<br>        tempRight=(right(OutMessage, (len(OutMessage)-instr(caps(OutMessage), "<MAXPLAYERS>"))-12));<br>        tempLeft=(left(OutMessage, instr(Caps(OutMessage), "<MAXPLAYERS>"))$Level.Game.MaxPlayers);<br>        OutMessage=TempLeft$TempRight;<br>    }<br>&#9;<br>    while (instr(caps(OutMessage), "<IRC_STATUS>") != -1)<br>    {<br>&#9;&#9;&#9;if(myIRC == None)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'IRCLink',IRL)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(IRL != None)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;myIRC = IRL;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>        tempRight=(right(OutMessage, (len(OutMessage)-instr(caps(OutMessage), "<IRC_STATUS>"))-12));<br>&#9;&#9;if(myIRC != None)<br>        tempLeft=(left(OutMessage, instr(Caps(OutMessage), "<IRC_STATUS>"))$"|P4ONLINE");<br>&#9;&#9;else<br>&#9;&#9;tempLeft=(left(OutMessage, instr(Caps(OutMessage), "<IRC_STATUS>"))$"|P2OFFLINE");<br>        OutMessage=TempLeft$TempRight;<br>    }<br>&#9;    <br>&#9;while (instr(caps(OutMessage), "<IRC_SERVER>") != -1)<br>    {<br>&#9;&#9;&#9;if(myIRC == None)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'IRCLink',IRL)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(IRL != None)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;myIRC = IRL;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>        tempRight=(right(OutMessage, (len(OutMessage)-instr(caps(OutMessage), "<IRC_SERVER>"))-12));<br>&#9;&#9;if(myIRC != None)<br>        tempLeft=(left(OutMessage, instr(Caps(OutMessage), "<IRC_SERVER>"))$myIRC.Server);<br>&#9;&#9;else<br>&#9;&#9;tempLeft=(left(OutMessage, instr(Caps(OutMessage), "<IRC_SERVER>"))$"|P2OFFLINE");<br>        OutMessage=TempLeft$TempRight;<br>    }<br>&#9;<br>&#9;while (instr(caps(OutMessage), "<IRC_USERNAME>") != -1)<br>    {<br>&#9;&#9;&#9;if(myIRC == None)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'IRCLink',IRL)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(IRL != None)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;myIRC = IRL;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>        tempRight=(right(OutMessage, (len(OutMessage)-instr(caps(OutMessage), "<IRC_USERNAME>"))-14));<br>&#9;&#9;if(myIRC != None)<br>        tempLeft=(left(OutMessage, instr(Caps(OutMessage), "<IRC_USERNAME>"))$myIRC.Username);<br>&#9;&#9;else<br>&#9;&#9;tempLeft=(left(OutMessage, instr(Caps(OutMessage), "<IRC_USERNAME>"))$"|P2OFFLINE");<br>        OutMessage=TempLeft$TempRight;<br>    }<br><br>&#9;while (instr(caps(OutMessage), "<IRC_CHANNEL>") != -1)<br>    {<br>&#9;&#9;&#9;if(myIRC == None)<br>&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;foreach AllActors(class'IRCLink',IRL)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(IRL != None)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;myIRC = IRL;<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;}<br>        tempRight=(right(OutMessage, (len(OutMessage)-instr(caps(OutMessage), "<IRC_CHANNEL>"))-13));<br>&#9;&#9;if(myIRC != None)<br>        tempLeft=(left(OutMessage, instr(Caps(OutMessage), "<IRC_CHANNEL>"))$myIRC.Channel);<br>&#9;&#9;else<br>&#9;&#9;tempLeft=(left(OutMessage, instr(Caps(OutMessage), "<IRC_CHANNEL>"))$"|P2OFFLINE");<br>        OutMessage=TempLeft$TempRight;<br>    }<br>&#9;<br>&#9;while (instr(caps(OutMessage), "<ONLINE_ADMINS>") != -1)<br>    {<br>        tempRight=(right(OutMessage, (len(OutMessage)-instr(caps(OutMessage), "<ONLINE_ADMINS>"))-15));<br>&#9;&#9;&#9;  ForEach AllActors(class 'DeusExPlayer', _Player)<br>&#9;&#9;&#9;  {<br>&#9;&#9;&#9;&#9;if(_Player != None && _Player.bAdmin)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;  _TmpString = _TmpString$_Player.PlayerReplicationInfo.PlayerName$"("$_Player.PlayerReplicationInfo.PlayerID$"), ";<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;  }<br>&#9;&#9;&#9;  if(Len(_TmpString) == 0)<br>&#9;&#9;&#9;  {<br>&#9;&#9;&#9;&#9;_TmpString = "None...";<br>&#9;&#9;&#9;  }<br>        tempLeft=(left(OutMessage, instr(Caps(OutMessage), "<ONLINE_ADMINS>"))$Left(_TmpString, Len(_TmpString)-2));<br><br>        OutMessage=TempLeft$TempRight;<br>    }&#9;<br><br>&#9;while (instr(caps(OutMessage), "<STATS_PLAYERS>") != -1)<br>    {<br>        tempRight=(right(OutMessage, (len(OutMessage)-instr(caps(OutMessage), "<STATS_PLAYERS>"))-15));<br>&#9;&#9;if(Stats != None)<br>        tempLeft=(left(OutMessage, instr(Caps(OutMessage), "<STATS_PLAYERS>"))$Stats.HighestPlayerCount$" reached at "$Stats.HighestPlayerCountTime);<br>&#9;&#9;else<br>&#9;&#9;tempLeft=(left(OutMessage, instr(Caps(OutMessage), "<STATS_PLAYERS>"))$"|P2MISSING MUTATOR");<br>        OutMessage=TempLeft$TempRight;<br>    }<br>&#9;<br>&#9;while (instr(caps(OutMessage), "<STATS_KILLS>") != -1)<br>    {<br>        tempRight=(right(OutMessage, (len(OutMessage)-instr(caps(OutMessage), "<STATS_KILLS>"))-13));<br>&#9;&#9;if(Stats != None)<br>        tempLeft=(left(OutMessage, instr(Caps(OutMessage), "<STATS_KILLS>"))$Stats.HighestScoreName$" scored "$Stats.HighestScore);<br>&#9;&#9;else<br>&#9;&#9;tempLeft=(left(OutMessage, instr(Caps(OutMessage), "<STATS_KILLS>"))$"|P2MISSING MUTATOR");<br>        OutMessage=TempLeft$TempRight;<br>    }<br><br>&#9;while (instr(caps(OutMessage), "<STATS_DEATHS>") != -1)<br>    {<br>        tempRight=(right(OutMessage, (len(OutMessage)-instr(caps(OutMessage), "<STATS_DEATHS>"))-14));<br>&#9;&#9;if(Stats != None)<br>        tempLeft=(left(OutMessage, instr(Caps(OutMessage), "<STATS_DEATHS>"))$Stats.HighestDeaths$" from "$Stats.HighestDeathsName);<br>&#9;&#9;else<br>&#9;&#9;tempLeft=(left(OutMessage, instr(Caps(OutMessage), "<STATS_DEATHS>"))$"|P2MISSING MUTATOR");<br>        OutMessage=TempLeft$TempRight;<br>    }<br>&#9;<br>    return OutMessage;<br><br></div>
<h3 id="rMessager.GetHighKiller"><a class="headerlink" href="#rMessager.GetHighKiller" title="Permanent link">GetHighKiller</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local deusexplayer Player;<br><br>    foreach allactors(class'deusexplayer',Player)<br>    {<br>        if (Player.PlayerReplicationInfo.Score>0)<br>        {<br>            if (HighKillPlayer!=None)<br>            {<br>                if (Player.PlayerReplicationInfo.Score>HighKillPlayer.PlayerReplicationInfo.Score)<br>                    {<br>                        HighKillPlayer=Player;<br>                    }<br>            }<br>            else<br>                HighKillPlayer=Player;<br>            havePlayer=true;<br>        }<br>    }<br><br></div>
<h3 id="rMessager.GetHighStreaker"><a class="headerlink" href="#rMessager.GetHighStreaker" title="Permanent link">GetHighStreaker</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local DeusExPlayer Player;<br><br>    foreach allactors(class'deusexplayer',Player)<br>    {<br>        if (Player.PlayerReplicationInfo.Streak>0)<br>        {<br>            if (HighStreakPlayer!=None)<br>            {<br>                if (Player.PlayerReplicationInfo.Streak>HighStreakPlayer.PlayerReplicationInfo.Streak)<br>                    {<br>                        HighStreakPlayer=Player;<br>                    }<br>            }<br>            else<br>                HighStreakPlayer=Player;<br>            havePlayer=true;<br>        }<br>    }<br><br></div>
<h3 id="rMessager.prebeginplay"><a class="headerlink" href="#rMessager.prebeginplay" title="Permanent link">prebeginplay</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local IRCLink IRC;<br>&#9;local RCONStats RStats;<br><br>    log("+=================",'Messager');<br>    Log("|Starting the mutator...",'Messager');<br>    log("+=================",'Messager');<br>    Settimer(float(Delay),true);<br>    oldDelay=Delay;<br>&#9;&#9;&#9;&#9;foreach AllActors(class'IRCLink',IRC)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(IRC != None)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;myIRC = IRC;<br>&#9;&#9;&#9;&#9;&#9;&#9;Log("IRC link found.",'Messager');<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>&#9;&#9;<br>&#9;&#9;&#9;&#9;foreach AllActors(class'RCONStats',RStats)<br>&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;if(RStats != None)<br>&#9;&#9;&#9;&#9;&#9;{<br>&#9;&#9;&#9;&#9;&#9;&#9;Stats = RStats;<br>&#9;&#9;&#9;&#9;&#9;&#9;Log("RCON STats found.",'Messager');<br>&#9;&#9;&#9;&#9;&#9;}<br>&#9;&#9;&#9;&#9;}<br>    super.PreBeginPlay();<br><br></div>
<h3 id="rMessager.tick"><a class="headerlink" href="#rMessager.tick" title="Permanent link">tick</a> (float v)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>    if (Delay!=oldDelay)<br>    {<br>        oldDelay=Delay;<br>        settimer(Delay,true);<br>    }<br>    super.tick(v);<br><br></div>
<h3 id="rMessager.timer"><a class="headerlink" href="#rMessager.timer" title="Permanent link">timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int n2;<br>&#9;local string Message;<br><br>    if (!MessageWhenNoPlayers && Level.Game.NumPlayers==0)<br>        return;<br>    for (n=0;n<30;n++)<br>    {<br>        if (Text[n]!="")<br>        {                     //this makes a database of all the text strings<br>            Text_DB[n2]=Text[n];  //to use later on so we don't get empty messages<br>            n2++;<br>        }<br>    <br></div>
<br><br><hr>
<a class="headerlink" href="#rTimer.uc" title="Permanent link"><h2 id="rTimer.uc">rTimer.uc (extends RCONActors)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var int Start;<br>var bool bCountdown;<br>var int Cur;<br>var AthenaSpectator AS;</div>
<h3 id="rTimer.Timer"><a class="headerlink" href="#rTimer.Timer" title="Permanent link">Timer</a></h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local string formattedmin;<br><br><br>&#9;if(bCountdown)<br>&#9;{<br>&#9;&#9;Cur--;<br>&#9;&#9;<br>&#9;&#9;if(Cur <= 0)<br>&#9;&#9;{<br>&#9;&#9;&#9;Destroy();<br>&#9;&#9;}<br>&#9;}<br>&#9;else<br>&#9;{<br>&#9;&#9;Cur++;<br>&#9;&#9;if(Cur <= 5 || cur == 10 || cur == 15 || cur == 20 || cur == 30 || cur == 40 || cur == 50 || cur == 60 || cur == 70 || cur == 80 || cur == 90)<br>&#9;}<br><br></div>
<br><br><hr>
<a class="headerlink" href="#spec.uc" title="Permanent link"><h2 id="spec.uc">spec.uc (extends MessagingSpectator)</h2></a>

<button type="button" class="collapsible">Show Variables</button><div class="content" style="white-space:pre">var IRCLink _IRC;</div>
<h3 id="spec.ClientMessage"><a class="headerlink" href="#spec.ClientMessage" title="Permanent link">ClientMessage</a> (coerce string S, optional name Type, optional bool bBeep)</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local int i;<br>&#9;local string output;<br>&#9;local string line, newnick,ss;<br><br><br>&#9;&#9;/*<br>&#9;&#9;if(inStr(caps(s), caps("|p")) != -1)<br>&#9;&#9;{<br>&#9;&#9;&#9;i = InStr(caps(s), caps("|p"));<br>&#9;&#9;&#9;while (i != -1) {&#9;<br>&#9;&#9;&#9;&#9;Output = Output $ Left(s, i) $ "";<br>&#9;&#9;&#9;&#9;s = Mid(s, i + 3);&#9;<br>&#9;&#9;&#9;&#9;i = InStr(caps(s), caps("|p"));<br>&#9;&#9;&#9;}<br>&#9;&#9;&#9;s = Output $ s;<br>&#9;&#9;<br></div>
<h3 id="spec.RCR"><a class="headerlink" href="#spec.RCR" title="Permanent link">RCR</a> (string in) -> string</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local string TempMessage, TempLeft, TempRight, OutMessage, _TmpString;<br><br>&#9;OutMessage=in;<br>    while (instr(caps(outmessage), "|P") != -1)<br>    {<br>        tempRight=(right(OutMessage, (len(OutMessage)-instr(caps(OutMessage), "|P"))-3));<br>        tempLeft=(left(OutMessage, instr(caps(OutMessage), "|P")) );<br>        OutMessage=TempLeft$TempRight;<br>    }<br>&#9;&#9;return OutMessage;<br><br></div>
<h3 id="spec.RCR2"><a class="headerlink" href="#spec.RCR2" title="Permanent link">RCR2</a> (string in) -> string</h3>
<button type="button" class="collapsible">Code</button><div class="content" style="white-space:pre"><br>&#9;local string TempMessage, TempLeft, TempRight, OutMessage, _TmpString;<br><br>&#9;OutMessage=in;<br>    while (instr(caps(outmessage), "|C") != -1)<br>    {<br>        tempRight=(right(OutMessage, (len(OutMessage)-instr(caps(OutMessage), "|C"))-8));<br>        tempLeft=(left(OutMessage, instr(caps(OutMessage), "|C")) );<br>        OutMessage=TempLeft$TempRight;<br>    }<br>&#9;&#9;&#9;return OutMessage;<br><br></div>
<br><br><hr>
	</article>
    </section>
    <footer> By Kaiser, The Coded Mind (C) 2021</footer>
  </body>
</html>
